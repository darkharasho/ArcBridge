var FB=Object.defineProperty;var RB=(e,t,n)=>t in e?FB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pv=(e,t,n)=>RB(e,typeof t!="symbol"?t+"":t,n);function BB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function js(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VE={exports:{}},M0={},WE={exports:{}},wn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om=Symbol.for("react.element"),zB=Symbol.for("react.portal"),UB=Symbol.for("react.fragment"),VB=Symbol.for("react.strict_mode"),WB=Symbol.for("react.profiler"),HB=Symbol.for("react.provider"),qB=Symbol.for("react.context"),KB=Symbol.for("react.forward_ref"),GB=Symbol.for("react.suspense"),YB=Symbol.for("react.memo"),XB=Symbol.for("react.lazy"),AC=Symbol.iterator;function QB(e){return e===null||typeof e!="object"?null:(e=AC&&e[AC]||e["@@iterator"],typeof e=="function"?e:null)}var HE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qE=Object.assign,KE={};function Pd(e,t,n){this.props=e,this.context=t,this.refs=KE,this.updater=n||HE}Pd.prototype.isReactComponent={};Pd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GE(){}GE.prototype=Pd.prototype;function h1(e,t,n){this.props=e,this.context=t,this.refs=KE,this.updater=n||HE}var p1=h1.prototype=new GE;p1.constructor=h1;qE(p1,Pd.prototype);p1.isPureReactComponent=!0;var PC=Array.isArray,YE=Object.prototype.hasOwnProperty,g1={current:null},XE={key:!0,ref:!0,__self:!0,__source:!0};function QE(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)YE.call(t,r)&&!XE.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Om,type:e,key:a,ref:s,props:i,_owner:g1.current}}function ZB(e,t){return{$$typeof:Om,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Om}function JB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var DC=/\/+/g;function gv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?JB(""+e.key):t.toString(36)}function Ap(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Om:case zB:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+gv(s,0):r,PC(i)?(n="",e!=null&&(n=e.replace(DC,"$&/")+"/"),Ap(i,t,n,"",function(u){return u})):i!=null&&(x1(i)&&(i=ZB(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(DC,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",PC(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+gv(a,o);s+=Ap(a,t,n,l,i)}else if(l=QB(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+gv(a,o++),s+=Ap(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function $h(e,t,n){if(e==null)return e;var r=[],i=0;return Ap(e,r,"","",function(a){return t.call(n,a,i++)}),r}function ez(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xi={current:null},Pp={transition:null},tz={ReactCurrentDispatcher:Xi,ReactCurrentBatchConfig:Pp,ReactCurrentOwner:g1};function ZE(){throw Error("act(...) is not supported in production builds of React.")}wn.Children={map:$h,forEach:function(e,t,n){$h(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $h(e,function(){t++}),t},toArray:function(e){return $h(e,function(t){return t})||[]},only:function(e){if(!x1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};wn.Component=Pd;wn.Fragment=UB;wn.Profiler=WB;wn.PureComponent=h1;wn.StrictMode=VB;wn.Suspense=GB;wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tz;wn.act=ZE;wn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qE({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=g1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)YE.call(t,l)&&!XE.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Om,type:e.type,key:i,ref:a,props:r,_owner:s}};wn.createContext=function(e){return e={$$typeof:qB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HB,_context:e},e.Consumer=e};wn.createElement=QE;wn.createFactory=function(e){var t=QE.bind(null,e);return t.type=e,t};wn.createRef=function(){return{current:null}};wn.forwardRef=function(e){return{$$typeof:KB,render:e}};wn.isValidElement=x1;wn.lazy=function(e){return{$$typeof:XB,_payload:{_status:-1,_result:e},_init:ez}};wn.memo=function(e,t){return{$$typeof:YB,type:e,compare:t===void 0?null:t}};wn.startTransition=function(e){var t=Pp.transition;Pp.transition={};try{e()}finally{Pp.transition=t}};wn.unstable_act=ZE;wn.useCallback=function(e,t){return Xi.current.useCallback(e,t)};wn.useContext=function(e){return Xi.current.useContext(e)};wn.useDebugValue=function(){};wn.useDeferredValue=function(e){return Xi.current.useDeferredValue(e)};wn.useEffect=function(e,t){return Xi.current.useEffect(e,t)};wn.useId=function(){return Xi.current.useId()};wn.useImperativeHandle=function(e,t,n){return Xi.current.useImperativeHandle(e,t,n)};wn.useInsertionEffect=function(e,t){return Xi.current.useInsertionEffect(e,t)};wn.useLayoutEffect=function(e,t){return Xi.current.useLayoutEffect(e,t)};wn.useMemo=function(e,t){return Xi.current.useMemo(e,t)};wn.useReducer=function(e,t,n){return Xi.current.useReducer(e,t,n)};wn.useRef=function(e){return Xi.current.useRef(e)};wn.useState=function(e){return Xi.current.useState(e)};wn.useSyncExternalStore=function(e,t,n){return Xi.current.useSyncExternalStore(e,t,n)};wn.useTransition=function(){return Xi.current.useTransition()};wn.version="18.3.1";WE.exports=wn;var v=WE.exports;const O0=js(v),nz=BB({__proto__:null,default:O0},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rz=v,iz=Symbol.for("react.element"),az=Symbol.for("react.fragment"),sz=Object.prototype.hasOwnProperty,oz=rz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lz={key:!0,ref:!0,__self:!0,__source:!0};function JE(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)sz.call(t,r)&&!lz.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:iz,type:e,key:a,ref:s,props:i,_owner:oz.current}}M0.Fragment=az;M0.jsx=JE;M0.jsxs=JE;VE.exports=M0;var c=VE.exports,Hb={},eM={exports:{}},_a={},tM={exports:{}},nM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,K){var E=q.length;q.push(K);e:for(;0<E;){var D=E-1>>>1,ie=q[D];if(0<i(ie,K))q[D]=K,q[E]=ie,E=D;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var K=q[0],E=q.pop();if(E!==K){q[0]=E;e:for(var D=0,ie=q.length,k=ie>>>1;D<k;){var V=2*(D+1)-1,W=q[V],re=V+1,ne=q[re];if(0>i(W,E))re<ie&&0>i(ne,W)?(q[D]=ne,q[re]=E,D=re):(q[D]=W,q[V]=E,D=V);else if(re<ie&&0>i(ne,E))q[D]=ne,q[re]=E,D=re;else break e}}return K}function i(q,K){var E=q.sortIndex-K.sortIndex;return E!==0?E:q.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(q){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=q)r(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=n(u)}}function N(q){if(g=!1,y(q),!p)if(n(l)!==null)p=!0,ge(C);else{var K=n(u);K!==null&&Y(N,K.startTime-q)}}function C(q,K){p=!1,g&&(g=!1,x(M),M=-1),m=!0;var E=h;try{for(y(K),f=n(l);f!==null&&(!(f.expirationTime>K)||q&&!_());){var D=f.callback;if(typeof D=="function"){f.callback=null,h=f.priorityLevel;var ie=D(f.expirationTime<=K);K=e.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(l)&&r(l),y(K)}else r(l);f=n(l)}if(f!==null)var k=!0;else{var V=n(u);V!==null&&Y(N,V.startTime-K),k=!1}return k}finally{f=null,h=E,m=!1}}var S=!1,j=null,M=-1,$=5,T=-1;function _(){return!(e.unstable_now()-T<$)}function O(){if(j!==null){var q=e.unstable_now();T=q;var K=!0;try{K=j(!0,q)}finally{K?G():(S=!1,j=null)}}else S=!1}var G;if(typeof w=="function")G=function(){w(O)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ue=J.port2;J.port1.onmessage=O,G=function(){ue.postMessage(null)}}else G=function(){b(O,0)};function ge(q){j=q,S||(S=!0,G())}function Y(q,K){M=b(function(){q(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,ge(C))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var E=h;h=K;try{return q()}finally{h=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var E=h;h=q;try{return K()}finally{h=E}},e.unstable_scheduleCallback=function(q,K,E){var D=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?D+E:D):E=D,q){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=E+ie,q={id:d++,callback:K,priorityLevel:q,startTime:E,expirationTime:ie,sortIndex:-1},E>D?(q.sortIndex=E,t(u,q),n(l)===null&&q===n(u)&&(g?(x(M),M=-1):g=!0,Y(N,E-D))):(q.sortIndex=ie,t(l,q),p||m||(p=!0,ge(C))),q},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(q){var K=h;return function(){var E=h;h=K;try{return q.apply(this,arguments)}finally{h=E}}}})(nM);tM.exports=nM;var cz=tM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uz=v,Ma=cz;function rt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rM=new Set,qf={};function nu(e,t){sd(e,t),sd(e+"Capture",t)}function sd(e,t){for(qf[e]=t,e=0;e<t.length;e++)rM.add(t[e])}var Mo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qb=Object.prototype.hasOwnProperty,dz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TC={},EC={};function fz(e){return qb.call(EC,e)?!0:qb.call(TC,e)?!1:dz.test(e)?EC[e]=!0:(TC[e]=!0,!1)}function mz(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hz(e,t,n,r){if(t===null||typeof t>"u"||mz(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qi(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Ni={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ni[e]=new Qi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ni[t]=new Qi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ni[e]=new Qi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ni[e]=new Qi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ni[e]=new Qi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ni[e]=new Qi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ni[e]=new Qi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ni[e]=new Qi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ni[e]=new Qi(e,5,!1,e.toLowerCase(),null,!1,!1)});var v1=/[\-:]([a-z])/g;function b1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v1,b1);Ni[t]=new Qi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v1,b1);Ni[t]=new Qi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v1,b1);Ni[t]=new Qi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ni[e]=new Qi(e,1,!1,e.toLowerCase(),null,!1,!1)});Ni.xlinkHref=new Qi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ni[e]=new Qi(e,1,!1,e.toLowerCase(),null,!0,!0)});function y1(e,t,n,r){var i=Ni.hasOwnProperty(t)?Ni[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hz(t,n,i,r)&&(n=null),r||i===null?fz(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ho=uz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fh=Symbol.for("react.element"),Mu=Symbol.for("react.portal"),Ou=Symbol.for("react.fragment"),w1=Symbol.for("react.strict_mode"),Kb=Symbol.for("react.profiler"),iM=Symbol.for("react.provider"),aM=Symbol.for("react.context"),k1=Symbol.for("react.forward_ref"),Gb=Symbol.for("react.suspense"),Yb=Symbol.for("react.suspense_list"),S1=Symbol.for("react.memo"),pl=Symbol.for("react.lazy"),sM=Symbol.for("react.offscreen"),MC=Symbol.iterator;function Xd(e){return e===null||typeof e!="object"?null:(e=MC&&e[MC]||e["@@iterator"],typeof e=="function"?e:null)}var kr=Object.assign,xv;function xf(e){if(xv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xv=t&&t[1]||""}return`
`+xv+e}var vv=!1;function bv(e,t){if(!e||vv)return"";vv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{vv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xf(e):""}function pz(e){switch(e.tag){case 5:return xf(e.type);case 16:return xf("Lazy");case 13:return xf("Suspense");case 19:return xf("SuspenseList");case 0:case 2:case 15:return e=bv(e.type,!1),e;case 11:return e=bv(e.type.render,!1),e;case 1:return e=bv(e.type,!0),e;default:return""}}function Xb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ou:return"Fragment";case Mu:return"Portal";case Kb:return"Profiler";case w1:return"StrictMode";case Gb:return"Suspense";case Yb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aM:return(e.displayName||"Context")+".Consumer";case iM:return(e._context.displayName||"Context")+".Provider";case k1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case S1:return t=e.displayName||null,t!==null?t:Xb(e.type)||"Memo";case pl:t=e._payload,e=e._init;try{return Xb(e(t))}catch{}}return null}function gz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xb(t);case 8:return t===w1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xz(e){var t=oM(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rh(e){e._valueTracker||(e._valueTracker=xz(e))}function lM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oM(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qb(e,t){var n=t.checked;return kr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function OC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cM(e,t){t=t.checked,t!=null&&y1(e,"checked",t,!1)}function Zb(e,t){cM(e,t);var n=Rl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jb(e,t.type,n):t.hasOwnProperty("defaultValue")&&Jb(e,t.type,Rl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function IC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Jb(e,t,n){(t!=="number"||Qp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vf=Array.isArray;function Xu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ey(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(rt(91));return kr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _C(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(rt(92));if(vf(n)){if(1<n.length)throw Error(rt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rl(n)}}function uM(e,t){var n=Rl(t.value),r=Rl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function LC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ty(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bh,fM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bh=Bh||document.createElement("div"),Bh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Af={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vz=["Webkit","ms","Moz","O"];Object.keys(Af).forEach(function(e){vz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Af[t]=Af[e]})});function mM(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Af.hasOwnProperty(e)&&Af[e]?(""+t).trim():t+"px"}function hM(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mM(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var bz=kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ny(e,t){if(t){if(bz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(rt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(rt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(rt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(rt(62))}}function ry(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iy=null;function N1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ay=null,Qu=null,Zu=null;function $C(e){if(e=Lm(e)){if(typeof ay!="function")throw Error(rt(280));var t=e.stateNode;t&&(t=F0(t),ay(e.stateNode,e.type,t))}}function pM(e){Qu?Zu?Zu.push(e):Zu=[e]:Qu=e}function gM(){if(Qu){var e=Qu,t=Zu;if(Zu=Qu=null,$C(e),t)for(e=0;e<t.length;e++)$C(t[e])}}function xM(e,t){return e(t)}function vM(){}var yv=!1;function bM(e,t,n){if(yv)return e(t,n);yv=!0;try{return xM(e,t,n)}finally{yv=!1,(Qu!==null||Zu!==null)&&(vM(),gM())}}function Gf(e,t){var n=e.stateNode;if(n===null)return null;var r=F0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(rt(231,t,typeof n));return n}var sy=!1;if(Mo)try{var Qd={};Object.defineProperty(Qd,"passive",{get:function(){sy=!0}}),window.addEventListener("test",Qd,Qd),window.removeEventListener("test",Qd,Qd)}catch{sy=!1}function yz(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Pf=!1,Zp=null,Jp=!1,oy=null,wz={onError:function(e){Pf=!0,Zp=e}};function kz(e,t,n,r,i,a,s,o,l){Pf=!1,Zp=null,yz.apply(wz,arguments)}function Sz(e,t,n,r,i,a,s,o,l){if(kz.apply(this,arguments),Pf){if(Pf){var u=Zp;Pf=!1,Zp=null}else throw Error(rt(198));Jp||(Jp=!0,oy=u)}}function ru(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function FC(e){if(ru(e)!==e)throw Error(rt(188))}function Nz(e){var t=e.alternate;if(!t){if(t=ru(e),t===null)throw Error(rt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return FC(i),e;if(a===r)return FC(i),t;a=a.sibling}throw Error(rt(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(rt(189))}}if(n.alternate!==r)throw Error(rt(190))}if(n.tag!==3)throw Error(rt(188));return n.stateNode.current===n?e:t}function wM(e){return e=Nz(e),e!==null?kM(e):null}function kM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kM(e);if(t!==null)return t;e=e.sibling}return null}var SM=Ma.unstable_scheduleCallback,RC=Ma.unstable_cancelCallback,Cz=Ma.unstable_shouldYield,jz=Ma.unstable_requestPaint,Ir=Ma.unstable_now,Az=Ma.unstable_getCurrentPriorityLevel,C1=Ma.unstable_ImmediatePriority,NM=Ma.unstable_UserBlockingPriority,eg=Ma.unstable_NormalPriority,Pz=Ma.unstable_LowPriority,CM=Ma.unstable_IdlePriority,I0=null,Xs=null;function Dz(e){if(Xs&&typeof Xs.onCommitFiberRoot=="function")try{Xs.onCommitFiberRoot(I0,e,void 0,(e.current.flags&128)===128)}catch{}}var gs=Math.clz32?Math.clz32:Mz,Tz=Math.log,Ez=Math.LN2;function Mz(e){return e>>>=0,e===0?32:31-(Tz(e)/Ez|0)|0}var zh=64,Uh=4194304;function bf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=bf(o):(a&=s,a!==0&&(r=bf(a)))}else s=n&~i,s!==0?r=bf(s):a!==0&&(r=bf(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gs(t),i=1<<n,r|=e[n],t&=~i;return r}function Oz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iz(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-gs(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=Oz(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function ly(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jM(){var e=zh;return zh<<=1,!(zh&4194240)&&(zh=64),e}function wv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Im(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gs(t),e[t]=n}function _z(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-gs(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function j1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Un=0;function AM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var PM,A1,DM,TM,EM,cy=!1,Vh=[],Al=null,Pl=null,Dl=null,Yf=new Map,Xf=new Map,yl=[],Lz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BC(e,t){switch(e){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Dl=null;break;case"pointerover":case"pointerout":Yf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xf.delete(t.pointerId)}}function Zd(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Lm(t),t!==null&&A1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $z(e,t,n,r,i){switch(t){case"focusin":return Al=Zd(Al,e,t,n,r,i),!0;case"dragenter":return Pl=Zd(Pl,e,t,n,r,i),!0;case"mouseover":return Dl=Zd(Dl,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Yf.set(a,Zd(Yf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Xf.set(a,Zd(Xf.get(a)||null,e,t,n,r,i)),!0}return!1}function MM(e){var t=kc(e.target);if(t!==null){var n=ru(t);if(n!==null){if(t=n.tag,t===13){if(t=yM(n),t!==null){e.blockedOn=t,EM(e.priority,function(){DM(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);iy=r,n.target.dispatchEvent(r),iy=null}else return t=Lm(n),t!==null&&A1(t),e.blockedOn=n,!1;t.shift()}return!0}function zC(e,t,n){Dp(e)&&n.delete(t)}function Fz(){cy=!1,Al!==null&&Dp(Al)&&(Al=null),Pl!==null&&Dp(Pl)&&(Pl=null),Dl!==null&&Dp(Dl)&&(Dl=null),Yf.forEach(zC),Xf.forEach(zC)}function Jd(e,t){e.blockedOn===t&&(e.blockedOn=null,cy||(cy=!0,Ma.unstable_scheduleCallback(Ma.unstable_NormalPriority,Fz)))}function Qf(e){function t(i){return Jd(i,e)}if(0<Vh.length){Jd(Vh[0],e);for(var n=1;n<Vh.length;n++){var r=Vh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Al!==null&&Jd(Al,e),Pl!==null&&Jd(Pl,e),Dl!==null&&Jd(Dl,e),Yf.forEach(t),Xf.forEach(t),n=0;n<yl.length;n++)r=yl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<yl.length&&(n=yl[0],n.blockedOn===null);)MM(n),n.blockedOn===null&&yl.shift()}var Ju=Ho.ReactCurrentBatchConfig,ng=!0;function Rz(e,t,n,r){var i=Un,a=Ju.transition;Ju.transition=null;try{Un=1,P1(e,t,n,r)}finally{Un=i,Ju.transition=a}}function Bz(e,t,n,r){var i=Un,a=Ju.transition;Ju.transition=null;try{Un=4,P1(e,t,n,r)}finally{Un=i,Ju.transition=a}}function P1(e,t,n,r){if(ng){var i=uy(e,t,n,r);if(i===null)Ev(e,t,r,rg,n),BC(e,r);else if($z(i,e,t,n,r))r.stopPropagation();else if(BC(e,r),t&4&&-1<Lz.indexOf(e)){for(;i!==null;){var a=Lm(i);if(a!==null&&PM(a),a=uy(e,t,n,r),a===null&&Ev(e,t,r,rg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ev(e,t,r,null,n)}}var rg=null;function uy(e,t,n,r){if(rg=null,e=N1(r),e=kc(e),e!==null)if(t=ru(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yM(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rg=e,null}function OM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Az()){case C1:return 1;case NM:return 4;case eg:case Pz:return 16;case CM:return 536870912;default:return 16}default:return 16}}var Sl=null,D1=null,Tp=null;function IM(){if(Tp)return Tp;var e,t=D1,n=t.length,r,i="value"in Sl?Sl.value:Sl.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Tp=i.slice(e,1<r?1-r:void 0)}function Ep(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wh(){return!0}function UC(){return!1}function La(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wh:UC,this.isPropagationStopped=UC,this}return kr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wh)},persist:function(){},isPersistent:Wh}),t}var Dd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T1=La(Dd),_m=kr({},Dd,{view:0,detail:0}),zz=La(_m),kv,Sv,ef,_0=kr({},_m,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ef&&(ef&&e.type==="mousemove"?(kv=e.screenX-ef.screenX,Sv=e.screenY-ef.screenY):Sv=kv=0,ef=e),kv)},movementY:function(e){return"movementY"in e?e.movementY:Sv}}),VC=La(_0),Uz=kr({},_0,{dataTransfer:0}),Vz=La(Uz),Wz=kr({},_m,{relatedTarget:0}),Nv=La(Wz),Hz=kr({},Dd,{animationName:0,elapsedTime:0,pseudoElement:0}),qz=La(Hz),Kz=kr({},Dd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gz=La(Kz),Yz=kr({},Dd,{data:0}),WC=La(Yz),Xz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zz[e])?!!t[e]:!1}function E1(){return Jz}var e6=kr({},_m,{key:function(e){if(e.key){var t=Xz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ep(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E1,charCode:function(e){return e.type==="keypress"?Ep(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ep(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),t6=La(e6),n6=kr({},_0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HC=La(n6),r6=kr({},_m,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E1}),i6=La(r6),a6=kr({},Dd,{propertyName:0,elapsedTime:0,pseudoElement:0}),s6=La(a6),o6=kr({},_0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),l6=La(o6),c6=[9,13,27,32],M1=Mo&&"CompositionEvent"in window,Df=null;Mo&&"documentMode"in document&&(Df=document.documentMode);var u6=Mo&&"TextEvent"in window&&!Df,_M=Mo&&(!M1||Df&&8<Df&&11>=Df),qC=" ",KC=!1;function LM(e,t){switch(e){case"keyup":return c6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $M(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Iu=!1;function d6(e,t){switch(e){case"compositionend":return $M(t);case"keypress":return t.which!==32?null:(KC=!0,qC);case"textInput":return e=t.data,e===qC&&KC?null:e;default:return null}}function f6(e,t){if(Iu)return e==="compositionend"||!M1&&LM(e,t)?(e=IM(),Tp=D1=Sl=null,Iu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _M&&t.locale!=="ko"?null:t.data;default:return null}}var m6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!m6[e.type]:t==="textarea"}function FM(e,t,n,r){pM(r),t=ig(t,"onChange"),0<t.length&&(n=new T1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Tf=null,Zf=null;function h6(e){YM(e,0)}function L0(e){var t=$u(e);if(lM(t))return e}function p6(e,t){if(e==="change")return t}var RM=!1;if(Mo){var Cv;if(Mo){var jv="oninput"in document;if(!jv){var YC=document.createElement("div");YC.setAttribute("oninput","return;"),jv=typeof YC.oninput=="function"}Cv=jv}else Cv=!1;RM=Cv&&(!document.documentMode||9<document.documentMode)}function XC(){Tf&&(Tf.detachEvent("onpropertychange",BM),Zf=Tf=null)}function BM(e){if(e.propertyName==="value"&&L0(Zf)){var t=[];FM(t,Zf,e,N1(e)),bM(h6,t)}}function g6(e,t,n){e==="focusin"?(XC(),Tf=t,Zf=n,Tf.attachEvent("onpropertychange",BM)):e==="focusout"&&XC()}function x6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return L0(Zf)}function v6(e,t){if(e==="click")return L0(t)}function b6(e,t){if(e==="input"||e==="change")return L0(t)}function y6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ys=typeof Object.is=="function"?Object.is:y6;function Jf(e,t){if(ys(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qb.call(t,i)||!ys(e[i],t[i]))return!1}return!0}function QC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ZC(e,t){var n=QC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=QC(n)}}function zM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function UM(){for(var e=window,t=Qp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qp(e.document)}return t}function O1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function w6(e){var t=UM(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zM(n.ownerDocument.documentElement,n)){if(r!==null&&O1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ZC(n,a);var s=ZC(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k6=Mo&&"documentMode"in document&&11>=document.documentMode,_u=null,dy=null,Ef=null,fy=!1;function JC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fy||_u==null||_u!==Qp(r)||(r=_u,"selectionStart"in r&&O1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ef&&Jf(Ef,r)||(Ef=r,r=ig(dy,"onSelect"),0<r.length&&(t=new T1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_u)))}function Hh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lu={animationend:Hh("Animation","AnimationEnd"),animationiteration:Hh("Animation","AnimationIteration"),animationstart:Hh("Animation","AnimationStart"),transitionend:Hh("Transition","TransitionEnd")},Av={},VM={};Mo&&(VM=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function $0(e){if(Av[e])return Av[e];if(!Lu[e])return e;var t=Lu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in VM)return Av[e]=t[n];return e}var WM=$0("animationend"),HM=$0("animationiteration"),qM=$0("animationstart"),KM=$0("transitionend"),GM=new Map,e2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hl(e,t){GM.set(e,t),nu(t,[e])}for(var Pv=0;Pv<e2.length;Pv++){var Dv=e2[Pv],S6=Dv.toLowerCase(),N6=Dv[0].toUpperCase()+Dv.slice(1);Hl(S6,"on"+N6)}Hl(WM,"onAnimationEnd");Hl(HM,"onAnimationIteration");Hl(qM,"onAnimationStart");Hl("dblclick","onDoubleClick");Hl("focusin","onFocus");Hl("focusout","onBlur");Hl(KM,"onTransitionEnd");sd("onMouseEnter",["mouseout","mouseover"]);sd("onMouseLeave",["mouseout","mouseover"]);sd("onPointerEnter",["pointerout","pointerover"]);sd("onPointerLeave",["pointerout","pointerover"]);nu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nu("onBeforeInput",["compositionend","keypress","textInput","paste"]);nu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C6=new Set("cancel close invalid load scroll toggle".split(" ").concat(yf));function t2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Sz(r,t,void 0,e),e.currentTarget=null}function YM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;t2(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;t2(i,o,u),a=l}}}if(Jp)throw e=oy,Jp=!1,oy=null,e}function lr(e,t){var n=t[xy];n===void 0&&(n=t[xy]=new Set);var r=e+"__bubble";n.has(r)||(XM(t,e,2,!1),n.add(r))}function Tv(e,t,n){var r=0;t&&(r|=4),XM(n,e,r,t)}var qh="_reactListening"+Math.random().toString(36).slice(2);function em(e){if(!e[qh]){e[qh]=!0,rM.forEach(function(n){n!=="selectionchange"&&(C6.has(n)||Tv(n,!1,e),Tv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qh]||(t[qh]=!0,Tv("selectionchange",!1,t))}}function XM(e,t,n,r){switch(OM(t)){case 1:var i=Rz;break;case 4:i=Bz;break;default:i=P1}n=i.bind(null,t,n,e),i=void 0,!sy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ev(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=kc(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}bM(function(){var u=a,d=N1(n),f=[];e:{var h=GM.get(e);if(h!==void 0){var m=T1,p=e;switch(e){case"keypress":if(Ep(n)===0)break e;case"keydown":case"keyup":m=t6;break;case"focusin":p="focus",m=Nv;break;case"focusout":p="blur",m=Nv;break;case"beforeblur":case"afterblur":m=Nv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=VC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Vz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=i6;break;case WM:case HM:case qM:m=qz;break;case KM:m=s6;break;case"scroll":m=zz;break;case"wheel":m=l6;break;case"copy":case"cut":case"paste":m=Gz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=HC}var g=(t&4)!==0,b=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var w=u,y;w!==null;){y=w;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,x!==null&&(N=Gf(w,x),N!=null&&g.push(tm(w,N,y)))),b)break;w=w.return}0<g.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==iy&&(p=n.relatedTarget||n.fromElement)&&(kc(p)||p[Oo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?kc(p):null,p!==null&&(b=ru(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=VC,N="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=HC,N="onPointerLeave",x="onPointerEnter",w="pointer"),b=m==null?h:$u(m),y=p==null?h:$u(p),h=new g(N,w+"leave",m,n,d),h.target=b,h.relatedTarget=y,N=null,kc(d)===u&&(g=new g(x,w+"enter",p,n,d),g.target=y,g.relatedTarget=b,N=g),b=N,m&&p)t:{for(g=m,x=p,w=0,y=g;y;y=ku(y))w++;for(y=0,N=x;N;N=ku(N))y++;for(;0<w-y;)g=ku(g),w--;for(;0<y-w;)x=ku(x),y--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=ku(g),x=ku(x)}g=null}else g=null;m!==null&&n2(f,h,m,g,!1),p!==null&&b!==null&&n2(f,b,p,g,!0)}}e:{if(h=u?$u(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=p6;else if(GC(h))if(RM)C=b6;else{C=x6;var S=g6}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=v6);if(C&&(C=C(e,u))){FM(f,C,n,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Jb(h,"number",h.value)}switch(S=u?$u(u):window,e){case"focusin":(GC(S)||S.contentEditable==="true")&&(_u=S,dy=u,Ef=null);break;case"focusout":Ef=dy=_u=null;break;case"mousedown":fy=!0;break;case"contextmenu":case"mouseup":case"dragend":fy=!1,JC(f,n,d);break;case"selectionchange":if(k6)break;case"keydown":case"keyup":JC(f,n,d)}var j;if(M1)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Iu?LM(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(_M&&n.locale!=="ko"&&(Iu||M!=="onCompositionStart"?M==="onCompositionEnd"&&Iu&&(j=IM()):(Sl=d,D1="value"in Sl?Sl.value:Sl.textContent,Iu=!0)),S=ig(u,M),0<S.length&&(M=new WC(M,e,null,n,d),f.push({event:M,listeners:S}),j?M.data=j:(j=$M(n),j!==null&&(M.data=j)))),(j=u6?d6(e,n):f6(e,n))&&(u=ig(u,"onBeforeInput"),0<u.length&&(d=new WC("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=j))}YM(f,t)})}function tm(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ig(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Gf(e,n),a!=null&&r.unshift(tm(e,a,i)),a=Gf(e,t),a!=null&&r.push(tm(e,a,i))),e=e.return}return r}function ku(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function n2(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Gf(n,a),l!=null&&s.unshift(tm(n,l,o))):i||(l=Gf(n,a),l!=null&&s.push(tm(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var j6=/\r\n?/g,A6=/\u0000|\uFFFD/g;function r2(e){return(typeof e=="string"?e:""+e).replace(j6,`
`).replace(A6,"")}function Kh(e,t,n){if(t=r2(t),r2(e)!==t&&n)throw Error(rt(425))}function ag(){}var my=null,hy=null;function py(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gy=typeof setTimeout=="function"?setTimeout:void 0,P6=typeof clearTimeout=="function"?clearTimeout:void 0,i2=typeof Promise=="function"?Promise:void 0,D6=typeof queueMicrotask=="function"?queueMicrotask:typeof i2<"u"?function(e){return i2.resolve(null).then(e).catch(T6)}:gy;function T6(e){setTimeout(function(){throw e})}function Mv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Qf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qf(t)}function Tl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function a2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Td=Math.random().toString(36).slice(2),Gs="__reactFiber$"+Td,nm="__reactProps$"+Td,Oo="__reactContainer$"+Td,xy="__reactEvents$"+Td,E6="__reactListeners$"+Td,M6="__reactHandles$"+Td;function kc(e){var t=e[Gs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oo]||n[Gs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=a2(e);e!==null;){if(n=e[Gs])return n;e=a2(e)}return t}e=n,n=e.parentNode}return null}function Lm(e){return e=e[Gs]||e[Oo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $u(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(rt(33))}function F0(e){return e[nm]||null}var vy=[],Fu=-1;function ql(e){return{current:e}}function ur(e){0>Fu||(e.current=vy[Fu],vy[Fu]=null,Fu--)}function ir(e,t){Fu++,vy[Fu]=e.current,e.current=t}var Bl={},$i=ql(Bl),oa=ql(!1),Fc=Bl;function od(e,t){var n=e.type.contextTypes;if(!n)return Bl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function la(e){return e=e.childContextTypes,e!=null}function sg(){ur(oa),ur($i)}function s2(e,t,n){if($i.current!==Bl)throw Error(rt(168));ir($i,t),ir(oa,n)}function QM(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(rt(108,gz(e)||"Unknown",i));return kr({},n,r)}function og(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bl,Fc=$i.current,ir($i,e),ir(oa,oa.current),!0}function o2(e,t,n){var r=e.stateNode;if(!r)throw Error(rt(169));n?(e=QM(e,t,Fc),r.__reactInternalMemoizedMergedChildContext=e,ur(oa),ur($i),ir($i,e)):ur(oa),ir(oa,n)}var xo=null,R0=!1,Ov=!1;function ZM(e){xo===null?xo=[e]:xo.push(e)}function O6(e){R0=!0,ZM(e)}function Kl(){if(!Ov&&xo!==null){Ov=!0;var e=0,t=Un;try{var n=xo;for(Un=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xo=null,R0=!1}catch(i){throw xo!==null&&(xo=xo.slice(e+1)),SM(C1,Kl),i}finally{Un=t,Ov=!1}}return null}var Ru=[],Bu=0,lg=null,cg=0,Ka=[],Ga=0,Rc=null,wo=1,ko="";function hc(e,t){Ru[Bu++]=cg,Ru[Bu++]=lg,lg=e,cg=t}function JM(e,t,n){Ka[Ga++]=wo,Ka[Ga++]=ko,Ka[Ga++]=Rc,Rc=e;var r=wo;e=ko;var i=32-gs(r)-1;r&=~(1<<i),n+=1;var a=32-gs(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,wo=1<<32-gs(t)+i|n<<i|r,ko=a+e}else wo=1<<a|n<<i|r,ko=e}function I1(e){e.return!==null&&(hc(e,1),JM(e,1,0))}function _1(e){for(;e===lg;)lg=Ru[--Bu],Ru[Bu]=null,cg=Ru[--Bu],Ru[Bu]=null;for(;e===Rc;)Rc=Ka[--Ga],Ka[Ga]=null,ko=Ka[--Ga],Ka[Ga]=null,wo=Ka[--Ga],Ka[Ga]=null}var Pa=null,ja=null,hr=!1,fs=null;function eO(e,t){var n=Qa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function l2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pa=e,ja=Tl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pa=e,ja=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rc!==null?{id:wo,overflow:ko}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pa=e,ja=null,!0):!1;default:return!1}}function by(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yy(e){if(hr){var t=ja;if(t){var n=t;if(!l2(e,t)){if(by(e))throw Error(rt(418));t=Tl(n.nextSibling);var r=Pa;t&&l2(e,t)?eO(r,n):(e.flags=e.flags&-4097|2,hr=!1,Pa=e)}}else{if(by(e))throw Error(rt(418));e.flags=e.flags&-4097|2,hr=!1,Pa=e}}}function c2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pa=e}function Gh(e){if(e!==Pa)return!1;if(!hr)return c2(e),hr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!py(e.type,e.memoizedProps)),t&&(t=ja)){if(by(e))throw tO(),Error(rt(418));for(;t;)eO(e,t),t=Tl(t.nextSibling)}if(c2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(rt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ja=Tl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ja=null}}else ja=Pa?Tl(e.stateNode.nextSibling):null;return!0}function tO(){for(var e=ja;e;)e=Tl(e.nextSibling)}function ld(){ja=Pa=null,hr=!1}function L1(e){fs===null?fs=[e]:fs.push(e)}var I6=Ho.ReactCurrentBatchConfig;function tf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(rt(309));var r=n.stateNode}if(!r)throw Error(rt(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(rt(284));if(!n._owner)throw Error(rt(290,e))}return e}function Yh(e,t){throw e=Object.prototype.toString.call(t),Error(rt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function u2(e){var t=e._init;return t(e._payload)}function nO(e){function t(x,w){if(e){var y=x.deletions;y===null?(x.deletions=[w],x.flags|=16):y.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Il(x,w),x.index=0,x.sibling=null,x}function a(x,w,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<w?(x.flags|=2,w):y):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,w,y,N){return w===null||w.tag!==6?(w=Bv(y,x.mode,N),w.return=x,w):(w=i(w,y),w.return=x,w)}function l(x,w,y,N){var C=y.type;return C===Ou?d(x,w,y.props.children,N,y.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pl&&u2(C)===w.type)?(N=i(w,y.props),N.ref=tf(x,w,y),N.return=x,N):(N=Fp(y.type,y.key,y.props,null,x.mode,N),N.ref=tf(x,w,y),N.return=x,N)}function u(x,w,y,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=zv(y,x.mode,N),w.return=x,w):(w=i(w,y.children||[]),w.return=x,w)}function d(x,w,y,N,C){return w===null||w.tag!==7?(w=Mc(y,x.mode,N,C),w.return=x,w):(w=i(w,y),w.return=x,w)}function f(x,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Bv(""+w,x.mode,y),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fh:return y=Fp(w.type,w.key,w.props,null,x.mode,y),y.ref=tf(x,null,w),y.return=x,y;case Mu:return w=zv(w,x.mode,y),w.return=x,w;case pl:var N=w._init;return f(x,N(w._payload),y)}if(vf(w)||Xd(w))return w=Mc(w,x.mode,y,null),w.return=x,w;Yh(x,w)}return null}function h(x,w,y,N){var C=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:o(x,w,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fh:return y.key===C?l(x,w,y,N):null;case Mu:return y.key===C?u(x,w,y,N):null;case pl:return C=y._init,h(x,w,C(y._payload),N)}if(vf(y)||Xd(y))return C!==null?null:d(x,w,y,N,null);Yh(x,y)}return null}function m(x,w,y,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(y)||null,o(w,x,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Fh:return x=x.get(N.key===null?y:N.key)||null,l(w,x,N,C);case Mu:return x=x.get(N.key===null?y:N.key)||null,u(w,x,N,C);case pl:var S=N._init;return m(x,w,y,S(N._payload),C)}if(vf(N)||Xd(N))return x=x.get(y)||null,d(w,x,N,C,null);Yh(w,N)}return null}function p(x,w,y,N){for(var C=null,S=null,j=w,M=w=0,$=null;j!==null&&M<y.length;M++){j.index>M?($=j,j=null):$=j.sibling;var T=h(x,j,y[M],N);if(T===null){j===null&&(j=$);break}e&&j&&T.alternate===null&&t(x,j),w=a(T,w,M),S===null?C=T:S.sibling=T,S=T,j=$}if(M===y.length)return n(x,j),hr&&hc(x,M),C;if(j===null){for(;M<y.length;M++)j=f(x,y[M],N),j!==null&&(w=a(j,w,M),S===null?C=j:S.sibling=j,S=j);return hr&&hc(x,M),C}for(j=r(x,j);M<y.length;M++)$=m(j,x,M,y[M],N),$!==null&&(e&&$.alternate!==null&&j.delete($.key===null?M:$.key),w=a($,w,M),S===null?C=$:S.sibling=$,S=$);return e&&j.forEach(function(_){return t(x,_)}),hr&&hc(x,M),C}function g(x,w,y,N){var C=Xd(y);if(typeof C!="function")throw Error(rt(150));if(y=C.call(y),y==null)throw Error(rt(151));for(var S=C=null,j=w,M=w=0,$=null,T=y.next();j!==null&&!T.done;M++,T=y.next()){j.index>M?($=j,j=null):$=j.sibling;var _=h(x,j,T.value,N);if(_===null){j===null&&(j=$);break}e&&j&&_.alternate===null&&t(x,j),w=a(_,w,M),S===null?C=_:S.sibling=_,S=_,j=$}if(T.done)return n(x,j),hr&&hc(x,M),C;if(j===null){for(;!T.done;M++,T=y.next())T=f(x,T.value,N),T!==null&&(w=a(T,w,M),S===null?C=T:S.sibling=T,S=T);return hr&&hc(x,M),C}for(j=r(x,j);!T.done;M++,T=y.next())T=m(j,x,M,T.value,N),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?M:T.key),w=a(T,w,M),S===null?C=T:S.sibling=T,S=T);return e&&j.forEach(function(O){return t(x,O)}),hr&&hc(x,M),C}function b(x,w,y,N){if(typeof y=="object"&&y!==null&&y.type===Ou&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Fh:e:{for(var C=y.key,S=w;S!==null;){if(S.key===C){if(C=y.type,C===Ou){if(S.tag===7){n(x,S.sibling),w=i(S,y.props.children),w.return=x,x=w;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pl&&u2(C)===S.type){n(x,S.sibling),w=i(S,y.props),w.ref=tf(x,S,y),w.return=x,x=w;break e}n(x,S);break}else t(x,S);S=S.sibling}y.type===Ou?(w=Mc(y.props.children,x.mode,N,y.key),w.return=x,x=w):(N=Fp(y.type,y.key,y.props,null,x.mode,N),N.ref=tf(x,w,y),N.return=x,x=N)}return s(x);case Mu:e:{for(S=y.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){n(x,w.sibling),w=i(w,y.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=zv(y,x.mode,N),w.return=x,x=w}return s(x);case pl:return S=y._init,b(x,w,S(y._payload),N)}if(vf(y))return p(x,w,y,N);if(Xd(y))return g(x,w,y,N);Yh(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,y),w.return=x,x=w):(n(x,w),w=Bv(y,x.mode,N),w.return=x,x=w),s(x)):n(x,w)}return b}var cd=nO(!0),rO=nO(!1),ug=ql(null),dg=null,zu=null,$1=null;function F1(){$1=zu=dg=null}function R1(e){var t=ug.current;ur(ug),e._currentValue=t}function wy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ed(e,t){dg=e,$1=zu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(aa=!0),e.firstContext=null)}function es(e){var t=e._currentValue;if($1!==e)if(e={context:e,memoizedValue:t,next:null},zu===null){if(dg===null)throw Error(rt(308));zu=e,dg.dependencies={lanes:0,firstContext:e}}else zu=zu.next=e;return t}var Sc=null;function B1(e){Sc===null?Sc=[e]:Sc.push(e)}function iO(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,B1(t)):(n.next=i.next,i.next=n),t.interleaved=n,Io(e,r)}function Io(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var gl=!1;function z1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function El(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_n&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Io(e,n)}return i=r.interleaved,i===null?(t.next=t,B1(r)):(t.next=i.next,i.next=t),r.interleaved=t,Io(e,n)}function Mp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,j1(e,n)}}function d2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fg(e,t,n,r){var i=e.updateQueue;gl=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=kr({},f,h);break e;case 2:gl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);zc|=s,e.lanes=s,e.memoizedState=f}}function f2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(rt(191,i));i.call(r)}}}var $m={},Qs=ql($m),rm=ql($m),im=ql($m);function Nc(e){if(e===$m)throw Error(rt(174));return e}function U1(e,t){switch(ir(im,t),ir(rm,e),ir(Qs,$m),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ty(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ty(t,e)}ur(Qs),ir(Qs,t)}function ud(){ur(Qs),ur(rm),ur(im)}function sO(e){Nc(im.current);var t=Nc(Qs.current),n=ty(t,e.type);t!==n&&(ir(rm,e),ir(Qs,n))}function V1(e){rm.current===e&&(ur(Qs),ur(rm))}var xr=ql(0);function mg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Iv=[];function W1(){for(var e=0;e<Iv.length;e++)Iv[e]._workInProgressVersionPrimary=null;Iv.length=0}var Op=Ho.ReactCurrentDispatcher,_v=Ho.ReactCurrentBatchConfig,Bc=0,wr=null,Kr=null,ui=null,hg=!1,Mf=!1,am=0,_6=0;function Pi(){throw Error(rt(321))}function H1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ys(e[n],t[n]))return!1;return!0}function q1(e,t,n,r,i,a){if(Bc=a,wr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Op.current=e===null||e.memoizedState===null?R6:B6,e=n(r,i),Mf){a=0;do{if(Mf=!1,am=0,25<=a)throw Error(rt(301));a+=1,ui=Kr=null,t.updateQueue=null,Op.current=z6,e=n(r,i)}while(Mf)}if(Op.current=pg,t=Kr!==null&&Kr.next!==null,Bc=0,ui=Kr=wr=null,hg=!1,t)throw Error(rt(300));return e}function K1(){var e=am!==0;return am=0,e}function Hs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?wr.memoizedState=ui=e:ui=ui.next=e,ui}function ts(){if(Kr===null){var e=wr.alternate;e=e!==null?e.memoizedState:null}else e=Kr.next;var t=ui===null?wr.memoizedState:ui.next;if(t!==null)ui=t,Kr=e;else{if(e===null)throw Error(rt(310));Kr=e,e={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},ui===null?wr.memoizedState=ui=e:ui=ui.next=e}return ui}function sm(e,t){return typeof t=="function"?t(e):t}function Lv(e){var t=ts(),n=t.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=e;var r=Kr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((Bc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,wr.lanes|=d,zc|=d}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,ys(r,t.memoizedState)||(aa=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,wr.lanes|=a,zc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $v(e){var t=ts(),n=t.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);ys(a,t.memoizedState)||(aa=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function oO(){}function lO(e,t){var n=wr,r=ts(),i=t(),a=!ys(r.memoizedState,i);if(a&&(r.memoizedState=i,aa=!0),r=r.queue,G1(dO.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ui!==null&&ui.memoizedState.tag&1){if(n.flags|=2048,om(9,uO.bind(null,n,r,i,t),void 0,null),di===null)throw Error(rt(349));Bc&30||cO(n,t,i)}return i}function cO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=wr.updateQueue,t===null?(t={lastEffect:null,stores:null},wr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uO(e,t,n,r){t.value=n,t.getSnapshot=r,fO(t)&&mO(e)}function dO(e,t,n){return n(function(){fO(t)&&mO(e)})}function fO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ys(e,n)}catch{return!0}}function mO(e){var t=Io(e,1);t!==null&&xs(t,e,1,-1)}function m2(e){var t=Hs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sm,lastRenderedState:e},t.queue=e,e=e.dispatch=F6.bind(null,wr,e),[t.memoizedState,e]}function om(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=wr.updateQueue,t===null?(t={lastEffect:null,stores:null},wr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hO(){return ts().memoizedState}function Ip(e,t,n,r){var i=Hs();wr.flags|=e,i.memoizedState=om(1|t,n,void 0,r===void 0?null:r)}function B0(e,t,n,r){var i=ts();r=r===void 0?null:r;var a=void 0;if(Kr!==null){var s=Kr.memoizedState;if(a=s.destroy,r!==null&&H1(r,s.deps)){i.memoizedState=om(t,n,a,r);return}}wr.flags|=e,i.memoizedState=om(1|t,n,a,r)}function h2(e,t){return Ip(8390656,8,e,t)}function G1(e,t){return B0(2048,8,e,t)}function pO(e,t){return B0(4,2,e,t)}function gO(e,t){return B0(4,4,e,t)}function xO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vO(e,t,n){return n=n!=null?n.concat([e]):null,B0(4,4,xO.bind(null,t,e),n)}function Y1(){}function bO(e,t){var n=ts();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&H1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yO(e,t){var n=ts();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&H1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wO(e,t,n){return Bc&21?(ys(n,t)||(n=jM(),wr.lanes|=n,zc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,aa=!0),e.memoizedState=n)}function L6(e,t){var n=Un;Un=n!==0&&4>n?n:4,e(!0);var r=_v.transition;_v.transition={};try{e(!1),t()}finally{Un=n,_v.transition=r}}function kO(){return ts().memoizedState}function $6(e,t,n){var r=Ol(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SO(e))NO(t,n);else if(n=iO(e,t,n,r),n!==null){var i=Ki();xs(n,e,r,i),CO(n,t,r)}}function F6(e,t,n){var r=Ol(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SO(e))NO(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ys(o,s)){var l=t.interleaved;l===null?(i.next=i,B1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=iO(e,t,i,r),n!==null&&(i=Ki(),xs(n,e,r,i),CO(n,t,r))}}function SO(e){var t=e.alternate;return e===wr||t!==null&&t===wr}function NO(e,t){Mf=hg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function CO(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,j1(e,n)}}var pg={readContext:es,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useInsertionEffect:Pi,useLayoutEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useMutableSource:Pi,useSyncExternalStore:Pi,useId:Pi,unstable_isNewReconciler:!1},R6={readContext:es,useCallback:function(e,t){return Hs().memoizedState=[e,t===void 0?null:t],e},useContext:es,useEffect:h2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ip(4194308,4,xO.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ip(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ip(4,2,e,t)},useMemo:function(e,t){var n=Hs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$6.bind(null,wr,e),[r.memoizedState,e]},useRef:function(e){var t=Hs();return e={current:e},t.memoizedState=e},useState:m2,useDebugValue:Y1,useDeferredValue:function(e){return Hs().memoizedState=e},useTransition:function(){var e=m2(!1),t=e[0];return e=L6.bind(null,e[1]),Hs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=wr,i=Hs();if(hr){if(n===void 0)throw Error(rt(407));n=n()}else{if(n=t(),di===null)throw Error(rt(349));Bc&30||cO(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,h2(dO.bind(null,r,a,e),[e]),r.flags|=2048,om(9,uO.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Hs(),t=di.identifierPrefix;if(hr){var n=ko,r=wo;n=(r&~(1<<32-gs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=am++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_6++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},B6={readContext:es,useCallback:bO,useContext:es,useEffect:G1,useImperativeHandle:vO,useInsertionEffect:pO,useLayoutEffect:gO,useMemo:yO,useReducer:Lv,useRef:hO,useState:function(){return Lv(sm)},useDebugValue:Y1,useDeferredValue:function(e){var t=ts();return wO(t,Kr.memoizedState,e)},useTransition:function(){var e=Lv(sm)[0],t=ts().memoizedState;return[e,t]},useMutableSource:oO,useSyncExternalStore:lO,useId:kO,unstable_isNewReconciler:!1},z6={readContext:es,useCallback:bO,useContext:es,useEffect:G1,useImperativeHandle:vO,useInsertionEffect:pO,useLayoutEffect:gO,useMemo:yO,useReducer:$v,useRef:hO,useState:function(){return $v(sm)},useDebugValue:Y1,useDeferredValue:function(e){var t=ts();return Kr===null?t.memoizedState=e:wO(t,Kr.memoizedState,e)},useTransition:function(){var e=$v(sm)[0],t=ts().memoizedState;return[e,t]},useMutableSource:oO,useSyncExternalStore:lO,useId:kO,unstable_isNewReconciler:!1};function us(e,t){if(e&&e.defaultProps){t=kr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ky(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:kr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var z0={isMounted:function(e){return(e=e._reactInternals)?ru(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ki(),i=Ol(e),a=Ao(r,i);a.payload=t,n!=null&&(a.callback=n),t=El(e,a,i),t!==null&&(xs(t,e,i,r),Mp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ki(),i=Ol(e),a=Ao(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=El(e,a,i),t!==null&&(xs(t,e,i,r),Mp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ki(),r=Ol(e),i=Ao(n,r);i.tag=2,t!=null&&(i.callback=t),t=El(e,i,r),t!==null&&(xs(t,e,r,n),Mp(t,e,r))}};function p2(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Jf(n,r)||!Jf(i,a):!0}function jO(e,t,n){var r=!1,i=Bl,a=t.contextType;return typeof a=="object"&&a!==null?a=es(a):(i=la(t)?Fc:$i.current,r=t.contextTypes,a=(r=r!=null)?od(e,i):Bl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=z0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function g2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&z0.enqueueReplaceState(t,t.state,null)}function Sy(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},z1(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=es(a):(a=la(t)?Fc:$i.current,i.context=od(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ky(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&z0.enqueueReplaceState(i,i.state,null),fg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function dd(e,t){try{var n="",r=t;do n+=pz(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Fv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ny(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var U6=typeof WeakMap=="function"?WeakMap:Map;function AO(e,t,n){n=Ao(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xg||(xg=!0,Iy=r),Ny(e,t)},n}function PO(e,t,n){n=Ao(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ny(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ny(e,t),typeof r!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function x2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new U6;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=nU.bind(null,e,t,n),t.then(e,e))}function v2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function b2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ao(-1,1),t.tag=2,El(n,t,1))),n.lanes|=1),e)}var V6=Ho.ReactCurrentOwner,aa=!1;function Wi(e,t,n,r){t.child=e===null?rO(t,null,n,r):cd(t,e.child,n,r)}function y2(e,t,n,r,i){n=n.render;var a=t.ref;return ed(t,i),r=q1(e,t,n,r,a,i),n=K1(),e!==null&&!aa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_o(e,t,i)):(hr&&n&&I1(t),t.flags|=1,Wi(e,t,r,i),t.child)}function w2(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!rk(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,DO(e,t,a,r,i)):(e=Fp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Jf,n(s,r)&&e.ref===t.ref)return _o(e,t,i)}return t.flags|=1,e=Il(a,r),e.ref=t.ref,e.return=t,t.child=e}function DO(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Jf(a,r)&&e.ref===t.ref)if(aa=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(aa=!0);else return t.lanes=e.lanes,_o(e,t,i)}return Cy(e,t,n,r,i)}function TO(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(Vu,Sa),Sa|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ir(Vu,Sa),Sa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ir(Vu,Sa),Sa|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ir(Vu,Sa),Sa|=r;return Wi(e,t,i,n),t.child}function EO(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cy(e,t,n,r,i){var a=la(n)?Fc:$i.current;return a=od(t,a),ed(t,i),n=q1(e,t,n,r,a,i),r=K1(),e!==null&&!aa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_o(e,t,i)):(hr&&r&&I1(t),t.flags|=1,Wi(e,t,n,i),t.child)}function k2(e,t,n,r,i){if(la(n)){var a=!0;og(t)}else a=!1;if(ed(t,i),t.stateNode===null)_p(e,t),jO(t,n,r),Sy(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=es(u):(u=la(n)?Fc:$i.current,u=od(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&g2(t,s,r,u),gl=!1;var h=t.memoizedState;s.state=h,fg(t,r,s,i),l=t.memoizedState,o!==r||h!==l||oa.current||gl?(typeof d=="function"&&(ky(t,n,d,r),l=t.memoizedState),(o=gl||p2(t,n,o,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,aO(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:us(t.type,o),s.props=u,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=es(l):(l=la(n)?Fc:$i.current,l=od(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&g2(t,s,r,l),gl=!1,h=t.memoizedState,s.state=h,fg(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||oa.current||gl?(typeof m=="function"&&(ky(t,n,m,r),p=t.memoizedState),(u=gl||p2(t,n,u,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return jy(e,t,n,r,a,i)}function jy(e,t,n,r,i,a){EO(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&o2(t,n,!1),_o(e,t,a);r=t.stateNode,V6.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=cd(t,e.child,null,a),t.child=cd(t,null,o,a)):Wi(e,t,o,a),t.memoizedState=r.state,i&&o2(t,n,!0),t.child}function MO(e){var t=e.stateNode;t.pendingContext?s2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&s2(e,t.context,!1),U1(e,t.containerInfo)}function S2(e,t,n,r,i){return ld(),L1(i),t.flags|=256,Wi(e,t,n,r),t.child}var Ay={dehydrated:null,treeContext:null,retryLane:0};function Py(e){return{baseLanes:e,cachePool:null,transitions:null}}function OO(e,t,n){var r=t.pendingProps,i=xr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ir(xr,i&1),e===null)return yy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=W0(s,r,0,null),e=Mc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Py(n),t.memoizedState=Ay,e):X1(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return W6(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Il(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Il(o,a):(a=Mc(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Py(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Ay,r}return a=e.child,e=a.sibling,r=Il(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function X1(e,t){return t=W0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xh(e,t,n,r){return r!==null&&L1(r),cd(t,e.child,null,n),e=X1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function W6(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Fv(Error(rt(422))),Xh(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=W0({mode:"visible",children:r.children},i,0,null),a=Mc(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&cd(t,e.child,null,s),t.child.memoizedState=Py(s),t.memoizedState=Ay,a);if(!(t.mode&1))return Xh(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(rt(419)),r=Fv(a,r,void 0),Xh(e,t,s,r)}if(o=(s&e.childLanes)!==0,aa||o){if(r=di,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Io(e,i),xs(r,e,i,-1))}return nk(),r=Fv(Error(rt(421))),Xh(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=rU.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ja=Tl(i.nextSibling),Pa=t,hr=!0,fs=null,e!==null&&(Ka[Ga++]=wo,Ka[Ga++]=ko,Ka[Ga++]=Rc,wo=e.id,ko=e.overflow,Rc=t),t=X1(t,r.children),t.flags|=4096,t)}function N2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wy(e.return,t,n)}function Rv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function IO(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Wi(e,t,r.children,n),r=xr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&N2(e,n,t);else if(e.tag===19)N2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ir(xr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&mg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Rv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&mg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Rv(t,!0,n,null,a);break;case"together":Rv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _p(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _o(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(rt(153));if(t.child!==null){for(e=t.child,n=Il(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Il(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function H6(e,t,n){switch(t.tag){case 3:MO(t),ld();break;case 5:sO(t);break;case 1:la(t.type)&&og(t);break;case 4:U1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ir(ug,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ir(xr,xr.current&1),t.flags|=128,null):n&t.child.childLanes?OO(e,t,n):(ir(xr,xr.current&1),e=_o(e,t,n),e!==null?e.sibling:null);ir(xr,xr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return IO(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ir(xr,xr.current),r)break;return null;case 22:case 23:return t.lanes=0,TO(e,t,n)}return _o(e,t,n)}var _O,Dy,LO,$O;_O=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dy=function(){};LO=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Nc(Qs.current);var a=null;switch(n){case"input":i=Qb(e,i),r=Qb(e,r),a=[];break;case"select":i=kr({},i,{value:void 0}),r=kr({},r,{value:void 0}),a=[];break;case"textarea":i=ey(e,i),r=ey(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ag)}ny(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qf.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lr("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};$O=function(e,t,n,r){n!==r&&(t.flags|=4)};function nf(e,t){if(!hr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Di(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function q6(e,t,n){var r=t.pendingProps;switch(_1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(t),null;case 1:return la(t.type)&&sg(),Di(t),null;case 3:return r=t.stateNode,ud(),ur(oa),ur($i),W1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Gh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fs!==null&&($y(fs),fs=null))),Dy(e,t),Di(t),null;case 5:V1(t);var i=Nc(im.current);if(n=t.type,e!==null&&t.stateNode!=null)LO(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(rt(166));return Di(t),null}if(e=Nc(Qs.current),Gh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Gs]=t,r[nm]=a,e=(t.mode&1)!==0,n){case"dialog":lr("cancel",r),lr("close",r);break;case"iframe":case"object":case"embed":lr("load",r);break;case"video":case"audio":for(i=0;i<yf.length;i++)lr(yf[i],r);break;case"source":lr("error",r);break;case"img":case"image":case"link":lr("error",r),lr("load",r);break;case"details":lr("toggle",r);break;case"input":OC(r,a),lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},lr("invalid",r);break;case"textarea":_C(r,a),lr("invalid",r)}ny(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Kh(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Kh(r.textContent,o,e),i=["children",""+o]):qf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&lr("scroll",r)}switch(n){case"input":Rh(r),IC(r,a,!0);break;case"textarea":Rh(r),LC(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ag)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dM(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Gs]=t,e[nm]=r,_O(e,t,!1,!1),t.stateNode=e;e:{switch(s=ry(n,r),n){case"dialog":lr("cancel",e),lr("close",e),i=r;break;case"iframe":case"object":case"embed":lr("load",e),i=r;break;case"video":case"audio":for(i=0;i<yf.length;i++)lr(yf[i],e);i=r;break;case"source":lr("error",e),i=r;break;case"img":case"image":case"link":lr("error",e),lr("load",e),i=r;break;case"details":lr("toggle",e),i=r;break;case"input":OC(e,r),i=Qb(e,r),lr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=kr({},r,{value:void 0}),lr("invalid",e);break;case"textarea":_C(e,r),i=ey(e,r),lr("invalid",e);break;default:i=r}ny(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?hM(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fM(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kf(e,l):typeof l=="number"&&Kf(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(qf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&lr("scroll",e):l!=null&&y1(e,a,l,s))}switch(n){case"input":Rh(e),IC(e,r,!1);break;case"textarea":Rh(e),LC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rl(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Xu(e,!!r.multiple,a,!1):r.defaultValue!=null&&Xu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ag)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Di(t),null;case 6:if(e&&t.stateNode!=null)$O(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(rt(166));if(n=Nc(im.current),Nc(Qs.current),Gh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gs]=t,(a=r.nodeValue!==n)&&(e=Pa,e!==null))switch(e.tag){case 3:Kh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kh(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gs]=t,t.stateNode=r}return Di(t),null;case 13:if(ur(xr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(hr&&ja!==null&&t.mode&1&&!(t.flags&128))tO(),ld(),t.flags|=98560,a=!1;else if(a=Gh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(rt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(rt(317));a[Gs]=t}else ld(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Di(t),a=!1}else fs!==null&&($y(fs),fs=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xr.current&1?Yr===0&&(Yr=3):nk())),t.updateQueue!==null&&(t.flags|=4),Di(t),null);case 4:return ud(),Dy(e,t),e===null&&em(t.stateNode.containerInfo),Di(t),null;case 10:return R1(t.type._context),Di(t),null;case 17:return la(t.type)&&sg(),Di(t),null;case 19:if(ur(xr),a=t.memoizedState,a===null)return Di(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)nf(a,!1);else{if(Yr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=mg(e),s!==null){for(t.flags|=128,nf(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ir(xr,xr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ir()>fd&&(t.flags|=128,r=!0,nf(a,!1),t.lanes=4194304)}else{if(!r)if(e=mg(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),nf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!hr)return Di(t),null}else 2*Ir()-a.renderingStartTime>fd&&n!==1073741824&&(t.flags|=128,r=!0,nf(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ir(),t.sibling=null,n=xr.current,ir(xr,r?n&1|2:n&1),t):(Di(t),null);case 22:case 23:return tk(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Sa&1073741824&&(Di(t),t.subtreeFlags&6&&(t.flags|=8192)):Di(t),null;case 24:return null;case 25:return null}throw Error(rt(156,t.tag))}function K6(e,t){switch(_1(t),t.tag){case 1:return la(t.type)&&sg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ud(),ur(oa),ur($i),W1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return V1(t),null;case 13:if(ur(xr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(rt(340));ld()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ur(xr),null;case 4:return ud(),null;case 10:return R1(t.type._context),null;case 22:case 23:return tk(),null;case 24:return null;default:return null}}var Qh=!1,Mi=!1,G6=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function Uu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jr(e,t,r)}else n.current=null}function Ty(e,t,n){try{n()}catch(r){jr(e,t,r)}}var C2=!1;function Y6(e,t){if(my=ng,e=UM(),O1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hy={focusedElem:e,selectionRange:n},ng=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){t=Nt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,b=p.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:us(t.type,g),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(N){jr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}return p=C2,C2=!1,p}function Of(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ty(t,n,a)}i=i.next}while(i!==r)}}function U0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ey(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function FO(e){var t=e.alternate;t!==null&&(e.alternate=null,FO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gs],delete t[nm],delete t[xy],delete t[E6],delete t[M6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function RO(e){return e.tag===5||e.tag===3||e.tag===4}function j2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||RO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function My(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ag));else if(r!==4&&(e=e.child,e!==null))for(My(e,t,n),e=e.sibling;e!==null;)My(e,t,n),e=e.sibling}function Oy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Oy(e,t,n),e=e.sibling;e!==null;)Oy(e,t,n),e=e.sibling}var bi=null,ds=!1;function dl(e,t,n){for(n=n.child;n!==null;)BO(e,t,n),n=n.sibling}function BO(e,t,n){if(Xs&&typeof Xs.onCommitFiberUnmount=="function")try{Xs.onCommitFiberUnmount(I0,n)}catch{}switch(n.tag){case 5:Mi||Uu(n,t);case 6:var r=bi,i=ds;bi=null,dl(e,t,n),bi=r,ds=i,bi!==null&&(ds?(e=bi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bi.removeChild(n.stateNode));break;case 18:bi!==null&&(ds?(e=bi,n=n.stateNode,e.nodeType===8?Mv(e.parentNode,n):e.nodeType===1&&Mv(e,n),Qf(e)):Mv(bi,n.stateNode));break;case 4:r=bi,i=ds,bi=n.stateNode.containerInfo,ds=!0,dl(e,t,n),bi=r,ds=i;break;case 0:case 11:case 14:case 15:if(!Mi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Ty(n,t,s),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Mi&&(Uu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){jr(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:n.mode&1?(Mi=(r=Mi)||n.memoizedState!==null,dl(e,t,n),Mi=r):dl(e,t,n);break;default:dl(e,t,n)}}function A2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new G6),t.forEach(function(r){var i=iU.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:bi=o.stateNode,ds=!1;break e;case 3:bi=o.stateNode.containerInfo,ds=!0;break e;case 4:bi=o.stateNode.containerInfo,ds=!0;break e}o=o.return}if(bi===null)throw Error(rt(160));BO(a,s,i),bi=null,ds=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){jr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zO(t,e),t=t.sibling}function zO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cs(t,e),zs(e),r&4){try{Of(3,e,e.return),U0(3,e)}catch(g){jr(e,e.return,g)}try{Of(5,e,e.return)}catch(g){jr(e,e.return,g)}}break;case 1:cs(t,e),zs(e),r&512&&n!==null&&Uu(n,n.return);break;case 5:if(cs(t,e),zs(e),r&512&&n!==null&&Uu(n,n.return),e.flags&32){var i=e.stateNode;try{Kf(i,"")}catch(g){jr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&cM(i,a),ry(o,s);var u=ry(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?hM(i,f):d==="dangerouslySetInnerHTML"?fM(i,f):d==="children"?Kf(i,f):y1(i,d,f,u)}switch(o){case"input":Zb(i,a);break;case"textarea":uM(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Xu(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Xu(i,!!a.multiple,a.defaultValue,!0):Xu(i,!!a.multiple,a.multiple?[]:"",!1))}i[nm]=a}catch(g){jr(e,e.return,g)}}break;case 6:if(cs(t,e),zs(e),r&4){if(e.stateNode===null)throw Error(rt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){jr(e,e.return,g)}}break;case 3:if(cs(t,e),zs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qf(t.containerInfo)}catch(g){jr(e,e.return,g)}break;case 4:cs(t,e),zs(e);break;case 13:cs(t,e),zs(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(J1=Ir())),r&4&&A2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Mi=(u=Mi)||d,cs(t,e),Mi=u):cs(t,e),zs(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Nt=e,d=e.child;d!==null;){for(f=Nt=d;Nt!==null;){switch(h=Nt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Of(4,h,h.return);break;case 1:Uu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){jr(r,n,g)}}break;case 5:Uu(h,h.return);break;case 22:if(h.memoizedState!==null){D2(f);continue}}m!==null?(m.return=h,Nt=m):D2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=mM("display",s))}catch(g){jr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){jr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:cs(t,e),zs(e),r&4&&A2(e);break;case 21:break;default:cs(t,e),zs(e)}}function zs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(RO(n)){var r=n;break e}n=n.return}throw Error(rt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kf(i,""),r.flags&=-33);var a=j2(e);Oy(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=j2(e);My(e,o,s);break;default:throw Error(rt(161))}}catch(l){jr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X6(e,t,n){Nt=e,UO(e)}function UO(e,t,n){for(var r=(e.mode&1)!==0;Nt!==null;){var i=Nt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Qh;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Mi;o=Qh;var u=Mi;if(Qh=s,(Mi=l)&&!u)for(Nt=i;Nt!==null;)s=Nt,l=s.child,s.tag===22&&s.memoizedState!==null?T2(i):l!==null?(l.return=s,Nt=l):T2(i);for(;a!==null;)Nt=a,UO(a),a=a.sibling;Nt=i,Qh=o,Mi=u}P2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Nt=a):P2(e)}}function P2(e){for(;Nt!==null;){var t=Nt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mi||U0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Mi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:us(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&f2(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}f2(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Qf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}Mi||t.flags&512&&Ey(t)}catch(h){jr(t,t.return,h)}}if(t===e){Nt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Nt=n;break}Nt=t.return}}function D2(e){for(;Nt!==null;){var t=Nt;if(t===e){Nt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Nt=n;break}Nt=t.return}}function T2(e){for(;Nt!==null;){var t=Nt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{U0(4,t)}catch(l){jr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){jr(t,i,l)}}var a=t.return;try{Ey(t)}catch(l){jr(t,a,l)}break;case 5:var s=t.return;try{Ey(t)}catch(l){jr(t,s,l)}}}catch(l){jr(t,t.return,l)}if(t===e){Nt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Nt=o;break}Nt=t.return}}var Q6=Math.ceil,gg=Ho.ReactCurrentDispatcher,Q1=Ho.ReactCurrentOwner,Ja=Ho.ReactCurrentBatchConfig,_n=0,di=null,zr=null,Si=0,Sa=0,Vu=ql(0),Yr=0,lm=null,zc=0,V0=0,Z1=0,If=null,ia=null,J1=0,fd=1/0,go=null,xg=!1,Iy=null,Ml=null,Zh=!1,Nl=null,vg=0,_f=0,_y=null,Lp=-1,$p=0;function Ki(){return _n&6?Ir():Lp!==-1?Lp:Lp=Ir()}function Ol(e){return e.mode&1?_n&2&&Si!==0?Si&-Si:I6.transition!==null?($p===0&&($p=jM()),$p):(e=Un,e!==0||(e=window.event,e=e===void 0?16:OM(e.type)),e):1}function xs(e,t,n,r){if(50<_f)throw _f=0,_y=null,Error(rt(185));Im(e,n,r),(!(_n&2)||e!==di)&&(e===di&&(!(_n&2)&&(V0|=n),Yr===4&&wl(e,Si)),ca(e,r),n===1&&_n===0&&!(t.mode&1)&&(fd=Ir()+500,R0&&Kl()))}function ca(e,t){var n=e.callbackNode;Iz(e,t);var r=tg(e,e===di?Si:0);if(r===0)n!==null&&RC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&RC(n),t===1)e.tag===0?O6(E2.bind(null,e)):ZM(E2.bind(null,e)),D6(function(){!(_n&6)&&Kl()}),n=null;else{switch(AM(r)){case 1:n=C1;break;case 4:n=NM;break;case 16:n=eg;break;case 536870912:n=CM;break;default:n=eg}n=XO(n,VO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function VO(e,t){if(Lp=-1,$p=0,_n&6)throw Error(rt(327));var n=e.callbackNode;if(td()&&e.callbackNode!==n)return null;var r=tg(e,e===di?Si:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bg(e,r);else{t=r;var i=_n;_n|=2;var a=HO();(di!==e||Si!==t)&&(go=null,fd=Ir()+500,Ec(e,t));do try{eU();break}catch(o){WO(e,o)}while(!0);F1(),gg.current=a,_n=i,zr!==null?t=0:(di=null,Si=0,t=Yr)}if(t!==0){if(t===2&&(i=ly(e),i!==0&&(r=i,t=Ly(e,i))),t===1)throw n=lm,Ec(e,0),wl(e,r),ca(e,Ir()),n;if(t===6)wl(e,r);else{if(i=e.current.alternate,!(r&30)&&!Z6(i)&&(t=bg(e,r),t===2&&(a=ly(e),a!==0&&(r=a,t=Ly(e,a))),t===1))throw n=lm,Ec(e,0),wl(e,r),ca(e,Ir()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(rt(345));case 2:pc(e,ia,go);break;case 3:if(wl(e,r),(r&130023424)===r&&(t=J1+500-Ir(),10<t)){if(tg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ki(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gy(pc.bind(null,e,ia,go),t);break}pc(e,ia,go);break;case 4:if(wl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-gs(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Q6(r/1960))-r,10<r){e.timeoutHandle=gy(pc.bind(null,e,ia,go),r);break}pc(e,ia,go);break;case 5:pc(e,ia,go);break;default:throw Error(rt(329))}}}return ca(e,Ir()),e.callbackNode===n?VO.bind(null,e):null}function Ly(e,t){var n=If;return e.current.memoizedState.isDehydrated&&(Ec(e,t).flags|=256),e=bg(e,t),e!==2&&(t=ia,ia=n,t!==null&&$y(t)),e}function $y(e){ia===null?ia=e:ia.push.apply(ia,e)}function Z6(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ys(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wl(e,t){for(t&=~Z1,t&=~V0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gs(t),r=1<<n;e[n]=-1,t&=~r}}function E2(e){if(_n&6)throw Error(rt(327));td();var t=tg(e,0);if(!(t&1))return ca(e,Ir()),null;var n=bg(e,t);if(e.tag!==0&&n===2){var r=ly(e);r!==0&&(t=r,n=Ly(e,r))}if(n===1)throw n=lm,Ec(e,0),wl(e,t),ca(e,Ir()),n;if(n===6)throw Error(rt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pc(e,ia,go),ca(e,Ir()),null}function ek(e,t){var n=_n;_n|=1;try{return e(t)}finally{_n=n,_n===0&&(fd=Ir()+500,R0&&Kl())}}function Uc(e){Nl!==null&&Nl.tag===0&&!(_n&6)&&td();var t=_n;_n|=1;var n=Ja.transition,r=Un;try{if(Ja.transition=null,Un=1,e)return e()}finally{Un=r,Ja.transition=n,_n=t,!(_n&6)&&Kl()}}function tk(){Sa=Vu.current,ur(Vu)}function Ec(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,P6(n)),zr!==null)for(n=zr.return;n!==null;){var r=n;switch(_1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sg();break;case 3:ud(),ur(oa),ur($i),W1();break;case 5:V1(r);break;case 4:ud();break;case 13:ur(xr);break;case 19:ur(xr);break;case 10:R1(r.type._context);break;case 22:case 23:tk()}n=n.return}if(di=e,zr=e=Il(e.current,null),Si=Sa=t,Yr=0,lm=null,Z1=V0=zc=0,ia=If=null,Sc!==null){for(t=0;t<Sc.length;t++)if(n=Sc[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Sc=null}return e}function WO(e,t){do{var n=zr;try{if(F1(),Op.current=pg,hg){for(var r=wr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hg=!1}if(Bc=0,ui=Kr=wr=null,Mf=!1,am=0,Q1.current=null,n===null||n.return===null){Yr=1,lm=t,zr=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=Si,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=v2(s);if(m!==null){m.flags&=-257,b2(m,s,o,a,t),m.mode&1&&x2(a,u,t),t=m,l=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){x2(a,u,t),nk();break e}l=Error(rt(426))}}else if(hr&&o.mode&1){var b=v2(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),b2(b,s,o,a,t),L1(dd(l,o));break e}}a=l=dd(l,o),Yr!==4&&(Yr=2),If===null?If=[a]:If.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=AO(a,l,t);d2(a,x);break e;case 1:o=l;var w=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ml===null||!Ml.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=PO(a,o,t);d2(a,N);break e}}a=a.return}while(a!==null)}KO(n)}catch(C){t=C,zr===n&&n!==null&&(zr=n=n.return);continue}break}while(!0)}function HO(){var e=gg.current;return gg.current=pg,e===null?pg:e}function nk(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),di===null||!(zc&268435455)&&!(V0&268435455)||wl(di,Si)}function bg(e,t){var n=_n;_n|=2;var r=HO();(di!==e||Si!==t)&&(go=null,Ec(e,t));do try{J6();break}catch(i){WO(e,i)}while(!0);if(F1(),_n=n,gg.current=r,zr!==null)throw Error(rt(261));return di=null,Si=0,Yr}function J6(){for(;zr!==null;)qO(zr)}function eU(){for(;zr!==null&&!Cz();)qO(zr)}function qO(e){var t=YO(e.alternate,e,Sa);e.memoizedProps=e.pendingProps,t===null?KO(e):zr=t,Q1.current=null}function KO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=K6(n,t),n!==null){n.flags&=32767,zr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yr=6,zr=null;return}}else if(n=q6(n,t,Sa),n!==null){zr=n;return}if(t=t.sibling,t!==null){zr=t;return}zr=t=e}while(t!==null);Yr===0&&(Yr=5)}function pc(e,t,n){var r=Un,i=Ja.transition;try{Ja.transition=null,Un=1,tU(e,t,n,r)}finally{Ja.transition=i,Un=r}return null}function tU(e,t,n,r){do td();while(Nl!==null);if(_n&6)throw Error(rt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(rt(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(_z(e,a),e===di&&(zr=di=null,Si=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zh||(Zh=!0,XO(eg,function(){return td(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ja.transition,Ja.transition=null;var s=Un;Un=1;var o=_n;_n|=4,Q1.current=null,Y6(e,n),zO(n,e),w6(hy),ng=!!my,hy=my=null,e.current=n,X6(n),jz(),_n=o,Un=s,Ja.transition=a}else e.current=n;if(Zh&&(Zh=!1,Nl=e,vg=i),a=e.pendingLanes,a===0&&(Ml=null),Dz(n.stateNode),ca(e,Ir()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xg)throw xg=!1,e=Iy,Iy=null,e;return vg&1&&e.tag!==0&&td(),a=e.pendingLanes,a&1?e===_y?_f++:(_f=0,_y=e):_f=0,Kl(),null}function td(){if(Nl!==null){var e=AM(vg),t=Ja.transition,n=Un;try{if(Ja.transition=null,Un=16>e?16:e,Nl===null)var r=!1;else{if(e=Nl,Nl=null,vg=0,_n&6)throw Error(rt(331));var i=_n;for(_n|=4,Nt=e.current;Nt!==null;){var a=Nt,s=a.child;if(Nt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Nt=u;Nt!==null;){var d=Nt;switch(d.tag){case 0:case 11:case 15:Of(8,d,a)}var f=d.child;if(f!==null)f.return=d,Nt=f;else for(;Nt!==null;){d=Nt;var h=d.sibling,m=d.return;if(FO(d),d===u){Nt=null;break}if(h!==null){h.return=m,Nt=h;break}Nt=m}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Nt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Nt=s;else e:for(;Nt!==null;){if(a=Nt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Of(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Nt=x;break e}Nt=a.return}}var w=e.current;for(Nt=w;Nt!==null;){s=Nt;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Nt=y;else e:for(s=w;Nt!==null;){if(o=Nt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:U0(9,o)}}catch(C){jr(o,o.return,C)}if(o===s){Nt=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,Nt=N;break e}Nt=o.return}}if(_n=i,Kl(),Xs&&typeof Xs.onPostCommitFiberRoot=="function")try{Xs.onPostCommitFiberRoot(I0,e)}catch{}r=!0}return r}finally{Un=n,Ja.transition=t}}return!1}function M2(e,t,n){t=dd(n,t),t=AO(e,t,1),e=El(e,t,1),t=Ki(),e!==null&&(Im(e,1,t),ca(e,t))}function jr(e,t,n){if(e.tag===3)M2(e,e,n);else for(;t!==null;){if(t.tag===3){M2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ml===null||!Ml.has(r))){e=dd(n,e),e=PO(t,e,1),t=El(t,e,1),e=Ki(),t!==null&&(Im(t,1,e),ca(t,e));break}}t=t.return}}function nU(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ki(),e.pingedLanes|=e.suspendedLanes&n,di===e&&(Si&n)===n&&(Yr===4||Yr===3&&(Si&130023424)===Si&&500>Ir()-J1?Ec(e,0):Z1|=n),ca(e,t)}function GO(e,t){t===0&&(e.mode&1?(t=Uh,Uh<<=1,!(Uh&130023424)&&(Uh=4194304)):t=1);var n=Ki();e=Io(e,t),e!==null&&(Im(e,t,n),ca(e,n))}function rU(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),GO(e,n)}function iU(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(rt(314))}r!==null&&r.delete(t),GO(e,n)}var YO;YO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||oa.current)aa=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return aa=!1,H6(e,t,n);aa=!!(e.flags&131072)}else aa=!1,hr&&t.flags&1048576&&JM(t,cg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_p(e,t),e=t.pendingProps;var i=od(t,$i.current);ed(t,n),i=q1(null,t,r,e,i,n);var a=K1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,la(r)?(a=!0,og(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,z1(t),i.updater=z0,t.stateNode=i,i._reactInternals=t,Sy(t,r,e,n),t=jy(null,t,r,!0,a,n)):(t.tag=0,hr&&a&&I1(t),Wi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_p(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=sU(r),e=us(r,e),i){case 0:t=Cy(null,t,r,e,n);break e;case 1:t=k2(null,t,r,e,n);break e;case 11:t=y2(null,t,r,e,n);break e;case 14:t=w2(null,t,r,us(r.type,e),n);break e}throw Error(rt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:us(r,i),Cy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:us(r,i),k2(e,t,r,i,n);case 3:e:{if(MO(t),e===null)throw Error(rt(387));r=t.pendingProps,a=t.memoizedState,i=a.element,aO(e,t),fg(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=dd(Error(rt(423)),t),t=S2(e,t,r,n,i);break e}else if(r!==i){i=dd(Error(rt(424)),t),t=S2(e,t,r,n,i);break e}else for(ja=Tl(t.stateNode.containerInfo.firstChild),Pa=t,hr=!0,fs=null,n=rO(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ld(),r===i){t=_o(e,t,n);break e}Wi(e,t,r,n)}t=t.child}return t;case 5:return sO(t),e===null&&yy(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,py(r,i)?s=null:a!==null&&py(r,a)&&(t.flags|=32),EO(e,t),Wi(e,t,s,n),t.child;case 6:return e===null&&yy(t),null;case 13:return OO(e,t,n);case 4:return U1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=cd(t,null,r,n):Wi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:us(r,i),y2(e,t,r,i,n);case 7:return Wi(e,t,t.pendingProps,n),t.child;case 8:return Wi(e,t,t.pendingProps.children,n),t.child;case 12:return Wi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ir(ug,r._currentValue),r._currentValue=s,a!==null)if(ys(a.value,s)){if(a.children===i.children&&!oa.current){t=_o(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ao(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),wy(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(rt(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),wy(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Wi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ed(t,n),i=es(i),r=r(i),t.flags|=1,Wi(e,t,r,n),t.child;case 14:return r=t.type,i=us(r,t.pendingProps),i=us(r.type,i),w2(e,t,r,i,n);case 15:return DO(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:us(r,i),_p(e,t),t.tag=1,la(r)?(e=!0,og(t)):e=!1,ed(t,n),jO(t,r,i),Sy(t,r,i,n),jy(null,t,r,!0,e,n);case 19:return IO(e,t,n);case 22:return TO(e,t,n)}throw Error(rt(156,t.tag))};function XO(e,t){return SM(e,t)}function aU(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qa(e,t,n,r){return new aU(e,t,n,r)}function rk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sU(e){if(typeof e=="function")return rk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===k1)return 11;if(e===S1)return 14}return 2}function Il(e,t){var n=e.alternate;return n===null?(n=Qa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fp(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")rk(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ou:return Mc(n.children,i,a,t);case w1:s=8,i|=8;break;case Kb:return e=Qa(12,n,t,i|2),e.elementType=Kb,e.lanes=a,e;case Gb:return e=Qa(13,n,t,i),e.elementType=Gb,e.lanes=a,e;case Yb:return e=Qa(19,n,t,i),e.elementType=Yb,e.lanes=a,e;case sM:return W0(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iM:s=10;break e;case aM:s=9;break e;case k1:s=11;break e;case S1:s=14;break e;case pl:s=16,r=null;break e}throw Error(rt(130,e==null?e:typeof e,""))}return t=Qa(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return e=Qa(7,e,r,t),e.lanes=n,e}function W0(e,t,n,r){return e=Qa(22,e,r,t),e.elementType=sM,e.lanes=n,e.stateNode={isHidden:!1},e}function Bv(e,t,n){return e=Qa(6,e,null,t),e.lanes=n,e}function zv(e,t,n){return t=Qa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oU(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wv(0),this.expirationTimes=wv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ik(e,t,n,r,i,a,s,o,l){return e=new oU(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Qa(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},z1(a),e}function lU(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function QO(e){if(!e)return Bl;e=e._reactInternals;e:{if(ru(e)!==e||e.tag!==1)throw Error(rt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(la(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(rt(171))}if(e.tag===1){var n=e.type;if(la(n))return QM(e,n,t)}return t}function ZO(e,t,n,r,i,a,s,o,l){return e=ik(n,r,!0,e,i,a,s,o,l),e.context=QO(null),n=e.current,r=Ki(),i=Ol(n),a=Ao(r,i),a.callback=t??null,El(n,a,i),e.current.lanes=i,Im(e,i,r),ca(e,r),e}function H0(e,t,n,r){var i=t.current,a=Ki(),s=Ol(i);return n=QO(n),t.context===null?t.context=n:t.pendingContext=n,t=Ao(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=El(i,t,s),e!==null&&(xs(e,i,s,a),Mp(e,i,s)),s}function yg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function O2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ak(e,t){O2(e,t),(e=e.alternate)&&O2(e,t)}function cU(){return null}var JO=typeof reportError=="function"?reportError:function(e){console.error(e)};function sk(e){this._internalRoot=e}q0.prototype.render=sk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(rt(409));H0(e,t,null,null)};q0.prototype.unmount=sk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uc(function(){H0(null,e,null,null)}),t[Oo]=null}};function q0(e){this._internalRoot=e}q0.prototype.unstable_scheduleHydration=function(e){if(e){var t=TM();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yl.length&&t!==0&&t<yl[n].priority;n++);yl.splice(n,0,e),n===0&&MM(e)}};function ok(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function K0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function I2(){}function uU(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=yg(s);a.call(u)}}var s=ZO(t,r,e,0,null,!1,!1,"",I2);return e._reactRootContainer=s,e[Oo]=s.current,em(e.nodeType===8?e.parentNode:e),Uc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=yg(l);o.call(u)}}var l=ik(e,0,!1,null,null,!1,!1,"",I2);return e._reactRootContainer=l,e[Oo]=l.current,em(e.nodeType===8?e.parentNode:e),Uc(function(){H0(t,l,n,r)}),l}function G0(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=yg(s);o.call(l)}}H0(t,s,e,i)}else s=uU(n,t,e,i,r);return yg(s)}PM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bf(t.pendingLanes);n!==0&&(j1(t,n|1),ca(t,Ir()),!(_n&6)&&(fd=Ir()+500,Kl()))}break;case 13:Uc(function(){var r=Io(e,1);if(r!==null){var i=Ki();xs(r,e,1,i)}}),ak(e,1)}};A1=function(e){if(e.tag===13){var t=Io(e,134217728);if(t!==null){var n=Ki();xs(t,e,134217728,n)}ak(e,134217728)}};DM=function(e){if(e.tag===13){var t=Ol(e),n=Io(e,t);if(n!==null){var r=Ki();xs(n,e,t,r)}ak(e,t)}};TM=function(){return Un};EM=function(e,t){var n=Un;try{return Un=e,t()}finally{Un=n}};ay=function(e,t,n){switch(t){case"input":if(Zb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=F0(r);if(!i)throw Error(rt(90));lM(r),Zb(r,i)}}}break;case"textarea":uM(e,n);break;case"select":t=n.value,t!=null&&Xu(e,!!n.multiple,t,!1)}};xM=ek;vM=Uc;var dU={usingClientEntryPoint:!1,Events:[Lm,$u,F0,pM,gM,ek]},rf={findFiberByHostInstance:kc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fU={bundleType:rf.bundleType,version:rf.version,rendererPackageName:rf.rendererPackageName,rendererConfig:rf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ho.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wM(e),e===null?null:e.stateNode},findFiberByHostInstance:rf.findFiberByHostInstance||cU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{I0=Jh.inject(fU),Xs=Jh}catch{}}_a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dU;_a.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ok(t))throw Error(rt(200));return lU(e,t,null,n)};_a.createRoot=function(e,t){if(!ok(e))throw Error(rt(299));var n=!1,r="",i=JO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ik(e,1,!1,null,null,n,!1,r,i),e[Oo]=t.current,em(e.nodeType===8?e.parentNode:e),new sk(t)};_a.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(rt(188)):(e=Object.keys(e).join(","),Error(rt(268,e)));return e=wM(t),e=e===null?null:e.stateNode,e};_a.flushSync=function(e){return Uc(e)};_a.hydrate=function(e,t,n){if(!K0(t))throw Error(rt(200));return G0(null,e,t,!0,n)};_a.hydrateRoot=function(e,t,n){if(!ok(e))throw Error(rt(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=JO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=ZO(t,null,e,1,n??null,i,!1,a,s),e[Oo]=t.current,em(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new q0(t)};_a.render=function(e,t,n){if(!K0(t))throw Error(rt(200));return G0(null,e,t,!1,n)};_a.unmountComponentAtNode=function(e){if(!K0(e))throw Error(rt(40));return e._reactRootContainer?(Uc(function(){G0(null,null,e,!1,function(){e._reactRootContainer=null,e[Oo]=null})}),!0):!1};_a.unstable_batchedUpdates=ek;_a.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!K0(n))throw Error(rt(200));if(e==null||e._reactInternals===void 0)throw Error(rt(38));return G0(e,t,n,!1,r)};_a.version="18.3.1-next-f1338f8080-20240426";function e5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e5)}catch(e){console.error(e)}}e5(),eM.exports=_a;var Ed=eM.exports,_2=Ed;Hb.createRoot=_2.createRoot,Hb.hydrateRoot=_2.hydrateRoot;const mU=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),t5=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],n5=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],hU=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],r5=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],pU=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],gU=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],xU=new Set([10244]),vU=(e,t)=>{var i;if(xU.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return gU.some(a=>r.includes(a))},bU=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},ep=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},i5=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,a5=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},yi=(e,t=2)=>Number.isFinite(e)?i5()&&Math.abs(e)>=1e4?a5(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",ml=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return i5()&&t>=1e4?a5(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var yU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tn=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},u)=>v.createElement("svg",{ref:u,...yU,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${wU(e)}`,...l},[...t.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},s5=tn("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),kU=tn("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),lk=tn("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),o5=tn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),SU=tn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),ck=tn("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),NU=tn("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),l5=tn("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Fy=tn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),CU=tn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ws=tn("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),jU=tn("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),AU=tn("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),PU=tn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),DU=tn("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),cm=tn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),TU=tn("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),uk=tn("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),EU=tn("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),c5=tn("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),MU=tn("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),dk=tn("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),OU=tn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),fk=tn("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),IU=tn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),mk=tn("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Fi=tn("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),L2=tn("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),_U=tn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),LU=tn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),$U=tn("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),u5=tn("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),md=tn("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Y0=tn("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),X0=tn("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),wg=tn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),FU=tn("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Cl=tn("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Oc=tn("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),RU=tn("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Pr=tn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),BU=tn("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),d5=tn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ci=tn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),um=tn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),hk=({className:e})=>c.jsx(_U,{className:e,strokeWidth:3.2}),Fm=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},pk=({className:e=""})=>{const t=Fm("svg/custom-icons/mouse.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},So=({className:e=""})=>{const t=Fm("svg/custom-icons/gw2_boon.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},gk=({className:e=""})=>{const t=Fm("svg/custom-icons/dam_mit.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},xk=({className:e=""})=>{const t=Fm("svg/custom-icons/gw2_sigil.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},zU=[{id:"overview",label:"Overview",icon:Oc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:Oc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Cl},{id:"top-players",label:"Top Players",icon:Oc},{id:"top-skills-outgoing",label:"Top Skills",icon:lk},{id:"squad-composition",label:"Classes",icon:Pr},{id:"timeline",label:"Squad vs Enemy",icon:Pr},{id:"map-distribution",label:"Map Distribution",icon:mk}]},{id:"roster",label:"Roster Intel",icon:cm,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:cm},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Pr},{id:"fight-comp",label:"Fight Comp",icon:Cl}]},{id:"offense",label:"Offensive Stats",icon:Cl,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Cl},{id:"player-breakdown",label:"Player Breakdown",icon:fk},{id:"damage-breakdown",label:"Damage Breakdown",icon:ck},{id:"spike-damage",label:"Spike Damage",icon:um},{id:"conditions-outgoing",label:"Conditions",icon:Y0}]},{id:"defense",label:"Defensive Stats",icon:md,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","support-detailed","healing-stats"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:$U},{id:"defense-detailed",label:"Defense Detailed",icon:md},{id:"defense-mitigation",label:"Damage Mitigation",icon:gk},{id:"boon-output",label:"Boon Output",icon:So},{id:"boon-timeline",label:"Boon Timeline",icon:So},{id:"support-detailed",label:"Support Detailed",icon:hk},{id:"healing-stats",label:"Healing Stats",icon:c5}]},{id:"other",label:"Other Metrics",icon:wg,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:uk},{id:"special-buffs",label:"Special Buffs",icon:wg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:xk},{id:"skill-usage",label:"Skill Usage",icon:dk},{id:"apm-stats",label:"APM Breakdown",icon:pk}]}],UU=(e,t=!0,n=!1)=>{const[r,i]=v.useState(!1),[a,s]=v.useState("overview"),o=v.useRef(null),l=v.useRef(null),u=v.useRef(0),d=v.useMemo(()=>zU,[]),f=v.useMemo(()=>d.flatMap(p=>p.items),[d]),h=p=>{const g=p==="kdr"?"overview":p,b=o.current,x=document.getElementById(g);if(b&&x){const w=b.getBoundingClientRect(),N=x.getBoundingClientRect().top-w.top+b.scrollTop,C=Math.max(0,b.scrollHeight-b.clientHeight),S=Math.min(Math.max(N-16,0),C);b.scrollTo({top:S,behavior:"smooth"}),s(g)}else x&&(x.scrollIntoView({behavior:"smooth",block:"start"}),s(g));i(!1)};v.useEffect(()=>{if(e||n)return;const p=g=>{if(n)return;const b=o.current;if(!b)return;const x=g.target;if(!(x instanceof Element&&x.closest("[data-stats-mobile-nav]"))&&!(x instanceof Node&&b.contains(x))&&g.deltaY!==0&&!(b.scrollHeight<=b.clientHeight)){if(u.current+=g.deltaY,l.current===null){const w=()=>{const y=u.current;if(Math.abs(y)<.5){u.current=0,l.current=null;return}const N=y*.2;u.current=y-N,b.scrollBy({top:N,behavior:"auto"}),l.current=requestAnimationFrame(w)};l.current=requestAnimationFrame(w)}g.preventDefault()}};return window.addEventListener("wheel",p,{passive:!1}),()=>{window.removeEventListener("wheel",p),l.current!==null&&(cancelAnimationFrame(l.current),l.current=null),u.current=0}},[e,n]);const m=p=>{var w;const g=Math.max(0,f.findIndex(y=>y.id===a)),b=Math.min(Math.max(g+p,0),f.length-1),x=(w=f[b])==null?void 0:w.id;x&&h(x)};return v.useEffect(()=>{if(!t||n)return;const p=o.current;if(!p)return;let g=0;const b=()=>{var N;const w=p.getBoundingClientRect().top;let y=((N=f[0])==null?void 0:N.id)||"overview";f.forEach(C=>{const S=document.getElementById(C.id);if(!S)return;S.getBoundingClientRect().top-w<=24&&(y=C.id)}),s(C=>C===y?C:y)},x=()=>{g&&cancelAnimationFrame(g),g=requestAnimationFrame(b)};return b(),p.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",x),()=>{g&&cancelAnimationFrame(g),p.removeEventListener("scroll",x),window.removeEventListener("resize",x)}},[f,t,n]),{mobileNavOpen:r,setMobileNavOpen:i,activeNavId:a,setActiveNavId:s,scrollContainerRef:o,tocGroups:d,tocItems:f,scrollToSection:h,stepSection:m}},$2=["selfBuffs","groupBuffs","squadBuffs"],po=(e,t,n=0)=>t?e/t:n,F2=e=>e!=null&&e.classification?e.classification==="Boon":!0,f5=e=>`b${e}`,VU=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},m5=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},WU=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,u=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=u.generationMs,f=u.wastedMs;let h=1;t==="groupBuffs"?h=po(a-i,i,1):t==="squadBuffs"?h=po(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?po(d,r):po(d,r)*100,p=n?po(f,r):po(f,r)*100;else{const g=po(d,r)/(h||1),b=po(f,r)/(h||1);m=n?g:g*100,p=n?b:b*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},h5=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=WU(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?po(i,s):a},HU=(e,t,n,r,i)=>{const a=h5(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,u=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${u}%`:u},qU=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const g=t.get(m)||{},b={name:g.name||p.name,stacking:g.stacking??p.stacking,icon:g.icon||p.icon,classification:g.classification||p.classification};t.set(m,b)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",g=m.profession||"Unknown",b=m.group??0,x=h.get(b)||1,w=VU(m,o);n.has(p)||n.set(p,{account:p,profession:g,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const y=n.get(p);y.profession=g,g!=="Unknown"&&(y.professions.add(g),y.professionTimeMs[g]=(y.professionTimeMs[g]||0)+w),y.activeTimeMs+=w,y.numFights+=1,y.groupSupported+=x,y.squadSupported+=f,$2.forEach(N=>{(m[N]||[]).forEach(S=>{var J,ue,ge,Y;if(typeof(S==null?void 0:S.id)!="number")return;const j=f5(S.id),M=l[j];if(!F2(M))return;const $=(M==null?void 0:M.stacking)??!1,T=((ue=(J=S.buffData)==null?void 0:J[0])==null?void 0:ue.generation)??0,_=((Y=(ge=S.buffData)==null?void 0:ge[0])==null?void 0:Y.wasted)??0,{generationMs:O,wastedMs:G}=m5(N,$,T,_,o,x,f);!O&&!G||(t.has(j)||t.set(j,M||{}),y.boons[j]||(y.boons[j]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),y.boons[j][N].generationMs+=O,y.boons[j][N].wastedMs+=G)})})})}),{boonTables:Array.from(t.keys()).filter(a=>F2(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const u=l.boons[a];if(!u||!$2.some(p=>u[p].generationMs>0||u[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(g=>{var x;const b=((x=l.professionTimeMs)==null?void 0:x[g])||0;b>p&&(p=b,h=g)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...u.selfBuffs},groupBuffs:{...u.groupBuffs},squadBuffs:{...u.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},Ry=(e,t,n,r,i,a,s={})=>{var m,p,g,b;const l=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!l)return{generationMs:0,wastedMs:0};const u=s[f5(n)],d=(u==null?void 0:u.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((b=(g=l.buffData)==null?void 0:g[0])==null?void 0:b.wasted)??0;return m5(t,d,f,h,r,i,a)},KU={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},GU={methods:KU},YU=GU,vk="count",XU=e=>(e||0)/1e3,QU=(e,t)=>{var i;if(!e)return 0;const n=(i=YU.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},p5=(e,t,n)=>n==="duration"?XU(t):n==="tiered"?QU(e,t):e;function ZU(e,t=vk){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return p5(r,i,t)}function JU(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,u=Ry(o,"selfBuffs",1122,n,l,a,r),d=Ry(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(u.generationMs+d.generationMs)/1e3})}function e8(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function t8(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function n8(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const R2=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},B2=(e,t=vk)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return p5(r,i,t)},z2=e=>e8(e),U2=e=>n8(e),V2=e=>t8(e),W2=(e,t=vk)=>ZU(e,t),r8=(e,t)=>JU(e,t),i8="count",g5={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},By={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},a8={uploading:!1,message:null,url:null,buildStatus:"idle"},H2=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),x5={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},tp=e=>{if(e)return x5[e]},dm=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=H2.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=H2.get(i);if(a)return a}return null},Du=e=>dm(e),v5=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=dm(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(x5).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Rp=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=dm(i);if(a)return a}return e?dm(e):null},s8=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},o8=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},l8=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},c8=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||s8,s=v5(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(g=>{g&&g.forEach(b=>{if(!b.id)return;let x=`Skill ${b.id}`,w;r&&(r[`s${b.id}`]?(x=r[`s${b.id}`].name||x,w=r[`s${b.id}`].icon||w):r[`${b.id}`]&&(x=r[`${b.id}`].name||x,w=r[`${b.id}`].icon||w));const y=Rp(x,b.id,i);if(!y)return;const N=i==null?void 0:i[`b${b.id}`],C=N==null?void 0:N.name,S=s.get(y)||(N==null?void 0:N.icon),j=x.startsWith("Skill ")?C||y:x,M=w||(N==null?void 0:N.icon),$=Number(b.connectedHits??0),T=Number(b.hits??0),_=$>0?$:T,O=Number(b.totalDamage??0);if(!Number.isFinite(_)&&!Number.isFinite(O))return;const G=l[y]||{name:y,icon:S,applications:0,damage:0};G.applications+=Number.isFinite(_)?_:0,G.damage+=Number.isFinite(O)?O:0,!G.icon&&S&&(G.icon=S),l[y]=G;const J=o[p][y]||{icon:S,applications:0,damage:0,skills:{}};J.applications+=Number.isFinite(_)?_:0,J.damage+=Number.isFinite(O)?O:0;const ue=J.skills[j]||{name:j,hits:0,damage:0,icon:M};ue.hits+=Number.isFinite(_)?_:0,ue.damage+=Number.isFinite(O)?O:0,!ue.icon&&M&&(ue.icon=M),J.skills[j]=ue,!J.icon&&S&&(J.icon=S),o[p][y]=J})}))});const u=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&u.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const g=Number(p==null?void 0:p.id);if(!Number.isFinite(g))return;const b=i==null?void 0:i[`b${g}`],x=dm(b==null?void 0:b.name);if(!x||b!=null&&b.classification&&b.classification!=="Condition")return;const w=x;if(!w)return;const y=p.statesPerSource||{};h+=1,Object.entries(y).forEach(([N,C])=>{var _;const S=u.get(N);if(!S)return;f+=1;const j=o8(C),M=l8(C);d+=j;const $=((_=o[S])==null?void 0:_[w])||{applications:0,damage:0,skills:{}};$.applicationsFromBuffs=($.applicationsFromBuffs||0)+j,$.applicationsFromBuffsActive=($.applicationsFromBuffsActive||0)+M,o[S]=o[S]||{},o[S][w]=$;const T=l[w]||{name:w,applications:0,damage:0};T.applicationsFromBuffs=(T.applicationsFromBuffs||0)+j,T.applicationsFromBuffsActive=(T.applicationsFromBuffsActive||0)+M,l[w]=T})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},Vc={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},u8={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function _l(e){return Vc[e]||Vc.Unknown}function d8(e){return e?u8[e]||e:"Unknown"}function Cc(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=Vc[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=d8(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const f8=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},gi=(e,t)=>f8((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),wf=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i,includePlayerSkillMap:a})=>{const s=m=>{var g;return(Array.isArray((g=m==null?void 0:m.details)==null?void 0:g.players)?m.details.players:[]).length>0},o=e.filter(m=>s(m)),l=r||By,u=n||g5,d=m=>{if(!m||typeof m!="object")return m;const p=Array.isArray(m.fightBreakdown)?m.fightBreakdown:null;if(!p||p.length===0)return m;const g=S=>Array.isArray(S)&&S.some(j=>j&&Number(j.count)>0),b=new Map,x=new Map;e.forEach(S=>{var $;const j=(S==null?void 0:S.filePath)||(S==null?void 0:S.id);j&&b.set(String(j),S);const M=(S==null?void 0:S.permalink)||(($=S==null?void 0:S.details)==null?void 0:$.permalink);typeof M=="string"&&M.trim()&&x.set(M.trim(),S)});const w=p.map(S=>{var O;if(!S||typeof S!="object")return S;const j=S.id?String(S.id):"",M=typeof S.permalink=="string"?S.permalink.trim():"",$=(j?b.get(j):void 0)||(M?x.get(M):void 0);if(!$)return S;let T=S;if(Number(S.timestamp)<=0){const G=gi($==null?void 0:$.details,$);G&&(T={...T,timestamp:G})}const _=(O=$==null?void 0:$.details)==null?void 0:O.teamBreakdown;return g(_)&&(T={...T,teamBreakdown:_}),T}),y=Array.isArray(m.fightDiffMode)?m.fightDiffMode:[],C=y.some(S=>Array.isArray(S==null?void 0:S.targetFocus)&&S.targetFocus.some(j=>Number((j==null?void 0:j.damage)||0)>0||Number((j==null?void 0:j.hits)||0)>0))?y:w.map((S,j)=>{const M=S&&typeof S.enemyClassCounts=="object"&&S.enemyClassCounts?S.enemyClassCounts:{},$=Object.entries(M).map(([K,E])=>({label:String(K||"Unknown"),count:Number(E||0)})).filter(K=>K.count>0).sort((K,E)=>E.count-K.count||K.label.localeCompare(E.label)),T=$.reduce((K,E)=>K+E.count,0),_=$.map(K=>({label:K.label,damage:K.count,hits:0,share:T>0?K.count/T:0})),O=Number((S==null?void 0:S.enemyDowns)||0),G=Number((S==null?void 0:S.enemyDeaths)||0),J=Number((S==null?void 0:S.alliesDown)||0),ue=Number((S==null?void 0:S.alliesDead)||0),ge=Number((S==null?void 0:S.totalOutgoingDamage)||0),Y=Number((S==null?void 0:S.totalIncomingDamage)||0),q=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:S!=null&&S.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((S==null?void 0:S.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((S==null?void 0:S.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:ue>0?G/ue:G},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:G},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:O},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:ue},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:J},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:ge-Y},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:ge},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Y},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((S==null?void 0:S.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((S==null?void 0:S.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((S==null?void 0:S.alliesRevived)||0)}];return{id:String((S==null?void 0:S.id)||`fight-${j+1}`),shortLabel:`F${j+1}`,fullLabel:`${String((S==null?void 0:S.mapName)||(S==null?void 0:S.label)||"Unknown Map")}  ${String((S==null?void 0:S.duration)||"--:--")}`,mapName:String((S==null?void 0:S.mapName)||""),timestamp:Number((S==null?void 0:S.timestamp)||0),duration:String((S==null?void 0:S.duration)||"--:--"),isWin:!!(S!=null&&S.isWin),targetFocus:_,squadMetrics:q}});return{...m,fightBreakdown:w,fightDiffMode:C}},f=(()=>{if(t)return d(t);const m=i||i8,p=a!==!1,g=l.topSkillDamageSource||"target",b=l.topSkillsMetric||"damage",x=o.length;let w=0,y=0,N=0,C=0,S=0,j=0,M=0,$=0;const T=A=>{const Q=((A==null?void 0:A.players)||[]).filter(ut=>!ut.notInSquad);let pe=0,le=0,Ge=0,ve=0;return Q.forEach(ut=>{var Ue;const ht=(Ue=ut.defenses)==null?void 0:Ue[0];if(!ht)return;const _t=Number(ht.downCount||0),Lt=Number(ht.deadCount||0);pe+=_t+Lt,Ge+=Lt}),Q.forEach(ut=>{!ut.statsTargets||ut.statsTargets.length===0||ut.statsTargets.forEach(ht=>{const _t=ht==null?void 0:ht[0];if(!_t)return;const Lt=Number(_t.downed||0),Ue=Number(_t.killed||0);le+=Lt+Ue,ve+=Ue})}),{squadDownsDeaths:pe,enemyDownsDeaths:le,squadDeaths:Ge,enemyDeaths:ve}},_=A=>{const{squadDownsDeaths:I,enemyDownsDeaths:Q}=T(A);return I>0||Q>0?Q>I:typeof(A==null?void 0:A.success)=="boolean"?A.success:!1},O=new Map,G=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),J={},ue={},ge=new Map,Y={},q={},K={},E=new Map,D=new Map,ie=new Set(Object.keys(Vc)),k=Object.keys(Vc).filter(A=>A&&A!=="Unknown").sort((A,I)=>I.length-A.length),V=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],W=A=>{if(!A)return"Unknown";const I=String(A).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(ie.has(I))return I;const Q=I.toLowerCase();for(const le of k)if(Q.includes(le.toLowerCase()))return le;return V.find(le=>Q.includes(le.toLowerCase()))||I||"Unknown"},re=A=>A!=null&&A.classification?A.classification==="Boon":!0,ne=new Map,se=new Map,F=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),U=A=>{const I=Number(A);return Number.isFinite(I)?I:0},H=A=>{const I=String(A).split("|"),Q=I[0]||"Unknown",pe=W(I[1]||"Unknown"),le=I[2]||Q||"Unknown";return{name:Q,profession:pe,account:le}},ee=(A,I,Q)=>{let pe=A.get(I);return pe?Q.profession&&!pe.professionList.includes(Q.profession)&&pe.professionList.push(Q.profession):(pe={account:Q.account,name:Q.name,profession:Q.profession,professionList:Q.profession?[Q.profession]:[],activeMs:0,mitigationTotals:F()},A.set(I,pe)),pe},R=(A,I,Q)=>{let pe=A.get(I);return pe?Q.profession&&!pe.professionList.includes(Q.profession)&&pe.professionList.push(Q.profession):(pe={account:Q.account,name:Q.name,profession:Q.profession,professionList:Q.profession?[Q.profession]:[],activeMs:0,mitigationTotals:F(),minion:Q.minion},A.set(I,pe)),pe},ce=(A,I)=>{A.totalHits+=U((I==null?void 0:I.skill_hits)??(I==null?void 0:I.skillHits)),A.blocked+=U(I==null?void 0:I.blocked),A.evaded+=U(I==null?void 0:I.evaded),A.glanced+=U(I==null?void 0:I.glanced),A.missed+=U(I==null?void 0:I.missed),A.invulned+=U(I==null?void 0:I.invulned),A.interrupted+=U(I==null?void 0:I.interrupted),A.totalMitigation+=U((I==null?void 0:I.avoided_damage)??(I==null?void 0:I.avoidedDamage)),A.minMitigation+=U((I==null?void 0:I.min_avoided_damage)??(I==null?void 0:I.minAvoidedDamage))},X=A=>Object.values(A).some(I=>I>0),ae=new Map,ze=A=>{const I=ae.get(A);if(!I)return{hasSkill:!1,avg:1,min:1,hits:0};const Q=I.connectedHits||0,pe=Q>0?I.totalDamage/Q:0,le=I.minCount>0?I.minTotal/I.minCount:0;return{hasSkill:!0,avg:pe,min:le,hits:Q}},Ve=new Map,he=new Map,L=(A,I,Q)=>{const pe=A.get(I)||F();return pe.totalHits+=Q.totalHits,pe.blocked+=Q.blocked,pe.evaded+=Q.evaded,pe.glanced+=Q.glanced,pe.missed+=Q.missed,pe.invulned+=Q.invulned,pe.interrupted+=Q.interrupted,A.set(I,pe),pe};o.forEach(A=>{const I=A.details;if(!I)return;(I.targets||[]).forEach(pe=>{const le=(pe==null?void 0:pe.totalDamageDist)||[],Ge=Array.isArray(le)?le[0]:null;Ge==null||Ge.forEach(ve=>{if(!(ve!=null&&ve.id))return;const ut=Number(ve.id),ht=ae.get(ut)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};ht.totalDamage+=Number(ve.totalDamage||0),ht.connectedHits+=Number(ve.connectedHits||0);const _t=Number.isFinite(Number(ve.min))?Number(ve.min):0;ht.minTotal+=_t,ht.minCount+=1,ae.set(ut,ht)})})}),o.forEach(A=>{var nt,ft;const I=A.details;if(!I)return;const Q=I.players,pe=I.targets||[],le=I.combatReplayMetaData||{},Ge=(le==null?void 0:le.inchToPixel)>0?le.inchToPixel:1,ve=(le==null?void 0:le.pollingRate)>0?le.pollingRate:1,ut=5e3,ht=fe=>Array.isArray(fe)?fe.map(xe=>Array.isArray(xe)?[Number(xe[0]),Number(xe[1])]:null).filter(xe=>!!xe&&Number.isFinite(xe[0])):[];let _t=[],Lt=I.durationMS||0,Ue=!1;const $e=Q.find(fe=>(fe==null?void 0:fe.hasCommanderTag)&&!(fe!=null&&fe.notInSquad));(nt=$e==null?void 0:$e.combatReplayData)!=null&&nt.positions&&(_t=$e.combatReplayData.positions,ht($e.combatReplayData.dead).forEach(([xe])=>{xe>0&&(Ue=!0,Lt=Math.min(Lt,xe))}));const ot=fe=>{var Le;const xe=(Le=fe.statsAll)==null?void 0:Le[0];if((xe==null?void 0:xe.distToCom)!==void 0&&(xe==null?void 0:xe.distToCom)!=="Infinity")return Math.round(Number(xe.distToCom));if((xe==null?void 0:xe.stackDist)!==void 0)return Math.round(Number(xe.stackDist))||0;if(fe.hasCommanderTag)return 0;const at=fe.combatReplayData;if(!(at!=null&&at.positions)||!_t.length)return 0;const wt=at.positions,Se=ht(at.dead),de=ht(at.down),$t=Math.floor((at.start||0)/ve);let Ne=0;if(Se.length&&de.length)for(const[lt]of Se){if(lt<0)continue;const pt=Math.max(0,Math.floor(lt/ve))-$t;for(const[Je,Be]of de){if(lt!==Be)continue;const ct=Ue&&Je>Lt?Math.max(1,Math.floor(Lt/ve)):pt,mt=Math.max(0,Math.min(ct,wt.length,_t.length));if(mt<=0)continue;let Et=0;for(let Qt=0;Qt<mt;Qt++){const[xn,cn]=wt[Qt],[kn,Mn]=_t[Qt];Et+=Math.hypot(xn-kn,cn-Mn)}Ne=Math.round(Et/mt/Ge)}}return Ne},Te=Q.filter(fe=>!fe.notInSquad);N+=Te.length,C+=pe.filter(fe=>!fe.isFake).length,r8(Q,{durationMS:I.durationMS,buffMap:I.buffMap});const{squadDeaths:tt,enemyDeaths:it}=T(I);S+=tt,j+=it,$+=tt,M+=it,_(I)?w++:y++;const je=I.skillMap?Number((ft=Object.keys(I.skillMap).find(fe=>{var xe,at;return((at=(xe=I.skillMap)==null?void 0:xe[fe])==null?void 0:at.name)==="Battle Standard"}))==null?void 0:ft.replace(/^s/,"")):null;Q.forEach((fe,xe)=>{var Hr,an,ri,Tr,so,Jn,Os,ii,Is,Er,rl,nc,fu;if(fe.notInSquad)return;const at=fe.account||"Unknown",wt=at!=="Unknown"?at:fe.name||"Unknown",Se=fe.name||"Unknown";O.has(wt)||O.set(wt,{name:Se,account:wt,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:fe.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const de=O.get(wt);if(fe.hasCommanderTag&&(de.isCommander=!0),Se!=="Unknown"&&de.characterNames.add(String(Se)),fe.profession&&fe.profession!=="Unknown"){de.profession=fe.profession,de.professions.add(fe.profession);const Ie=Array.isArray(fe.activeTimes)&&typeof fe.activeTimes[0]=="number"?fe.activeTimes[0]:I.durationMS||0;de.professionTimeMs[fe.profession]=(de.professionTimeMs[fe.profession]||0)+Ie}de.logsJoined++,de.downContrib+=z2(fe),de.cleanses+=R2(fe),de.strips+=B2(fe,m),de.healing+=U2(fe),de.barrier+=V2(fe),de.cc+=W2(fe,m),de.stab+=fe.stabGeneration||0;const $t=ot(fe);$t<=ut&&(de.totalDist+=$t,de.distCount++),(Hr=fe.defenses)!=null&&Hr[0]&&(de.dodges+=fe.defenses[0].dodgeCount||0,de.downs+=fe.defenses[0].downCount||0,de.deaths+=fe.defenses[0].deadCount||0),I.durationMS&&(de.totalFightMs+=I.durationMS);const Ne=Array.isArray(fe.activeTimes)&&typeof fe.activeTimes[0]=="number"?fe.activeTimes[0]:I.durationMS||0;de.squadActiveMs+=Ne;const Le=gi(I,A),lt=Number((I==null?void 0:I.durationMS)||0);if(Le>0&&((de.firstSeenFightTs<=0||Le<de.firstSeenFightTs)&&(de.firstSeenFightTs=Le),de.lastSeenFightTs<=0||Le>de.lastSeenFightTs?(de.lastSeenFightTs=Le,de.lastSeenFightDurationMs=lt):Le===de.lastSeenFightTs&&lt>de.lastSeenFightDurationMs&&(de.lastSeenFightDurationMs=lt)),de.defenseActiveMs+=Ne,de.supportActiveMs+=Ne,de.healingActiveMs+=Ne,Array.isArray(fe.buffUptimes)&&fe.buffUptimes.length>0&&fe.buffUptimes.forEach(Ie=>{var Fa,mu,kh,Sh,$s,hu;if(typeof(Ie==null?void 0:Ie.id)!="number")return;const Ke=`b${Ie.id}`,ye=((Fa=I.buffMap)==null?void 0:Fa[Ke])||((mu=I.buffMap)==null?void 0:mu[String(Ie.id)]);if(!ye||re(ye))return;const Fe=Number(((Sh=(kh=Ie.buffData)==null?void 0:kh[0])==null?void 0:Sh.uptime)??0),dt=Number(((hu=($s=Ie.buffData)==null?void 0:$s[0])==null?void 0:hu.presence)??0);if((!Number.isFinite(Fe)||Fe<=0)&&(!Number.isFinite(dt)||dt<=0))return;const on=(ye==null?void 0:ye.stacking)??!1,On=(on?Number.isFinite(Fe)?Fe:0:Number.isFinite(Fe)?Fe/100:0)*Ne,Vn=on?dt:Fe,ai=Math.min(Math.max(Number.isFinite(Vn)?Vn:0,0),100)/100*Ne,Bi=Number.isFinite(On)&&On>0,rc=Number.isFinite(ai)&&ai>0;if(!Bi&&!rc)return;const ta=Du(ye==null?void 0:ye.name);if(ta&&mU.has(ta)&&(!(ye!=null&&ye.classification)||ye.classification==="Condition")){const pu=On/1e3,zi=ye==null?void 0:ye.icon,Ai=Y[ta]||{name:ta,icon:zi,applications:0,damage:0};Ai.applicationsFromUptime=(Ai.applicationsFromUptime||0)+pu,!Ai.icon&&zi&&(Ai.icon=zi),Y[ta]=Ai;const Fs=de.outgoingConditions[ta]||{applications:0,damage:0,skills:{},icon:zi};Fs.applicationsFromUptime=(Fs.applicationsFromUptime||0)+pu,!Fs.icon&&zi&&(Fs.icon=zi),de.outgoingConditions[ta]=Fs;const ac=q[ta]||{name:ta,icon:zi,applications:0,damage:0};ac.applicationsFromUptime=(ac.applicationsFromUptime||0)+pu,!ac.icon&&zi&&(ac.icon=zi),q[ta]=ac;const sc=de.incomingConditions[ta]||{applications:0,damage:0,skills:{},icon:zi};sc.applicationsFromUptime=(sc.applicationsFromUptime||0)+pu,!sc.icon&&zi&&(sc.icon=zi),de.incomingConditions[ta]=sc}E.has(Ke)||E.set(Ke,{name:ye==null?void 0:ye.name,stacking:on,icon:ye==null?void 0:ye.icon}),D.has(Ke)||D.set(Ke,new Map);const _s=D.get(Ke),ic=de.account||fe.account||fe.name||"Unknown";let na=_s.get(ic);na||(na={account:ic,profession:de.profession||fe.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},_s.set(ic,na));const Ls=fe.profession||de.profession;Ls&&Ls!=="Unknown"&&(na.professions.add(Ls),na.professionTimeMs[Ls]=(na.professionTimeMs[Ls]||0)+Ne,na.profession=Ls),na.totalMs+=Bi?On:0,na.uptimeMs+=rc?ai:0,na.durationMs+=Ne}),(an=fe.defenses)!=null&&an[0]){const Ie=Fe=>{let dt=String(Fe||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return dt.toUpperCase().includes("UNKNOWN")&&(dt="Unknown"),dt},ye=(()=>{const Fe=Array.isArray(fe==null?void 0:fe.minions)?fe.minions:[];if(Fe.length===0)return{total:0,byMinion:{}};let dt=0;const on={};return Fe.forEach(Nn=>{const On=Array.isArray(Nn==null?void 0:Nn.totalDamageTakenDist)?Nn.totalDamageTakenDist:[],Vn=Array.isArray(On[0])?On[0]:[],ea=Ie(Nn==null?void 0:Nn.name);Vn.forEach(ai=>{const Bi=Number((ai==null?void 0:ai.totalDamage)??(ai==null?void 0:ai.damageTaken)??0);Number.isFinite(Bi)&&(dt+=Bi,on[ea]=(on[ea]||0)+Bi)})}),{total:dt,byMinion:on}})();ye.byMinion&&typeof ye.byMinion=="object"&&Object.entries(ye.byMinion).forEach(([Fe,dt])=>{const on=Number(dt||0);!Number.isFinite(on)||on<=0||(de.defenseMinionDamageTaken[Fe]=(de.defenseMinionDamageTaken[Fe]||0)+on)}),n5.forEach(Fe=>{const dt=Fe.id==="minionDamageTaken"?ye.total:Number(fe.defenses[0][Fe.field]??0);Number.isFinite(dt)&&(de.defenseTotals[Fe.id]=(de.defenseTotals[Fe.id]||0)+dt)})}(ri=fe.support)!=null&&ri[0]&&r5.forEach(Ie=>{let Ke=Number(fe.support[0][Ie.field]??0);Number.isFinite(Ke)&&(G.has(Ie.field)&&Ke>999999&&(Ke=0),de.supportTotals[Ie.id]=(de.supportTotals[Ie.id]||0)+Ke)});const pt=(Ie,Ke)=>{Number.isFinite(Ke)&&(de.healingTotals[Ie]=(de.healingTotals[Ie]||0)+Ke)},Je=(Ie,Ke)=>Array.isArray(Ie)?Ie.reduce((ye,Fe)=>ye+Number((Fe==null?void 0:Fe[Ke])??0),0):0,Be=(Ie,Ke,ye)=>{if(!Number.isFinite(ye)||ye<=0)return;const Fe=Q[Ke],dt=Ke===xe,on=Fe==null?void 0:Fe.notInSquad,Nn=!on,On=Nn&&(Fe==null?void 0:Fe.group)!=null&&Fe.group===fe.group;pt(Ie,ye),Nn&&pt(`squad${Ie[0].toUpperCase()}${Ie.slice(1)}`,ye),On&&pt(`group${Ie[0].toUpperCase()}${Ie.slice(1)}`,ye),dt&&pt(`self${Ie[0].toUpperCase()}${Ie.slice(1)}`,ye),on&&pt(`offSquad${Ie[0].toUpperCase()}${Ie.slice(1)}`,ye)};if(Array.isArray(fe.rotation)){let Ie=0;fe.rotation.forEach(Ke=>{var Fe;if(!(Ke!=null&&Ke.id)||!vU(Ke.id,I.skillMap))return;const ye=((Fe=Ke.skills)==null?void 0:Fe.length)||0;ye>0&&(Ie+=ye,pt(`resUtility_s${Ke.id}`,ye))}),Ie>0&&pt("resUtility",Ie)}const ct=(Tr=fe.extHealingStats)==null?void 0:Tr.outgoingHealingAllies;Array.isArray(ct)&&ct.forEach((Ie,Ke)=>{const ye=Je(Ie,"healing"),Fe=Je(Ie,"downedHealing");Be("healing",Ke,ye),Be("downedHealing",Ke,Fe)});const mt=(so=fe.extBarrierStats)==null?void 0:so.outgoingBarrierAllies;Array.isArray(mt)&&mt.forEach((Ie,Ke)=>{const ye=Je(Ie,"barrier");Be("barrier",Ke,ye)});const Et=(Jn=fe.statsAll)==null?void 0:Jn[0],Qt=(Os=fe.dpsAll)==null?void 0:Os[0],xn=(ii=fe.support)==null?void 0:ii[0];if(t5.forEach(Ie=>{if(Ie.id==="downContributionPercent"||!Ie.field)return;let Ke=0,ye=0;Ie.source==="dpsAll"&&Qt?Ke=Number(Qt[Ie.field]??0):Ie.source==="statsAll"&&Et?(Ke=Number(Et[Ie.field]??0),ye=Number(Et[Ie.denomField||Ie.weightField||"connectedDamageCount"]??0)):Ie.source==="support"&&xn?Ke=Number(xn[Ie.field]??0):fe.statsTargets&&fe.statsTargets.forEach(Fe=>{Fe!=null&&Fe[0]&&(Ke+=Number(Fe[0][Ie.field]??0),ye+=Number(Fe[0][Ie.denomField||Ie.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Ke)&&(de.offenseTotals[Ie.id]=(de.offenseTotals[Ie.id]||0)+Ke,Ie.isRate&&ye>0&&(de.offenseRateWeights[Ie.id]=(de.offenseRateWeights[Ie.id]||0)+ye))}),fe.targetDamageDist&&Number.isFinite(je)){const Ie=fe.targetDamageDist.flatMap(Ke=>Ke||[]).flatMap(Ke=>Ke||[]).reduce((Ke,ye)=>ye!=null&&ye.id&&ye.id===je?Ke+((ye==null?void 0:ye.connectedHits)||0):Ke,0);de.offenseTotals.battleStandardHits=(de.offenseTotals.battleStandardHits||0)+Ie}de.revives+=((Er=(Is=fe.support)==null?void 0:Is[0])==null?void 0:Er.resurrects)||0,Qt&&(de.damage+=Qt.damage||0,de.dps+=Qt.dps||0);const cn=Ie=>{var dt,on,Nn,On;let Ke=`Skill ${Ie.id}`;const ye=((dt=I.skillMap)==null?void 0:dt[`s${Ie.id}`])||((on=I.skillMap)==null?void 0:on[`${Ie.id}`]);let Fe=ye==null?void 0:ye.icon;if(ye!=null&&ye.name&&(Ke=ye.name),Ke.startsWith("Skill ")){const Vn=Rp(Ke,Ie.id,I.buffMap);Vn&&(Ke=Vn,Fe=((On=(Nn=I.buffMap)==null?void 0:Nn[`b${Ie.id}`])==null?void 0:On.icon)||Fe)}return{name:Ke,icon:Fe}},kn=Ie=>{if(!(Ie!=null&&Ie.id))return;const{name:Ke,icon:ye}=cn(Ie);J[Ie.id]||(J[Ie.id]={name:Ke,icon:ye,damage:0,hits:0,downContribution:0}),J[Ie.id].name.startsWith("Skill ")&&!Ke.startsWith("Skill ")&&(J[Ie.id].name=Ke),!J[Ie.id].icon&&ye&&(J[Ie.id].icon=ye),J[Ie.id].damage+=Ie.totalDamage,J[Ie.id].hits+=Ie.connectedHits,J[Ie.id].downContribution+=Number(Ie.downContribution||0)},Mn=fe.account||fe.name||"Unknown",An=fe.profession||"Unknown",rn=`${Mn}|${An}`;let Zn=ge.get(rn);Zn||(Zn={key:rn,account:Mn,displayName:Mn,profession:An,professionList:[An],totalFightMs:0,skills:new Map},ge.set(rn,Zn)),Zn.professionList.includes(An)||Zn.professionList.push(An),Zn.totalFightMs+=I.durationMS||0;const Sn=Ie=>{if(!(Ie!=null&&Ie.id))return;const{name:Ke,icon:ye}=cn(Ie),Fe=`s${Ie.id}`;let dt=Zn.skills.get(Fe);dt||(dt={id:Fe,name:Ke,icon:ye,damage:0,downContribution:0},Zn.skills.set(Fe,dt)),dt.name.startsWith("Skill ")&&!Ke.startsWith("Skill ")&&(dt.name=Ke),!dt.icon&&ye&&(dt.icon=ye),dt.damage+=Number(Ie.totalDamage||0),dt.downContribution+=Number(Ie.downContribution||0)};if(g==="total")(rl=fe.totalDamageDist)==null||rl.forEach(Ie=>{Ie==null||Ie.forEach(Ke=>{kn(Ke),Sn(Ke)})});else{const Ie=new Map;(nc=fe.targetDamageDist)==null||nc.forEach(ye=>{ye==null||ye.forEach(Fe=>{Fe==null||Fe.forEach(dt=>{const on=Number(dt==null?void 0:dt.id);if(Number.isFinite(on)){const Nn=Ie.get(on)||{damage:0,hits:0,downContribution:0};Nn.damage+=Number((dt==null?void 0:dt.totalDamage)||0),Nn.hits+=Number((dt==null?void 0:dt.connectedHits)||0),Nn.downContribution+=Number((dt==null?void 0:dt.downContribution)||0),Ie.set(on,Nn)}kn(dt),Sn(dt)})})}),!(I!=null&&I.detailedWvW)&&((fu=fe.totalDamageDist)==null||fu.forEach(ye=>{ye==null||ye.forEach(Fe=>{const dt=Number(Fe==null?void 0:Fe.id);if(!Number.isFinite(dt))return;const on=Ie.get(dt);if(!on){kn(Fe),Sn(Fe);return}const Nn=Number((Fe==null?void 0:Fe.totalDamage)||0),On=Number((Fe==null?void 0:Fe.connectedHits)||0),Vn=Number((Fe==null?void 0:Fe.downContribution)||0),ea=Nn-Number(on.damage||0),ai=On-Number(on.hits||0),Bi=Vn-Number(on.downContribution||0);if(ea<=0&&ai<=0&&Bi<=0)return;const rc={...Fe,totalDamage:Math.max(0,ea),connectedHits:Math.max(0,ai),downContribution:Math.max(0,Bi)};kn(rc),Sn(rc)})}))}fe.totalDamageTaken&&fe.totalDamageTaken.forEach(Ie=>{Ie==null||Ie.forEach(Ke=>{var on,Nn,On,Vn;if(!(Ke!=null&&Ke.id))return;let ye=`Skill ${Ke.id}`;const Fe=((on=I.skillMap)==null?void 0:on[`s${Ke.id}`])||((Nn=I.skillMap)==null?void 0:Nn[`${Ke.id}`]);let dt=Fe==null?void 0:Fe.icon;if(Fe!=null&&Fe.name&&(ye=Fe.name),ye.startsWith("Skill ")){const ea=Rp(ye,Ke.id,I.buffMap);ea&&(ye=ea,dt=((Vn=(On=I.buffMap)==null?void 0:On[`b${Ke.id}`])==null?void 0:Vn.icon)||dt)}ue[Ke.id]||(ue[Ke.id]={name:ye,icon:dt,damage:0,hits:0}),(!ue[Ke.id].name.startsWith("Skill ")||ye.startsWith("Skill "))&&(ue[Ke.id].name=ye),!ue[Ke.id].icon&&dt&&(ue[Ke.id].icon=dt),ue[Ke.id].damage+=Ke.totalDamage,ue[Ke.id].hits+=Ke.hits})})}),pe.forEach(fe=>{if(fe!=null&&fe.isFake)return;const xe=W((fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)||(fe==null?void 0:fe.id));xe&&(K[xe]=(K[xe]||0)+1)});const _e=c8({players:Q,targets:pe,skillMap:I.skillMap,buffMap:I.buffMap,getPlayerKey:fe=>fe.account&&fe.account!=="Unknown"?fe.account:fe.name||null}),Re=v5(I.buffMap);Object.entries(_e.playerConditions).forEach(([fe,xe])=>{const at=O.get(fe);at&&Object.entries(xe).forEach(([wt,Se])=>{const de=at.outgoingConditions[wt]||{applications:0,damage:0,skills:{},icon:Se.icon};de.applications+=Number(Se.applications||0),de.damage+=Number(Se.damage||0),Se.applicationsFromBuffs&&(de.applicationsFromBuffs=(de.applicationsFromBuffs||0)+Se.applicationsFromBuffs),Se.applicationsFromBuffsActive&&(de.applicationsFromBuffsActive=(de.applicationsFromBuffsActive||0)+Se.applicationsFromBuffsActive),Object.entries(Se.skills||{}).forEach(([$t,Ne])=>{const Le=de.skills[$t]||{name:Ne.name,hits:0,damage:0,icon:Ne.icon};Le.hits+=Number(Ne.hits||0),Le.damage+=Number(Ne.damage||0),!Le.icon&&Ne.icon&&(Le.icon=Ne.icon),de.skills[$t]=Le}),!de.icon&&Se.icon&&(de.icon=Se.icon),at.outgoingConditions[wt]=de})}),Object.entries(_e.summary).forEach(([fe,xe])=>{const at=Y[fe]||{name:xe.name||fe,icon:xe.icon,applications:0,damage:0};at.applications+=Number(xe.applications||0),at.damage+=Number(xe.damage||0),xe.applicationsFromBuffs&&(at.applicationsFromBuffs=(at.applicationsFromBuffs||0)+xe.applicationsFromBuffs),xe.applicationsFromBuffsActive&&(at.applicationsFromBuffsActive=(at.applicationsFromBuffsActive||0)+xe.applicationsFromBuffsActive),!at.icon&&xe.icon&&(at.icon=xe.icon),Y[fe]=at}),Te.forEach(fe=>{const xe=fe.account&&fe.account!=="Unknown"?fe.account:fe.name||"Unknown",at=O.get(xe);!at||!fe.totalDamageTaken||fe.totalDamageTaken.forEach(wt=>wt==null?void 0:wt.forEach(Se=>{var Qt,xn,cn,kn,Mn,An;if(!(Se!=null&&Se.id))return;let de=`Skill ${Se.id}`;const $t=((Qt=I.skillMap)==null?void 0:Qt[`s${Se.id}`])||((xn=I.skillMap)==null?void 0:xn[`${Se.id}`]);$t!=null&&$t.name&&(de=$t.name);const Ne=Rp(de,Se.id,I.buffMap);if(!Ne)return;const Le=(kn=(cn=I.buffMap)==null?void 0:cn[`b${Se.id}`])==null?void 0:kn.name,lt=Re.get(Ne)||((An=(Mn=I.buffMap)==null?void 0:Mn[`b${Se.id}`])==null?void 0:An.icon),pt=($t==null?void 0:$t.icon)||lt;de.startsWith("Skill ")&&(Le||Ne)&&(de=Le||Ne);const Je=Number(Se.hits??0),Be=Number(Se.totalDamage??0),ct=q[Ne]||{name:Ne,icon:lt,applications:0,damage:0};ct.applications+=Number.isFinite(Je)?Je:0,ct.damage+=Number.isFinite(Be)?Be:0,!ct.icon&&lt&&(ct.icon=lt),q[Ne]=ct;const mt=at.incomingConditions[Ne]||{applications:0,damage:0,skills:{},icon:lt};mt.applications+=Number.isFinite(Je)?Je:0,mt.damage+=Number.isFinite(Be)?Be:0;const Et=mt.skills[de]||{name:de,hits:0,damage:0,icon:pt};Et.hits+=Number.isFinite(Je)?Je:0,Et.damage+=Number.isFinite(Be)?Be:0,!Et.icon&&pt&&(Et.icon=pt),mt.skills[de]=Et,!mt.icon&&lt&&(mt.icon=lt),at.incomingConditions[Ne]=mt}))});const He=I.player_damage_mitigation||I.playerDamageMitigation,qe=He&&typeof He=="object"&&Object.keys(He).length>0;qe&&Object.entries(He).forEach(([fe,xe])=>{if(!xe||typeof xe!="object")return;const at=H(fe),wt=ee(ne,at.account,at);Object.values(xe).forEach(Se=>{U((Se==null?void 0:Se.avoided_damage)??(Se==null?void 0:Se.avoidedDamage))<=0||ce(wt.mitigationTotals,Se)})});const Xe=I.player_minion_damage_mitigation||I.playerMinionDamageMitigation,be=Xe&&typeof Xe=="object"&&Object.keys(Xe).length>0;be&&Object.entries(Xe).forEach(([fe,xe])=>{if(!xe||typeof xe!="object")return;const at=H(fe);Object.entries(xe).forEach(([wt,Se])=>{if(!Se||typeof Se!="object")return;const de=`${at.account}::${wt}`,$t=R(se,de,{...at,minion:String(wt||"Unknown")});Object.values(Se).forEach(Ne=>{ce($t.mitigationTotals,Ne)})})}),(!qe||!be)&&(qe||Te.forEach(fe=>{const xe=(fe==null?void 0:fe.totalDamageTaken)||[];if(!Array.isArray(xe)||xe.length===0)return;const at=fe.account||fe.name||"Unknown",wt={account:at,name:fe.name||at,profession:W(fe.profession||"Unknown")};ee(ne,at,wt);const Se=Array.isArray(xe)?xe[0]:null;Se==null||Se.forEach(de=>{if(!(de!=null&&de.id))return;const $t=U(de.blocked),Ne=U(de.evaded),Le=U(de.glance??de.glanced),lt=U(de.missed),pt=U(de.invulned),Je=U(de.interrupted),Be=U(de.hits??de.connectedHits),ct=Number(de.id);L(Ve,`${at}::${ct}`,{totalHits:Be,blocked:$t,evaded:Ne,glanced:Le,missed:lt,invulned:pt,interrupted:Je})})}),be||Te.forEach(fe=>{const xe=(fe==null?void 0:fe.minions)||[];if(!Array.isArray(xe)||xe.length===0)return;const at=fe.account||fe.name||"Unknown",wt={account:at,name:fe.name||at,profession:W(fe.profession||"Unknown")};xe.forEach(Se=>{const de=(Se==null?void 0:Se.totalDamageTakenDist)||[];if(!Array.isArray(de)||de.length===0)return;let $t=String((Se==null?void 0:Se.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";$t.toUpperCase().includes("UNKNOWN")&&($t="Unknown");const Ne=`${at}::${$t}`;R(se,Ne,{...wt,minion:$t});const Le=Array.isArray(de)?de[0]:null;Le==null||Le.forEach(lt=>{if(!(lt!=null&&lt.id))return;const pt=U(lt.blocked),Je=U(lt.evaded),Be=U(lt.glance??lt.glanced),ct=U(lt.missed),mt=U(lt.invulned),Et=U(lt.interrupted),Qt=U(lt.hits??lt.connectedHits),xn=Number(lt.id);L(he,`${Ne}::${xn}`,{totalHits:Qt,blocked:pt,evaded:Je,glanced:Be,missed:ct,invulned:mt,interrupted:Et})})})}))});const Pe=(A,I)=>{const Q=new Map,pe=le=>{let Ge=Q.get(le);return Ge||(Ge=F(),Q.set(le,Ge)),Ge};I.forEach((le,Ge)=>{const ve=Ge.lastIndexOf("::"),ut=ve>-1?Ge.slice(0,ve):Ge,ht=ve>-1?Number(Ge.slice(ve+2)):Number.NaN,_t=Number.isFinite(ht)?ze(ht):{hasSkill:!1,avg:0,min:0,hits:0};if(!_t.hasSkill||_t.hits<=0)return;const Lt=_t.avg,Ue=_t.min,$e=le.glanced*Lt/2+(le.blocked+le.evaded+le.missed+le.invulned+le.interrupted)*Lt,ot=le.glanced*Ue/2+(le.blocked+le.evaded+le.missed+le.invulned+le.interrupted)*Ue;if($e<=0)return;const Te=pe(ut);Te.totalHits+=le.totalHits,Te.blocked+=le.blocked,Te.evaded+=le.evaded,Te.glanced+=le.glanced,Te.missed+=le.missed,Te.invulned+=le.invulned,Te.interrupted+=le.interrupted,Te.totalMitigation+=$e,Te.minMitigation+=ot}),A.forEach((le,Ge)=>{const ve=Q.get(Ge)||F();le.mitigationTotals.totalHits=ve.totalHits,le.mitigationTotals.blocked=ve.blocked,le.mitigationTotals.evaded=ve.evaded,le.mitigationTotals.glanced=ve.glanced,le.mitigationTotals.missed=ve.missed,le.mitigationTotals.invulned=ve.invulned,le.mitigationTotals.interrupted=ve.interrupted,le.mitigationTotals.totalMitigation=ve.totalMitigation,le.mitigationTotals.minMitigation=ve.minMitigation})};Pe(ne,Ve),Pe(se,he);const Ee=x>0?Math.round(N/x):0,xt=x>0?Math.round(C/x):0,zt=S>0?(j/S).toFixed(2):j>0?"":"0.00",pn=M>0?($/M).toFixed(2):$>0?"":"0.00",ke=(A,I)=>{const pe=A.filter(ve=>Number.isFinite(ve.value)&&(I?ve.value>0:ve.value>=0)).sort((ve,ut)=>{const ht=I?ut.value-ve.value:ve.value-ut.value;return ht!==0?ht:ve.account.localeCompare(ut.account)});let le=null,Ge=0;return pe.map((ve,ut)=>((le===null||ve.value!==le)&&(Ge=ut+1,le=ve.value),{rank:Ge,...ve}))},Qe=Array.from(O.values()).map(A=>{const I=Array.from(A.professions).filter(Q=>Q!=="Unknown");if(A.professionList=I,I.length>0){let Q=I[0],pe=A.professionTimeMs[Q]||0;I.forEach(le=>{const Ge=A.professionTimeMs[le]||0;Ge>pe&&(pe=Ge,Q=le)}),A.profession=Q}return{key:A.account,stat:A}}),Tt=A=>{const I=O.get(A.account);if(!I){const le=A.professionList.length>0?A.professionList:A.profession?[A.profession]:[];return{...A,professionList:le}}const Q=I.professionList&&I.professionList.length>0?I.professionList:Array.from(I.professions||[]).filter(le=>le&&le!=="Unknown"),pe=I.profession||A.profession;return{...A,profession:pe,professionList:Q.length>0?Q:pe?[pe]:[],activeMs:I.defenseActiveMs||I.totalFightMs||A.activeMs}},nn=Array.from(ne.values()).map(Tt).filter(A=>X(A.mitigationTotals)).sort((A,I)=>A.account.localeCompare(I.account)),Xt=Array.from(se.values()).map(Tt).filter(A=>A.mitigationTotals.totalMitigation>0).sort((A,I)=>{const Q=A.account.localeCompare(I.account);return Q!==0?Q:String(A.minion||"").localeCompare(String(I.minion||""))}),Nr=(A,I)=>{switch(I){case"downContrib":return A.downContrib;case"barrier":return A.barrier;case"healing":return A.healing;case"dodges":return A.dodges;case"strips":return A.strips;case"cleanses":return A.cleanses;case"cc":return A.cc;case"stability":return A.stab;case"revives":return A.revives;case"dps":return A.dps;case"damage":return A.damage;case"participation":return A.logsJoined;case"closestToTag":return!A.isCommander&&A.distCount>0?A.totalDist/A.distCount:Number.POSITIVE_INFINITY;default:return 0}},Bn=(A,I)=>ke(Qe.map(({stat:Q})=>({account:Q.account,profession:Q.profession,professionList:Q.professionList,value:Nr(Q,A),count:Q.logsJoined})),I),un={downContrib:Bn("downContrib",!0),barrier:Bn("barrier",!0),healing:Bn("healing",!0),dodges:Bn("dodges",!0),strips:Bn("strips",!0),cleanses:Bn("cleanses",!0),cc:Bn("cc",!0),stability:Bn("stability",!0),revives:Bn("revives",!0),participation:Bn("participation",!0),dps:Bn("dps",!0),damage:Bn("damage",!0),closestToTag:Bn("closestToTag",!1).filter(A=>Number.isFinite(A.value))},ss={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},gn=A=>{const I=A==null?void 0:A[0];return{value:(I==null?void 0:I.value)??0,player:(I==null?void 0:I.account)??"-",count:(I==null?void 0:I.count)??0,profession:(I==null?void 0:I.profession)??"Unknown",professionList:(I==null?void 0:I.professionList)??[]}},Cn={maxDownContrib:gn([]),maxBarrier:gn([]),maxHealing:gn([]),maxDodges:gn([]),maxStrips:gn([]),maxCleanses:gn([]),maxCC:gn([]),maxStab:gn([]),closestToTag:gn([])},jn={},ji=(A,I)=>{if(I==="closestToTag")return Nr(A,I);const Q=Math.max(1,(A.totalFightMs||0)/1e3);return Nr(A,I)/Q};Object.values(ss).forEach(A=>{const I=A!=="closestToTag";jn[A]=ke(Qe.map(({stat:Q})=>({account:Q.account,profession:Q.profession,professionList:Q.professionList,value:ji(Q,A),count:Q.logsJoined})),I)}),Cn.maxDownContrib=gn(jn.downContrib),Cn.maxBarrier=gn(jn.barrier),Cn.maxHealing=gn(jn.healing),Cn.maxDodges=gn(jn.dodges),Cn.maxStrips=gn(jn.strips),Cn.maxCleanses=gn(jn.cleanses),Cn.maxCC=gn(jn.cc),Cn.maxStab=gn(jn.stability),Cn.closestToTag=gn(jn.closestToTag);const Lr={maxDownContrib:gn(un.downContrib),maxBarrier:gn(un.barrier),maxHealing:gn(un.healing),maxDodges:gn(un.dodges),maxStrips:gn(un.strips),maxCleanses:gn(un.cleanses),maxCC:gn(un.cc),maxStab:gn(un.stability),closestToTag:gn(un.closestToTag)};let Dr={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},cu,ao,el=0;if(l!=null&&l.showMvp){const A={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},I=Ge=>{const ve=A[Ge];return ve?Number(u[ve]||0)>0:!1},Q=[],pe=Ge=>[...Ge||[]].filter(ve=>I(ve==null?void 0:ve.name)).sort((ve,ut)=>ut.ratio-ve.ratio||ve.rank-ut.rank||ve.name.localeCompare(ut.name)).slice(0,3),le=Ge=>{var ut;if(!Ge)return;const ve=pe(Ge.contribs);return{...Ge,player:Ge.name,reason:((ut=ve[0])==null?void 0:ut.name)||"Top Performance",topStats:ve}};Qe.forEach(({stat:Ge})=>{let ve=0;const ut=[],ht=(_t,Lt,Ue,$e,ot=!0)=>{var tt,it;if(Ue<=0)return;const Te=((tt=Lt[0])==null?void 0:tt.value)||0;if(Te&&Number.isFinite(_t)&&(ot?_t>0:_t<Number.POSITIVE_INFINITY)){const kt=ot?_t/Te:Te/_t;ve+=kt*Ue;const je=((it=Lt.find(_e=>_e.account===Ge.account))==null?void 0:it.rank)||0;ut.push({name:$e,ratio:kt,val:_t.toLocaleString(),rank:je})}};ht(Ge.downContrib,un.downContrib,u.downContribution,"Down Contribution"),ht(Ge.healing,un.healing,u.healing,"Healing"),ht(Ge.cleanses,un.cleanses,u.cleanses,"Cleanses"),ht(Ge.strips,un.strips,u.strips,"Strips"),ht(Ge.stab,un.stability,u.stability,"Stability"),ht(Ge.cc,un.cc,u.cc,"CC"),ht(Ge.revives,un.revives,u.revives,"Revives"),ht(Nr(Ge,"closestToTag"),un.closestToTag,u.distanceToTag,"Distance to Tag",!1),ht(Ge.logsJoined,un.participation,u.participation,"Participation"),ht(Ge.dodges,un.dodges,u.dodging,"Dodging"),ht(Ge.dps,un.dps,u.dps,"DPS"),ht(Ge.damage,un.damage,u.damage,"Damage"),Q.push({...Ge,score:ve,contribs:ut.filter(_t=>I(_t.name))})}),Q.sort((Ge,ve)=>ve.score-Ge.score),Q[0]&&Q[0].score>0&&(Dr=le(Q[0])||Dr),cu=le(Q[1]),ao=le(Q[2]),el=Q.length>0?Q.reduce((Ge,ve)=>Ge+ve.score,0)/Q.length:0}const ti=Object.values(J).sort((A,I)=>I.damage-A.damage||I.hits-A.hits||String(A.name||"").localeCompare(String(I.name||""))).slice(0,25),Ts=Object.values(J).sort((A,I)=>I.downContribution-A.downContribution||I.hits-A.hits||String(A.name||"").localeCompare(String(I.name||""))).slice(0,25),sr=b==="downContribution"?Ts:ti,ga=Object.values(ue).sort((A,I)=>I.damage-A.damage).slice(0,25),ni=A=>{const I=String(A).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),Q=I.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return Q?`${Q[1]} Borderlands`:I||"Unknown"},$a=(A,I)=>ni((A==null?void 0:A.zone)||(A==null?void 0:A.mapName)||(A==null?void 0:A.map)||(A==null?void 0:A.location)||(A==null?void 0:A.fightName)||(I==null?void 0:I.fightName)||(I==null?void 0:I.encounterName)||"Unknown"),Es=(A,I)=>{const Q=(I==null?void 0:I.permalink)||(A==null?void 0:A.permalink);if(typeof Q=="string"&&Q.trim().length>0)return Q.trim();const pe=A==null?void 0:A.uploadLinks;if(!Array.isArray(pe))return"";for(const le of pe){if(typeof le=="string"&&le.trim().length>0)return le.trim();if(le&&typeof le=="object"){const Ge=le.permalink||le.link||le.url||le.reportLink;if(typeof Ge=="string"&&Ge.trim().length>0)return Ge.trim()}}return""},uu=(A,I)=>{const Q=Number((A==null?void 0:A.durationMS)||0);return Q>0?ep(Q):(typeof(I==null?void 0:I.encounterDuration)=="string"?I.encounterDuration.trim():"")||"--:--"},Qn=(A,I)=>{if((Array.isArray(A==null?void 0:A.players)?A.players:[]).length>0)return _(A);if(typeof(A==null?void 0:A.success)=="boolean")return A.success;const pe=I==null?void 0:I.dashboardSummary;if(pe&&typeof pe=="object"){if(pe.isWin===!0)return!0;if(pe.isWin===!1)return!1}return null},xa=(A,I)=>{var ve,ut;const Q=gi((ve=A.log)==null?void 0:ve.details,A.log),pe=gi((ut=I.log)==null?void 0:ut.details,I.log),le=Q>0,Ge=pe>0;return le&&Ge&&Q!==pe?Q-pe:le!==Ge?le?-1:1:A.originalIndex-I.originalIndex},Zi=e.map((A,I)=>({log:A,originalIndex:I})).sort(xa),du=Zi.filter(({log:A})=>s(A)),Ji={};o.forEach(A=>{const I=$a(A==null?void 0:A.details,A);Ji[I]=(Ji[I]||0)+1});const ec=Object.entries(Ji).map(([A,I])=>{const Q=String(A).trim(),pe=/eternal battlegrounds|^ebg$/i.test(Q);let le="#64748b";return pe?le="#ffffff":/red/i.test(Q)?le="#ef4444":/blue/i.test(Q)?le="#3b82f6":/green/i.test(Q)&&(le="#22c55e"),{name:A,value:I,color:le}}).sort((A,I)=>I.value-A.value),{boonTables:tc}=qU(o),Vd=(()=>{const A=Ue=>String(Ue||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),I=Ue=>A(Ue).toLowerCase().split(/[^a-z0-9]+/i).map($e=>$e.trim()).filter(Boolean).map($e=>$e.length>3&&$e.endsWith("s")?$e.slice(0,-1):$e),Q=(Ue,$e)=>{const ot=A(Ue),Te=A($e);if(!Te)return ot;if(!ot)return Te;const tt=I(ot),it=I(Te),kt=new Set(tt),je=new Set(it),_e=it.length>0&&it.every(He=>kt.has(He)),Re=tt.length>0&&tt.every(He=>je.has(He));return _e||Re?ot:`${ot} - ${Te}`},pe=new Map,le=(Ue,$e)=>{if(!pe.has(Ue))pe.set(Ue,{id:Ue,name:String(($e==null?void 0:$e.name)||Ue),icon:$e==null?void 0:$e.icon,stacking:!!($e!=null&&$e.stacking),players:new Map,fights:[]});else if($e){const ot=pe.get(Ue);(!ot.name||ot.name===Ue)&&($e!=null&&$e.name)&&(ot.name=String($e.name)),!ot.icon&&($e!=null&&$e.icon)&&(ot.icon=String($e.icon)),!ot.stacking&&($e!=null&&$e.stacking)&&(ot.stacking=!0)}return pe.get(Ue)},Ge=Ue=>Array.isArray(Ue)?Ue.map($e=>Array.isArray($e)?[Number($e[0]),Number($e[1])]:$e&&typeof $e=="object"?[Number($e.time),Number($e.value)]:null).filter($e=>!!$e&&Number.isFinite($e[0])&&Number.isFinite($e[1])&&$e[0]>=0).sort(($e,ot)=>$e[0]-ot[0]):[],ve=(Ue,$e,ot)=>{const Te=Ue.get($e)||[];Te.length<ot&&(Te.length=ot);for(let tt=0;tt<ot;tt+=1)Number.isFinite(Te[tt])||(Te[tt]=0);return Ue.set($e,Te),Te},ut=(Ue,$e,ot,Te,tt)=>{if(!$e||$e==="__all__"||Te<=0)return;const it=Ge(ot);if(it.length===0)return;const kt=ve(Ue,$e,Te),je=Math.max(1,Number(tt||0),Te*5e3),_e=Xe=>Math.max(0,Math.min(je,Number(Xe||0))),Re=(Xe,be,nt)=>{if(!Number.isFinite(nt)||nt<=0)return;let ft=_e(Xe);const fe=_e(be);if(!(fe<=ft))for(;ft<fe;){const xe=Math.max(0,Math.min(Te-1,Math.floor(ft/5e3))),at=Math.min(fe,(xe+1)*5e3),wt=Math.max(0,at-ft);wt>0&&(kt[xe]=Number(kt[xe]||0)+wt*nt),ft=at}};let He=_e(it[0][0]),qe=Math.max(0,Number(it[0][1]||0));for(let Xe=1;Xe<it.length;Xe+=1){const[be,nt]=it[Xe],ft=_e(be);Re(He,ft,qe),He=ft,qe=Math.max(0,Number(nt||0))}Re(He,je,qe)},ht=(Ue,$e,ot)=>{const Te=Array.from({length:ot},(kt,je)=>Number((Ue==null?void 0:Ue[je])||0)),tt=Te.reduce((kt,je)=>kt+Number(je||0),0);if(!Number.isFinite($e)||$e<=0)return Te.map(()=>0);if(!Number.isFinite(tt)||tt<=0){const kt=$e/Math.max(1,ot);return Te.map(()=>kt)}const it=$e/tt;return Te.map(kt=>Number(kt||0)*it)},_t=()=>({selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0}),Lt=(Ue,$e,ot)=>{const Te=Math.max(0,Number(ot||0));Te&&(Ue[$e]=Number(Ue[$e]||0)+Te,($e==="selfBuffs"||$e==="squadBuffs")&&(Ue.totalBuffs=Number(Ue.totalBuffs||0)+Te))};return o.map(Ue=>({log:Ue,ts:gi(Ue==null?void 0:Ue.details,Ue)})).sort((Ue,$e)=>Ue.ts-$e.ts).forEach(({log:Ue},$e)=>{const ot=Ue==null?void 0:Ue.details;if(!ot)return;const tt=(Array.isArray(ot.players)?ot.players:[]).filter(xe=>!(xe!=null&&xe.notInSquad)),it=tt.length;if(it<=0)return;const kt=Math.max(0,Number((ot==null?void 0:ot.durationMS)||0)),je=Math.max(1,Math.ceil(Math.max(1,kt)/5e3)),_e=ot!=null&&ot.buffMap&&typeof ot.buffMap=="object"?ot.buffMap:{},Re=new Map,He=new Map;tt.forEach(xe=>{const at=Number((xe==null?void 0:xe.group)??0);He.set(at,(He.get(at)||0)+1);const Se=String((xe==null?void 0:xe.account)||(xe==null?void 0:xe.name)||"Unknown");[xe==null?void 0:xe.name,xe==null?void 0:xe.display_name,xe==null?void 0:xe.character_name,xe==null?void 0:xe.account].map(de=>String(de||"").trim()).filter(Boolean).forEach(de=>Re.set(de,Se))});const qe=A(ot.fightName||Ue.fightName||`Fight ${$e+1}`),Xe=$a(ot,Ue),be=Q(qe,String(Xe||"")),nt=new Map,ft=new Map,fe=new Map;tt.forEach(xe=>{const at=String((xe==null?void 0:xe.account)||(xe==null?void 0:xe.name)||"Unknown"),wt=String((xe==null?void 0:xe.profession)||"Unknown"),Se=at,de=Number((xe==null?void 0:xe.group)??0),$t=Math.max(1,Number(He.get(de)||1));["selfBuffs","groupBuffs","squadBuffs"].forEach(Le=>{(Array.isArray(xe==null?void 0:xe[Le])?xe[Le]:[]).forEach(pt=>{var Hr;const Je=Number(pt==null?void 0:pt.id);if(!Number.isFinite(Je))return;const Be=`b${Je}`,ct=_e[Be]||{},mt=String((ct==null?void 0:ct.classification)||"");if(mt&&mt!=="Boon")return;const Et=Number(((Hr=Ry(xe,Le,Je,kt,$t,it,_e))==null?void 0:Hr.generationMs)||0);if(!Number.isFinite(Et)||Et<=0)return;const Qt=le(Be,ct),xn=Qt.players.get(Se)||{key:Se,account:at,displayName:at,profession:wt,professionList:wt&&wt!=="Unknown"?[wt]:[],logs:0,totals:_t()};wt&&wt!=="Unknown"&&!xn.professionList.includes(wt)&&xn.professionList.push(wt),(!xn.profession||xn.profession==="Unknown")&&wt&&wt!=="Unknown"&&(xn.profession=wt);const cn=fe.get(Be)||new Set;cn.has(Se)||(cn.add(Se),xn.logs+=1,fe.set(Be,cn)),Lt(xn.totals,Le,Et),Qt.players.set(Se,xn);const kn=Qt.players.get("__all__")||{key:"__all__",account:"All",displayName:"All",profession:"All",professionList:[],logs:0,totals:_t()};Lt(kn.totals,Le,Et),Qt.players.set("__all__",kn);const Mn=nt.get(Be)||new Map,An=Mn.get(Se)||_t();Lt(An,Le,Et),Mn.set(Se,An);const rn=Mn.get("__all__")||_t();Lt(rn,Le,Et),Mn.set("__all__",rn),nt.set(Be,Mn);const Zn=Array.isArray(xe==null?void 0:xe.buffUptimes)?xe.buffUptimes.find(an=>Number(an==null?void 0:an.id)===Je):null,Sn=Zn!=null&&Zn.statesPerSource&&typeof Zn.statesPerSource=="object"?Zn.statesPerSource:null;if(Sn){const an=ft.get(Be)||new Map;Object.entries(Sn).forEach(([ri,Tr])=>{const so=Re.get(String(ri||"").trim());so&&ut(an,so,Tr,je,kt)}),ft.set(Be,an)}})})}),nt.forEach((xe,at)=>{const wt=pe.get(at);if(!wt)return;const Se=ft.get(at)||new Map,de={};let $t=Array.from({length:je},()=>0),Ne=0;xe.forEach((Je,Be)=>{const ct={selfBuffs:Number((Je==null?void 0:Je.selfBuffs)||0),groupBuffs:Number((Je==null?void 0:Je.groupBuffs)||0),squadBuffs:Number((Je==null?void 0:Je.squadBuffs)||0),totalBuffs:Number((Je==null?void 0:Je.totalBuffs)||0)},mt=Math.max(0,Number(ct.totalBuffs||0));if(!Number.isFinite(mt)||mt<=0)return;const Et=Se.get(Be)||[],Qt=ht(Et,mt,je);de[Be]={total:mt,totals:ct,bucketWeights5s:Array.from({length:je},(xn,cn)=>Number(Et[cn]||0)),buckets5s:Qt},Be!=="__all__"&&(mt>Ne&&(Ne=mt),$t=$t.map((xn,cn)=>Number(xn||0)+Number(Qt[cn]||0)))});const Le=xe.get("__all__"),lt=Number((Le==null?void 0:Le.totalBuffs)||0);if(lt>0&&(de.__all__={total:lt,totals:{selfBuffs:Number((Le==null?void 0:Le.selfBuffs)||0),groupBuffs:Number((Le==null?void 0:Le.groupBuffs)||0),squadBuffs:Number((Le==null?void 0:Le.squadBuffs)||0),totalBuffs:Number((Le==null?void 0:Le.totalBuffs)||0)},bucketWeights5s:Array.from({length:je},(Je,Be)=>Number((Se.get("__all__")||[])[Be]||0)),buckets5s:$t.some(Je=>Number(Je||0)>0)?$t:ht(Se.get("__all__")||[],lt,je)}),Object.keys(de).length===0)return;const pt=wt.players.get("__all__");pt&&(pt.logs+=1,wt.players.set("__all__",pt)),wt.fights.push({id:Ue.filePath||Ue.id||`fight-${$e+1}`,shortLabel:`F${$e+1}`,fullLabel:be,timestamp:gi(ot,Ue),durationMs:kt,values:de,maxTotal:Ne})})}),Array.from(pe.values()).map(Ue=>({id:Ue.id,name:Ue.name||Ue.id,icon:Ue.icon,stacking:Ue.stacking,players:Array.from(Ue.players.values()).sort(($e,ot)=>{var tt,it;if($e.key==="__all__")return-1;if(ot.key==="__all__")return 1;const Te=Number(((tt=ot.totals)==null?void 0:tt.totalBuffs)||0)-Number(((it=$e.totals)==null?void 0:it.totalBuffs)||0);return Te!==0?Te:String($e.displayName||"").localeCompare(String(ot.displayName||""))}),fights:[...Ue.fights].sort(($e,ot)=>$e.timestamp>0&&ot.timestamp>0&&$e.timestamp!==ot.timestamp?$e.timestamp-ot.timestamp:$e.shortLabel.localeCompare(ot.shortLabel,void 0,{numeric:!0}))})).filter(Ue=>Ue.players.length>0&&Ue.fights.length>0).sort((Ue,$e)=>String(Ue.name||"").localeCompare(String($e.name||"")))})(),va=Zi.map(({log:A})=>{const I=A==null?void 0:A.details,Q=Array.isArray(I==null?void 0:I.players)?I.players:[],pe=Array.isArray(I==null?void 0:I.targets)?I.targets:[],le=A!=null&&A.dashboardSummary&&typeof A.dashboardSummary=="object"?A.dashboardSummary:null,Ge=Q.filter($e=>!$e.notInSquad),ve=pe.filter($e=>!$e.isFake),ut=Math.max(0,Number((le==null?void 0:le.squadCount)||0)),ht=Math.max(0,Number((le==null?void 0:le.enemyCount)||0)),_t=Ge.length>0?Ge.length:ut,Lt=ve.length>0?ve.length:ht,Ue=Q.length>0?Q.length:_t;return{timestamp:gi(I,A),squadCount:_t,friendlyCount:Ue,enemies:Lt,isWin:Qn(I,A)}}).map((A,I)=>({...A,index:I+1,label:`Log ${I+1}`})),Ms={};Array.from(O.values()).forEach(A=>{A.profession&&A.profession!=="Unknown"&&(Ms[A.profession]=(Ms[A.profession]||0)+1)});const tl=Object.entries(Ms).map(([A,I])=>({name:A,value:I,color:_l(A)})).sort((A,I)=>I.value-A.value),nl={};Object.keys(K).length===0&&o.forEach(A=>{var I,Q;(Q=(I=A.details)==null?void 0:I.targets)==null||Q.forEach(pe=>{if(pe.isFake)return;const le=pe.profession&&pe.profession!=="Unknown"?pe.profession:pe.name||pe.id||"Unknown",Ge=W(le);nl[Ge]=(nl[Ge]||0)+1})});const te=Object.keys(K).length>0?K:nl,Ae=Object.entries(te).map(([A,I])=>({name:A,value:I,color:_l(A)})).sort((A,I)=>I.value-A.value),We=Zi.map(({log:A},I)=>{const Q=A==null?void 0:A.details,pe=Array.isArray(Q==null?void 0:Q.players)?Q.players:[],le=pe.filter(be=>!be.notInSquad),Ge=pe.filter(be=>be.notInSquad),ut=(Array.isArray(Q==null?void 0:Q.targets)?Q.targets:[]).filter(be=>!be.isFake),ht=A!=null&&A.dashboardSummary&&typeof A.dashboardSummary=="object"?A.dashboardSummary:null,_t=le.reduce((be,nt)=>{var ft,fe;return be+(((fe=(ft=nt.dpsAll)==null?void 0:ft[0])==null?void 0:fe.damage)||0)},0),Lt=le.reduce((be,nt)=>{var ft,fe;return be+(((fe=(ft=nt.defenses)==null?void 0:ft[0])==null?void 0:fe.damageTaken)||0)},0),{enemyDeaths:Ue,enemyDownsDeaths:$e}=T(Q),ot=Qn(Q,A),Te=gi(Q,A),tt=$a(Q,A),it=be=>{if(!be||typeof be!="object")return;const nt=be.teamID??be.teamId??be.team??be.teamColor??be.team_color;if(nt!=null)return nt;const ft=Object.keys(be).find(fe=>/^team/i.test(fe));return ft?be[ft]:void 0},kt=(be,nt)=>{const ft={};return be.forEach(fe=>{const xe=nt(fe),at=W(xe);at&&(ft[at]=(ft[at]||0)+1)}),ft},je=kt(le,be=>(be==null?void 0:be.profession)||(be==null?void 0:be.name)),_e=kt(Ge,be=>(be==null?void 0:be.profession)||(be==null?void 0:be.name)),Re=kt(ut,be=>(be==null?void 0:be.profession)||(be==null?void 0:be.name)||(be==null?void 0:be.id)),He=new Set;le.forEach(be=>{const nt=it(be);nt!=null&&He.add(String(nt))});const qe=new Map;ut.forEach(be=>{if((be==null?void 0:be.enemyPlayer)===!1)return;const nt=it(be);if(nt==null)return;const ft=String(nt);He.has(ft)||qe.set(ft,(qe.get(ft)||0)+1)});const Xe=Array.from(qe.entries()).sort((be,nt)=>{const ft=nt[1]-be[1];return ft!==0?ft:be[0].localeCompare(nt[0],void 0,{numeric:!0})}).slice(0,3).map(([be,nt])=>({teamId:be,count:nt}));return{id:A.filePath||`fight-${I}`,label:A.encounterName||`Fight ${I+1}`,permalink:Es(Q,A),timestamp:Te,mapName:tt,duration:uu(Q,A),isWin:ot,squadCount:le.length>0?le.length:Math.max(0,Number((ht==null?void 0:ht.squadCount)||0)),allyCount:Ge.length,enemyCount:ut.length>0?ut.length:Math.max(0,Number((ht==null?void 0:ht.enemyCount)||0)),teamBreakdown:Xe,alliesDown:le.reduce((be,nt)=>{var ft,fe;return be+(((fe=(ft=nt.defenses)==null?void 0:ft[0])==null?void 0:fe.downCount)||0)},0),alliesDead:le.length>0?le.reduce((be,nt)=>{var ft,fe;return be+(((fe=(ft=nt.defenses)==null?void 0:ft[0])==null?void 0:fe.deadCount)||0)},0):Math.max(0,Number((ht==null?void 0:ht.squadDeaths)||0)),alliesRevived:le.reduce((be,nt)=>{var ft,fe;return Number(((fe=(ft=nt.statsAll)==null?void 0:ft[0])==null?void 0:fe.saved)||0)>0?be+1:be},0),rallies:0,enemyDeaths:ut.length>0||le.length>0?Ue:Math.max(0,Number((ht==null?void 0:ht.enemyDeaths)||0)),enemyDowns:Math.max(0,$e-Ue),totalOutgoingDamage:_t,totalIncomingDamage:Lt,incomingBarrierAbsorbed:le.reduce((be,nt)=>{var ft,fe;return be+(((fe=(ft=nt.defenses)==null?void 0:ft[0])==null?void 0:fe.damageBarrier)||0)},0),outgoingBarrierAbsorbed:le.reduce((be,nt)=>{var xe;const ft=(xe=nt.extBarrierStats)==null?void 0:xe.outgoingBarrier;if(!Array.isArray(ft))return be;let fe=0;return ft.forEach(at=>{if(Array.isArray(at)){at.forEach(wt=>{fe+=Number((wt==null?void 0:wt.barrier)||0)});return}fe+=Number((at==null?void 0:at.barrier)||0)}),be+fe},0),squadClassCountsFight:je,allyClassCountsFight:_e,enemyClassCounts:Re}}),bt=du.map(({log:A},I)=>{const Q=A.details;if(!Q)return null;const le=(Array.isArray(Q.players)?Q.players:[]).filter(Ne=>!Ne.notInSquad),Ge=Array.isArray(Q.targets)?Q.targets:[],ve=gi(Q,A),ut=$a(Q,A),ht=Number(Q.durationMS||0),{squadDownsDeaths:_t,enemyDownsDeaths:Lt,squadDeaths:Ue,enemyDeaths:$e}=T(Q),ot=new Map,Te=(Ne,Le,lt)=>{const pt=ot.get(Ne)||{label:Ne,damage:0,hits:0};pt.damage+=Le,pt.hits+=lt,ot.set(Ne,pt)};if(le.forEach(Ne=>{(Array.isArray(Ne==null?void 0:Ne.statsTargets)?Ne.statsTargets:[]).forEach((lt,pt)=>{const Je=Array.isArray(lt)?lt[0]:lt,Be=Number((Je==null?void 0:Je.damage)??(Je==null?void 0:Je.totalDmg)??(Je==null?void 0:Je.connectedDmg)??0),ct=Number((Je==null?void 0:Je.connectedHits)??(Je==null?void 0:Je.connectedDamageCount)??(Je==null?void 0:Je.hits)??0);if(Be<=0&&ct<=0)return;const mt=Ge[pt];if(mt!=null&&mt.isFake)return;const Et=(mt==null?void 0:mt.profession)||(mt==null?void 0:mt.name)||(mt==null?void 0:mt.id)||`Target ${pt+1}`,Qt=W(Et);Te(Qt||String(Et),Be,ct)})}),ot.size===0){const Ne=new Map,Le=lt=>{if(!Array.isArray(lt)||lt.length===0)return[];const pt=lt[0];if(Array.isArray(pt)&&Array.isArray(pt[0])){if(typeof pt[0][0]=="number")return pt;if(Array.isArray(pt[0])&&typeof pt[0][0]=="number")return lt.map(Je=>Array.isArray(Je)?Je[0]||[]:[])}return[]};le.forEach(lt=>{Le(lt==null?void 0:lt.targetDamage1S).forEach((Je,Be)=>{if(!Array.isArray(Je)||Je.length===0)return;const ct=Je.map(Et=>Number(Et)).filter(Et=>Number.isFinite(Et)&&Et>=0);if(ct.length===0)return;const mt=Math.max(0,ct[ct.length-1]||0);mt<=0||Ne.set(Be,(Ne.get(Be)||0)+mt)})}),Ne.forEach((lt,pt)=>{if(lt<=0)return;const Je=Ge[pt];if(Je!=null&&Je.isFake)return;const Be=(Je==null?void 0:Je.profession)||(Je==null?void 0:Je.name)||(Je==null?void 0:Je.id)||`Target ${pt+1}`,ct=W(Be);Te(ct||String(Be),lt,0)})}if(ot.size===0&&Ge.forEach((Ne,Le)=>{if(Ne!=null&&Ne.isFake)return;const lt=Array.isArray(Ne==null?void 0:Ne.totalDamageTaken)?Ne.totalDamageTaken:Array.isArray(Ne==null?void 0:Ne.totalDamageDist)?Ne.totalDamageDist:[];let pt=0,Je=0;if(lt.forEach(mt=>{pt+=Number((mt==null?void 0:mt.totalDamage)||(mt==null?void 0:mt.damage)||0),Je+=Number((mt==null?void 0:mt.connectedHits)||(mt==null?void 0:mt.hits)||0)}),pt<=0&&Number((Ne==null?void 0:Ne.damageTaken)||0)>0&&(pt=Number(Ne.damageTaken||0)),pt<=0&&Je<=0)return;const Be=(Ne==null?void 0:Ne.profession)||(Ne==null?void 0:Ne.name)||(Ne==null?void 0:Ne.id)||`Target ${Le+1}`,ct=W(Be);Te(ct||String(Be),pt,Je)}),ot.size===0){const Ne=new Map;Ge.forEach((Le,lt)=>{if(Le!=null&&Le.isFake)return;const pt=(Le==null?void 0:Le.profession)||(Le==null?void 0:Le.name)||(Le==null?void 0:Le.id)||`Target ${lt+1}`,Je=W(pt)||String(pt);Ne.set(Je,(Ne.get(Je)||0)+1)}),Ne.forEach((Le,lt)=>{Le>0&&Te(lt,Le,0)})}const tt=Array.from(ot.values()).sort((Ne,Le)=>Le.damage-Ne.damage||Le.hits-Ne.hits||Ne.label.localeCompare(Le.label)),it=tt.reduce((Ne,Le)=>Ne+Le.damage,0),kt=tt.map(Ne=>({label:Ne.label,damage:Ne.damage,hits:Ne.hits,share:it>0?Ne.damage/it:0})),je=Ge.filter(Ne=>!(Ne!=null&&Ne.isFake)).length,_e=le.length,Re=le.reduce((Ne,Le)=>{var lt,pt;return Ne+Number(((pt=(lt=Le==null?void 0:Le.dpsAll)==null?void 0:lt[0])==null?void 0:pt.damage)||0)},0),He=le.reduce((Ne,Le)=>{var lt,pt;return Ne+Number(((pt=(lt=Le==null?void 0:Le.defenses)==null?void 0:lt[0])==null?void 0:pt.damageTaken)||0)},0),qe=le.reduce((Ne,Le)=>{var lt,pt;return Ne+Number(((pt=(lt=Le==null?void 0:Le.defenses)==null?void 0:lt[0])==null?void 0:pt.damageBarrier)||0)},0),Xe=le.reduce((Ne,Le)=>{var Je;const lt=(Je=Le==null?void 0:Le.extBarrierStats)==null?void 0:Je.outgoingBarrier;if(!Array.isArray(lt))return Ne;let pt=0;return lt.forEach(Be=>{Array.isArray(Be)?Be.forEach(ct=>{pt+=Number((ct==null?void 0:ct.barrier)||0)}):pt+=Number((Be==null?void 0:Be.barrier)||0)}),Ne+pt},0),be=le.reduce((Ne,Le)=>{var lt,pt;return Number(((pt=(lt=Le==null?void 0:Le.statsAll)==null?void 0:lt[0])==null?void 0:pt.saved)||0)>0?Ne+1:Ne},0),nt=le.reduce((Ne,Le)=>Ne+Number(R2(Le)||0),0),ft=le.reduce((Ne,Le)=>Ne+Number(B2(Le)||0),0),fe=le.reduce((Ne,Le)=>Ne+Number((Le==null?void 0:Le.stabGeneration)||0),0),xe=le.reduce((Ne,Le)=>Ne+Number(U2(Le)||0),0),at=le.reduce((Ne,Le)=>Ne+Number(V2(Le)||0),0),wt=le.reduce((Ne,Le)=>Ne+Number(W2(Le)||0),0),Se=le.reduce((Ne,Le)=>Ne+Number(z2(Le)||0),0),de=Ue>0?$e/Ue:$e,$t=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:_(Q)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:_e},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:je},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:de},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:$e},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,Lt-$e)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Ue},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,_t-Ue)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Re-He},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Re},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:He},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:nt},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:ft},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:fe},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:xe},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:at},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:qe},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Xe},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:wt},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:Se},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:be}];return{id:A.filePath||A.id||`fight-${I+1}`,shortLabel:`F${I+1}`,fullLabel:`${ut||A.encounterName||"Unknown Map"}  ${ep(ht)}`,mapName:ut,timestamp:ve,duration:ep(ht),isWin:_(Q),targetFocus:kt,squadMetrics:$t}}).filter(Boolean),Rt=Array.from(O.values()).map(A=>{const I=Object.entries(A.professionTimeMs||{}).map(([Q,pe])=>({profession:Q,timeMs:Number(pe||0)})).filter(Q=>Q.profession&&Q.profession!=="Unknown"&&Q.timeMs>0).sort((Q,pe)=>{const le=pe.timeMs-Q.timeMs;return le!==0?le:Q.profession.localeCompare(pe.profession)});return{account:A.account||"Unknown",characterNames:Array.from(A.characterNames||[]).filter(Boolean).sort((Q,pe)=>Q.localeCompare(pe)),classTimes:I,combatTimeMs:Number(A.squadActiveMs||A.totalFightMs||0),squadTimeMs:(()=>{const Q=Number(A.firstSeenFightTs||0),pe=Number(A.lastSeenFightTs||0),le=Math.max(0,Number(A.lastSeenFightDurationMs||0));return Q>0&&pe>0?Math.max(0,pe+le-Q):Number(A.squadActiveMs||A.totalFightMs||0)})()}}).filter(A=>A.account&&A.account!=="Unknown").sort((A,I)=>{const Q=I.squadTimeMs-A.squadTimeMs;return Q!==0?Q:String(A.account).localeCompare(String(I.account))}),qt=o.map(A=>A).sort((A,I)=>gi(A.details,A)-gi(I.details,I)).map((A,I)=>{const Q=A==null?void 0:A.details,pe=Array.isArray(Q==null?void 0:Q.players)?Q.players.filter(ve=>!(ve!=null&&ve.notInSquad)):[],le=new Map;pe.forEach(ve=>{const ut=Number(ve==null?void 0:ve.group),ht=Number.isFinite(ut)&&ut>0?ut:0;le.has(ht)||le.set(ht,{party:ht,players:[],classCounts:{}});const _t=W((ve==null?void 0:ve.profession)||(ve==null?void 0:ve.name)||"Unknown"),Lt=String((ve==null?void 0:ve.account)||"Unknown"),Ue=String((ve==null?void 0:ve.name)||(ve==null?void 0:ve.character_name)||""),$e=!!(ve!=null&&ve.hasCommanderTag),ot=le.get(ht);ot.players.push({account:Lt,characterName:Ue,profession:_t,isCommander:$e}),ot.classCounts[_t]=(ot.classCounts[_t]||0)+1});const Ge=Array.from(le.values()).map(ve=>({...ve,players:ve.players.sort((ut,ht)=>{const _t=+!!ht.isCommander-+!!ut.isCommander;if(_t!==0)return _t;const Lt=String(ut.profession).localeCompare(String(ht.profession));return Lt!==0?Lt:String(ut.account).localeCompare(String(ht.account))})})).sort((ve,ut)=>ve.party===0&&ut.party!==0?1:ut.party===0&&ve.party!==0?-1:ve.party-ut.party);return{id:String((A==null?void 0:A.filePath)||(A==null?void 0:A.id)||`fight-${I+1}`),label:`F${I+1}`,timestamp:gi(Q,A),mapName:$a(Q,A),duration:ep(Number((Q==null?void 0:Q.durationMS)||0)),parties:Ge}}),dn=(A,I)=>{const Q=(I==null?void 0:I.skillMap)||{},pe=(I==null?void 0:I.buffMap)||{};let le=0,Ge=0,ve="";const ut=Lt=>{const Ue=Number(Lt);if(!Number.isFinite(Ue))return String(Lt||"Unknown Skill");const $e=(Q==null?void 0:Q[`s${Ue}`])||(Q==null?void 0:Q[`${Ue}`]);if($e!=null&&$e.name)return String($e.name);const ot=(pe==null?void 0:pe[`b${Ue}`])||(pe==null?void 0:pe[`${Ue}`]);return ot!=null&&ot.name?String(ot.name):`Skill ${Ue}`},ht=Lt=>{if(!Lt||typeof Lt!="object")return;const Ue=[Number(Lt.max),Number(Lt.maxDamage),Number(Lt.maxHit)].filter(Te=>Number.isFinite(Te)),$e=Ue.length>0?Math.max(...Ue):0;$e>le&&(le=$e,ve=ut(Lt.id));const ot=Number(Lt.downContribution||0);ot>Ge&&(Ge=ot)};let _t=!1;return Array.isArray(A==null?void 0:A.targetDamageDist)&&A.targetDamageDist.forEach(Lt=>{Array.isArray(Lt)&&Lt.forEach(Ue=>{Array.isArray(Ue)&&Ue.forEach($e=>{_t=!0,ht($e)})})}),(!_t||le<=0)&&Array.isArray(A==null?void 0:A.totalDamageDist)&&A.totalDamageDist.forEach(Lt=>{Array.isArray(Lt)&&Lt.forEach(Ue=>ht(Ue))}),{peak:le,peakDownContribution:Ge,skillName:ve||"Unknown Skill"}},Pt=(()=>{const A=Te=>String(Te||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),I=Te=>A(Te).toLowerCase().split(/[^a-z0-9]+/i).map(tt=>tt.trim()).filter(Boolean).map(tt=>tt.length>3&&tt.endsWith("s")?tt.slice(0,-1):tt),Q=(Te,tt)=>{const it=A(Te),kt=A(tt);if(!kt)return it;if(!it)return kt;const je=I(it),_e=I(kt),Re=new Set(je),He=new Set(_e),qe=_e.length>0&&_e.every(be=>Re.has(be)),Xe=je.length>0&&je.every(be=>He.has(be));return qe||Xe?it:`${it} - ${kt}`},pe=[],le=new Map,Ge=Te=>{const tt=qe=>{if(!Array.isArray(qe)||qe.length===0)return[];const Xe=[];for(let be=0;be<qe.length;be+=1){const nt=Number(qe[be]||0),ft=be>0?Number(qe[be-1]||0):0;Xe.push(Math.max(0,nt-ft))}return Xe},it=qe=>{if(!Array.isArray(qe))return[];const Xe=qe.reduce((nt,ft)=>Math.max(nt,Array.isArray(ft)?ft.length:0),0);if(Xe<=0)return[];const be=new Array(Xe).fill(0);return qe.forEach(nt=>{if(Array.isArray(nt))for(let ft=0;ft<Xe;ft+=1)be[ft]+=Number(nt[ft]||0)}),be},kt=qe=>Array.isArray(qe)?qe.map(Xe=>Number(Xe||0)):null,_e=(qe=>{if(!Array.isArray(qe)||qe.length===0)return null;const Xe=qe[0];if(!Array.isArray(Xe))return null;if(Array.isArray(Xe[0])&&Array.isArray(Xe[0][0]))return it(Xe);if(Array.isArray(Xe[0])&&!Array.isArray(Xe[0][0])){const be=qe.map(nt=>kt(Array.isArray(nt)?nt[0]:null)).filter(nt=>Array.isArray(nt)&&nt.length>0);if(be.length>0)return it(be)}return null})(Te==null?void 0:Te.targetDamage1S),Re=Array.isArray(Te==null?void 0:Te.damage1S)&&Array.isArray(Te.damage1S[0])?Te.damage1S[0]:null,He=_e||(Array.isArray(Re)?Re.map(qe=>Number(qe||0)):[]);return tt(He)},ve=(Te,tt)=>{if(!Array.isArray(Te)||Te.length===0||tt<=0)return 0;let it=0,kt=0;for(let je=0;je<Te.length;je+=1)it+=Number(Te[je]||0),je>=tt&&(it-=Number(Te[je-tt]||0)),je>=tt-1&&it>kt&&(kt=it);return Math.max(0,kt)},ut=(Te,tt)=>{if(!Array.isArray(Te)||Te.length===0||tt<=0)return[];const it=[];for(let kt=0;kt<Te.length;kt+=tt){const je=Math.min(kt+tt,Te.length),_e=Te.slice(kt,je).reduce((Re,He)=>Re+Number(He||0),0);it.push(_e)}return it},ht=(Te,tt)=>{let it=0,kt=0;const je=new Map,_e=He=>{if(!He||typeof He!="object"||He.indirectDamage)return;const qe=Number(He.totalDamage||0),Xe=Number(He.downContribution||0);!Number.isFinite(qe)&&!Number.isFinite(Xe)||(it+=Number.isFinite(qe)?qe:0,kt+=Number.isFinite(Xe)?Xe:0)};return Array.isArray(Te==null?void 0:Te.targetDamageDist)&&Te.targetDamageDist.forEach(He=>{Array.isArray(He)&&He.forEach(qe=>{Array.isArray(qe)&&qe.forEach(Xe=>{const be=Number(Xe==null?void 0:Xe.id);if(Number.isFinite(be)){const nt=je.get(be)||{damage:0,downContribution:0};nt.damage+=Number((Xe==null?void 0:Xe.totalDamage)||0),nt.downContribution+=Number((Xe==null?void 0:Xe.downContribution)||0),je.set(be,nt)}_e(Xe)})})}),!(tt!=null&&tt.detailedWvW)&&Array.isArray(Te==null?void 0:Te.totalDamageDist)&&Te.totalDamageDist.forEach(He=>{Array.isArray(He)&&He.forEach(qe=>{const Xe=Number(qe==null?void 0:qe.id);if(!Number.isFinite(Xe)){_e(qe);return}const be=je.get(Xe);if(!be){_e(qe);return}const nt=Number((qe==null?void 0:qe.totalDamage)||0)-Number(be.damage||0),ft=Number((qe==null?void 0:qe.downContribution)||0)-Number(be.downContribution||0);nt<=0&&ft<=0||_e({...qe,totalDamage:Math.max(0,nt),downContribution:Math.max(0,ft)})})}),{damageTotal:Math.max(0,it),downContributionTotal:Math.max(0,kt)}},_t=(Te,tt)=>{const it=Number(Te);if(!Number.isFinite(it))return{name:String(Te||"Unknown Skill"),icon:void 0};const kt=(tt==null?void 0:tt.skillMap)||{},je=(tt==null?void 0:tt.buffMap)||{},_e=(kt==null?void 0:kt[`s${it}`])||(kt==null?void 0:kt[`${it}`]);if(_e!=null&&_e.name)return{name:String(_e.name),icon:_e==null?void 0:_e.icon};const Re=(je==null?void 0:je[`b${it}`])||(je==null?void 0:je[`${it}`]);return Re!=null&&Re.name?{name:String(Re.name),icon:Re==null?void 0:Re.icon}:{name:`Skill ${it}`,icon:void 0}},Lt=Te=>Array.isArray(Te)?Te.map(tt=>Array.isArray(tt)?[Number(tt[0]),Number(tt[1])]:tt&&typeof tt=="object"?[Number(tt.time),Number(tt.value)]:null).filter(tt=>!!tt&&Number.isFinite(tt[0])&&tt[0]>=0):[],Ue=(Te,tt,it,kt,je)=>{if(!Te.length||kt<=0)return[];const _e=Math.max(kt*5e3,je||0),Re=xe=>xe.reduce((at,wt)=>wt>=0&&wt<=_e+2e3?at+1:at,0),He=Te.map(xe=>Number(xe||0)).filter(xe=>Number.isFinite(xe)&&xe>=0);if(!He.length)return[];const qe=[He],Xe=He.reduce((xe,at)=>Math.max(xe,at),0),be=He.reduce((xe,at)=>Math.min(xe,at),Number.POSITIVE_INFINITY);Xe>_e*20&&qe.push(He.map(xe=>xe/1e3)),Xe<=_e*2&&be>=0&&Xe>0&&Xe<Math.max(120,kt*5+10)&&qe.push(He.map(xe=>xe*1e3));let nt=He,ft=0,fe=-1;return qe.forEach(xe=>{const at=xe.reduce((Se,de)=>Math.min(Se,de),Number.POSITIVE_INFINITY),wt=new Set([0,...tt,...it]);if(Number.isFinite(at)&&_e>0&&at>_e){const Se=Math.floor(at/_e)*_e;wt.add(Se),wt.add(Math.max(0,Se-_e))}wt.forEach(Se=>{const de=xe.map(Ne=>Ne-Se),$t=Re(de);$t>fe&&(fe=$t,ft=Se,nt=xe)})}),nt.map(xe=>xe-ft).filter(xe=>Number.isFinite(xe)&&xe>=0)},$e=(Te,tt,it,kt,je)=>{const _e=Ue(Te,tt,it,kt,je);return Array.from(new Set(_e.map(Re=>Math.floor(Re/5e3)).filter(Re=>Number.isFinite(Re)&&Re>=0&&Re<kt)))};o.map(Te=>({log:Te,ts:gi(Te==null?void 0:Te.details,Te)})).sort((Te,tt)=>Te.ts-tt.ts).forEach(({log:Te},tt)=>{const it=Te==null?void 0:Te.details;if(!it)return;const kt=A(it.fightName||Te.fightName||`Fight ${tt+1}`),je=$a(it,Te),_e=Q(kt,String(je||"")),Re={},He=Array.isArray(it.players)?it.players:[],qe=He.flatMap(Se=>{const de=Se==null?void 0:Se.combatReplayData;return Array.isArray(de)?de.map($t=>Number($t==null?void 0:$t.start)):[Number(de==null?void 0:de.start)]}).filter(Se=>Number.isFinite(Se)&&Se>=0);He.forEach(Se=>{if(Se!=null&&Se.notInSquad)return;const de=String((Se==null?void 0:Se.account)||(Se==null?void 0:Se.name)||"Unknown"),$t=String((Se==null?void 0:Se.character_name)||(Se==null?void 0:Se.display_name)||(Se==null?void 0:Se.name)||""),Ne=String((Se==null?void 0:Se.profession)||"Unknown"),Le=`${de}|${Ne}`,lt=dn(Se,it),pt=Number(lt.peak||0),Je=Number(lt.peakDownContribution||0),Be=Ge(Se),{damageTotal:ct,downContributionTotal:mt}=ht(Se,it),Et=ct>0?Math.min(1,Math.max(0,mt/ct)):0,Qt=Be.map(ye=>Number(ye||0)*Et),xn=Number(ve(Be,1)||0),cn=Number(ve(Be,5)||0),kn=Number(ve(Be,30)||0),Mn=Number(ve(Qt,1)||0),An=Number(ve(Qt,5)||0),rn=Number(ve(Qt,30)||0),Zn=Math.max(0,Math.ceil(Number((it==null?void 0:it.durationMS)||0)/5e3)),Sn=Math.max(0,Math.ceil(Be.length/5)),Hr=Math.max(0,Math.ceil(Qt.length/5)),an=Math.max(Zn,Sn,Hr),ri=ut(Be,5),Tr=ut(Qt,5),so=Array.from({length:an},(ye,Fe)=>Number(ri[Fe]||0)),Jn=Array.from({length:an},(ye,Fe)=>Number(Tr[Fe]||0)),Os=new Map,ii=ye=>{if(!ye||typeof ye!="object"||ye.indirectDamage)return;const Fe=Number(ye.totalDamage||0),dt=Number(ye.downContribution||0);if((!Number.isFinite(Fe)||Fe<=0)&&(!Number.isFinite(dt)||dt<=0))return;const on=Number(ye.connectedHits||ye.hits||0),Nn=_t(ye.id,it),On=Nn.name,Vn=Os.get(On)||{skillName:On,damage:0,downContribution:0,hits:0,icon:Nn.icon};Vn.damage+=Number.isFinite(Fe)?Fe:0,Vn.downContribution+=Number.isFinite(dt)?dt:0,Vn.hits+=Number.isFinite(on)?on:0,!Vn.icon&&Nn.icon&&(Vn.icon=Nn.icon),Os.set(On,Vn)},Is=new Map;Array.isArray(Se==null?void 0:Se.targetDamageDist)&&Se.targetDamageDist.forEach(ye=>{Array.isArray(ye)&&ye.forEach(Fe=>{Array.isArray(Fe)&&Fe.forEach(dt=>{const on=Number(dt==null?void 0:dt.id),Nn=Number((dt==null?void 0:dt.totalDamage)||0),On=Number((dt==null?void 0:dt.downContribution)||0);if(Number.isFinite(on)){const Vn=Is.get(on)||{damage:0,downContribution:0,hits:0};Vn.damage+=Number.isFinite(Nn)?Nn:0,Vn.downContribution+=Number.isFinite(On)?On:0,Vn.hits+=Number((dt==null?void 0:dt.connectedHits)||(dt==null?void 0:dt.hits)||0),Is.set(on,Vn)}ii(dt)})})}),!(it!=null&&it.detailedWvW)&&Array.isArray(Se==null?void 0:Se.totalDamageDist)&&Se.totalDamageDist.forEach(ye=>{Array.isArray(ye)&&ye.forEach(Fe=>{const dt=Number(Fe==null?void 0:Fe.id);if(!Number.isFinite(dt)){ii(Fe);return}const on=Is.get(dt);if(!on){ii(Fe);return}const Nn=Number((Fe==null?void 0:Fe.totalDamage)||0),On=Number((Fe==null?void 0:Fe.downContribution)||0),Vn=Number((Fe==null?void 0:Fe.connectedHits)||(Fe==null?void 0:Fe.hits)||0),ea=Nn-Number(on.damage||0),ai=On-Number(on.downContribution||0),Bi=Vn-Number(on.hits||0);ea<=0&&ai<=0&&Bi<=0||ii({...Fe,totalDamage:Math.max(0,ea),downContribution:Math.max(0,ai),connectedHits:Math.max(0,Bi),hits:Math.max(0,Bi)})})});const rl=(()=>{const ye=Se==null?void 0:Se.combatReplayData;return Array.isArray(ye)?ye.filter(Fe=>Fe&&typeof Fe=="object"):ye&&typeof ye=="object"?[ye]:[]})(),nc=rl.map(ye=>Number(ye==null?void 0:ye.start)).filter(ye=>Number.isFinite(ye)&&ye>=0),fu=rl.flatMap(ye=>Lt(ye==null?void 0:ye.down).map(([Fe])=>Number(Fe||0))),Ie=rl.flatMap(ye=>Lt(ye==null?void 0:ye.dead).map(([Fe])=>Number(Fe||0)));Re[Le]={hit:pt,burst1s:xn,burst5s:cn,burst30s:kn,hitDown:Je,burst1sDown:Mn,burst5sDown:An,burst30sDown:rn,skillName:lt.skillName,buckets5s:so,buckets5sDown:Jn,downIndices5s:$e(fu,nc,qe,an,Number((it==null?void 0:it.durationMS)||0)),deathIndices5s:$e(Ie,nc,qe,an,Number((it==null?void 0:it.durationMS)||0)),skillRows:Array.from(Os.values()).sort((ye,Fe)=>Fe.damage-ye.damage).slice(0,50)};const Ke=le.get(Le)||{key:Le,account:de,displayName:de,characterName:$t,profession:Ne,professionList:[Ne],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Ke.logs+=1,Ke.professionList.includes(Ne)||Ke.professionList.push(Ne),!Ke.characterName&&$t&&(Ke.characterName=$t),pt>Ke.peakHit&&(Ke.peakHit=pt,Ke.peakFightLabel=_e,Ke.peakSkillName=lt.skillName),xn>Ke.peak1s&&(Ke.peak1s=xn),cn>Ke.peak5s&&(Ke.peak5s=cn),kn>Ke.peak30s&&(Ke.peak30s=kn),Je>Ke.peakHitDown&&(Ke.peakHitDown=Je),Mn>Ke.peak1sDown&&(Ke.peak1sDown=Mn),An>Ke.peak5sDown&&(Ke.peak5sDown=An),rn>Ke.peak30sDown&&(Ke.peak30sDown=rn),le.set(Le,Ke)});const Xe=Object.values(Re).reduce((Se,de)=>Math.max(Se,Number((de==null?void 0:de.hit)||0)),0),be=Object.values(Re).reduce((Se,de)=>Math.max(Se,Number((de==null?void 0:de.burst1s)||0)),0),nt=Object.values(Re).reduce((Se,de)=>Math.max(Se,Number((de==null?void 0:de.burst5s)||0)),0),ft=Object.values(Re).reduce((Se,de)=>Math.max(Se,Number((de==null?void 0:de.burst30s)||0)),0),fe=Object.values(Re).reduce((Se,de)=>Math.max(Se,Number((de==null?void 0:de.hitDown)||0)),0),xe=Object.values(Re).reduce((Se,de)=>Math.max(Se,Number((de==null?void 0:de.burst1sDown)||0)),0),at=Object.values(Re).reduce((Se,de)=>Math.max(Se,Number((de==null?void 0:de.burst5sDown)||0)),0),wt=Object.values(Re).reduce((Se,de)=>Math.max(Se,Number((de==null?void 0:de.burst30sDown)||0)),0);pe.push({id:Te.filePath||Te.id||`fight-${tt+1}`,shortLabel:`F${tt+1}`,fullLabel:_e,timestamp:gi(it,Te),values:Re,maxHit:Xe,max1s:be,max5s:nt,max30s:ft,maxHitDown:fe,max1sDown:xe,max5sDown:at,max30sDown:wt})});const ot=Array.from(le.values()).sort((Te,tt)=>tt.peakHit!==Te.peakHit?tt.peakHit-Te.peakHit:Te.displayName.localeCompare(tt.displayName));return{fights:pe,players:ot}})(),yt=(()=>{const A=je=>String(je||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),I=je=>A(je).toLowerCase().split(/[^a-z0-9]+/i).map(_e=>_e.trim()).filter(Boolean).map(_e=>_e.length>3&&_e.endsWith("s")?_e.slice(0,-1):_e),Q=(je,_e)=>{const Re=A(je),He=A(_e);if(!He)return Re;if(!Re)return He;const qe=I(Re),Xe=I(He),be=new Set(qe),nt=new Set(Xe),ft=Xe.length>0&&Xe.every(xe=>be.has(xe)),fe=qe.length>0&&qe.every(xe=>nt.has(xe));return ft||fe?Re:`${Re} - ${He}`},pe=[],le=new Map,Ge=(je,_e)=>{const Re=Number(je);if(!Number.isFinite(Re))return{name:String(je||"Unknown Skill"),icon:void 0};const He=(_e==null?void 0:_e.skillMap)||{},qe=(_e==null?void 0:_e.buffMap)||{},Xe=(He==null?void 0:He[`s${Re}`])||(He==null?void 0:He[`${Re}`]);if(Xe!=null&&Xe.name)return{name:String(Xe.name),icon:Xe==null?void 0:Xe.icon};const be=(qe==null?void 0:qe[`b${Re}`])||(qe==null?void 0:qe[`${Re}`]);return be!=null&&be.name?{name:String(be.name),icon:be==null?void 0:be.icon}:{name:`Skill ${Re}`,icon:void 0}},ve=(je,_e)=>{let Re=0,He="";const qe=Xe=>{if(!Xe||typeof Xe!="object"||Xe.indirectDamage)return;const be=[Number(Xe.max),Number(Xe.maxDamage),Number(Xe.maxHit)].filter(ft=>Number.isFinite(ft)),nt=be.length>0?Math.max(...be):0;nt>Re&&(Re=nt,He=Ge(Xe.id,_e).name)};return Array.isArray(je==null?void 0:je.totalDamageDist)&&je.totalDamageDist.forEach(Xe=>{Array.isArray(Xe)&&Xe.forEach(be=>qe(be))}),Array.isArray(je==null?void 0:je.targetDamageDist)&&je.targetDamageDist.forEach(Xe=>{Array.isArray(Xe)&&Xe.forEach(be=>{Array.isArray(be)&&be.forEach(nt=>qe(nt))})}),{peak:Re,skillName:He||"Unknown Skill"}},ut=je=>{if(!Array.isArray(je)||je.length===0)return[];const _e=[];for(let Re=0;Re<je.length;Re+=1){const He=Number(je[Re]||0),qe=Re>0?Number(je[Re-1]||0):0;_e.push(Math.max(0,He-qe))}return _e},ht=je=>{if(!Array.isArray(je)||je.length===0)return[];const _e=je.reduce((He,qe)=>Math.max(He,Array.isArray(qe)?qe.length:0),0);if(_e<=0)return[];const Re=new Array(_e).fill(0);return je.forEach(He=>{if(Array.isArray(He))for(let qe=0;qe<_e;qe+=1)Re[qe]+=Number(He[qe]||0)}),Re},_t=je=>{if(!Array.isArray(je)||je.length===0)return[];const _e=je[0];if(typeof _e=="number")return je.map(Re=>Number(Re||0));if(Array.isArray(_e)&&_e.length>0){if(typeof _e[0]=="number")return _e.map(Re=>Number(Re||0));if(Array.isArray(_e[0])){const Re=_e.map(He=>Array.isArray(He)?He.map(qe=>Number(qe||0)):null).filter(He=>Array.isArray(He)&&He.length>0);if(Re.length>0)return ht(Re)}}return[]},Lt=je=>{const _e=_t(je==null?void 0:je.powerDamage1S),Re=_t(je==null?void 0:je.damage1S),He=_e.length>0?_e:Re;return ut(He)},Ue=(je,_e)=>{const Re=je==null?void 0:je.targetPowerDamage1S;if(!Array.isArray(Re)||!Array.isArray(Re[_e]))return[];const He=Re[_e];if(!Array.isArray(He)||He.length===0)return[];if(typeof He[0]=="number")return He.map(qe=>Number(qe||0));if(Array.isArray(He[0])&&!Array.isArray(He[0][0]))return He[0].map(qe=>Number(qe||0));if(Array.isArray(He[0])&&Array.isArray(He[0][0])){const Xe=He[0].map(be=>Array.isArray(be)?be.map(nt=>Number(nt||0)):null).filter(be=>Array.isArray(be)&&be.length>0);return ht(Xe)}return[]},$e=(je,_e)=>{if(!Array.isArray(je)||je.length===0||_e<=0)return 0;let Re=0,He=0;for(let qe=0;qe<je.length;qe+=1)Re+=Number(je[qe]||0),qe>=_e&&(Re-=Number(je[qe-_e]||0)),qe>=_e-1&&Re>He&&(He=Re);return Math.max(0,He)},ot=(je,_e)=>{if(!Array.isArray(je)||je.length===0||_e<=0)return[];const Re=[];for(let He=0;He<je.length;He+=_e){const qe=Math.min(He+_e,je.length),Xe=je.slice(He,qe).reduce((be,nt)=>be+Number(nt||0),0);Re.push(Xe)}return Re},Te=je=>Array.isArray(je)?je.map(_e=>Array.isArray(_e)?[Number(_e[0]),Number(_e[1])]:_e&&typeof _e=="object"?[Number(_e.time),Number(_e.value)]:null).filter(_e=>!!_e&&Number.isFinite(_e[0])&&_e[0]>=0):[],tt=(je,_e,Re,He,qe)=>{if(!je.length||He<=0)return[];const Xe=Math.max(He*5e3,qe||0),be=de=>de.reduce(($t,Ne)=>Ne>=0&&Ne<=Xe+2e3?$t+1:$t,0),nt=je.map(de=>Number(de||0)).filter(de=>Number.isFinite(de)&&de>=0);if(!nt.length)return[];const ft=[nt],fe=nt.reduce((de,$t)=>Math.max(de,$t),0),xe=nt.reduce((de,$t)=>Math.min(de,$t),Number.POSITIVE_INFINITY);fe>Xe*20&&ft.push(nt.map(de=>de/1e3)),fe<=Xe*2&&xe>=0&&fe>0&&fe<Math.max(120,He*5+10)&&ft.push(nt.map(de=>de*1e3));let at=nt,wt=0,Se=-1;return ft.forEach(de=>{const $t=de.reduce((Le,lt)=>Math.min(Le,lt),Number.POSITIVE_INFINITY),Ne=new Set([0,..._e,...Re]);if(Number.isFinite($t)&&Xe>0&&$t>Xe){const Le=Math.floor($t/Xe)*Xe;Ne.add(Le),Ne.add(Math.max(0,Le-Xe))}Ne.forEach(Le=>{const lt=de.map(Je=>Je-Le),pt=be(lt);pt>Se&&(Se=pt,wt=Le,at=de)})}),at.map(de=>de-wt).filter(de=>Number.isFinite(de)&&de>=0)},it=(je,_e,Re,He,qe)=>{const Xe=tt(je,_e,Re,He,qe);return Array.from(new Set(Xe.map(be=>Math.floor(be/5e3)).filter(be=>Number.isFinite(be)&&be>=0&&be<He)))};o.map(je=>({log:je,ts:gi(je==null?void 0:je.details,je)})).sort((je,_e)=>je.ts-_e.ts).forEach(({log:je},_e)=>{const Re=je==null?void 0:je.details;if(!Re)return;const He=A(Re.fightName||je.fightName||`Fight ${_e+1}`),qe=$a(Re,je),Xe=Q(He,String(qe||"")),be={},ft=(Array.isArray(Re.players)?Re.players:[]).filter(Be=>!(Be!=null&&Be.notInSquad)),fe=ft.flatMap(Be=>{const ct=Be==null?void 0:Be.combatReplayData;return Array.isArray(ct)?ct.map(mt=>Number(mt==null?void 0:mt.start)):[Number(ct==null?void 0:ct.start)]}).filter(Be=>Number.isFinite(Be)&&Be>=0),xe=ft.flatMap(Be=>{const ct=Be==null?void 0:Be.combatReplayData;return(Array.isArray(ct)?ct:ct?[ct]:[]).flatMap(Et=>Te(Et==null?void 0:Et.down).map(([Qt])=>Number(Qt||0)))}),at=ft.flatMap(Be=>{const ct=Be==null?void 0:Be.combatReplayData;return(Array.isArray(ct)?ct:ct?[ct]:[]).flatMap(Et=>Te(Et==null?void 0:Et.dead).map(([Qt])=>Number(Qt||0)))}),wt=new Map,Se=new Map,de=new Map;(Array.isArray(Re.targets)?Re.targets:[]).forEach((Be,ct)=>{if(!Be||Be.isFake||!Be.enemyPlayer)return;const mt=W((Be==null?void 0:Be.profession)||(Be==null?void 0:Be.name)||(Be==null?void 0:Be.id))||"Unknown";de.set(mt,(de.get(mt)||0)+1);const Et=Se.get(mt)||new Map;Array.isArray(Be==null?void 0:Be.totalDamageDist)&&Be.totalDamageDist.forEach(An=>{Array.isArray(An)&&An.forEach(rn=>{if(!rn||typeof rn!="object"||rn.indirectDamage)return;const Zn=Number(rn.totalDamage||0);if(!Number.isFinite(Zn)||Zn<=0)return;const Sn=Number(rn.connectedHits||rn.hits||0),Hr=Ge(rn.id,Re),an=Hr.name,ri=Et.get(an)||{skillName:an,damage:0,hits:0,icon:Hr.icon};ri.damage+=Zn,ri.hits+=Number.isFinite(Sn)?Sn:0,!ri.icon&&Hr.icon&&(ri.icon=Hr.icon),Et.set(an,ri)})}),Se.set(mt,Et);const Qt=ht(ft.map(An=>Ue(An,ct))),xn=Qt.length>0?ut(Qt):Lt(Be),cn=ve(Be,Re);let kn=wt.get(mt);kn||(kn={perSecond:[],hit:0,skillName:""},wt.set(mt,kn)),xn.length>kn.perSecond.length&&(kn.perSecond.length=xn.length);for(let An=0;An<xn.length;An+=1)kn.perSecond[An]=Number(kn.perSecond[An]||0)+Number(xn[An]||0);const Mn=Number(cn.peak||0);Mn>kn.hit&&(kn.hit=Mn,kn.skillName=cn.skillName||"Unknown Skill")});const Ne=Array.from(wt.values()).some(Be=>Array.isArray(Be.perSecond)&&Be.perSecond.some(ct=>Number(ct||0)>0));if(wt.size===0||!Ne){const Be=ht(ft.map(mt=>{const Et=_t(mt==null?void 0:mt.powerDamageTaken1S);return ut(Et)})),ct=Array.from(de.values()).reduce((mt,Et)=>mt+Number(Et||0),0);Be.length>0&&ct>0&&de.forEach((mt,Et)=>{const Qt=Number(mt||0)/ct,xn=Be.map(kn=>Number(kn||0)*Qt),cn=wt.get(Et);wt.set(Et,{perSecond:xn,hit:Number((cn==null?void 0:cn.hit)||0),skillName:String((cn==null?void 0:cn.skillName)||"")})})}wt.forEach((Be,ct)=>{var Hr;const mt=ct,Et=Number(Be.hit||0),Qt=Number($e(Be.perSecond,1)||0),xn=Number($e(Be.perSecond,5)||0),cn=Number($e(Be.perSecond,30)||0),kn=Math.max(0,Math.ceil(Number((Re==null?void 0:Re.durationMS)||0)/5e3)),Mn=Math.max(0,Math.ceil(Be.perSecond.length/5)),An=Math.max(kn,Mn),rn=ot(Be.perSecond,5),Zn=Array.from({length:An},(an,ri)=>Number(rn[ri]||0));be[mt]={hit:Et,burst1s:Qt,burst5s:xn,burst30s:cn,skillName:Be.skillName||"Unknown Skill",buckets5s:Zn,downIndices5s:it(xe,[],fe,An,Number((Re==null?void 0:Re.durationMS)||0)),deathIndices5s:it(at,[],fe,An,Number((Re==null?void 0:Re.durationMS)||0)),skillRows:Array.from(((Hr=Se.get(ct))==null?void 0:Hr.values())||[]).sort((an,ri)=>ri.damage-an.damage).slice(0,50)};const Sn=le.get(mt)||{key:mt,account:ct,displayName:ct,characterName:"",profession:ct,professionList:[ct],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Sn.logs+=1,Et>Sn.peakHit&&(Sn.peakHit=Et,Sn.peakFightLabel=Xe,Sn.peakSkillName=Be.skillName||"Unknown Skill"),Qt>Sn.peak1s&&(Sn.peak1s=Qt),xn>Sn.peak5s&&(Sn.peak5s=xn),cn>Sn.peak30s&&(Sn.peak30s=cn),le.set(mt,Sn)});const Le=Object.values(be).reduce((Be,ct)=>Math.max(Be,Number((ct==null?void 0:ct.hit)||0)),0),lt=Object.values(be).reduce((Be,ct)=>Math.max(Be,Number((ct==null?void 0:ct.burst1s)||0)),0),pt=Object.values(be).reduce((Be,ct)=>Math.max(Be,Number((ct==null?void 0:ct.burst5s)||0)),0),Je=Object.values(be).reduce((Be,ct)=>Math.max(Be,Number((ct==null?void 0:ct.burst30s)||0)),0);pe.push({id:je.filePath||je.id||`fight-${_e+1}`,shortLabel:`F${_e+1}`,fullLabel:Xe,timestamp:gi(Re,je),values:be,maxHit:Le,max1s:lt,max5s:pt,max30s:Je})});const kt=Array.from(le.values()).sort((je,_e)=>_e.peakHit!==je.peakHit?_e.peakHit-je.peakHit:je.displayName.localeCompare(_e.displayName));return{fights:pe,players:kt}})(),Rn=Array.from(D.entries()).map(([A,I])=>{const Q=E.get(A)||{},pe=Array.from(I.values()).map(le=>{var $e,ot;const Ge=Array.from(le.professions||[]).filter(Te=>Te&&Te!=="Unknown");let ve=le.profession||"Unknown";if(Ge.length>0){ve=Ge[0];let Te=(($e=le.professionTimeMs)==null?void 0:$e[ve])||0;Ge.forEach(tt=>{var kt;const it=((kt=le.professionTimeMs)==null?void 0:kt[tt])||0;it>Te&&(Te=it,ve=tt)})}const ut=le.durationMs||0,ht=le.totalMs/1e3,_t=ut>0?le.totalMs/ut:0,Lt=((ot=O.get(le.account))==null?void 0:ot.supportActiveMs)||ut,Ue=Lt>0?le.uptimeMs/Lt:0;return{account:le.account,profession:ve,professionList:Ge,total:ht,perSecond:_t,uptimePerSecond:Ue,duration:ut/1e3}}).filter(le=>le.total>0||le.perSecond>0);return{id:A,name:Q.name||A,icon:Q.icon,rows:pe}}).filter(A=>A.rows.length>0),$r=Array.from(ge.values()).map(A=>{const I=Array.from(A.skills.values()).sort((pe,le)=>le.damage-pe.damage),Q={key:A.key,account:A.account,displayName:A.displayName,profession:A.profession,professionList:A.professionList,totalFightMs:A.totalFightMs,skills:I};return p&&(Q.skillMap=I.reduce((pe,le)=>(pe[le.id]=le,pe),{})),Q}).sort((A,I)=>A.displayName.localeCompare(I.displayName));return{total:x,wins:w,losses:y,avgSquadSize:Ee,avgEnemies:xt,squadKDR:zt,enemyKDR:pn,totalSquadKills:j,totalSquadDeaths:S,totalEnemyKills:$,totalEnemyDeaths:M,leaderboards:un,...Lr,outgoingConditionSummary:Object.values(Y).sort((A,I)=>I.damage-A.damage),incomingConditionSummary:Object.values(q).sort((A,I)=>I.damage-A.damage),outgoingConditionPlayers:Array.from(O.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,conditions:A.outgoingConditions})),incomingConditionPlayers:Array.from(O.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,conditions:A.incomingConditions})),topSkills:sr,topIncomingSkills:ga,topSkillsByDamage:ti,topSkillsByDownContribution:Ts,playerSkillBreakdowns:$r,topSkillsMetric:b,mapData:ec,timelineData:va,boonTables:tc,boonTimeline:Vd,offensePlayers:Array.from(O.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,offenseTotals:A.offenseTotals,offenseRateWeights:A.offenseRateWeights,totalFightMs:A.totalFightMs})),defensePlayers:Array.from(O.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,defenseTotals:A.defenseTotals,activeMs:A.defenseActiveMs,minionDamageTakenByMinion:A.defenseMinionDamageTaken})),damageMitigationPlayers:nn,damageMitigationMinions:Xt,supportPlayers:Array.from(O.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,supportTotals:A.supportTotals,activeMs:A.supportActiveMs})),healingPlayers:Array.from(O.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,healingTotals:A.healingTotals,activeMs:A.healingActiveMs})),mvp:Dr,silver:cu,bronze:ao,squadClassData:tl,enemyClassData:Ae,fightBreakdown:We,fightDiffMode:bt,attendanceData:Rt,squadCompByFight:qt,spikeDamage:Pt,incomingStrikeDamage:yt,specialTables:Rn,topStatsPerSecond:Cn,topStatsLeaderboardsPerSecond:jn,avgMvpScore:el}})(),h=(()=>{const m=new Map,p=new Map,g=[],b=new Map,x=new Map;o.forEach(y=>{const N=y.details;if(!N)return;const C=N.skillMap||{},S=N.fightName||"Log",j=gi(N,y)||Date.now(),M={id:y.filePath||y.id||S,label:S,timestamp:j,skillEntries:{},playerActiveSeconds:{},durationSeconds:N.durationMS?N.durationMS/1e3:0};(N.players||[]).forEach(T=>{if(T.notInSquad)return;const _=T.account||T.name||"Unknown",O=T.profession||"Unknown",G=`${_}|${O}`;let J=p.get(G);J||(J={key:G,account:_,displayName:_,profession:O,professionList:[O],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(G,J)),J.logs++;const ue=(Array.isArray(T.activeTimes)?T.activeTimes[0]:0)/1e3;J.totalActiveSeconds=(J.totalActiveSeconds||0)+ue,M.playerActiveSeconds[G]=ue,(T.rotation||[]).forEach(ge=>{var D,ie,k;if(!(ge!=null&&ge.id))return;const Y=((D=ge.skills)==null?void 0:D.length)||0;if(Y<=0)return;const q=`s${ge.id}`,K=((ie=C[q])==null?void 0:ie.name)||`Skill ${ge.id}`,E=(k=C[q])==null?void 0:k.icon;J.skillTotals[q]=(J.skillTotals[q]||0)+Y,m.set(q,(m.get(q)||0)+Y),b.set(q,K),E&&!x.has(q)&&x.set(q,E),M.skillEntries[q]||(M.skillEntries[q]={name:K,icon:E,players:{}}),!M.skillEntries[q].icon&&E&&(M.skillEntries[q].icon=E),M.skillEntries[q].players[G]=(M.skillEntries[q].players[G]||0)+Y})}),g.push(M)});const w=Array.from(m.entries()).map(([y,N])=>({id:y,name:b.get(y)||y,total:N,icon:x.get(y)})).sort((y,N)=>N.total-y.total);return{logRecords:g,players:Array.from(p.values()),skillOptions:w,resUtilitySkills:[]}})();return{validLogs:o,stats:f,skillUsageData:h}},m8=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=v.useState({uploading:!1,message:null,url:null}),[u,d]=v.useState("idle"),f=()=>{const g=new Set;let b=null,x=null;e.forEach(T=>{const _=T.details;if(!_)return;const O=_.timeStartStd||_.timeStart||_.uploadTime||T.uploadTime,G=_.timeEndStd||_.timeEnd||_.uploadTime||T.uploadTime,J=O?new Date(O):null,ue=G?new Date(G):null;J&&!Number.isNaN(J.getTime())&&(!b||J<b)&&(b=J),ue&&!Number.isNaN(ue.getTime())&&(!x||ue>x)&&(x=ue),(_.players||[]).forEach(Y=>{if(!(Y!=null&&Y.notInSquad)&&Y!=null&&Y.hasCommanderTag){const q=(Y==null?void 0:Y.name)||(Y==null?void 0:Y.account)||"Unknown";g.add(q)}})});const w=Array.from(g).sort((T,_)=>T.localeCompare(_)),y=b||new Date,N=x||y,C=y.toISOString(),S=N.toISOString(),j=`${y.toLocaleString()} - ${N.toLocaleString()}`,M=T=>String(T).padStart(2,"0");return{id:`${y.getFullYear()}${M(y.getMonth()+1)}${M(y.getDate())}-${M(y.getHours())}${M(y.getMinutes())}${M(y.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:w.length?w.join(", "):"Unknown Commander",commanders:w,dateStart:C,dateEnd:S,dateLabel:j,generatedAt:new Date().toISOString()}},h=()=>{var b;const g={...t,skillUsageData:n,statsViewSettings:r,uiTheme:i};if(Array.isArray(g.fightDiffMode)&&g.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return g;try{const x=wf({logs:e,statsViewSettings:r}),w=(b=x==null?void 0:x.stats)==null?void 0:b.fightDiffMode;if(Array.isArray(w)&&w.length>0)return{...g,fightDiffMode:w}}catch{}return g};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:u,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const g=f(),b=h();await s({meta:g,stats:b})}catch(g){console.error("[StatsView] Web upload failed:",g)}},handleDevMockUpload:async()=>{var g;if(!(a||!((g=window.electronAPI)!=null&&g.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const b=f(),x=h(),w=await window.electronAPI.mockWebReport({meta:b,stats:x});w!=null&&w.success?l({uploading:!1,message:"Local report ready.",url:w.url||null}):l({uploading:!1,message:(w==null?void 0:w.error)||"Local report failed.",url:null})}catch(b){l({uploading:!1,message:(b==null?void 0:b.message)||"Local report failed.",url:null})}}}}};function h8(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const p8=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Ll(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Su=null;function b5(e={}){return Su||(e.includeStyleProperties?(Su=e.includeStyleProperties,Su):(Su=Ll(window.getComputedStyle(document.documentElement)),Su))}function kg(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function g8(e){const t=kg(e,"border-left-width"),n=kg(e,"border-right-width");return e.clientWidth+t+n}function x8(e){const t=kg(e,"border-top-width"),n=kg(e,"border-bottom-width");return e.clientHeight+t+n}function y5(e,t={}){const n=t.width||g8(e),r=t.height||x8(e);return{width:n,height:r}}function v8(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const wa=16384;function b8(e){(e.width>wa||e.height>wa)&&(e.width>wa&&e.height>wa?e.width>e.height?(e.height*=wa/e.width,e.width=wa):(e.width*=wa/e.height,e.height=wa):e.width>wa?(e.height*=wa/e.width,e.width=wa):(e.width*=wa/e.height,e.height=wa))}function Sg(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function y8(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function w8(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),y8(i)}const ua=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ua(n,t)};function k8(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function S8(e,t){return b5(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function N8(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?k8(n):S8(n,r);return document.createTextNode(`${i}{${a}}`)}function q2(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=p8();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(N8(s,n,i,r)),t.appendChild(o)}function C8(e,t,n){q2(e,t,":before",n),q2(e,t,":after",n)}const K2="application/font-woff",G2="image/jpeg",j8={woff:K2,woff2:K2,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:G2,jpeg:G2,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function A8(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function bk(e){const t=A8(e).toLowerCase();return j8[t]||""}function P8(e){return e.split(/,/)[1]}function zy(e){return e.search(/^(data:)/)!==-1}function D8(e,t){return`data:${t};base64,${e}`}async function w5(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const Uv={};function T8(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function yk(e,t,n){const r=T8(e,t,n.includeQueryParams);if(Uv[r]!=null)return Uv[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await w5(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),P8(o)));i=D8(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return Uv[r]=i,i}async function E8(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Sg(t)}async function M8(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return Sg(o)}const n=e.poster,r=bk(n),i=await yk(n,r,t);return Sg(i)}async function O8(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await Q0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function I8(e,t){return ua(e,HTMLCanvasElement)?E8(e):ua(e,HTMLVideoElement)?M8(e,t):ua(e,HTMLIFrameElement)?O8(e,t):e.cloneNode(k5(e))}const _8=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",k5=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function L8(e,t,n){var r,i;if(k5(t))return t;let a=[];return _8(e)&&e.assignedNodes?a=Ll(e.assignedNodes()):ua(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=Ll(e.contentDocument.body.childNodes):a=Ll(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||ua(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>Q0(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function $8(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):b5(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),ua(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function F8(e,t){ua(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ua(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function R8(e,t){if(ua(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function B8(e,t,n){return ua(t,Element)&&($8(e,t,n),C8(e,t,n),F8(e,t),R8(e,t)),t}async function z8(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),u=document.querySelector(o);!l&&u&&!r[o]&&(r[o]=await Q0(u,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function Q0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>I8(r,t)).then(r=>L8(e,r,t)).then(r=>B8(e,r,t)).then(r=>z8(r,t))}const S5=/url\((['"]?)([^'"]+?)\1\)/g,U8=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,V8=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function W8(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function H8(e){const t=[];return e.replace(S5,(n,r,i)=>(t.push(i),n)),t.filter(n=>!zy(n))}async function q8(e,t,n,r,i){try{const a=n?h8(t,n):t,s=bk(t);let o;return i||(o=await yk(a,s,r)),e.replace(W8(t),`$1${o}$3`)}catch{}return e}function K8(e,{preferredFontFormat:t}){return t?e.replace(V8,n=>{for(;;){const[r,,i]=U8.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function N5(e){return e.search(S5)!==-1}async function C5(e,t,n){if(!N5(e))return e;const r=K8(e,n);return H8(r).reduce((a,s)=>a.then(o=>q8(o,s,t,n)),Promise.resolve(r))}async function Nu(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await C5(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function G8(e,t){await Nu("background",e,t)||await Nu("background-image",e,t),await Nu("mask",e,t)||await Nu("-webkit-mask",e,t)||await Nu("mask-image",e,t)||await Nu("-webkit-mask-image",e,t)}async function Y8(e,t){const n=ua(e,HTMLImageElement);if(!(n&&!zy(e.src))&&!(ua(e,SVGImageElement)&&!zy(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await yk(r,bk(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(u){s(u)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function X8(e,t){const r=Ll(e.childNodes).map(i=>j5(i,t));await Promise.all(r).then(()=>e)}async function j5(e,t){ua(e,Element)&&(await G8(e,t),await Y8(e,t),await X8(e,t))}function Q8(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const Y2={};async function X2(e){let t=Y2[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},Y2[e]=t,t}async function Q2(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),w5(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function Z2(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function Z8(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{Ll(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,u=X2(l).then(d=>Q2(d,t)).then(d=>Z2(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(u)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(X2(i.href).then(o=>Q2(o,t)).then(o=>Z2(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{Ll(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function J8(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>N5(t.style.getPropertyValue("src")))}async function eV(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Ll(e.ownerDocument.styleSheets),r=await Z8(n,t);return J8(r)}function A5(e){return e.trim().replace(/["']/g,"")}function tV(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(A5(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function nV(e,t){const n=await eV(e,t),r=tV(e);return(await Promise.all(n.filter(a=>r.has(A5(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return C5(a.cssText,s,t)}))).join(`
`)}async function rV(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await nV(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function iV(e,t={}){const{width:n,height:r}=y5(e,t),i=await Q0(e,t,!0);return await rV(i,t),await j5(i,t),Q8(i,t),await w8(i,n,r)}async function aV(e,t={}){const{width:n,height:r}=y5(e,t),i=await iV(e,t),a=await Sg(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||v8(),u=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=u*l,s.height=d*l,t.skipAutoScale||b8(s),s.style.width=`${u}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function sV(e,t={}){return(await aV(e,t)).toDataURL()}const oV=e=>{const[t,n]=v.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),u=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=u,globalThis.fetch=u;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],u=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var w;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const g=await u(p);if(!g)return;const b=m.src,x=m.srcset;m.src=g,m.srcset="",l.push(()=>{m.src=b,m.srcset=x});try{await((w=m.decode)==null?void 0:w.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const g=window.getComputedStyle(m).backgroundImage;if(!g||g==="none"||!g.includes("url("))return;const b=Array.from(g.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!b.length)return;let x=g,w=!1;for(const N of b){const C=N[1];if(!C)continue;const S=await u(C);S&&(x=x.replace(N[0],`url("${S}")`),w=!0)}if(!w)return;const y=m.style.backgroundImage;m.style.backgroundImage=x,l.push(()=>{m.style.backgroundImage=y})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(g=>setTimeout(g,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(g=>{g.dataset.prevDisplay=g.style.display,g.style.display="none"});let u;const d=await i(s);try{const g=s.scrollWidth,b=s.scrollHeight;u=await r(()=>sV(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:g,height:b,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(g=>{g.style.display=g.dataset.prevDisplay||"",delete g.dataset.prevDisplay})}const m=await(await(await fetch(u)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},kf=(e,t)=>{const n={};return t.forEach(r=>{e&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}),n},lV=e=>!!(e&&e.__statsPruned===!0),J2=(e,t)=>{if(!e||typeof e!="object")return e;const n={};return Object.entries(e).forEach(([r,i])=>{if(!i||typeof i!="object")return;const a={};typeof i.name=="string"&&(a.name=i.name),typeof i.icon=="string"&&(a.icon=i.icon),t!=null&&t.includeClassification&&typeof i.classification=="string"&&(a.classification=i.classification),t!=null&&t.includeStacking&&(typeof i.stacking=="boolean"?a.stacking=i.stacking:typeof i.stacking=="number"&&(a.stacking=!!i.stacking)),Object.keys(a).length>0&&(n[r]=a)}),n},ej=e=>{var n;const t=(n=e==null?void 0:e.statsAll)==null?void 0:n[0];return!t||typeof t!="object"?!1:t.distToCom!==void 0&&t.distToCom!=="Infinity"||t.stackDist!==void 0},cV=(e,t)=>{const n=r=>{if(!r||typeof r!="object")return null;const i=kf(r,["start","down","dead"]);return t&&Array.isArray(r.positions)&&(i.positions=r.positions),i};return Array.isArray(e)?e.map(r=>n(r)).filter(r=>!!r):e&&typeof e=="object"?n(e):e},tj=e=>{if(!e||typeof e!="object")return e;const t=kf(e,["players","targets","durationMS","uploadTime","timeStart","timeStartStd","timeEnd","timeEndStd","fightName","zone","mapName","map","location","permalink","uploadLinks","success","teamBreakdown","teamCounts","combatReplayMetaData","skillMap","buffMap","encounterDuration","player_damage_mitigation","player_minion_damage_mitigation","playerDamageMitigation","playerMinionDamageMitigation"]);if(t.skillMap=J2(t.skillMap,{includeClassification:!1,includeStacking:!1}),t.buffMap=J2(t.buffMap,{includeClassification:!0,includeStacking:!0}),Array.isArray(t.players)){const n=e.players,i=n.filter(a=>!(a!=null&&a.notInSquad)).some(a=>!(a!=null&&a.hasCommanderTag)&&!ej(a));t.players=n.map(a=>{const s=kf(a,["name","display_name","character_name","profession","elite_spec","group","dpsAll","statsAll","dpsTargets","statsTargets","defenses","support","rotation","extHealingStats","extBarrierStats","squadBuffVolumes","selfBuffs","groupBuffs","squadBuffs","selfBuffsActive","groupBuffsActive","squadBuffsActive","buffUptimes","totalDamageDist","targetDamageDist","damage1S","targetDamage1S","powerDamageTaken1S","targetPowerDamage1S","totalDamageTaken","totalDamageTakenDist","hasCommanderTag","notInSquad","account","activeTimes","teamID","teamId","team","teamColor","team_color"]),o=Array.isArray(a==null?void 0:a.minions)?a.minions:[];s.minions=o.map(u=>kf(u,["name","totalDamageTakenDist"]));const l=i&&((a==null?void 0:a.hasCommanderTag)&&!(a!=null&&a.notInSquad)||!(a!=null&&a.notInSquad)&&!ej(a));return s.combatReplayData=cV(a==null?void 0:a.combatReplayData,l),s})}return Array.isArray(t.targets)&&(t.targets=t.targets.map(n=>kf(n,["id","name","isFake","dpsAll","statsAll","defenses","totalHealth","healthPercentBurned","enemyPlayer","totalDamageDist","totalDamageTaken","totalDamageTakenDist","damageTaken","powerDamage1S","damage1S","profession","teamID","teamId","team","teamColor","team_color"]))),t},uV=e=>{if(!e||typeof e!="object"||lV(e))return e;const t={...e};return e.details?t.details=tj(e.details):t.details=tj(e),t.__statsPruned=!0,t},dV=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const s=e.length>8,[o,l]=v.useState(()=>wf(typeof Worker<"u"&&s?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[u,d]=v.useState(0),[f,h]=v.useState(0),[m,p]=v.useState(0),[g,b]=v.useState(0),[x,w]=v.useState(null),y=v.useRef(0),[N,C]=v.useState(0),S=v.useRef(null),j=v.useRef(null),[M,$]=v.useState(!1),T=v.useRef(null),_=v.useRef(null),O=v.useRef(0),G=v.useRef(0),J=v.useRef(new Map),ue=v.useRef(""),ge=v.useRef(void 0),Y=v.useRef(""),q=v.useRef(0),[K,E]=v.useState({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),[D,ie]=v.useState(null),k=v.useRef(0),V=()=>{if(T.current!==null&&(window.clearTimeout(T.current),T.current=null),_.current!==null){const H=window.cancelIdleCallback;typeof H=="function"&&H(_.current),_.current=null}},W=(H,ee)=>{const R=String((H==null?void 0:H.filePath)||(H==null?void 0:H.id)||`idx-${ee}`),ce=H!=null&&H.details&&typeof H.details=="object"?H.details:null,X=J.current.get(R);if(X&&(ce&&X.sourceDetails===ce||!ce&&X.sourceLog===H))return X.pruned;const ae=uV(H);return J.current.set(R,{sourceLog:H,sourceDetails:ce,pruned:ae}),ae},re=v.useMemo(()=>{if(!r){ue.current="",ge.current=void 0;return}const H={...r};delete H.topSkillsMetric;const ee=JSON.stringify(H);return ue.current!==ee&&(ue.current=ee,ge.current=H),ge.current},[r]);v.useEffect(()=>{if(!(typeof Worker>"u")&&!M&&s)return j.current||(j.current=new Worker(new URL(""+new URL("statsWorker-BiuKDpJI.js",import.meta.url).href,import.meta.url),{type:"module"}),j.current.onmessage=H=>{var ee;if(((ee=H.data)==null?void 0:ee.type)==="result"){const R=typeof H.data.token=="number"?H.data.token:null;if(R!==null&&R!==y.current)return;v.startTransition(()=>{var ze;l(H.data.result),typeof H.data.computeId=="number"?d(H.data.computeId):d(Ve=>Ve+1),typeof H.data.logCount=="number"&&h(H.data.logCount),typeof H.data.token=="number"&&p(H.data.token),typeof H.data.completedAt=="number"&&b(H.data.completedAt),typeof H.data.flushId=="number"&&w(H.data.flushId);const ce=R===null||R===y.current,X=q.current,ae=typeof H.data.logCount=="number"?H.data.logCount:0;if(ce){const Ve=typeof H.data.completedAt=="number"?H.data.completedAt:Date.now(),he=((ze=H.data)==null?void 0:ze.diagnostics)||{},L=Math.max(0,Number(he.computeMs||0)),Pe=k.current>0?k.current:Ve,Ee=Math.max(0,Ve-Pe),xt=Math.max(0,Ee-L);ie({mode:"worker",logsInPayload:Number(he.logsInPayload||H.data.logCount||0),streamedLogs:Number(H.data.logCount||0),totalLogs:X,startedAt:Pe,completedAt:Ve,streamMs:xt,computeMs:L,totalMs:Ee,flushId:typeof H.data.flushId=="number"?H.data.flushId:null,transferStripStats:he.transferStripStats,counts:he.counts,expectedLogCount:Number(he.expectedLogCount||0),droppedLogMessages:Number(he.droppedLogMessages||0)})}ce&&ae>=X&&E(Ve=>({...Ve,active:X>0,phase:X>0?"settled":"idle",streamed:X,total:X,completedAt:typeof H.data.completedAt=="number"?H.data.completedAt:Date.now()}))})}},j.current.onerror=H=>{var ee;console.warn("[StatsWorker] Worker error. Falling back to main thread.",H),(ee=j.current)==null||ee.terminate(),j.current=null,$(!0)},j.current.onmessageerror=H=>{var ee;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",H),(ee=j.current)==null||ee.terminate(),j.current=null,$(!0)},S.current!==null&&j.current.postMessage({type:"flush",flushId:S.current,token:y.current})),()=>{var H;G.current+=1,V(),(H=j.current)==null||H.terminate(),j.current=null}},[M,s]),v.useEffect(()=>{var R;if(!j.current||M||!s)return;const H=G.current+1;G.current=H;let ee=!1;try{q.current=e.length,k.current=Date.now(),ie(null),E({active:e.length>0,phase:e.length>0?"streaming":"idle",streamed:0,total:e.length,startedAt:Date.now(),completedAt:0});const ce=y.current+1;y.current=ce,C(ce);const X=new Set;e.forEach((Pe,Ee)=>{X.add(String((Pe==null?void 0:Pe.filePath)||(Pe==null?void 0:Pe.id)||`idx-${Ee}`))}),J.current.forEach((Pe,Ee)=>{X.has(Ee)||J.current.delete(Ee)}),V(),j.current.postMessage({type:"reset",token:ce,totalLogs:e.length}),j.current.postMessage({type:"settings",token:ce,payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:re,disruptionMethod:i}});let ae=0;const ze=e.length,Ve=(Pe,Ee=!1)=>{const xt=performance.now();if(!Ee&&xt-O.current<120&&ae<ze)return;O.current=xt;const zt=Math.min(ae,ze);E(pn=>pn.active===ze>0&&pn.phase===Pe&&pn.streamed===zt&&pn.total===ze?pn:{...pn,active:ze>0,phase:Pe,streamed:zt,total:ze})},he=()=>{if(ee||G.current!==H||!j.current)return;const Pe=window.requestIdleCallback;if(typeof Pe=="function"){_.current=Pe(Ee=>{_.current=null,L(Ee)},{timeout:120});return}T.current=window.setTimeout(()=>{T.current=null,L()},0)},L=Pe=>{if(ee||G.current!==H||!j.current)return;const Ee=!!(Pe&&typeof Pe.timeRemaining=="function"),xt=Ee?Math.max(0,Number(Pe.timeRemaining()||0)):0,zt=Ee?xt>12?4:xt>7?2:1:1;let pn=0;for(;pn<zt&&ae<ze;)j.current.postMessage({type:"log",token:ce,payload:W(e[ae],ae)}),ae+=1,pn+=1;ae<ze?(Ve("streaming"),he()):(Ve("computing",!0),j.current.postMessage({type:"flush",token:ce}))};O.current=0,ze<=0?(Ve("computing",!0),j.current.postMessage({type:"flush",token:ce})):(Ve("streaming",!0),he())}catch(ce){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",ce),V(),(R=j.current)==null||R.terminate(),j.current=null,$(!0),E({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),ie(null)}return()=>{ee=!0,V()}},[e,t,n,re,i,s,M]);const ne=v.useMemo(()=>{if(!M&&typeof Worker<"u"&&s)return null;const H=Date.now(),ee=performance.now(),R=wf({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:re,disruptionMethod:i}),ce=Math.max(0,performance.now()-ee),X=Date.now();return{result:R,computeMs:ce,startedAt:H,completedAt:X}},[M,e,t,n,re,i,s]),se=v.useMemo(()=>{if(!M&&typeof Worker<"u"&&s)return"worker";const H=e[0],ee=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(H==null?void 0:H.filePath)||(H==null?void 0:H.name)||"",lastLogPath:(ee==null?void 0:ee.filePath)||(ee==null?void 0:ee.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:i||null,settingsKey:ue.current})},[M,s,e,t,i]);v.useEffect(()=>{if(!M&&typeof Worker<"u"&&s||Y.current===se)return;Y.current=se,d(ee=>ee+1),h(e.length),p(y.current);const H=Date.now();b(H),ie({mode:"fallback",logsInPayload:e.length,streamedLogs:e.length,totalLogs:e.length,startedAt:(ne==null?void 0:ne.startedAt)||H,completedAt:H,streamMs:0,computeMs:Math.max(0,Number((ne==null?void 0:ne.computeMs)||0)),totalMs:Math.max(0,Number((ne==null?void 0:ne.computeMs)||0)),flushId:null})},[se,ne,M,e.length,s]);const F=M||typeof Worker>"u"||!s?(ne==null?void 0:ne.result)??wf({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:re,disruptionMethod:i}):o,U=!M&&typeof Worker<"u"&&s?K:{active:!1,phase:"idle",streamed:e.length,total:e.length,startedAt:0,completedAt:Date.now()};return{result:F,computeTick:u,lastComputedLogCount:f,lastComputedToken:m,activeToken:N,lastComputedAt:g,lastComputedFlushId:x,aggregationProgress:U,aggregationDiagnostics:D,requestFlush:()=>{const H=Date.now();return S.current=H,j.current&&!M&&j.current.postMessage({type:"flush",flushId:H,token:y.current}),H}}},fV=e=>({apmSpecBuckets:v.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let u=!1;return l&&typeof l.autoAttack=="boolean"?u=l.autoAttack:u=bU(s),i.set(o,u),u};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const u=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(u)&&u>0?u:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([C,S])=>{const j=Number(S);if(!Number.isFinite(j)||j<=0)return;const M=r.get(C),$=(M==null?void 0:M.name)||C,T=M==null?void 0:M.icon,_=a($,C);f+=j,_&&(h+=j);let O=l.skillMap.get(C);O||(O={id:C,name:$,icon:T,totalCasts:0,playerCounts:new Map},l.skillMap.set(C,O)),!O.icon&&T&&(O.icon=T),O.totalCasts+=j;const G=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;O.playerCounts.set(G,j)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,g=p>0?f/p:0,b=Math.max(0,f-h),x=p>0?b/p:0,w=d>0?f/d:0,y=d>0?b/d:0,N={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:g,apmNoAuto:x,aps:w,apsNoAuto:y};l.playerRows.push(N)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,u=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?u/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?u/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(g=>{var N;const b=Number(((N=d.playerCounts)==null?void 0:N.get(g.key))||0);if(!Number.isFinite(b)||b<=0)return null;const x=Number(g.totalActiveSeconds||0),w=x>0?b/(x/60):0,y=x>0?b/x:0;return{...g,count:b,apm:w,aps:y}}).filter(Boolean).sort((g,b)=>b.apm-g.apm||String(g.displayName||"").localeCompare(String(b.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),mV=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=v.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=v.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const g=h.totalActiveSeconds||1;p=g>0?m/g:0}d.set(h.key,p)}),d},[e.players,t,r]),s=v.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=v.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const g=m.skillEntries[t];if(!g)return null;const b={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let x=!1,w=!1;if(Object.entries(g.players).forEach(([y,N])=>{var S;if(n.size>0&&!n.has(y))return;let C=N;if(f){const j=((S=m.playerActiveSeconds)==null?void 0:S[y])||0;C=j>0?N/j:0}b[y]=C,C>d&&(d=C),x=!0,w=!0}),n.size>0){if(!w)return null}else if(!x)return null;return n.forEach(y=>{b[y]===void 0&&(b[y]=0)}),b}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),u=v.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:u}};function P5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=P5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Fn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=P5(e))&&(r&&(r+=" "),r+=t);return r}var hV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function wk(e){if(typeof e!="string")return!1;var t=hV;return t.includes(e)}var pV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gV=new Set(pV);function D5(e){return typeof e!="string"?!1:gV.has(e)}function T5(e){return typeof e=="string"&&e.startsWith("data-")}function ns(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(D5(n)||T5(n))&&(t[n]=e[n]);return t}function hd(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ns(t)}return typeof e=="object"&&!Array.isArray(e)?ns(e):null}function Gi(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(D5(n)||T5(n)||wk(n))&&(t[n]=e[n]);return t}function xV(e){return e==null?null:v.isValidElement(e)?Gi(e.props):typeof e=="object"&&!Array.isArray(e)?Gi(e):null}var vV=["children","width","height","viewBox","className","style","title","desc"];function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uy.apply(null,arguments)}function bV(e,t){if(e==null)return{};var n,r,i=yV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kk=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,d=bV(e,vV),f=a||{width:r,height:i,x:0,y:0},h=Fn("recharts-surface",s);return v.createElement("svg",Uy({},Gi(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,u),n)}),wV=["children","className"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(null,arguments)}function kV(e,t){if(e==null)return{};var n,r,i=SV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var da=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=kV(e,wV),a=Fn("recharts-layer",r);return v.createElement("g",Vy({className:a},Gi(i),{ref:t}),n)}),E5=v.createContext(null),NV=()=>v.useContext(E5);function rr(e){return function(){return e}}const M5=Math.cos,Ng=Math.sin,As=Math.sqrt,Cg=Math.PI,Z0=2*Cg,Wy=Math.PI,Hy=2*Wy,gc=1e-6,CV=Hy-gc;function O5(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function jV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return O5;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class AV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?O5:jV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>gc)if(!(Math.abs(f*l-u*d)>gc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,g=l*l+u*u,b=m*m+p*p,x=Math.sqrt(g),w=Math.sqrt(h),y=a*Math.tan((Wy-Math.acos((g+h-b)/(2*x*w)))/2),N=y/w,C=y/x;Math.abs(N-1)>gc&&this._append`L${t+N*d},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+C*l},${this._y1=n+C*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>gc||Math.abs(this._y1-d)>gc)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Hy+Hy),h>CV?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>gc&&this._append`A${r},${r},0,${+(h>=Wy)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Sk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new AV(t)}function Nk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function I5(e){this._context=e}I5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function J0(e){return new I5(e)}function _5(e){return e[0]}function L5(e){return e[1]}function $5(e,t){var n=rr(!0),r=null,i=J0,a=null,s=Sk(o);e=typeof e=="function"?e:e===void 0?_5:rr(e),t=typeof t=="function"?t:t===void 0?L5:rr(t);function o(l){var u,d=(l=Nk(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,l),+t(f,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:rr(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:rr(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:rr(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function np(e,t,n){var r=null,i=rr(!0),a=null,s=J0,o=null,l=Sk(u);e=typeof e=="function"?e:e===void 0?_5:rr(+e),t=typeof t=="function"?t:rr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?L5:rr(+n);function u(f){var h,m,p,g=(f=Nk(f)).length,b,x=!1,w,y=new Array(g),N=new Array(g);for(a==null&&(o=s(w=l())),h=0;h<=g;++h){if(!(h<g&&i(b=f[h],h,f))===x)if(x=!x)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(y[p],N[p]);o.lineEnd(),o.areaEnd()}x&&(y[h]=+e(b,h,f),N[h]=+t(b,h,f),o.point(r?+r(b,h,f):y[h],n?+n(b,h,f):N[h]))}if(w)return o=null,w+""||null}function d(){return $5().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:rr(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:rr(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rr(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:rr(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:rr(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:rr(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:rr(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class F5{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function PV(e){return new F5(e,!0)}function DV(e){return new F5(e,!1)}const Ck={draw(e,t){const n=As(t/Cg);e.moveTo(n,0),e.arc(0,0,n,0,Z0)}},TV={draw(e,t){const n=As(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},R5=As(1/3),EV=R5*2,MV={draw(e,t){const n=As(t/EV),r=n*R5;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},OV={draw(e,t){const n=As(t),r=-n/2;e.rect(r,r,n,n)}},IV=.8908130915292852,B5=Ng(Cg/10)/Ng(7*Cg/10),_V=Ng(Z0/10)*B5,LV=-M5(Z0/10)*B5,$V={draw(e,t){const n=As(t*IV),r=_V*n,i=LV*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=Z0*a/5,o=M5(s),l=Ng(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},Vv=As(3),FV={draw(e,t){const n=-As(t/(Vv*3));e.moveTo(0,n*2),e.lineTo(-Vv*n,-n),e.lineTo(Vv*n,-n),e.closePath()}},za=-.5,Ua=As(3)/2,qy=1/As(12),RV=(qy/2+1)*3,BV={draw(e,t){const n=As(t/RV),r=n/2,i=n*qy,a=r,s=n*qy+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(za*r-Ua*i,Ua*r+za*i),e.lineTo(za*a-Ua*s,Ua*a+za*s),e.lineTo(za*o-Ua*l,Ua*o+za*l),e.lineTo(za*r+Ua*i,za*i-Ua*r),e.lineTo(za*a+Ua*s,za*s-Ua*a),e.lineTo(za*o+Ua*l,za*l-Ua*o),e.closePath()}};function zV(e,t){let n=null,r=Sk(i);e=typeof e=="function"?e:rr(e||Ck),t=typeof t=="function"?t:rr(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:rr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:rr(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function jg(){}function Ag(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function z5(e){this._context=e}z5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ag(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ag(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UV(e){return new z5(e)}function U5(e){this._context=e}U5.prototype={areaStart:jg,areaEnd:jg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ag(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VV(e){return new U5(e)}function V5(e){this._context=e}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ag(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WV(e){return new V5(e)}function W5(e){this._context=e}W5.prototype={areaStart:jg,areaEnd:jg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function HV(e){return new W5(e)}function nj(e){return e<0?-1:1}function rj(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(nj(a)+nj(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function ij(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Wv(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Pg(e){this._context=e}Pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wv(this,this._t0,ij(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wv(this,ij(this,n=rj(this,e,t)),n);break;default:Wv(this,this._t0,n=rj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function H5(e){this._context=new q5(e)}(H5.prototype=Object.create(Pg.prototype)).point=function(e,t){Pg.prototype.point.call(this,t,e)};function q5(e){this._context=e}q5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function qV(e){return new Pg(e)}function KV(e){return new H5(e)}function K5(e){this._context=e}K5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=aj(e),i=aj(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function aj(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function GV(e){return new K5(e)}function ex(e,t){this._context=e,this._t=t}ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function YV(e){return new ex(e,.5)}function XV(e){return new ex(e,0)}function QV(e){return new ex(e,1)}function Wc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ky(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ZV(e,t){return e[t]}function JV(e){const t=[];return t.key=e,t}function eW(){var e=rr([]),t=Ky,n=Wc,r=ZV;function i(a){var s=Array.from(e.apply(this,arguments),JV),o,l=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(f,s[o].key,u,a)]).data=f;for(o=0,d=Nk(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:rr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:rr(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Ky:typeof a=="function"?a:rr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Wc,i):n},i}function tW(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Wc(e,t)}}function nW(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Wc(e,t)}}function rW(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=e[t[p]],b=g[r][1]||0,x=g[r-1][1]||0;m+=b-x}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Wc(e,t)}}var tx={},G5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(G5);var jk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(jk);var nx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(nx);var rx={},Y5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Y5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y5,n=nx;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(rx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G5,n=jk,r=nx,i=rx;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function s(o,l,u){if(l.length===0)return u;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=a})(tx);var iW=tx.get;const Hc=js(iW);var aW=4;function jl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aW,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+jl(o)+a:i+a},"")}var _i=e=>e===0?0:e>0?1:-1,eo=e=>typeof e=="number"&&e!=+e,Lo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,It=e=>(typeof e=="number"||e instanceof Number)&&!eo(e),to=e=>It(e)||typeof e=="string",sW=0,fm=e=>{var t=++sW;return"".concat(e||"").concat(t)},Da=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!It(t)&&typeof t!="string")return r;var a;if(Lo(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return eo(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},X5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Ii(e,t,n){return It(e)&&It(t)?jl(e+n*(t-e)):t}function Q5(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Hc(r,t))===n)}var Xr=e=>e===null||typeof e>"u",Rm=e=>Xr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function oW(e){return e!=null}function Bm(){}var lW=["type","size","sizeType"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(null,arguments)}function sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(n),!0).forEach(function(r){cW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cW(e,t,n){return(t=uW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uW(e){var t=dW(e,"string");return typeof t=="symbol"?t:t+""}function dW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fW(e,t){if(e==null)return{};var n,r,i=mW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Z5={symbolCircle:Ck,symbolCross:TV,symbolDiamond:MV,symbolSquare:OV,symbolStar:$V,symbolTriangle:FV,symbolWye:BV},hW=Math.PI/180,pW=e=>{var t="symbol".concat(Rm(e));return Z5[t]||Ck},gW=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*hW;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},xW=(e,t)=>{Z5["symbol".concat(Rm(e))]=t},Ak=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=fW(e,lW),a=oj(oj({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=pW(s),m=zV().type(h).size(gW(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:u,cy:d}=a,f=Gi(a);return It(u)&&It(d)&&It(n)?v.createElement("path",Gy({},f,{className:Fn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};Ak.registerSymbol=xW;var J5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Pk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{wk(i)&&(r[i]=a=>n[i](n,a))}),r},vW=(e,t,n)=>r=>(e(t,n,r),null),Dk=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];wk(i)&&typeof a=="function"&&(r||(r={}),r[i]=vW(a,t,n))}),r};function lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(n),!0).forEach(function(r){yW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yW(e,t,n){return(t=wW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wW(e){var t=kW(e,"string");return typeof t=="symbol"?t:t+""}function kW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(e,t){var n=bW({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dg.apply(null,arguments)}function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(n),!0).forEach(function(r){NW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NW(e,t,n){return(t=CW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CW(e){var t=jW(e,"string");return typeof t=="symbol"?t:t+""}function jW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ha=32,AW={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function PW(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Ha/2,a=Ha/6,s=Ha/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Ha,y2:i,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ha,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ha/8,"h").concat(Ha,"v").concat(Ha*3/4,"h").concat(-Ha,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var d=SW({},t);return delete d.legendIcon,v.cloneElement(t.legendIcon,d)}return v.createElement(Ak,{fill:o,cx:i,cy:i,size:Ha,sizeType:"diameter",type:l})}function DW(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Ha,height:Ha},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=Fn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,g=h?h(d.value,d,f):d.value;return v.createElement("li",Dg({className:m,style:l,key:"legend-item-".concat(f)},Dk(e,d,f)),v.createElement(kk,{width:n,height:n,viewBox:o,style:u,"aria-label":"".concat(g," legend icon")},v.createElement(PW,{data:d,iconType:s,inactiveColor:a})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}var TW=e=>{var t=Qr(e,AW),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},v.createElement(DW,Dg({},t,{payload:n})))},eI={},tI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(tI);var nI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(nI);var Tk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Tk);var rI={},ix={},iI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(iI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iI;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(ix);var aI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(aI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ix,n=aI;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(rI);var sI={},oI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tx;function n(r){return function(i){return t.get(i,r)}}e.property=n})(oI);var lI={},Ek={},cI={},Mk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Mk);var Ok={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Ok);var Ik={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Ik);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mk,n=Ok,r=Ik;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,g,b,x,w,y){const N=h(p,g,b,x,w,y);return N!==void 0?!!N:a(p,g,m,y)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<p.length;g++){const b=p[g];if(!n.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!h(d[b],f[b],b,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,g]of f.entries()){const b=d.get(p);if(h(b,g,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let g=0;g<f.length;g++){const b=f[g];let x=!1;for(let w=0;w<d.length;w++){if(p.has(w))continue;const y=d[w];let N=!1;if(h(y,b,g,d,f,m)&&(N=!0),N){p.add(w),x=!0;break}}if(!x)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=u})(cI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cI;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Ek);var uI={},_k={},dI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(dI);var ax={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(ax);var Lk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",b="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",y="[object Uint32Array]",N="[object BigUint64Array]",C="[object Int8Array]",S="[object Int16Array]",j="[object Int32Array]",M="[object BigInt64Array]",$="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=$,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=j,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=w,e.uint32ArrayTag=y,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=x})(Lk);var fI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(fI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dI,n=ax,r=Lk,i=Ok,a=fI;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(d,f,h,m);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const b=new Array(d.length);m.set(d,b);for(let x=0;x<d.length;x++)b[x]=o(d[x],x,h,m,p);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;m.set(d,b);for(const[x,w]of d)b.set(x,o(w,x,h,m,p));return b}if(d instanceof Set){const b=new Set;m.set(d,b);for(const x of d)b.add(o(x,void 0,h,m,p));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,b);for(let x=0;x<d.length;x++)b[x]=o(d[x],x,h,m,p);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,b),l(b,d,h,m,p),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return m.set(d,b),l(b,d,h,m,p),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return m.set(d,b),l(b,d,h,m,p),b}if(d instanceof Error){const b=new d.constructor;return m.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,l(b,d,h,m,p),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return m.set(d,b),l(b,d,h,m,p),b}if(d instanceof Number){const b=new Number(d.valueOf());return m.set(d,b),l(b,d,h,m,p),b}if(d instanceof String){const b=new String(d.valueOf());return m.set(d,b),l(b,d,h,m,p),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return m.set(d,b),l(b,d,h,m,p),b}return d}function l(d,f,h=d,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<g.length;b++){const x=g[b],w=Object.getOwnPropertyDescriptor(d,x);(w==null||w.writable)&&(d[x]=o(f[x],x,h,m,p))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(_k);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_k;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(uI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ek,n=uI;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(lI);var mI={},hI={},pI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_k,n=ax,r=Lk;function i(a,s){return t.cloneDeepWith(a,(o,l,u,d)=>{const f=s==null?void 0:s(o,l,u,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,u,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(pI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pI;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(hI);var gI={},$k={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})($k);var xI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ax;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(xI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jk,n=$k,r=xI,i=rx;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(gI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ek,n=nx,r=hI,i=tx,a=gI;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(mI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tk,n=oI,r=lI,i=mI;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(sI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tI,n=nI,r=Tk,i=rI,a=sI;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(eI);var EW=eI.uniqBy;const uj=js(EW);function vI(e,t,n){return t===!0?uj(e,n):typeof t=="function"?uj(e,t):e}var bI={exports:{}},yI={},wI={exports:{}},kI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=v;function MW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OW=typeof Object.is=="function"?Object.is:MW,IW=pd.useState,_W=pd.useEffect,LW=pd.useLayoutEffect,$W=pd.useDebugValue;function FW(e,t){var n=t(),r=IW({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return LW(function(){i.value=n,i.getSnapshot=t,Hv(i)&&a({inst:i})},[e,n,t]),_W(function(){return Hv(i)&&a({inst:i}),e(function(){Hv(i)&&a({inst:i})})},[e]),$W(n),n}function Hv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!OW(e,n)}catch{return!0}}function RW(e,t){return t()}var BW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?RW:FW;kI.useSyncExternalStore=pd.useSyncExternalStore!==void 0?pd.useSyncExternalStore:BW;wI.exports=kI;var zW=wI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx=v,UW=zW;function VW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WW=typeof Object.is=="function"?Object.is:VW,HW=UW.useSyncExternalStore,qW=sx.useRef,KW=sx.useEffect,GW=sx.useMemo,YW=sx.useDebugValue;yI.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=qW(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=GW(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,WW(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=HW(e,a[0],a[1]);return KW(function(){s.hasValue=!0,s.value=o},[o]),YW(o),o};bI.exports=yI;var XW=bI.exports,Fk=v.createContext(null),QW=e=>e,ar=()=>{var e=v.useContext(Fk);return e?e.store.dispatch:QW},Bp=()=>{},ZW=()=>Bp,JW=(e,t)=>e===t;function Dt(e){var t=v.useContext(Fk);return XW.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ZW,t?t.store.getState:Bp,t?t.store.getState:Bp,t?e:Bp,JW)}function e9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function t9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function n9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var dj=e=>Array.isArray(e)?e:[e];function r9(e){const t=Array.isArray(e[0])?e[0]:e;return n9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function i9(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var a9=class{constructor(e){this.value=e}deref(){return this.value}},s9=typeof WeakRef<"u"?WeakRef:a9,o9=0,fj=1;function rp(){return{s:o9,v:void 0,o:null,p:null}}function SI(e,t={}){let n=rp();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const b=g.get(p);b===void 0?(o=rp(),g.set(p,o)):o=b}else{let g=o.p;g===null&&(o.p=g=new Map);const b=g.get(p);b===void 0?(o=rp(),g.set(p,o)):o=b}}const u=o;let d;if(o.s===fj)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new s9(d):d}return u.s=fj,u.v=d,d}return s.clearCache=()=>{n=rp(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function l9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),e9(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=SI,argsMemoizeOptions:p=[]}=d,g=dj(h),b=dj(p),x=r9(i),w=f(function(){return a++,u.apply(null,arguments)},...g),y=m(function(){s++;const C=i9(x,arguments);return o=w.apply(null,C),o},...b);return Object.assign(y,{resultFunc:u,memoizedResultFunc:w,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var we=l9(SI),c9=Object.assign((e,t=we)=>{t9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>c9}),NI={},CI={},jI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(jI);var AI={},Rk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Rk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rk,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(AI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jI,n=AI,r=rx;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,p)=>{let g=m;for(let b=0;b<p.length&&g!=null;++b)g=g[p[b]];return g},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const b=t.compareValues(m.criteria[g],p.criteria[g],o[g]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=i})(CI);var PI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(PI);var Bk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$k,n=ix,r=Mk,i=Ik;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(Bk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CI,n=PI,r=Bk;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(NI);var u9=NI.sortBy;const ox=js(u9);var DI=e=>e.legend.settings,d9=e=>e.legend.size,f9=e=>e.legend.payload,m9=we([f9,DI],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?ox(r,n):r});function h9(){return Dt(m9)}var ip=1;function TI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>ip||Math.abs(s.left-t.left)>ip||Math.abs(s.top-t.top)>ip||Math.abs(s.width-t.width)>ip)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function vi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var p9=typeof Symbol=="function"&&Symbol.observable||"@@observable",mj=p9,qv=()=>Math.random().toString(36).substring(7).split("").join("."),g9={INIT:`@@redux/INIT${qv()}`,REPLACE:`@@redux/REPLACE${qv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qv()}`},Tg=g9;function zk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function EI(e,t,n){if(typeof e!="function")throw new Error(vi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vi(1));return n(EI)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((b,x)=>{s.set(x,b)}))}function d(){if(l)throw new Error(vi(3));return i}function f(b){if(typeof b!="function")throw new Error(vi(4));if(l)throw new Error(vi(5));let x=!0;u();const w=o++;return s.set(w,b),function(){if(x){if(l)throw new Error(vi(6));x=!1,u(),s.delete(w),a=null}}}function h(b){if(!zk(b))throw new Error(vi(7));if(typeof b.type>"u")throw new Error(vi(8));if(typeof b.type!="string")throw new Error(vi(17));if(l)throw new Error(vi(9));try{l=!0,i=r(i,b)}finally{l=!1}return(a=s).forEach(w=>{w()}),b}function m(b){if(typeof b!="function")throw new Error(vi(10));r=b,h({type:Tg.REPLACE})}function p(){const b=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(vi(11));function w(){const N=x;N.next&&N.next(d())}return w(),{unsubscribe:b(w)}},[mj](){return this}}}return h({type:Tg.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[mj]:p}}function x9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Tg.INIT})>"u")throw new Error(vi(12));if(typeof n(void 0,{type:Tg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vi(13))})}function MI(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{x9(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(vi(14));u[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?u:s}}function Eg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function v9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(vi(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=Eg(...o)(i.dispatch),{...i,dispatch:a}}}function OI(e){return zk(e)&&"type"in e&&typeof e.type=="string"}var II=Symbol.for("immer-nothing"),hj=Symbol.for("immer-draftable"),Yi=Symbol.for("immer-state");function ms(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Aa=Object,gd=Aa.getPrototypeOf,Mg="constructor",lx="prototype",Yy="configurable",Og="enumerable",zp="writable",mm="value",$o=e=>!!e&&!!e[Yi];function ks(e){var t;return e?_I(e)||ux(e)||!!e[hj]||!!((t=e[Mg])!=null&&t[hj])||dx(e)||fx(e):!1}var b9=Aa[lx][Mg].toString(),pj=new WeakMap;function _I(e){if(!e||!Uk(e))return!1;const t=gd(e);if(t===null||t===Aa[lx])return!0;const n=Aa.hasOwnProperty.call(t,Mg)&&t[Mg];if(n===Object)return!0;if(!Tu(n))return!1;let r=pj.get(n);return r===void 0&&(r=Function.toString.call(n),pj.set(n,r)),r===b9}function cx(e,t,n=!0){zm(e)===0?(n?Reflect.ownKeys(e):Aa.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function zm(e){const t=e[Yi];return t?t.type_:ux(e)?1:dx(e)?2:fx(e)?3:0}var gj=(e,t,n=zm(e))=>n===2?e.has(t):Aa[lx].hasOwnProperty.call(e,t),Xy=(e,t,n=zm(e))=>n===2?e.get(t):e[t],Ig=(e,t,n,r=zm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function y9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ux=Array.isArray,dx=e=>e instanceof Map,fx=e=>e instanceof Set,Uk=e=>typeof e=="object",Tu=e=>typeof e=="function",Kv=e=>typeof e=="boolean";function w9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var vo=e=>e.copy_||e.base_,Vk=e=>e.modified_?e.copy_:e.base_;function Qy(e,t){if(dx(e))return new Map(e);if(fx(e))return new Set(e);if(ux(e))return Array[lx].slice.call(e);const n=_I(e);if(t===!0||t==="class_only"&&!n){const r=Aa.getOwnPropertyDescriptors(e);delete r[Yi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[zp]===!1&&(o[zp]=!0,o[Yy]=!0),(o.get||o.set)&&(r[s]={[Yy]:!0,[zp]:!0,[Og]:o[Og],[mm]:e[s]})}return Aa.create(gd(e),r)}else{const r=gd(e);if(r!==null&&n)return{...e};const i=Aa.create(r);return Aa.assign(i,e)}}function Wk(e,t=!1){return mx(e)||$o(e)||!ks(e)||(zm(e)>1&&Aa.defineProperties(e,{set:ap,add:ap,clear:ap,delete:ap}),Aa.freeze(e),t&&cx(e,(n,r)=>{Wk(r,!0)},!1)),e}function k9(){ms(2)}var ap={[mm]:k9};function mx(e){return e===null||!Uk(e)?!0:Aa.isFrozen(e)}var _g="MapSet",Zy="Patches",xj="ArrayMethods",LI={};function qc(e){const t=LI[e];return t||ms(0,e),t}var vj=e=>!!LI[e],hm,$I=()=>hm,S9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:vj(_g)?qc(_g):void 0,arrayMethodsPlugin_:vj(xj)?qc(xj):void 0});function bj(e,t){t&&(e.patchPlugin_=qc(Zy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jy(e){ew(e),e.drafts_.forEach(N9),e.drafts_=null}function ew(e){e===hm&&(hm=e.parent_)}var yj=e=>hm=S9(hm,e);function N9(e){const t=e[Yi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Yi].modified_&&(Jy(t),ms(4)),ks(e)&&(e=kj(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Yi].base_,e,t)}else e=kj(t,n);return C9(t,e,!0),Jy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==II?e:void 0}function kj(e,t){if(mx(t))return t;const n=t[Yi];if(!n)return Lg(t,e.handledSet_,e);if(!hx(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);BI(n,e)}return n.copy_}function C9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Wk(t,n)}function FI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var hx=(e,t)=>e.scope_===t,j9=[];function RI(e,t,n,r){const i=vo(e),a=e.type_;if(r!==void 0&&Xy(i,r,a)===t){Ig(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;cx(i,(l,u)=>{if($o(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const s=e.draftLocations_.get(t)??j9;for(const o of s)Ig(i,o,n,a)}function A9(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!hx(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=Vk(a);RI(e,a.draft_??a,s,n),BI(a,i)})}function BI(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}FI(e)}}function P9(e,t,n){const{scope_:r}=e;if($o(n)){const i=n[Yi];hx(i,r)&&i.callbacks_.push(function(){Up(e);const s=Vk(i);RI(e,n,s,t)})}else ks(n)&&e.callbacks_.push(function(){const a=vo(e);e.type_===3?a.has(n)&&Lg(n,r.handledSet_,r):Xy(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Lg(Xy(e.copy_,t,e.type_),r.handledSet_,r)})}function Lg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||$o(e)||t.has(e)||!ks(e)||mx(e)||(t.add(e),cx(e,(r,i)=>{if($o(i)){const a=i[Yi];if(hx(a,n)){const s=Vk(a);Ig(e,r,s,e.type_),FI(a)}}else ks(i)&&Lg(i,t,n)})),e}function D9(e,t){const n=ux(e),r={type_:n?1:0,scope_:t?t.scope_:$I(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=$g;n&&(i=[r],a=pm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var $g={get(e,t){if(t===Yi)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=vo(e);if(!gj(i,t,e.type_))return T9(e,i,t);const a=i[t];if(e.finalized_||!ks(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&w9(t))return a;if(a===Gv(e.base_,t)){Up(e);const s=e.type_===1?+t:t,o=nw(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in vo(e)},ownKeys(e){return Reflect.ownKeys(vo(e))},set(e,t,n){const r=zI(vo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Gv(vo(e),t),a=i==null?void 0:i[Yi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(y9(n,i)&&(n!==void 0||gj(e.base_,t,e.type_)))return!0;Up(e),tw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),P9(e,t,n)),!0},deleteProperty(e,t){return Up(e),Gv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),tw(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=vo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[zp]:!0,[Yy]:e.type_!==1||t!=="length",[Og]:r[Og],[mm]:n[t]}},defineProperty(){ms(11)},getPrototypeOf(e){return gd(e.base_)},setPrototypeOf(){ms(12)}},pm={};for(let e in $g){let t=$g[e];pm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}pm.deleteProperty=function(e,t){return pm.set.call(this,e,t,void 0)};pm.set=function(e,t,n){return $g.set.call(this,e[0],t,n,e[0])};function Gv(e,t){const n=e[Yi];return(n?vo(n):e)[t]}function T9(e,t,n){var i;const r=zI(t,n);return r?mm in r?r[mm]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function zI(e,t){if(!(t in e))return;let n=gd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=gd(n)}}function tw(e){e.modified_||(e.modified_=!0,e.parent_&&tw(e.parent_))}function Up(e){e.copy_||(e.assigned_=new Map,e.copy_=Qy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var E9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Tu(n)&&!Tu(r)){const s=r;r=n;const o=this;return function(u=s,...d){return o.produce(u,f=>r.call(this,f,...d))}}Tu(r)||ms(6),i!==void 0&&!Tu(i)&&ms(7);let a;if(ks(n)){const s=yj(this),o=nw(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Jy(s):ew(s)}return bj(s,i),wj(a,s)}else if(!n||!Uk(n)){if(a=r(n),a===void 0&&(a=n),a===II&&(a=void 0),this.autoFreeze_&&Wk(a,!0),i){const s=[],o=[];qc(Zy).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else ms(1,n)},this.produceWithPatches=(n,r)=>{if(Tu(n))return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},Kv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Kv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Kv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ks(t)||ms(8),$o(t)&&(t=vs(t));const n=yj(this),r=nw(n,t,void 0);return r[Yi].isManual_=!0,ew(n),r}finishDraft(t,n){const r=t&&t[Yi];(!r||!r.isManual_)&&ms(9);const{scope_:i}=r;return bj(i,n),wj(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=qc(Zy).applyPatches_;return $o(t)?i(t,n):this.produce(t,a=>i(a,n))}};function nw(e,t,n,r){const[i,a]=dx(t)?qc(_g).proxyMap_(t,n):fx(t)?qc(_g).proxySet_(t,n):D9(t,n);return((n==null?void 0:n.scope_)??$I()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?A9(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function vs(e){return $o(e)||ms(10,e),UI(e)}function UI(e){if(!ks(e)||mx(e))return e;const t=e[Yi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Qy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Qy(e,!0);return cx(n,(i,a)=>{Ig(n,i,UI(a))},r),t&&(t.finalized_=!1),n}var M9=new E9,VI=M9.produce;function WI(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var O9=WI(),I9=WI,_9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eg:Eg.apply(null,arguments)};function rs(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Ta(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>OI(r)&&r.type===e,n}var HI=class Sf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Sf.prototype)}static get[Symbol.species](){return Sf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Sf(...t[0].concat(this)):new Sf(...t.concat(this))}};function Sj(e){return ks(e)?VI(e,()=>{}):e}function sp(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function L9(e){return typeof e=="boolean"}var $9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new HI;return n&&(L9(n)?s.push(O9):s.push(I9(n.extraArgument))),s},qI="RTK_autoBatch",mr=()=>e=>({payload:e,meta:{[qI]:!0}}),Nj=e=>t=>{setTimeout(t,e)},KI=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Nj(10):e.type==="callback"?e.queueNotification:Nj(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[qI]),a=!i,a&&(s||(s=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},F9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new HI(e);return r&&i.push(KI(typeof r=="object"?r:void 0)),i};function R9(e){const t=$9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(zk(n))o=MI(n);else throw new Error(Ta(1));let l;typeof r=="function"?l=r(t):l=t();let u=Eg;i&&(u=_9({trace:!1,...typeof i=="object"&&i}));const d=v9(...l),f=F9(d);let h=typeof s=="function"?s(f):f();const m=u(...h);return EI(o,a,m)}function GI(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Ta(28));if(o in t)throw new Error(Ta(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function B9(e){return typeof e=="function"}function z9(e,t){let[n,r,i]=GI(t),a;if(B9(e))a=()=>Sj(e());else{const o=Sj(e);a=()=>o}function s(o=a(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if($o(d)){const m=f(d,l);return m===void 0?d:m}else{if(ks(d))return VI(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var U9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",V9=(e=21)=>{let t="",n=e;for(;n--;)t+=U9[Math.random()*64|0];return t},W9=Symbol.for("rtk-slice-createasyncthunk");function H9(e,t){return`${e}/${t}`}function q9({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[W9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Ta(11));const o=(typeof i.reducers=="function"?i.reducers(G9()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,C){const S=typeof N=="string"?N:N.type;if(!S)throw new Error(Ta(12));if(S in u.sliceCaseReducersByType)throw new Error(Ta(13));return u.sliceCaseReducersByType[S]=C,d},addMatcher(N,C){return u.sliceMatchers.push({matcher:N,reducer:C}),d},exposeAction(N,C){return u.actionCreators[N]=C,d},exposeCaseReducer(N,C){return u.sliceCaseReducersByName[N]=C,d}};l.forEach(N=>{const C=o[N],S={reducerName:N,type:H9(a,N),createNotation:typeof i.reducers=="function"};X9(C)?Z9(S,C,d,t):Y9(S,C,d)});function f(){const[N={},C=[],S=void 0]=typeof i.extraReducers=="function"?GI(i.extraReducers):[i.extraReducers],j={...N,...u.sliceCaseReducersByType};return z9(i.initialState,M=>{for(let $ in j)M.addCase($,j[$]);for(let $ of u.sliceMatchers)M.addMatcher($.matcher,$.reducer);for(let $ of C)M.addMatcher($.matcher,$.reducer);S&&M.addDefaultCase(S)})}const h=N=>N,m=new Map,p=new WeakMap;let g;function b(N,C){return g||(g=f()),g(N,C)}function x(){return g||(g=f()),g.getInitialState()}function w(N,C=!1){function S(M){let $=M[N];return typeof $>"u"&&C&&($=sp(p,S,x)),$}function j(M=h){const $=sp(m,C,()=>new WeakMap);return sp($,M,()=>{const T={};for(const[_,O]of Object.entries(i.selectors??{}))T[_]=K9(O,M,()=>sp(p,M,x),C);return T})}return{reducerPath:N,getSelectors:j,get selectors(){return j(S)},selectSlice:S}}const y={name:a,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...w(s),injectInto(N,{reducerPath:C,...S}={}){const j=C??s;return N.inject({reducerPath:j,reducer:b},S),{...y,...w(j,!0)}}};return y}}function K9(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var ma=q9();function G9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Y9({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!Q9(r))throw new Error(Ta(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?rs(e,s):rs(e))}function X9(e){return e._reducerDefinitionType==="asyncThunk"}function Q9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Z9({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Ta(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:s||op,pending:o||op,rejected:l||op,settled:u||op})}function op(){}var J9="task",YI="listener",XI="completed",Hk="cancelled",eH=`task-${Hk}`,tH=`task-${XI}`,rw=`${YI}-${Hk}`,nH=`${YI}-${XI}`,px=class{constructor(e){pv(this,"name","TaskAbortError");pv(this,"message");this.code=e,this.message=`${J9} ${Hk} (reason: ${e})`}},qk=(e,t)=>{if(typeof e!="function")throw new TypeError(Ta(32))},Fg=()=>{},QI=(e,t=Fg)=>(e.catch(t),e),ZI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ic=e=>{if(e.aborted)throw new px(e.reason)};function JI(e,t){let n=Fg;return new Promise((r,i)=>{const a=()=>i(new px(e.reason));if(e.aborted){a();return}n=ZI(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Fg})}var rH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof px?"cancelled":"rejected",error:n}}finally{t==null||t()}},Rg=e=>t=>QI(JI(e,t).then(n=>(Ic(e),n))),e_=e=>{const t=Rg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:nd}=Object,Cj={},gx="listenerMiddleware",iH=(e,t)=>{const n=r=>ZI(e,()=>r.abort(e.reason));return(r,i)=>{qk(r);const a=new AbortController;n(a);const s=rH(async()=>{Ic(e),Ic(a.signal);const o=await r({pause:Rg(a.signal),delay:e_(a.signal),signal:a.signal});return Ic(a.signal),o},()=>a.abort(tH));return i!=null&&i.autoJoin&&t.push(s.catch(Fg)),{result:Rg(e)(s),cancel(){a.abort(eH)}}}},aH=(e,t)=>{const n=async(r,i)=>{Ic(t);let a=()=>{};const o=[new Promise((l,u)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await JI(t,Promise.race(o));return Ic(t),l}finally{a()}};return(r,i)=>QI(n(r,i))},t_=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=rs(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ta(21));return qk(a),{predicate:i,type:t,effect:a}},n_=nd(e=>{const{type:t,predicate:n,effect:r}=t_(e);return{id:V9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ta(22))}}},{withTypes:()=>n_}),jj=(e,t)=>{const{type:n,effect:r,predicate:i}=t_(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},iw=e=>{e.pending.forEach(t=>{t.abort(rw)})},sH=(e,t)=>()=>{for(const n of t.keys())iw(n);e.clear()},Aj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},r_=nd(rs(`${gx}/add`),{withTypes:()=>r_}),oH=rs(`${gx}/removeAll`),i_=nd(rs(`${gx}/remove`),{withTypes:()=>i_}),lH=(...e)=>{console.error(`${gx}/error`,...e)},Um=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=lH}=e;qk(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&iw(m)}),l=m=>{const p=jj(t,m)??n_(m);return o(p)};nd(l,{withTypes:()=>l});const u=m=>{const p=jj(t,m);return p&&(p.unsubscribe(),m.cancelActive&&iw(p)),!!p};nd(u,{withTypes:()=>u});const d=async(m,p,g,b)=>{const x=new AbortController,w=aH(l,x.signal),y=[];try{m.pending.add(x),r(m),await Promise.resolve(m.effect(p,nd({},g,{getOriginalState:b,condition:(N,C)=>w(N,C).then(Boolean),take:w,delay:e_(x.signal),pause:Rg(x.signal),extra:a,signal:x.signal,fork:iH(x.signal,y),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((N,C,S)=>{N!==x&&(N.abort(rw),S.delete(N))})},cancel:()=>{x.abort(rw),m.pending.delete(x)},throwIfCancelled:()=>{Ic(x.signal)}})))}catch(N){N instanceof px||Aj(s,N,{raisedBy:"effect"})}finally{await Promise.all(y),x.abort(nH),i(m),m.pending.delete(x)}},f=sH(t,n);return{middleware:m=>p=>g=>{if(!OI(g))return p(g);if(r_.match(g))return l(g.payload);if(oH.match(g)){f();return}if(i_.match(g))return u(g.payload);let b=m.getState();const x=()=>{if(b===Cj)throw new Error(Ta(23));return b};let w;try{if(w=p(g),t.size>0){const y=m.getState(),N=Array.from(t.values());for(const C of N){let S=!1;try{S=C.predicate(g,y,b)}catch(j){S=!1,Aj(s,j,{raisedBy:"predicate"})}S&&d(C,g,m,x)}}}finally{b=Cj}return w},startListening:l,stopListening:u,clearListeners:f}};function Ta(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},a_=ma({name:"chartLayout",initialState:cH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:uH,setLayout:dH,setChartSize:fH,setScale:mH}=a_.actions,hH=a_.reducer;function s_(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Wr(e){return Number.isFinite(e)}function no(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(n),!0).forEach(function(r){pH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pH(e,t,n){return(t=gH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gH(e){var t=xH(e,"string");return typeof t=="symbol"?t:t+""}function xH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dr(e,t,n){return Xr(e)||Xr(t)?n:to(t)?Hc(e,t,n):typeof t=="function"?t(e):n}var vH=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&It(e[a]))return Wu(Wu({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&It(e[s]))return Wu(Wu({},e),{},{[s]:e[s]+(i||0)})}return e},Gl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",o_=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},l_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(g=m==="angleAxis"&&a&&a.length>=2?_i(a[0]-a[1])*2*g:g,f||h){var b=(f||h||[]).map((x,w)=>{var y=r?r.indexOf(x):x;return{coordinate:s(y)+g,value:x,offset:g,index:w}});return b.filter(x=>!eo(x.coordinate))}return l&&u?u.map((x,w)=>({coordinate:s(x)+g,value:x,index:w,offset:g})):s.ticks&&d!=null?s.ticks(d).map((x,w)=>({coordinate:s(x)+g,value:x,offset:g,index:w})):s.domain().map((x,w)=>({coordinate:s(x)+g,value:r?r[x]:x,index:w,offset:g}))},Dj=1e-4,bH=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Dj,a=Math.max(r[0],r[1])+Dj,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},yH=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var d=u[1],f=u[0],h=eo(d)?f:d;h>=0?(u[0]=a,u[1]=a+h,a=d):(u[0]=s,u[1]=s+h,s=d)}}}},wH=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var u=eo(l[1])?l[0]:l[1];u>=0?(l[0]=a,l[1]=a+u,a=l[1]):(l[0]=0,l[1]=0)}}}},kH={sign:yH,expand:tW,none:Wc,silhouette:nW,wiggle:rW,positive:wH},SH=(e,t,n)=>{var r,i=(r=kH[n])!==null&&r!==void 0?r:Wc,a=eW().keys(t).value((o,l)=>Number(dr(o,l,0))).order(Ky).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((u,d)=>{var f=dr(e[d],t[l],0);Array.isArray(f)&&f.length===2&&It(f[0])&&It(f[1])&&(u[0]=f[0],u[1]=f[1])})}),s};function Tj(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Xr(i[t.dataKey])){var o=Q5(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=dr(i,Xr(s)?t.dataKey:s);return Xr(l)?null:t.scale(l)}var NH=e=>{var t=e.flat(2).filter(It);return[Math.min(...t),Math.max(...t)]},CH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],jH=(e,t,n)=>{if(e!=null)return CH(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,u)=>{var d=s_(u,t,n),f=NH(d);return!Wr(f[0])||!Wr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},Ej=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bg=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ox(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function Oj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Wu(Wu({},t),{},{dataKey:n,payload:r,value:i,name:a})}function xx(e,t){if(e)return String(e);if(typeof t=="string")return t}var AH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},PH=(e,t)=>t==="centric"?e.angle:e.radius,qo=e=>e.layout.width,Ko=e=>e.layout.height,DH=e=>e.layout.scale,c_=e=>e.layout.margin,vx=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),bx=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),u_="data-recharts-item-index",d_="data-recharts-item-id",Vm=60;function Ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(n),!0).forEach(function(r){TH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TH(e,t,n){return(t=EH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OH=e=>e.brush.height;function IH(e){var t=bx(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Vm;return n+i}return n},0)}function _H(e){var t=bx(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Vm;return n+i}return n},0)}function LH(e){var t=vx(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function $H(e){var t=vx(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var fi=we([qo,Ko,c_,OH,IH,_H,LH,$H,DI,d9],(e,t,n,r,i,a,s,o,l,u)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=lp(lp({},f),d),m=h.bottom;h.bottom+=r,h=vH(h,l,u);var p=e-h.left-h.right,g=t-h.top-h.bottom;return lp(lp({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),FH=we(fi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),f_=we(qo,Ko,(e,t)=>({x:0,y:0,width:e,height:t})),RH=v.createContext(null),ha=()=>v.useContext(RH)!=null,yx=e=>e.brush,wx=we([yx,fi,c_],(e,t,n)=>({height:e.height,x:It(e.x)?e.x:t.left,y:It(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:It(e.width)?e.width:t.width})),m_={},h_={},p_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),s=void 0,o=null},b=()=>{d()},x=function(...w){if(i!=null&&i.aborted)return;s=this,o=w;const y=h==null;m(),l&&y&&d()};return x.schedule=m,x.cancel=g,x.flush=b,i==null||i.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(p_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p_;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=r.apply(this,g),f=null},i,{edges:u}),m=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(h_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h_;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(m_);var BH=m_.throttle;const zH=js(BH);var zg=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},g_=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=Lo(r)?e:Number(r),l=Lo(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},UH={width:0,height:0,overflow:"visible"},VH={width:0,overflowX:"visible"},WH={height:0,overflowY:"visible"},HH={},qH=e=>{var{width:t,height:n}=e,r=Lo(t),i=Lo(n);return r&&i?UH:r?VH:i?WH:HH};function KH(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aw.apply(null,arguments)}function _j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(n),!0).forEach(function(r){GH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GH(e,t,n){return(t=YH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YH(e){var t=XH(e,"string");return typeof t=="symbol"?t:t+""}function XH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x_=v.createContext({width:-1,height:-1});function QH(e){return no(e.width)&&no(e.height)}function v_(e){var{children:t,width:n,height:r}=e,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return QH(i)?v.createElement(x_.Provider,{value:i},t):null}var Kk=()=>v.useContext(x_),ZH=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,g=v.useRef(null),b=v.useRef();b.current=m,v.useImperativeHandle(t,()=>g.current);var[x,w]=v.useState({containerWidth:r.width,containerHeight:r.height}),y=v.useCallback((M,$)=>{w(T=>{var _=Math.round(M),O=Math.round($);return T.containerWidth===_&&T.containerHeight===O?T:{containerWidth:_,containerHeight:O}})},[]);v.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Bm;var M=O=>{var G,{width:J,height:ue}=O[0].contentRect;y(J,ue),(G=b.current)===null||G===void 0||G.call(b,J,ue)};d>0&&(M=zH(M,d,{trailing:!0,leading:!1}));var $=new ResizeObserver(M),{width:T,height:_}=g.current.getBoundingClientRect();return y(T,_),$.observe(g.current),()=>{$.disconnect()}},[y,d]);var{containerWidth:N,containerHeight:C}=x;zg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:S,calculatedHeight:j}=g_(N,C,{width:i,height:a,aspect:n,maxHeight:l});return zg(S!=null&&S>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,j,i,a,s,o,n),v.createElement("div",{id:f?"".concat(f):void 0,className:Fn("recharts-responsive-container",h),style:Lj(Lj({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},v.createElement("div",{style:qH({width:i,height:a})},v.createElement(v_,{width:S,height:j},u)))}),Fo=v.forwardRef((e,t)=>{var n=Kk();if(no(n.width)&&no(n.height))return e.children;var{width:r,height:i}=KH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=g_(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return It(a)&&It(s)?v.createElement(v_,{width:a,height:s},e.children):v.createElement(ZH,aw({},e,{width:r,height:i,ref:t}))});function b_(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var kx=()=>{var e,t=ha(),n=Dt(FH),r=Dt(wx),i=(e=Dt(yx))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},JH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},y_=()=>{var e;return(e=Dt(fi))!==null&&e!==void 0?e:JH},Gk=()=>Dt(qo),Yk=()=>Dt(Ko),e7=()=>Dt(e=>e.layout.margin),Hn=e=>e.layout.layoutType,Wm=()=>Dt(Hn),t7=()=>{var e=Wm();return e!==void 0},Sx=e=>{var t=ar(),n=ha(),{width:r,height:i}=e,a=Kk(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),v.useEffect(()=>{!n&&no(s)&&no(o)&&t(fH({width:s,height:o}))},[t,n,s,o]),null},w_=Symbol.for("immer-nothing"),$j=Symbol.for("immer-draftable"),Oa=Symbol.for("immer-state");function hs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var gm=Object.getPrototypeOf;function xd(e){return!!e&&!!e[Oa]}function Kc(e){var t;return e?k_(e)||Array.isArray(e)||!!e[$j]||!!((t=e.constructor)!=null&&t[$j])||Hm(e)||Cx(e):!1}var n7=Object.prototype.constructor.toString(),Fj=new WeakMap;function k_(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Fj.get(n);return r===void 0&&(r=Function.toString.call(n),Fj.set(n,r)),r===n7}function Ug(e,t,n=!0){Nx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Nx(e){const t=e[Oa];return t?t.type_:Array.isArray(e)?1:Hm(e)?2:Cx(e)?3:0}function sw(e,t){return Nx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function S_(e,t,n){const r=Nx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function r7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Hm(e){return e instanceof Map}function Cx(e){return e instanceof Set}function xc(e){return e.copy_||e.base_}function ow(e,t){if(Hm(e))return new Map(e);if(Cx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=k_(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Oa];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(gm(e),r)}else{const r=gm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Xk(e,t=!1){return jx(e)||xd(e)||!Kc(e)||(Nx(e)>1&&Object.defineProperties(e,{set:cp,add:cp,clear:cp,delete:cp}),Object.freeze(e),t&&Object.values(e).forEach(n=>Xk(n,!0))),e}function i7(){hs(2)}var cp={value:i7};function jx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var a7={};function Gc(e){const t=a7[e];return t||hs(0,e),t}var xm;function N_(){return xm}function s7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Rj(e,t){t&&(Gc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lw(e){cw(e),e.drafts_.forEach(o7),e.drafts_=null}function cw(e){e===xm&&(xm=e.parent_)}function Bj(e){return xm=s7(xm,e)}function o7(e){const t=e[Oa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Oa].modified_&&(lw(t),hs(4)),Kc(e)&&(e=Vg(t,e),t.parent_||Wg(t,e)),t.patches_&&Gc("Patches").generateReplacementPatches_(n[Oa].base_,e,t.patches_,t.inversePatches_)):e=Vg(t,n,[]),lw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==w_?e:void 0}function Vg(e,t,n){if(jx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Oa];if(!i)return Ug(t,(a,s)=>Uj(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Wg(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Ug(s,(l,u)=>Uj(e,i,a,l,u,n,o),r),Wg(e,a,!1),n&&e.patches_&&Gc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Uj(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=jx(i);if(!(o&&!s)){if(xd(i)){const l=a&&t&&t.type_!==3&&!sw(t.assigned_,r)?a.concat(r):void 0,u=Vg(e,i,l);if(S_(n,r,u),xd(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Kc(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;Vg(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Hm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Wg(e,i)}}}function Wg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xk(t,n)}function l7(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:N_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Qk;n&&(i=[r],a=vm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var Qk={get(e,t){if(t===Oa)return e;const n=xc(e);if(!sw(n,t))return c7(e,n,t);const r=n[t];return e.finalized_||!Kc(r)?r:r===Yv(e.base_,t)?(Xv(e),e.copy_[t]=dw(r,e)):r},has(e,t){return t in xc(e)},ownKeys(e){return Reflect.ownKeys(xc(e))},set(e,t,n){const r=C_(xc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Yv(xc(e),t),a=i==null?void 0:i[Oa];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(r7(n,i)&&(n!==void 0||sw(e.base_,t)))return!0;Xv(e),uw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Yv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xv(e),uw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=xc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){hs(11)},getPrototypeOf(e){return gm(e.base_)},setPrototypeOf(){hs(12)}},vm={};Ug(Qk,(e,t)=>{vm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});vm.deleteProperty=function(e,t){return vm.set.call(this,e,t,void 0)};vm.set=function(e,t,n){return Qk.set.call(this,e[0],t,n,e[0])};function Yv(e,t){const n=e[Oa];return(n?xc(n):e)[t]}function c7(e,t,n){var i;const r=C_(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function C_(e,t){if(!(t in e))return;let n=gm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=gm(n)}}function uw(e){e.modified_||(e.modified_=!0,e.parent_&&uw(e.parent_))}function Xv(e){e.copy_||(e.copy_=ow(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var u7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...u){return s.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&hs(6),r!==void 0&&typeof r!="function"&&hs(7);let i;if(Kc(t)){const a=Bj(this),s=dw(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?lw(a):cw(a)}return Rj(a,r),zj(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===w_&&(i=void 0),this.autoFreeze_&&Xk(i,!0),r){const a=[],s=[];Gc("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else hs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Kc(e)||hs(8),xd(e)&&(e=d7(e));const t=Bj(this),n=dw(e,void 0);return n[Oa].isManual_=!0,cw(t),n}finishDraft(e,t){const n=e&&e[Oa];(!n||!n.isManual_)&&hs(9);const{scope_:r}=n;return Rj(r,t),zj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Gc("Patches").applyPatches_;return xd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function dw(e,t){const n=Hm(e)?Gc("MapSet").proxyMap_(e,t):Cx(e)?Gc("MapSet").proxySet_(e,t):l7(e,t);return(t?t.scope_:N_()).drafts_.push(n),n}function d7(e){return xd(e)||hs(10,e),j_(e)}function j_(e){if(!Kc(e)||jx(e))return e;const t=e[Oa];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ow(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ow(e,!0);return Ug(n,(i,a)=>{S_(n,i,j_(a))},r),t&&(t.finalized_=!1),n}var f7=new u7;f7.produce;var m7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},A_=ma({name:"legend",initialState:m7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:mr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=vs(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:mr()},removeLegendPayload:{reducer(e,t){var n=vs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:mr()}}}),{setLegendSize:Vj,setLegendSettings:h7,addLegendPayload:P_,replaceLegendPayload:D_,removeLegendPayload:T_}=A_.actions,p7=A_.reducer,g7=["contextPayload"];function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fw.apply(null,arguments)}function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(r){x7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x7(e,t,n){return(t=v7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v7(e){var t=b7(e,"string");return typeof t=="symbol"?t:t+""}function b7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y7(e,t){if(e==null)return{};var n,r,i=w7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function k7(e){return e.value}function S7(e){var{contextPayload:t}=e,n=y7(e,g7),r=vI(t,e.payloadUniqBy,k7),i=vd(vd({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(TW,i)}function N7(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((r||0)-a.width)/2}:u=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),vd(vd({},u),d)}function C7(e){var t=ar();return v.useEffect(()=>{t(h7(e))},[t,e]),null}function j7(e){var t=ar();return v.useEffect(()=>(t(Vj(e)),()=>{t(Vj({width:0,height:0}))}),[t,e]),null}function A7(e,t,n,r){return e==="vertical"&&It(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var P7={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function E_(e){var t=Qr(e,P7),n=h9(),r=NV(),i=e7(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,d]=TI([n]),f=Gk(),h=Yk();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=A7(t.layout,s,a,m),g=l?o:vd(vd({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},N7(o,t,i,f,h,u)),o),b=l??r;if(b==null||n==null)return null;var x=v.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},v.createElement(C7,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(j7,{width:u.width,height:u.height}),v.createElement(S7,fw({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return Ed.createPortal(x,b)}E_.displayName="Legend";function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mw.apply(null,arguments)}function Hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(n),!0).forEach(function(r){D7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D7(e,t,n){return(t=T7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T7(e){var t=E7(e,"string");return typeof t=="symbol"?t:t+""}function E7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M7(e){return Array.isArray(e)&&to(e[0])&&to(e[1])?e.join(" ~ "):e}var O7=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var C={padding:0,margin:0},S=(o?ox(a,o):a).map((j,M)=>{if(j.type==="none")return null;var $=j.formatter||s||M7,{value:T,name:_}=j,O=T,G=_;if($){var J=$(T,_,j,M,a);if(Array.isArray(J))[O,G]=J;else if(J!=null)O=J;else return null}var ue=Qv({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ue},to(G)?v.createElement("span",{className:"recharts-tooltip-item-name"},G):null,to(G)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},O),v.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},S)}return null},p=Qv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=Qv({margin:0},i),b=!Xr(d),x=b?d:"",w=Fn("recharts-default-tooltip",l),y=Fn("recharts-tooltip-label",u);b&&f&&a!==void 0&&a!==null&&(x=f(d,a));var N=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",mw({className:w,style:p},N),v.createElement("p",{className:y,style:g},v.isValidElement(x)?x:"".concat(x)),m())},af="recharts-tooltip-wrapper",I7={visibility:"hidden"};function _7(e){var{coordinate:t,translateX:n,translateY:r}=e;return Fn(af,{["".concat(af,"-right")]:It(n)&&t&&It(t.x)&&n>=t.x,["".concat(af,"-left")]:It(n)&&t&&It(t.x)&&n<t.x,["".concat(af,"-bottom")]:It(r)&&t&&It(t.y)&&r>=t.y,["".concat(af,"-top")]:It(r)&&t&&It(t.y)&&r<t.y})}function qj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&It(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var g=f+o,b=h+u;return g>b?Math.max(d,h):Math.max(f,h)}function L7(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function $7(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,d,f;return s.height>0&&s.width>0&&n?(d=qj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=qj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=L7({translateX:d,translateY:f,useTranslate3d:o})):u=I7,{cssProperties:u,cssClasses:_7({translateX:d,translateY:f,coordinate:n})}}function Kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(n),!0).forEach(function(r){hw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hw(e,t,n){return(t=F7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F7(e){var t=R7(e,"string");return typeof t=="symbol"?t:t+""}function R7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class B7 extends v.PureComponent{constructor(){super(...arguments),hw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),hw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:b,hasPortalFromProps:x}=this.props,{cssClasses:w,cssProperties:y}=$7({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),N=x?{}:up(up({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=up(up({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:C,ref:b},a)}}var M_=()=>{var e;return(e=Dt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pw.apply(null,arguments)}function Gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(n),!0).forEach(function(r){z7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z7(e,t,n){return(t=U7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xj={curveBasisClosed:VV,curveBasisOpen:WV,curveBasis:UV,curveBumpX:PV,curveBumpY:DV,curveLinearClosed:HV,curveLinear:J0,curveMonotoneX:qV,curveMonotoneY:KV,curveNatural:GV,curveStep:YV,curveStepAfter:QV,curveStepBefore:XV},Hg=e=>Wr(e.x)&&Wr(e.y),Qj=e=>e.base!=null&&Hg(e.base)&&Hg(e),sf=e=>e.x,of=e=>e.y,W7=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Rm(e));return(n==="curveMonotone"||n==="curveBump")&&t?Xj["".concat(n).concat(t==="vertical"?"Y":"X")]:Xj[n]||J0},H7=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=W7(t,i),o=a?n.filter(Hg):n,l;if(Array.isArray(r)){var u=n.map((m,p)=>Yj(Yj({},m),{},{base:r[p]}));i==="vertical"?l=np().y(of).x1(sf).x0(m=>m.base.x):l=np().x(sf).y1(of).y0(m=>m.base.y);var d=l.defined(Qj).curve(s),f=a?u.filter(Qj):u;return d(f)}i==="vertical"&&It(r)?l=np().y(of).x1(sf).x0(r):It(r)?l=np().x(sf).y1(of).y0(r):l=$5().x(sf).y(of);var h=l.defined(Hg).curve(s);return h(o)},Zk=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=Wm();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?H7(s):r;return v.createElement("path",pw({},ns(e),Pk(e),{className:Fn("recharts-curve",t),d:o===null?void 0:o,ref:i}))},q7=["x","y","top","left","width","height","className"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gw.apply(null,arguments)}function Zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(n),!0).forEach(function(r){G7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G7(e,t,n){return(t=Y7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y7(e){var t=X7(e,"string");return typeof t=="symbol"?t:t+""}function X7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q7(e,t){if(e==null)return{};var n,r,i=Z7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Z7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var J7=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),eq=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=Q7(e,q7),u=K7({x:t,y:n,top:r,left:i,width:a,height:s},l);return!It(t)||!It(n)||!It(a)||!It(s)||!It(r)||!It(i)?null:v.createElement("path",gw({},Gi(u),{className:Fn("recharts-cross",o),d:J7(t,n,a,s,r,i)}))};function tq(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(n),!0).forEach(function(r){nq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nq(e,t,n){return(t=rq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rq(e){var t=iq(e,"string");return typeof t=="symbol"?t:t+""}function iq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),O_=(e,t,n)=>e.map(r=>"".concat(aq(r)," ").concat(t,"ms ").concat(n)).join(","),sq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),bm=(e,t)=>Object.keys(t).reduce((n,r)=>eA(eA({},n),{},{[r]:e(r,t[r])}),{});function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(r){oq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oq(e,t,n){return(t=lq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lq(e){var t=cq(e,"string");return typeof t=="symbol"?t:t+""}function cq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qg=(e,t,n)=>e+(t-e)*n,xw=e=>{var{from:t,to:n}=e;return t!==n},I_=(e,t,n)=>{var r=bm((i,a)=>{if(xw(a)){var[s,o]=e(a.from,a.to,a.velocity);return Gr(Gr({},a),{},{from:s,velocity:o})}return a},t);return n<1?bm((i,a)=>xw(a)&&r[i]!=null?Gr(Gr({},a),{},{velocity:qg(a.velocity,r[i].velocity,n),from:qg(a.from,r[i].from,n)}):a,t):I_(e,r,n-1)};function uq(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>Gr(Gr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>bm((h,m)=>m.from,o),u=()=>!Object.values(o).filter(xw).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=I_(n,o,p),i(Gr(Gr(Gr({},e),t),l())),s=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function dq(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:Gr(Gr({},f),{},{[h]:[m,p]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/r,m=bm((g,b)=>qg(...b,n(h)),l);if(a(Gr(Gr(Gr({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=bm((g,b)=>qg(...b,n(1)),l);a(Gr(Gr(Gr({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const fq=(e,t,n,r,i,a)=>{var s=sq(e,t);return n==null?()=>(i(Gr(Gr({},e),t)),()=>{}):n.isStepper===!0?uq(e,t,n,s,i,a):dq(e,t,n,r,s,i,a)};var Kg=1e-4,__=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],L_=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),nA=(e,t)=>n=>{var r=__(e,t);return L_(r,n)},mq=(e,t)=>n=>{var r=__(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return L_(i,n)},hq=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},pq=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=hq(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},gq=(e,t,n,r)=>{var i=nA(e,n),a=nA(t,r),s=mq(e,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<Kg||p<Kg)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},rA=function(){return gq(...pq(...arguments))},xq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*n,d=l*r,f=l+(u-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<Kg&&Math.abs(f)<Kg?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},vq=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rA(e);case"spring":return xq();default:if(e.split("(")[0]==="cubic-bezier")return rA(e)}return typeof e=="function"?e:null};function bq(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class yq{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function wq(){return bq(new yq)}var kq=v.createContext(wq);function Sq(e,t){var n=v.useContext(kq);return v.useMemo(()=>t??n(e),[e,t,n])}var Nq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ax={isSsr:Nq()},Cq={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},iA={t:0},Zv={t:1};function Px(e){var t=Qr(e,Cq),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,d=n==="auto"?!Ax.isSsr:n,f=Sq(t.animationId,t.animationManager),[h,m]=v.useState(d?iA:Zv),p=v.useRef(null);return v.useEffect(()=>{d||m(Zv)},[d]),v.useEffect(()=>{if(!d||!r)return Bm;var g=fq(iA,Zv,vq(a),i,m,f.getTimeoutController()),b=()=>{p.current=g()};return f.start([l,s,b,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),u(h.t)}function Dx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(fm(t)),r=v.useRef(e);return r.current!==e&&(n.current=fm(t),r.current=e),n.current}var jq=["radius"],Aq=["radius"],aA,sA,oA,lA,cA,uA,dA,fA,mA,hA;function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){Pq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pq(e,t,n){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dq(e){var t=Tq(e,"string");return typeof t=="symbol"?t:t+""}function Tq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gg.apply(null,arguments)}function xA(e,t){if(e==null)return{};var n,r,i=Eq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Us(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var vA=(e,t,n,r,i)=>{var a=jl(n),s=jl(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=Cr(aA||(aA=Us(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Cr(sA||(sA=Us(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=Cr(oA||(oA=Us(["L ",",",""])),e+n-u*h[1],t),h[1]>0&&(f+=Cr(lA||(lA=Us(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=Cr(cA||(cA=Us(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=Cr(uA||(uA=Us(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-u*h[2],t+r)),f+=Cr(dA||(dA=Us(["L ",",",""])),e+u*h[3],t+r),h[3]>0&&(f+=Cr(fA||(fA=Us(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f=Cr(mA||(mA=Us(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*g,g,g,d,e+u*g,t,e+n-u*g,t,g,g,d,e+n,t+l*g,e+n,t+r-l*g,g,g,d,e+n-u*g,t+r,e+u*g,t+r,g,g,d,e,t+r-l*g)}else f=Cr(hA||(hA=Us(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},bA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$_=e=>{var t=Qr(e,bA),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&i(Y)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,b=v.useRef(o),x=v.useRef(l),w=v.useRef(a),y=v.useRef(s),N=v.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),C=Dx(N,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var S=Fn("recharts-rectangle",d);if(!g){var j=Gi(t),{radius:M}=j,$=xA(j,jq);return v.createElement("path",Gg({},$,{x:jl(a),y:jl(s),width:jl(o),height:jl(l),radius:typeof u=="number"?u:void 0,className:S,d:vA(a,s,o,l,u)}))}var T=b.current,_=x.current,O=w.current,G=y.current,J="0px ".concat(r===-1?1:r,"px"),ue="".concat(r,"px 0px"),ge=O_(["strokeDasharray"],h,typeof f=="string"?f:bA.animationEasing);return v.createElement(Px,{animationId:C,key:C,canBegin:r>0,duration:h,easing:f,isActive:g,begin:m},Y=>{var q=Ii(T,o,Y),K=Ii(_,l,Y),E=Ii(O,a,Y),D=Ii(G,s,Y);n.current&&(b.current=q,x.current=K,w.current=E,y.current=D);var ie;p?Y>0?ie={transition:ge,strokeDasharray:ue}:ie={strokeDasharray:J}:ie={strokeDasharray:ue};var k=Gi(t),{radius:V}=k,W=xA(k,Aq);return v.createElement("path",Gg({},W,{radius:typeof u=="number"?u:void 0,className:S,d:vA(E,D,q,K,u),ref:n,style:gA(gA({},ie),t.style)}))})};function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(r){Mq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mq(e,t,n){return(t=Oq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oq(e){var t=Iq(e,"string");return typeof t=="symbol"?t:t+""}function Iq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yg=Math.PI/180,_q=e=>e*180/Math.PI,Ur=(e,t,n,r)=>({x:e+Math.cos(-Yg*r)*n,y:t+Math.sin(-Yg*r)*n}),F_=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Lq=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},$q=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=Lq({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:_q(l),angleInRadian:l}},Fq=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Rq=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},Bq=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=$q({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=Fq(t),d=a,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?wA(wA({},t),{},{radius:i,angle:Rq(d,t)}):null};function R_(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Ur(t,n,r,i),o=Ur(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var kA,SA,NA,CA,jA,AA,PA;function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vw.apply(null,arguments)}function jc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zq=(e,t)=>{var n=_i(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},dp=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+r,d=Math.asin(o/u)/Yg,f=l?i:i+a*d,h=Ur(t,n,u,f),m=Ur(t,n,r,f),p=l?i-a*d:i,g=Ur(t,n,u*Math.cos(d*Yg),p);return{center:h,circleTangency:m,lineTangency:g,theta:d}},B_=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=zq(a,s),l=a+o,u=Ur(t,n,i,a),d=Ur(t,n,i,l),f=Cr(kA||(kA=jc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=Ur(t,n,r,a),m=Ur(t,n,r,l);f+=Cr(SA||(SA=jc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Cr(NA||(NA=jc(["L ",","," Z"])),t,n);return f},Uq=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,d=_i(u-l),{circleTangency:f,lineTangency:h,theta:m}=dp({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:b}=dp({cx:t,cy:n,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-m-b;if(x<0)return s?Cr(CA||(CA=jc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):B_({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var w=Cr(jA||(jA=jc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(x>180),+(d<0),p.x,p.y,a,a,+(d<0),g.x,g.y);if(r>0){var{circleTangency:y,lineTangency:N,theta:C}=dp({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:S,lineTangency:j,theta:M}=dp({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),$=o?Math.abs(l-u):Math.abs(l-u)-C-M;if($<0&&a===0)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+=Cr(AA||(AA=jc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,a,a,+(d<0),S.x,S.y,r,r,+($>180),+(d>0),y.x,y.y,a,a,+(d<0),N.x,N.y)}else w+=Cr(PA||(PA=jc(["L",",","Z"])),t,n);return w},Vq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},z_=e=>{var t=Qr(e,Vq),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=Fn("recharts-sector",f),m=a-i,p=Da(s,m,0,!0),g;return p>0&&Math.abs(u-d)<360?g=Uq({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):g=B_({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),v.createElement("path",vw({},Gi(t),{className:h,d:g}))};function Wq(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(J5(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Ur(r,i,a,o),u=Ur(r,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return R_(t)}}var U_={},V_={},W_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rk;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(W_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W_;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(V_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bk,n=V_;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=r})(U_);var Hq=U_.range;const H_=js(Hq);function $l(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qq(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jk(e){let t,n,r;e.length!==2?(t=$l,n=(o,l)=>$l(e(o),l),r=(o,l)=>e(o)-l):(t=e===$l||e===qq?e:Kq,n=e,r=e);function i(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function Kq(){return 0}function q_(e){return e===null?NaN:+e}function*Gq(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Yq=Jk($l),qm=Yq.right;Jk(q_).center;class DA extends Map{constructor(t,n=Zq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(TA(this,t))}has(t){return super.has(TA(this,t))}set(t,n){return super.set(Xq(this,t),n)}delete(t){return super.delete(Qq(this,t))}}function TA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Xq({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Qq({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Zq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Jq(e=$l){if(e===$l)return K_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function K_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const eK=Math.sqrt(50),tK=Math.sqrt(10),nK=Math.sqrt(2);function Xg(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=eK?10:a>=tK?5:a>=nK?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?Xg(e,t,n*2):[o,l,u]}function bw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Xg(t,e,n):Xg(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function yw(e,t,n){return t=+t,e=+e,n=+n,Xg(e,t,n)[2]}function ww(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?yw(t,e,n):yw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function EA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function MA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function G_(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?K_:Jq(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/l+h)),p=Math.min(r,Math.floor(t+(l-u)*f/l+h));G_(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(lf(e,n,t),i(e[r],a)>0&&lf(e,n,r);s<o;){for(lf(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?lf(e,n,o):(++o,lf(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function lf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function rK(e,t,n){if(e=Float64Array.from(Gq(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return MA(e);if(t>=1)return EA(e);var r,i=(r-1)*t,a=Math.floor(i),s=EA(G_(e,a).subarray(0,a+1)),o=MA(e.subarray(a+1));return s+(o-s)*(i-a)}}function iK(e,t,n=q_){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function aK(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function as(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Go(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kw=Symbol("implicit");function eS(){var e=new DA,t=[],n=[],r=kw;function i(a){let s=e.get(a);if(s===void 0){if(r!==kw)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new DA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eS(t,n).unknown(r)},as.apply(i,arguments),i}function tS(){var e=eS().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,g=m?r:i;a=(g-p)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),p+=(g-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var b=aK(h).map(function(x){return p+a*x});return n(m?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return tS(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},as.apply(f(),arguments)}function Y_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Y_(t())},e}function sK(){return Y_(tS.apply(null,arguments).paddingInner(1))}function nS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function X_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Km(){}var ym=.7,Qg=1/ym,rd="\\s*([+-]?\\d+)\\s*",wm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oK=/^#([0-9a-f]{3,8})$/,lK=new RegExp(`^rgb\\(${rd},${rd},${rd}\\)$`),cK=new RegExp(`^rgb\\(${Zs},${Zs},${Zs}\\)$`),uK=new RegExp(`^rgba\\(${rd},${rd},${rd},${wm}\\)$`),dK=new RegExp(`^rgba\\(${Zs},${Zs},${Zs},${wm}\\)$`),fK=new RegExp(`^hsl\\(${wm},${Zs},${Zs}\\)$`),mK=new RegExp(`^hsla\\(${wm},${Zs},${Zs},${wm}\\)$`),OA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nS(Km,km,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:IA,formatHex:IA,formatHex8:hK,formatHsl:pK,formatRgb:_A,toString:_A});function IA(){return this.rgb().formatHex()}function hK(){return this.rgb().formatHex8()}function pK(){return Q_(this).formatHsl()}function _A(){return this.rgb().formatRgb()}function km(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=oK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?LA(t):n===3?new sa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?fp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?fp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lK.exec(e))?new sa(t[1],t[2],t[3],1):(t=cK.exec(e))?new sa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uK.exec(e))?fp(t[1],t[2],t[3],t[4]):(t=dK.exec(e))?fp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fK.exec(e))?RA(t[1],t[2]/100,t[3]/100,1):(t=mK.exec(e))?RA(t[1],t[2]/100,t[3]/100,t[4]):OA.hasOwnProperty(e)?LA(OA[e]):e==="transparent"?new sa(NaN,NaN,NaN,0):null}function LA(e){return new sa(e>>16&255,e>>8&255,e&255,1)}function fp(e,t,n,r){return r<=0&&(e=t=n=NaN),new sa(e,t,n,r)}function gK(e){return e instanceof Km||(e=km(e)),e?(e=e.rgb(),new sa(e.r,e.g,e.b,e.opacity)):new sa}function Sw(e,t,n,r){return arguments.length===1?gK(e):new sa(e,t,n,r??1)}function sa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}nS(sa,Sw,X_(Km,{brighter(e){return e=e==null?Qg:Math.pow(Qg,e),new sa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ym:Math.pow(ym,e),new sa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sa(_c(this.r),_c(this.g),_c(this.b),Zg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$A,formatHex:$A,formatHex8:xK,formatRgb:FA,toString:FA}));function $A(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}`}function xK(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}${Ac((isNaN(this.opacity)?1:this.opacity)*255)}`}function FA(){const e=Zg(this.opacity);return`${e===1?"rgb(":"rgba("}${_c(this.r)}, ${_c(this.g)}, ${_c(this.b)}${e===1?")":`, ${e})`}`}function Zg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _c(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ac(e){return e=_c(e),(e<16?"0":"")+e.toString(16)}function RA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ps(e,t,n,r)}function Q_(e){if(e instanceof ps)return new ps(e.h,e.s,e.l,e.opacity);if(e instanceof Km||(e=km(e)),!e)return new ps;if(e instanceof ps)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ps(s,o,l,e.opacity)}function vK(e,t,n,r){return arguments.length===1?Q_(e):new ps(e,t,n,r??1)}function ps(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}nS(ps,vK,X_(Km,{brighter(e){return e=e==null?Qg:Math.pow(Qg,e),new ps(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ym:Math.pow(ym,e),new ps(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new sa(Jv(e>=240?e-240:e+120,i,r),Jv(e,i,r),Jv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ps(BA(this.h),mp(this.s),mp(this.l),Zg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zg(this.opacity);return`${e===1?"hsl(":"hsla("}${BA(this.h)}, ${mp(this.s)*100}%, ${mp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function BA(e){return e=(e||0)%360,e<0?e+360:e}function mp(e){return Math.max(0,Math.min(1,e||0))}function Jv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const rS=e=>()=>e;function bK(e,t){return function(n){return e+n*t}}function yK(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wK(e){return(e=+e)==1?Z_:function(t,n){return n-t?yK(t,n,e):rS(isNaN(t)?n:t)}}function Z_(e,t){var n=t-e;return n?bK(e,n):rS(isNaN(e)?t:e)}const zA=function e(t){var n=wK(t);function r(i,a){var s=n((i=Sw(i)).r,(a=Sw(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=Z_(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function kK(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function SK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function NK(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Md(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function CK(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Jg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function jK(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Md(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Nw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eb=new RegExp(Nw.source,"g");function AK(e){return function(){return e}}function PK(e){return function(t){return e(t)+""}}function DK(e,t){var n=Nw.lastIndex=eb.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Nw.exec(e))&&(i=eb.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Jg(r,i)})),n=eb.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?PK(l[0].x):AK(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function Md(e,t){var n=typeof t,r;return t==null||n==="boolean"?rS(t):(n==="number"?Jg:n==="string"?(r=km(t))?(t=r,zA):DK:t instanceof km?zA:t instanceof Date?CK:SK(t)?kK:Array.isArray(t)?NK:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jK:Jg)(e,t)}function iS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function TK(e,t){t===void 0&&(t=e,e=Md);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function EK(e){return function(){return e}}function e0(e){return+e}var UA=[0,1];function qi(e){return e}function Cw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:EK(isNaN(t)?NaN:.5)}function MK(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function OK(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Cw(i,r),a=n(s,a)):(r=Cw(r,i),a=n(a,s)),function(o){return a(r(o))}}function IK(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Cw(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=qm(e,o,1,r)-1;return a[l](i[l](o))}}function Gm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tx(){var e=UA,t=UA,n=Md,r,i,a,s=qi,o,l,u;function d(){var h=Math.min(e.length,t.length);return s!==qi&&(s=MK(e[0],e[h-1])),o=h>2?IK:OK,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(r),Jg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,e0),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=iS,d()},f.clamp=function(h){return arguments.length?(s=h?!0:qi,d()):s!==qi},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function aS(){return Tx()(qi,qi)}function _K(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function t0(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function bd(e){return e=t0(Math.abs(e)),e?e[1]:NaN}function LK(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function $K(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var FK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sm(e){if(!(t=FK.exec(e)))throw new Error("invalid format: "+e);var t;return new sS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sm.prototype=sS.prototype;function sS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function RK(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var n0;function BK(e,t){var n=t0(e,t);if(!n)return n0=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(n0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+t0(e,Math.max(0,t+a-1))[0]}function VA(e,t){var n=t0(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const WA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_K,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>VA(e*100,t),r:VA,s:BK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function HA(e){return e}var qA=Array.prototype.map,KA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zK(e){var t=e.grouping===void 0||e.thousands===void 0?HA:LK(qA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?HA:$K(qA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Sm(f);var m=f.fill,p=f.align,g=f.sign,b=f.symbol,x=f.zero,w=f.width,y=f.comma,N=f.precision,C=f.trim,S=f.type;S==="n"?(y=!0,S="g"):WA[S]||(N===void 0&&(N=12),C=!0,S="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var j=(h&&h.prefix!==void 0?h.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),M=(b==="$"?r:/[%p]/.test(S)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),$=WA[S],T=/[defgprs%]/.test(S);N=N===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function _(O){var G=j,J=M,ue,ge,Y;if(S==="c")J=$(O)+J,O="";else{O=+O;var q=O<0||1/O<0;if(O=isNaN(O)?l:$(Math.abs(O),N),C&&(O=RK(O)),q&&+O==0&&g!=="+"&&(q=!1),G=(q?g==="("?g:o:g==="-"||g==="("?"":g)+G,J=(S==="s"&&!isNaN(O)&&n0!==void 0?KA[8+n0/3]:"")+J+(q&&g==="("?")":""),T){for(ue=-1,ge=O.length;++ue<ge;)if(Y=O.charCodeAt(ue),48>Y||Y>57){J=(Y===46?i+O.slice(ue+1):O.slice(ue))+J,O=O.slice(0,ue);break}}}y&&!x&&(O=t(O,1/0));var K=G.length+O.length+J.length,E=K<w?new Array(w-K+1).join(m):"";switch(y&&x&&(O=t(E+O,E.length?w-J.length:1/0),E=""),p){case"<":O=G+O+J+E;break;case"=":O=G+E+O+J;break;case"^":O=E.slice(0,K=E.length>>1)+G+O+J+E.slice(K);break;default:O=E+G+O+J;break}return a(O)}return _.toString=function(){return f+""},_}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(bd(h)/3)))*3,p=Math.pow(10,-m),g=u((f=Sm(f),f.type="f",f),{suffix:KA[8+m/3]});return function(b){return g(p*b)}}return{format:u,formatPrefix:d}}var hp,oS,J_;UK({thousands:",",grouping:[3],currency:["$",""]});function UK(e){return hp=zK(e),oS=hp.format,J_=hp.formatPrefix,hp}function VK(e){return Math.max(0,-bd(Math.abs(e)))}function WK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bd(t)/3)))*3-bd(Math.abs(e)))}function HK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bd(t)-bd(e))+1}function e3(e,t,n,r){var i=ww(e,t,n),a;switch(r=Sm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=WK(i,s))&&(r.precision=a),J_(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=HK(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=VK(i))&&(r.precision=a-(r.type==="%")*2);break}}return oS(r)}function Yl(e){var t=e.domain;return e.ticks=function(n){var r=t();return bw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return e3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=yw(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function t3(){var e=aS();return e.copy=function(){return Gm(e,t3())},as.apply(e,arguments),Yl(e)}function n3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,e0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return n3(e).unknown(t)},e=arguments.length?Array.from(e,e0):[0,1],Yl(n)}function r3(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function GA(e){return Math.log(e)}function YA(e){return Math.exp(e)}function qK(e){return-Math.log(-e)}function KK(e){return-Math.exp(-e)}function GK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function YK(e){return e===10?GK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function XK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function XA(e){return(t,n)=>-e(-t,n)}function lS(e){const t=e(GA,YA),n=t.domain;let r=10,i,a;function s(){return i=XK(r),a=YK(r),n()[0]<0?(i=XA(i),a=XA(a),e(qK,KK)):e(GA,YA),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,g;const b=o==null?10:+o;let x=[];if(!(r%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<r;++p)if(g=h<0?p/a(-h):p*a(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<b&&(x=bw(u,d,b))}else x=bw(h,m,Math.min(m-h,b)).map(a);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Sm(l)).precision==null&&(l.trim=!0),l=oS(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},t.nice=()=>n(r3(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function i3(){const e=lS(Tx()).domain([1,10]);return e.copy=()=>Gm(e,i3()).base(e.base()),as.apply(e,arguments),e}function QA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ZA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cS(e){var t=1,n=e(QA(t),ZA(t));return n.constant=function(r){return arguments.length?e(QA(t=+r),ZA(t)):t},Yl(n)}function a3(){var e=cS(Tx());return e.copy=function(){return Gm(e,a3()).constant(e.constant())},as.apply(e,arguments)}function JA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function QK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ZK(e){return e<0?-e*e:e*e}function uS(e){var t=e(qi,qi),n=1;function r(){return n===1?e(qi,qi):n===.5?e(QK,ZK):e(JA(n),JA(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Yl(t)}function dS(){var e=uS(Tx());return e.copy=function(){return Gm(e,dS()).exponent(e.exponent())},as.apply(e,arguments),e}function JK(){return dS.apply(null,arguments).exponent(.5)}function eP(e){return Math.sign(e)*e*e}function eG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function s3(){var e=aS(),t=[0,1],n=!1,r;function i(a){var s=eG(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(eP(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,e0)).map(eP)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return s3(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},as.apply(i,arguments),Yl(i)}function o3(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=iK(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[qm(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort($l),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return o3().domain(e).range(t).unknown(r)},as.apply(a,arguments)}function l3(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[qm(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return l3().domain([e,t]).range(i).unknown(a)},as.apply(Yl(s),arguments)}function c3(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[qm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return c3().domain(e).range(t).unknown(n)},as.apply(i,arguments)}const tb=new Date,nb=new Date;function Zr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>Zr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(tb.setTime(+a),nb.setTime(+s),e(tb),e(nb),Math.floor(n(tb,nb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const r0=Zr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);r0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):r0);r0.range;const No=1e3,Za=No*60,Co=Za*60,Ro=Co*24,fS=Ro*7,tP=Ro*30,rb=Ro*365,Pc=Zr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*No)},(e,t)=>(t-e)/No,e=>e.getUTCSeconds());Pc.range;const mS=Zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*No)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getMinutes());mS.range;const hS=Zr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getUTCMinutes());hS.range;const pS=Zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*No-e.getMinutes()*Za)},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getHours());pS.range;const gS=Zr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getUTCHours());gS.range;const Ym=Zr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Za)/Ro,e=>e.getDate()-1);Ym.range;const Ex=Zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ro,e=>e.getUTCDate()-1);Ex.range;const u3=Zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ro,e=>Math.floor(e/Ro));u3.range;function iu(e){return Zr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Za)/fS)}const Mx=iu(0),i0=iu(1),tG=iu(2),nG=iu(3),yd=iu(4),rG=iu(5),iG=iu(6);Mx.range;i0.range;tG.range;nG.range;yd.range;rG.range;iG.range;function au(e){return Zr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/fS)}const Ox=au(0),a0=au(1),aG=au(2),sG=au(3),wd=au(4),oG=au(5),lG=au(6);Ox.range;a0.range;aG.range;sG.range;wd.range;oG.range;lG.range;const xS=Zr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xS.range;const vS=Zr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vS.range;const Bo=Zr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Bo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Bo.range;const zo=Zr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});zo.range;function d3(e,t,n,r,i,a){const s=[[Pc,1,No],[Pc,5,5*No],[Pc,15,15*No],[Pc,30,30*No],[a,1,Za],[a,5,5*Za],[a,15,15*Za],[a,30,30*Za],[i,1,Co],[i,3,3*Co],[i,6,6*Co],[i,12,12*Co],[r,1,Ro],[r,2,2*Ro],[n,1,fS],[t,1,tP],[t,3,3*tP],[e,1,rb]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function l(u,d,f){const h=Math.abs(d-u)/f,m=Jk(([,,b])=>b).right(s,h);if(m===s.length)return e.every(ww(u/rb,d/rb,f));if(m===0)return r0.every(Math.max(ww(u,d,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[cG,uG]=d3(zo,vS,Ox,u3,gS,hS),[dG,fG]=d3(Bo,xS,Mx,Ym,pS,mS);function ib(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ab(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function cf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function mG(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=uf(i),d=df(i),f=uf(a),h=df(a),m=uf(s),p=df(s),g=uf(o),b=df(o),x=uf(l),w=df(l),y={a:Y,A:q,b:K,B:E,c:null,d:oP,e:oP,f:LG,g:qG,G:GG,H:OG,I:IG,j:_G,L:f3,m:$G,M:FG,p:D,q:ie,Q:uP,s:dP,S:RG,u:BG,U:zG,V:UG,w:VG,W:WG,x:null,X:null,y:HG,Y:KG,Z:YG,"%":cP},N={a:k,A:V,b:W,B:re,c:null,d:lP,e:lP,f:JG,g:cY,G:dY,H:XG,I:QG,j:ZG,L:h3,m:eY,M:tY,p:ne,q:se,Q:uP,s:dP,S:nY,u:rY,U:iY,V:aY,w:sY,W:oY,x:null,X:null,y:lY,Y:uY,Z:fY,"%":cP},C={a:T,A:_,b:O,B:G,c:J,d:aP,e:aP,f:DG,g:iP,G:rP,H:sP,I:sP,j:CG,L:PG,m:NG,M:jG,p:$,q:SG,Q:EG,s:MG,S:AG,u:vG,U:bG,V:yG,w:xG,W:wG,x:ue,X:ge,y:iP,Y:rP,Z:kG,"%":TG};y.x=S(n,y),y.X=S(r,y),y.c=S(t,y),N.x=S(n,N),N.X=S(r,N),N.c=S(t,N);function S(F,U){return function(H){var ee=[],R=-1,ce=0,X=F.length,ae,ze,Ve;for(H instanceof Date||(H=new Date(+H));++R<X;)F.charCodeAt(R)===37&&(ee.push(F.slice(ce,R)),(ze=nP[ae=F.charAt(++R)])!=null?ae=F.charAt(++R):ze=ae==="e"?" ":"0",(Ve=U[ae])&&(ae=Ve(H,ze)),ee.push(ae),ce=R+1);return ee.push(F.slice(ce,R)),ee.join("")}}function j(F,U){return function(H){var ee=cf(1900,void 0,1),R=M(ee,F,H+="",0),ce,X;if(R!=H.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(U&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(ce=ab(cf(ee.y,0,1)),X=ce.getUTCDay(),ce=X>4||X===0?a0.ceil(ce):a0(ce),ce=Ex.offset(ce,(ee.V-1)*7),ee.y=ce.getUTCFullYear(),ee.m=ce.getUTCMonth(),ee.d=ce.getUTCDate()+(ee.w+6)%7):(ce=ib(cf(ee.y,0,1)),X=ce.getDay(),ce=X>4||X===0?i0.ceil(ce):i0(ce),ce=Ym.offset(ce,(ee.V-1)*7),ee.y=ce.getFullYear(),ee.m=ce.getMonth(),ee.d=ce.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),X="Z"in ee?ab(cf(ee.y,0,1)).getUTCDay():ib(cf(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(X+5)%7:ee.w+ee.U*7-(X+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,ab(ee)):ib(ee)}}function M(F,U,H,ee){for(var R=0,ce=U.length,X=H.length,ae,ze;R<ce;){if(ee>=X)return-1;if(ae=U.charCodeAt(R++),ae===37){if(ae=U.charAt(R++),ze=C[ae in nP?U.charAt(R++):ae],!ze||(ee=ze(F,H,ee))<0)return-1}else if(ae!=H.charCodeAt(ee++))return-1}return ee}function $(F,U,H){var ee=u.exec(U.slice(H));return ee?(F.p=d.get(ee[0].toLowerCase()),H+ee[0].length):-1}function T(F,U,H){var ee=m.exec(U.slice(H));return ee?(F.w=p.get(ee[0].toLowerCase()),H+ee[0].length):-1}function _(F,U,H){var ee=f.exec(U.slice(H));return ee?(F.w=h.get(ee[0].toLowerCase()),H+ee[0].length):-1}function O(F,U,H){var ee=x.exec(U.slice(H));return ee?(F.m=w.get(ee[0].toLowerCase()),H+ee[0].length):-1}function G(F,U,H){var ee=g.exec(U.slice(H));return ee?(F.m=b.get(ee[0].toLowerCase()),H+ee[0].length):-1}function J(F,U,H){return M(F,t,U,H)}function ue(F,U,H){return M(F,n,U,H)}function ge(F,U,H){return M(F,r,U,H)}function Y(F){return s[F.getDay()]}function q(F){return a[F.getDay()]}function K(F){return l[F.getMonth()]}function E(F){return o[F.getMonth()]}function D(F){return i[+(F.getHours()>=12)]}function ie(F){return 1+~~(F.getMonth()/3)}function k(F){return s[F.getUTCDay()]}function V(F){return a[F.getUTCDay()]}function W(F){return l[F.getUTCMonth()]}function re(F){return o[F.getUTCMonth()]}function ne(F){return i[+(F.getUTCHours()>=12)]}function se(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var U=S(F+="",y);return U.toString=function(){return F},U},parse:function(F){var U=j(F+="",!1);return U.toString=function(){return F},U},utcFormat:function(F){var U=S(F+="",N);return U.toString=function(){return F},U},utcParse:function(F){var U=j(F+="",!0);return U.toString=function(){return F},U}}}var nP={"-":"",_:" ",0:"0"},mi=/^\s*\d+/,hG=/^%/,pG=/[\\^$*+?|[\]().{}]/g;function Ln(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function gG(e){return e.replace(pG,"\\$&")}function uf(e){return new RegExp("^(?:"+e.map(gG).join("|")+")","i")}function df(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function xG(e,t,n){var r=mi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function vG(e,t,n){var r=mi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function bG(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function yG(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function wG(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function rP(e,t,n){var r=mi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function iP(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kG(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function SG(e,t,n){var r=mi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function NG(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function aP(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function CG(e,t,n){var r=mi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function sP(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function jG(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function AG(e,t,n){var r=mi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function PG(e,t,n){var r=mi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function DG(e,t,n){var r=mi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function TG(e,t,n){var r=hG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function EG(e,t,n){var r=mi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function MG(e,t,n){var r=mi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function oP(e,t){return Ln(e.getDate(),t,2)}function OG(e,t){return Ln(e.getHours(),t,2)}function IG(e,t){return Ln(e.getHours()%12||12,t,2)}function _G(e,t){return Ln(1+Ym.count(Bo(e),e),t,3)}function f3(e,t){return Ln(e.getMilliseconds(),t,3)}function LG(e,t){return f3(e,t)+"000"}function $G(e,t){return Ln(e.getMonth()+1,t,2)}function FG(e,t){return Ln(e.getMinutes(),t,2)}function RG(e,t){return Ln(e.getSeconds(),t,2)}function BG(e){var t=e.getDay();return t===0?7:t}function zG(e,t){return Ln(Mx.count(Bo(e)-1,e),t,2)}function m3(e){var t=e.getDay();return t>=4||t===0?yd(e):yd.ceil(e)}function UG(e,t){return e=m3(e),Ln(yd.count(Bo(e),e)+(Bo(e).getDay()===4),t,2)}function VG(e){return e.getDay()}function WG(e,t){return Ln(i0.count(Bo(e)-1,e),t,2)}function HG(e,t){return Ln(e.getFullYear()%100,t,2)}function qG(e,t){return e=m3(e),Ln(e.getFullYear()%100,t,2)}function KG(e,t){return Ln(e.getFullYear()%1e4,t,4)}function GG(e,t){var n=e.getDay();return e=n>=4||n===0?yd(e):yd.ceil(e),Ln(e.getFullYear()%1e4,t,4)}function YG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ln(t/60|0,"0",2)+Ln(t%60,"0",2)}function lP(e,t){return Ln(e.getUTCDate(),t,2)}function XG(e,t){return Ln(e.getUTCHours(),t,2)}function QG(e,t){return Ln(e.getUTCHours()%12||12,t,2)}function ZG(e,t){return Ln(1+Ex.count(zo(e),e),t,3)}function h3(e,t){return Ln(e.getUTCMilliseconds(),t,3)}function JG(e,t){return h3(e,t)+"000"}function eY(e,t){return Ln(e.getUTCMonth()+1,t,2)}function tY(e,t){return Ln(e.getUTCMinutes(),t,2)}function nY(e,t){return Ln(e.getUTCSeconds(),t,2)}function rY(e){var t=e.getUTCDay();return t===0?7:t}function iY(e,t){return Ln(Ox.count(zo(e)-1,e),t,2)}function p3(e){var t=e.getUTCDay();return t>=4||t===0?wd(e):wd.ceil(e)}function aY(e,t){return e=p3(e),Ln(wd.count(zo(e),e)+(zo(e).getUTCDay()===4),t,2)}function sY(e){return e.getUTCDay()}function oY(e,t){return Ln(a0.count(zo(e)-1,e),t,2)}function lY(e,t){return Ln(e.getUTCFullYear()%100,t,2)}function cY(e,t){return e=p3(e),Ln(e.getUTCFullYear()%100,t,2)}function uY(e,t){return Ln(e.getUTCFullYear()%1e4,t,4)}function dY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?wd(e):wd.ceil(e),Ln(e.getUTCFullYear()%1e4,t,4)}function fY(){return"+0000"}function cP(){return"%"}function uP(e){return+e}function dP(e){return Math.floor(+e/1e3)}var Cu,g3,x3;mY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mY(e){return Cu=mG(e),g3=Cu.format,Cu.parse,x3=Cu.utcFormat,Cu.utcParse,Cu}function hY(e){return new Date(e)}function pY(e){return e instanceof Date?+e:+new Date(+e)}function bS(e,t,n,r,i,a,s,o,l,u){var d=aS(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),w=u("%b %d"),y=u("%B"),N=u("%Y");function C(S){return(l(S)<S?m:o(S)<S?p:s(S)<S?g:a(S)<S?b:r(S)<S?i(S)<S?x:w:n(S)<S?y:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,pY)):h().map(hY)},d.ticks=function(S){var j=h();return e(j[0],j[j.length-1],S??10)},d.tickFormat=function(S,j){return j==null?C:u(j)},d.nice=function(S){var j=h();return(!S||typeof S.range!="function")&&(S=t(j[0],j[j.length-1],S??10)),S?h(r3(j,S)):d},d.copy=function(){return Gm(d,bS(e,t,n,r,i,a,s,o,l,u))},d}function gY(){return as.apply(bS(dG,fG,Bo,xS,Mx,Ym,pS,mS,Pc,g3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xY(){return as.apply(bS(cG,uG,zo,vS,Ox,Ex,gS,hS,Pc,x3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ix(){var e=0,t=1,n,r,i,a,s=qi,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),u):[s(0),s(1)]}}return u.range=d(Md),u.rangeRound=d(iS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Xl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function v3(){var e=Yl(Ix()(qi));return e.copy=function(){return Xl(e,v3())},Go.apply(e,arguments)}function b3(){var e=lS(Ix()).domain([1,10]);return e.copy=function(){return Xl(e,b3()).base(e.base())},Go.apply(e,arguments)}function y3(){var e=cS(Ix());return e.copy=function(){return Xl(e,y3()).constant(e.constant())},Go.apply(e,arguments)}function yS(){var e=uS(Ix());return e.copy=function(){return Xl(e,yS()).exponent(e.exponent())},Go.apply(e,arguments)}function vY(){return yS.apply(null,arguments).exponent(.5)}function w3(){var e=[],t=qi;function n(r){if(r!=null&&!isNaN(r=+r))return t((qm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort($l),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>rK(e,a/r))},n.copy=function(){return w3(t).domain(e)},Go.apply(n,arguments)}function _x(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=qi,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(b){var x,w,y;return arguments.length?([x,w,y]=b,u=TK(g,[x,w,y]),m):[u(0),u(.5),u(1)]}}return m.range=p(Md),m.rangeRound=p(iS),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),a=g(t),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function k3(){var e=Yl(_x()(qi));return e.copy=function(){return Xl(e,k3())},Go.apply(e,arguments)}function S3(){var e=lS(_x()).domain([.1,1,10]);return e.copy=function(){return Xl(e,S3()).base(e.base())},Go.apply(e,arguments)}function N3(){var e=cS(_x());return e.copy=function(){return Xl(e,N3()).constant(e.constant())},Go.apply(e,arguments)}function wS(){var e=uS(_x());return e.copy=function(){return Xl(e,wS()).exponent(e.exponent())},Go.apply(e,arguments)}function bY(){return wS.apply(null,arguments).exponent(.5)}const Nf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tS,scaleDiverging:k3,scaleDivergingLog:S3,scaleDivergingPow:wS,scaleDivergingSqrt:bY,scaleDivergingSymlog:N3,scaleIdentity:n3,scaleImplicit:kw,scaleLinear:t3,scaleLog:i3,scaleOrdinal:eS,scalePoint:sK,scalePow:dS,scaleQuantile:o3,scaleQuantize:l3,scaleRadial:s3,scaleSequential:v3,scaleSequentialLog:b3,scaleSequentialPow:yS,scaleSequentialQuantile:w3,scaleSequentialSqrt:vY,scaleSequentialSymlog:y3,scaleSqrt:JK,scaleSymlog:a3,scaleThreshold:c3,scaleTime:gY,scaleUtc:xY,tickFormat:e3},Symbol.toStringTag,{value:"Module"}));var Ql=e=>e.chartData,kS=we([Ql],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),SS=(e,t,n,r)=>r?kS(e):Ql(e);function zl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Wr(t)&&Wr(n))return!0}return!1}function fP(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function C3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Wr(n))i=n;else if(typeof n=="function")return;if(Wr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(zl(s))return s}}function yY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(zl(r))return fP(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(It(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Ej.test(i)){var l=Ej.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(It(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&Mj.test(a)){var d=Mj.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(zl(h))return t==null?h:fP(h,t,n)}}}var Od=1e9,wY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CS,pr=!0,is="[DecimalError] ",Lc=is+"Invalid argument: ",NS=is+"Exponent out of range: ",Id=Math.floor,vc=Math.pow,kY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ca,ci=1e7,cr=7,j3=9007199254740991,s0=Id(j3/cr),Ct={};Ct.absoluteValue=Ct.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ct.comparedTo=Ct.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ct.decimalPlaces=Ct.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*cr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ct.dividedBy=Ct.div=function(e){return Po(this,new this.constructor(e))};Ct.dividedToIntegerBy=Ct.idiv=function(e){var t=this,n=t.constructor;return Gn(Po(t,new n(e),0,1),n.precision)};Ct.equals=Ct.eq=function(e){return!this.cmp(e)};Ct.exponent=function(){return Vr(this)};Ct.greaterThan=Ct.gt=function(e){return this.cmp(e)>0};Ct.greaterThanOrEqualTo=Ct.gte=function(e){return this.cmp(e)>=0};Ct.isInteger=Ct.isint=function(){return this.e>this.d.length-2};Ct.isNegative=Ct.isneg=function(){return this.s<0};Ct.isPositive=Ct.ispos=function(){return this.s>0};Ct.isZero=function(){return this.s===0};Ct.lessThan=Ct.lt=function(e){return this.cmp(e)<0};Ct.lessThanOrEqualTo=Ct.lte=function(e){return this.cmp(e)<1};Ct.logarithm=Ct.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ca))throw Error(is+"NaN");if(n.s<1)throw Error(is+(n.s?"NaN":"-Infinity"));return n.eq(Ca)?new r(0):(pr=!1,t=Po(Nm(n,a),Nm(e,a),a),pr=!0,Gn(t,i))};Ct.minus=Ct.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?D3(t,e):A3(t,(e.s=-e.s,e))};Ct.modulo=Ct.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(is+"NaN");return n.s?(pr=!1,t=Po(n,e,0,1).times(e),pr=!0,n.minus(t)):Gn(new r(n),i)};Ct.naturalExponential=Ct.exp=function(){return P3(this)};Ct.naturalLogarithm=Ct.ln=function(){return Nm(this)};Ct.negated=Ct.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ct.plus=Ct.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A3(t,e):D3(t,(e.s=-e.s,e))};Ct.precision=Ct.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Lc+e);if(t=Vr(i)+1,r=i.d.length-1,n=r*cr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ct.squareRoot=Ct.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(is+"NaN")}for(e=Vr(o),pr=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Ys(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Id((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Po(o,a,s+2)).times(.5),Ys(a.d).slice(0,s)===(t=Ys(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Gn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return pr=!0,Gn(r,n)};Ct.times=Ct.mul=function(e){var t,n,r,i,a,s,o,l,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,u=m.length,l<u&&(a=h,h=m,m=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%ci|0,t=o/ci|0;a[i]=(a[i]+t)%ci|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,pr?Gn(e,f.precision):e};Ct.toDecimalPlaces=Ct.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ro(e,0,Od),t===void 0?t=r.rounding:ro(t,0,8),Gn(n,e+Vr(n)+1,t))};Ct.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Yc(r,!0):(ro(e,0,Od),t===void 0?t=i.rounding:ro(t,0,8),r=Gn(new i(r),e+1,t),n=Yc(r,!0,e+1)),n};Ct.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Yc(i):(ro(e,0,Od),t===void 0?t=a.rounding:ro(t,0,8),r=Gn(new a(i),e+Vr(i)+1,t),n=Yc(r.abs(),!1,e+Vr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ct.toInteger=Ct.toint=function(){var e=this,t=e.constructor;return Gn(new t(e),Vr(e)+1,t.rounding)};Ct.toNumber=function(){return+this};Ct.toPower=Ct.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Ca);if(o=new l(o),!o.s){if(e.s<1)throw Error(is+"Infinity");return o}if(o.eq(Ca))return o;if(r=l.precision,e.eq(Ca))return Gn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=j3){for(i=new l(Ca),t=Math.ceil(r/cr+4),pr=!1;n%2&&(i=i.times(o),hP(i.d,t)),n=Id(n/2),n!==0;)o=o.times(o),hP(o.d,t);return pr=!0,e.s<0?new l(Ca).div(i):Gn(i,r)}}else if(a<0)throw Error(is+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,pr=!1,i=e.times(Nm(o,r+u)),pr=!0,i=P3(i),i.s=a,i};Ct.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Vr(i),r=Yc(i,n<=a.toExpNeg||n>=a.toExpPos)):(ro(e,1,Od),t===void 0?t=a.rounding:ro(t,0,8),i=Gn(new a(i),e,t),n=Vr(i),r=Yc(i,e<=n||n<=a.toExpNeg,e)),r};Ct.toSignificantDigits=Ct.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ro(e,1,Od),t===void 0?t=r.rounding:ro(t,0,8)),Gn(new r(n),e,t)};Ct.toString=Ct.valueOf=Ct.val=Ct.toJSON=Ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vr(e),n=e.constructor;return Yc(e,t<=n.toExpNeg||t>=n.toExpPos)};function A3(e,t){var n,r,i,a,s,o,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),pr?Gn(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(f/cr),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/ci|0,l[a]%=ci;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,pr?Gn(t,f):t}function ro(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Lc+e)}function Ys(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=cr-r.length,n&&(a+=xl(n)),a+=r;s=e[t],r=s+"",n=cr-r.length,n&&(a+=xl(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Po=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ci|0,s=a/ci|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ci+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,d,f,h,m,p,g,b,x,w,y,N,C,S,j,M,$=r.constructor,T=r.s==i.s?1:-1,_=r.d,O=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(is+"Division by zero");for(l=r.e-i.e,j=O.length,C=_.length,m=new $(T),p=m.d=[],u=0;O[u]==(_[u]||0);)++u;if(O[u]>(_[u]||0)&&--l,a==null?w=a=$.precision:s?w=a+(Vr(r)-Vr(i))+1:w=a,w<0)return new $(0);if(w=w/cr+2|0,u=0,j==1)for(d=0,O=O[0],w++;(u<C||d)&&w--;u++)y=d*ci+(_[u]||0),p[u]=y/O|0,d=y%O|0;else{for(d=ci/(O[0]+1)|0,d>1&&(O=e(O,d),_=e(_,d),j=O.length,C=_.length),N=j,g=_.slice(0,j),b=g.length;b<j;)g[b++]=0;M=O.slice(),M.unshift(0),S=O[0],O[1]>=ci/2&&++S;do d=0,o=t(O,g,j,b),o<0?(x=g[0],j!=b&&(x=x*ci+(g[1]||0)),d=x/S|0,d>1?(d>=ci&&(d=ci-1),f=e(O,d),h=f.length,b=g.length,o=t(f,g,h,b),o==1&&(d--,n(f,j<h?M:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<b&&f.unshift(0),n(g,f,b),o==-1&&(b=g.length,o=t(O,g,j,b),o<1&&(d++,n(g,j<b?M:O,b))),b=g.length):o===0&&(d++,g=[0]),p[u++]=d,o&&g[0]?g[b++]=_[N]||0:(g=[_[N]],b=1);while((N++<C||g[0]!==void 0)&&w--)}return p[0]||p.shift(),m.e=l,Gn(m,s?a+Vr(m)+1:a)}}();function P3(e,t){var n,r,i,a,s,o,l=0,u=0,d=e.constructor,f=d.precision;if(Vr(e)>16)throw Error(NS+Vr(e));if(!e.s)return new d(Ca);for(pr=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(vc(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new d(Ca),d.precision=o;;){if(i=Gn(i.times(e),o),n=n.times(++l),s=a.plus(Po(i,n,o)),Ys(s.d).slice(0,o)===Ys(a.d).slice(0,o)){for(;u--;)a=Gn(a.times(a),o);return d.precision=f,t==null?(pr=!0,Gn(a,f)):a}a=s}}function Vr(e){for(var t=e.e*cr,n=e.d[0];n>=10;n/=10)t++;return t}function sb(e,t,n){if(t>e.LN10.sd())throw pr=!0,n&&(e.precision=n),Error(is+"LN10 precision limit exceeded");return Gn(new e(e.LN10),t)}function xl(e){for(var t="";e--;)t+="0";return t}function Nm(e,t){var n,r,i,a,s,o,l,u,d,f=1,h=10,m=e,p=m.d,g=m.constructor,b=g.precision;if(m.s<1)throw Error(is+(m.s?"NaN":"-Infinity"));if(m.eq(Ca))return new g(0);if(t==null?(pr=!1,u=b):u=t,m.eq(10))return t==null&&(pr=!0),sb(g,u);if(u+=h,g.precision=u,n=Ys(p),r=n.charAt(0),a=Vr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Ys(m.d),r=n.charAt(0),f++;a=Vr(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1))}else return l=sb(g,u+2,b).times(a+""),m=Nm(new g(r+"."+n.slice(1)),u-h).plus(l),g.precision=b,t==null?(pr=!0,Gn(m,b)):m;for(o=s=m=Po(m.minus(Ca),m.plus(Ca),u),d=Gn(m.times(m),u),i=3;;){if(s=Gn(s.times(d),u),l=o.plus(Po(s,new g(i),u)),Ys(l.d).slice(0,u)===Ys(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(sb(g,u+2,b).times(a+""))),o=Po(o,new g(f),u),g.precision=b,t==null?(pr=!0,Gn(o,b)):o;o=l,i+=2}}function mP(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Id(n/cr),e.d=[],r=(n+1)%cr,n<0&&(r+=cr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=cr;r<i;)e.d.push(+t.slice(r,r+=cr));t=t.slice(r),r=cr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),pr&&(e.e>s0||e.e<-s0))throw Error(NS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Gn(e,t,n){var r,i,a,s,o,l,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=cr,i=t,u=f[d=0];else{if(d=Math.ceil((r+1)/cr),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;r%=cr,i=r-cr+s}if(n!==void 0&&(a=vc(10,s-i-1),o=u/a%10|0,l=t<0||f[d+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/vc(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Vr(e),f.length=1,t=t-a-1,f[0]=vc(10,(cr-t%cr)%cr),e.e=Id(-t/cr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=vc(10,cr-r),f[d]=i>0?(u/vc(10,s-i)%vc(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==ci&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=ci)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(pr&&(e.e>s0||e.e<-s0))throw Error(NS+Vr(e));return e}function D3(e,t){var n,r,i,a,s,o,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),pr?Gn(t,m):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=u,o=l.length),i=Math.max(Math.ceil(m/cr),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ci-1;--l[a],l[i]+=ci}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,pr?Gn(t,m):t):new h(0)}function Yc(e,t,n){var r,i=Vr(e),a=Ys(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+xl(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+xl(-i-1)+a,n&&(r=n-s)>0&&(a+=xl(r))):i>=s?(a+=xl(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+xl(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=xl(r))),e.s<0?"-"+a:a}function hP(e,t){if(e.length>t)return e.length=t,!0}function T3(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Lc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return mP(s,a.toString())}else if(typeof a!="string")throw Error(Lc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,kY.test(a))mP(s,a);else throw Error(Lc+a)}if(i.prototype=Ct,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=T3,i.config=i.set=SY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function SY(e){if(!e||typeof e!="object")throw Error(is+"Object expected");var t,n,r,i=["precision",1,Od,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Id(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Lc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Lc+n+": "+r);return this}var CS=T3(wY);Ca=new CS(1);const zn=CS;var NY=e=>e,E3={},M3=e=>e===E3,pP=e=>function t(){return arguments.length===0||arguments.length===1&&M3(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},O3=(e,t)=>e===1?t:pP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==E3).length;return a>=e?t(...r):O3(e-a,pP(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=r.map(d=>M3(d)?o.shift():d);return t(...u,...o)}))}),CY=e=>O3(e.length,e),jw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},jY=CY((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),AY=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return NY;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function I3(e){var t;return e===0?t=1:t=Math.floor(new zn(e).abs().log(10).toNumber())+1,t}function _3(e,t,n){for(var r=new zn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var L3=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},$3=(e,t,n)=>{if(e.lte(0))return new zn(0);var r=I3(e.toNumber()),i=new zn(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new zn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new zn(l.toNumber()):new zn(Math.ceil(l.toNumber()))},PY=(e,t,n)=>{var r=new zn(1),i=new zn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new zn(10).pow(I3(e)-1),i=new zn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new zn(Math.floor(e)))}else e===0?i=new zn(Math.floor((t-1)/2)):n||(i=new zn(Math.floor(e)));var s=Math.floor((t-1)/2),o=AY(jY(l=>i.add(new zn(l-s).mul(r)).toNumber()),jw);return o(0,t)},F3=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new zn(0),tickMin:new zn(0),tickMax:new zn(0)};var s=$3(new zn(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new zn(0):(o=new zn(t).add(n).div(2),o=o.sub(new zn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new zn(n).sub(o).div(s).toNumber()),d=l+u+1;return d>r?F3(t,n,r,i,a+1):(d<r&&(u=n>0?u+(r-d):u,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new zn(l).mul(s)),tickMax:o.add(new zn(u).mul(s))})},DY=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=L3([n,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...jw(0,i-1).map(()=>1/0)]:[...jw(0,i-1).map(()=>-1/0),l];return n>r?u.reverse():u}if(o===l)return PY(o,i,a);var{step:d,tickMin:f,tickMax:h}=F3(o,l,s,a,0),m=_3(f,h.add(new zn(.1).mul(d)),d);return n>r?m.reverse():m},TY=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=L3([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),u=$3(new zn(o).sub(s).div(l-1),a,0),d=[..._3(new zn(s),new zn(o),u),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},EY=e=>e.rootProps.barCategoryGap,Xm=e=>e.rootProps.stackOffset,R3=e=>e.rootProps.reverseStackOrder,jS=e=>e.options.chartName,AS=e=>e.rootProps.syncId,B3=e=>e.rootProps.syncMethod,PS=e=>e.options.eventEmitter,ki={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},bo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Na={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Lx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},MY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:bo.angleAxisId,includeHidden:!1,name:void 0,reversed:bo.reversed,scale:bo.scale,tick:bo.tick,tickCount:void 0,ticks:void 0,type:bo.type,unit:void 0},OY={allowDataOverflow:Na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Na.scale,tick:Na.tick,tickCount:Na.tickCount,ticks:void 0,type:Na.type,unit:void 0},IY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:bo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:bo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:bo.scale,tick:bo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},_Y={allowDataOverflow:Na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Na.scale,tick:Na.tick,tickCount:Na.tickCount,ticks:void 0,type:"category",unit:void 0},DS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?IY:MY,TS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?_Y:OY,$x=e=>e.polarOptions,ES=we([qo,Ko,fi],F_),z3=we([$x,ES],(e,t)=>{if(e!=null)return Da(e.innerRadius,t,0)}),U3=we([$x,ES],(e,t)=>{if(e!=null)return Da(e.outerRadius,t,t*.8)}),LY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},V3=we([$x],LY);we([DS,V3],Lx);var W3=we([ES,z3,U3],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});we([TS,W3],Lx);var H3=we([Hn,$x,z3,U3,qo,Ko],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:Da(s,i,i/2),cy:Da(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),gr=(e,t)=>t,Qm=(e,t,n)=>n;function q3(e){return e==null?void 0:e.id}function K3(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=q3(o);u.forEach((f,h)=>{var m=a==null||i?h:String(dr(f,a,null)),p=dr(f,o.dataKey,0),g;s.has(m)?g=s.get(m):g={},Object.assign(g,{[d]:p}),s.set(m,g)})}}),Array.from(s.values())}function MS(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Fx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Rx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function $Y(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Jr=e=>{var t=Hn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_d=e=>e.tooltip.settings.axisId;function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function o0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(n),!0).forEach(function(r){FY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FY(e,t,n){return(t=RY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RY(e){var t=BY(e,"string");return typeof t=="symbol"?t:t+""}function BY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aw=[0,"auto"],oi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},G3=(e,t)=>e.cartesianAxis.xAxis[t],Yo=(e,t)=>{var n=G3(e,t);return n??oi},li={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Aw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Vm},Y3=(e,t)=>e.cartesianAxis.yAxis[t],Xo=(e,t)=>{var n=Y3(e,t);return n??li},zY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},OS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??zY},Sr=(e,t,n)=>{switch(t){case"xAxis":return Yo(e,n);case"yAxis":return Xo(e,n);case"zAxis":return OS(e,n);case"angleAxis":return DS(e,n);case"radiusAxis":return TS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},UY=(e,t,n)=>{switch(t){case"xAxis":return Yo(e,n);case"yAxis":return Xo(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Zm=(e,t,n)=>{switch(t){case"xAxis":return Yo(e,n);case"yAxis":return Xo(e,n);case"angleAxis":return DS(e,n);case"radiusAxis":return TS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},X3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function IS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Q3=e=>e.graphicalItems.cartesianItems,VY=we([gr,Qm],IS),_S=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Jm=we([Q3,Sr,VY],_S,{memoizeOptions:{resultEqualityCheck:Rx}}),Z3=we([Jm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(MS)),J3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),WY=we([Jm],J3),LS=e=>e.map(t=>t.data).filter(Boolean).flat(1),HY=we([Jm],LS,{memoizeOptions:{resultEqualityCheck:Rx}}),$S=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},FS=we([HY,SS],$S),RS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:dr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:dr(i,r)}))):e.map(r=>({value:r})),Bx=we([FS,Sr,Jm],RS);function eL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Vp(e){if(to(e)||e instanceof Date){var t=Number(e);if(Wr(t))return t}}function xP(e){if(Array.isArray(e)){var t=[Vp(e[0]),Vp(e[1])];return zl(t)?t:void 0}var n=Vp(e);if(n!=null)return[n,n]}function Uo(e){return e.map(Vp).filter(oW)}function qY(e,t,n){return!n||typeof t!="number"||eo(t)?[]:n.length?Uo(n.flatMap(r=>{var i=dr(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Wr(a)||!Wr(s)))return[t-a,t+s]})):[]}var ei=e=>{var t=Jr(e),n=_d(e);return Zm(e,t,n)},eh=we([ei],e=>e==null?void 0:e.dataKey),KY=we([Z3,SS,ei],K3),tL=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=r?[...l].reverse():l,d=u.map(q3);return[o,{stackedData:SH(e,d,n),graphicalItems:u}]}))},GY=we([KY,Z3,Xm,R3],tL),nL=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=jH(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},YY=we([Sr],e=>e.allowDataOverflow),BS=e=>{var t;if(e==null||!("domain"in e))return Aw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Uo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Aw},zS=we([Sr],BS),US=we([zS,YY],C3),XY=we([GY,Ql,gr,US],nL,{memoizeOptions:{resultEqualityCheck:Fx}}),zx=e=>e.errorBars,QY=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>eL(n,r)),l0=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},VS=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(x=>eL(i,x)),h=dr(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=qY(o,h,f);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||g>s)&&(s=g)}var b=xP(h);b!=null&&(a=a==null?b[0]:Math.min(a,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=xP(dr(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Wr(a)&&Wr(s))return[a,s]},ZY=we([FS,Sr,WY,zx,gr],VS,{memoizeOptions:{resultEqualityCheck:Fx}});function JY(e){var{value:t}=e;if(to(t)||t instanceof Date)return t}var eX=(e,t,n)=>{var r=e.map(JY).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&X5(r))?H_(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},rL=e=>e.referenceElements.dots,Ld=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),tX=we([rL,gr,Qm],Ld),iL=e=>e.referenceElements.areas,nX=we([iL,gr,Qm],Ld),aL=e=>e.referenceElements.lines,rX=we([aL,gr,Qm],Ld),sL=(e,t)=>{if(e!=null){var n=Uo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},iX=we(tX,gr,sL),oL=(e,t)=>{if(e!=null){var n=Uo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},aX=we([nX,gr],oL);function sX(e){var t;if(e.x!=null)return Uo([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Uo(n)}function oX(e){var t;if(e.y!=null)return Uo([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Uo(n)}var lL=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?sX(r):oX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},lX=we([rX,gr],lL),cX=we(iX,lX,aX,(e,t,n)=>l0(e,n,t)),WS=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?l0(r,a,i):l0(a,i);return yY(t,u,e.allowDataOverflow)},uX=we([Sr,zS,US,XY,ZY,cX,Hn,gr],WS,{memoizeOptions:{resultEqualityCheck:Fx}}),dX=[0,1],HS=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=Gl(t,a);if(u&&o==null){var d;return H_(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?eX(r,e,u):i==="expand"?dX:s}},qS=we([Sr,Hn,FS,Bx,Xm,gr,uX],HS),cL=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Rm(a));return o in Nf?o:"point"}}},$d=we([Sr,Hn,X3,jS,gr],cL);function fX(e){if(e!=null){if(e in Nf)return Nf[e]();var t="scale".concat(Rm(e));if(t in Nf)return Nf[t]()}}function KS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=fX(t);if(i!=null){var a=i.domain(n).range(r);return bH(a),a}}}var GS=(e,t,n)=>{var r=BS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&zl(e))return DY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&zl(e))return TY(e,t.tickCount,t.allowDecimals)}},YS=we([qS,Zm,$d],GS),XS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&zl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},mX=we([Sr,qS,YS,gr],XS),hX=we(Bx,Sr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Uo(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],u=r[o+1];if(!(l==null||u==null)){var d=u-l;n=Math.min(n,d)}}return n/s}}),uL=we(hX,Hn,EY,fi,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Wr(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Da(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),pX=(e,t,n)=>{var r=Yo(e,t);return r==null||typeof r.padding!="string"?0:uL(e,"xAxis",t,n,r.padding)},gX=(e,t,n)=>{var r=Xo(e,t);return r==null||typeof r.padding!="string"?0:uL(e,"yAxis",t,n,r.padding)},xX=we(Yo,pX,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),vX=we(Xo,gX,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),bX=we([fi,xX,wx,yx,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),yX=we([fi,Hn,vX,wx,yx,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),th=(e,t,n,r)=>{var i;switch(t){case"xAxis":return bX(e,n,r);case"yAxis":return yX(e,n,r);case"zAxis":return(i=OS(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return V3(e);case"radiusAxis":return W3(e,n);default:return}},dL=we([Sr,th],Lx),Ux=we([Sr,$d,mX,dL],KS);we([Jm,zx,gr],QY);function fL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Vx=(e,t)=>t,Wx=(e,t,n)=>n,wX=we(vx,Vx,Wx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(fL)),kX=we(bx,Vx,Wx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(fL)),mL=(e,t)=>({width:e.width,height:t.height}),SX=(e,t)=>{var n=typeof t.width=="number"?t.width:Vm;return{width:n,height:e.height}},NX=we(fi,Yo,mL),CX=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},jX=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},AX=we(Ko,fi,wX,Vx,Wx,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=mL(t,o);s==null&&(s=CX(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),PX=we(qo,fi,kX,Vx,Wx,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=SX(t,o);s==null&&(s=jX(t,r,e));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),DX=(e,t)=>{var n=Yo(e,t);if(n!=null)return AX(e,n.orientation,n.mirror)},TX=we([fi,Yo,DX,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),EX=(e,t)=>{var n=Xo(e,t);if(n!=null)return PX(e,n.orientation,n.mirror)},MX=we([fi,Xo,EX,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),OX=we(fi,Xo,(e,t)=>{var n=typeof t.width=="number"?t.width:Vm;return{width:n,height:e.height}}),hL=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Gl(e,r),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&X5(l))return l}},QS=we([Hn,Bx,Sr,gr],hL),pL=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Gl(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},ZS=we([Hn,Bx,Zm,gr],pL),vP=we([Hn,UY,$d,Ux,QS,ZS,th,YS,gr],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var u=Gl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}}),IX=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var u=Gl(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?_i(a[0]-a[1])*2*p:p;var g=f||i;if(g){var b=g.map((x,w)=>{var y=s?s.indexOf(x):x;return{index:w,coordinate:r(y)+p,value:x,offset:p}});return b.filter(x=>Wr(x.coordinate))}return u&&o?o.map((x,w)=>({coordinate:r(x)+p,value:x,index:w,offset:p})).filter(x=>Wr(x.coordinate)):r.ticks?r.ticks(h).map(x=>({coordinate:r(x)+p,value:x,offset:p})):r.domain().map((x,w)=>({coordinate:r(x)+p,value:s?s[x]:x,index:w,offset:p}))}},gL=we([Hn,Zm,$d,Ux,YS,th,QS,ZS,gr],IX),_X=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=Gl(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?_i(r[0]-r[1])*2*u:u,o&&a?a.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:i?i[d]:d,index:f,offset:u}))}},xL=we([Hn,Zm,Ux,th,QS,ZS,gr],_X),vL=we(Sr,Ux,(e,t)=>{if(!(e==null||t==null))return o0(o0({},e),{},{scale:t})}),LX=we([Sr,$d,qS,dL],KS);we((e,t,n)=>OS(e,n),LX,(e,t)=>{if(!(e==null||t==null))return o0(o0({},e),{},{scale:t})});var $X=we([Hn,vx,bx],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),bL=e=>e.options.defaultTooltipEventType,yL=e=>e.options.validateTooltipEventTypes;function wL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function JS(e,t){var n=bL(e),r=yL(e);return wL(t,n,r)}function FX(e){return Dt(t=>JS(t,e))}var kL=(e,t)=>{var n,r=Number(t);if(!(eo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},RX=e=>e.tooltip.settings,kl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},BX={itemInteraction:{click:kl,hover:kl},axisInteraction:{click:kl,hover:kl},keyboardInteraction:kl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},SL=ma({name:"tooltip",initialState:BX,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:mr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=vs(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:mr()},removeTooltipEntrySettings:{reducer(e,t){var n=vs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:mr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:zX,replaceTooltipEntrySettings:UX,removeTooltipEntrySettings:VX,setTooltipSettingsState:WX,setActiveMouseOverItemIndex:NL,mouseLeaveItem:HX,mouseLeaveChart:CL,setActiveClickItemIndex:qX,setMouseOverAxisIndex:jL,setMouseClickAxisIndex:KX,setSyncInteraction:Pw,setKeyboardInteraction:Dw}=SL.actions,GX=SL.reducer;function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(r){YX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YX(e,t,n){return(t=XX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XX(e){var t=QX(e,"string");return typeof t=="symbol"?t:t+""}function QX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZX(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function JX(e){return e.index!=null}var AL=(e,t,n,r)=>{if(t==null)return kl;var i=ZX(e,t,n);if(i==null)return kl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(JX(i)){if(a)return pp(pp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return pp(pp({},kl),{},{coordinate:i.coordinate})};function eQ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function tQ(e,t){var n=eQ(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function nQ(e,t,n){if(n==null||t==null)return!0;var r=dr(e,t);return r==null||!zl(n)?!0:tQ(r,n)}var eN=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Wr(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||nQ(u,n,r)?String(l):null},PL=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},DL=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},nh=e=>e.options.tooltipPayloadSearcher,Fd=e=>e.tooltip;function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(n),!0).forEach(function(r){rQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rQ(e,t,n){return(t=iQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sQ(e,t){return e??t}var TL=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:b}=m,x=sQ(g,o),w=Array.isArray(x)?s_(x,u,d):x,y=(p=b==null?void 0:b.dataKey)!==null&&p!==void 0?p:r,N=b==null?void 0:b.nameKey,C;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?C=Q5(w,r,i):C=a(w,t,l,N),Array.isArray(C))C.forEach(j=>{var M=wP(wP({},b),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});h.push(Oj({tooltipEntrySettings:M,dataKey:j.dataKey,payload:j.payload,value:dr(j.payload,j.dataKey),name:j.name}))});else{var S;h.push(Oj({tooltipEntrySettings:b,dataKey:y,payload:C,value:dr(C,y),name:(S=dr(C,N))!==null&&S!==void 0?S:b==null?void 0:b.name}))}return h},f)}},tN=we([ei,Hn,X3,jS,Jr],cL),oQ=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),lQ=we([Jr,_d],IS),Rd=we([oQ,ei,lQ],_S,{memoizeOptions:{resultEqualityCheck:Rx}}),cQ=we([Rd],e=>e.filter(MS)),uQ=we([Rd],LS,{memoizeOptions:{resultEqualityCheck:Rx}}),Bd=we([uQ,Ql],$S),dQ=we([cQ,Ql,ei],K3),nN=we([Bd,ei,Rd],RS),EL=we([ei],BS),fQ=we([ei],e=>e.allowDataOverflow),ML=we([EL,fQ],C3),mQ=we([Rd],e=>e.filter(MS)),hQ=we([dQ,mQ,Xm,R3],tL),pQ=we([hQ,Ql,Jr,ML],nL),gQ=we([Rd],J3),xQ=we([Bd,ei,gQ,zx,Jr],VS,{memoizeOptions:{resultEqualityCheck:Fx}}),vQ=we([rL,Jr,_d],Ld),bQ=we([vQ,Jr],sL),yQ=we([iL,Jr,_d],Ld),wQ=we([yQ,Jr],oL),kQ=we([aL,Jr,_d],Ld),SQ=we([kQ,Jr],lL),NQ=we([bQ,SQ,wQ],l0),CQ=we([ei,EL,ML,pQ,xQ,NQ,Hn,Jr],WS),rh=we([ei,Hn,Bd,nN,Xm,Jr,CQ],HS),jQ=we([rh,ei,tN],GS),AQ=we([ei,rh,jQ,Jr],XS),OL=e=>{var t=Jr(e),n=_d(e),r=!1;return th(e,t,n,r)},IL=we([ei,OL],Lx),_L=we([ei,tN,AQ,IL],KS),PQ=we([Hn,nN,ei,Jr],hL),DQ=we([Hn,nN,ei,Jr],pL),TQ=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,u=Gl(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?_i(i[0]-i[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},Qo=we([Hn,ei,tN,_L,OL,PQ,DQ,Jr],TQ),rN=we([bL,yL,RX],(e,t,n)=>wL(n.shared,e,t)),LL=e=>e.tooltip.settings.trigger,iN=e=>e.tooltip.settings.defaultIndex,ih=we([Fd,rN,LL,iN],AL),kd=we([ih,Bd,eh,rh],eN),$L=we([Qo,kd],kL),FL=we([ih],e=>{if(e)return e.dataKey}),EQ=we([ih],e=>{if(e)return e.graphicalItemId}),RL=we([Fd,rN,LL,iN],DL),MQ=we([qo,Ko,Hn,fi,Qo,iN,RL,nh],PL),OQ=we([ih,MQ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),IQ=we([ih],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),_Q=we([RL,kd,Ql,eh,$L,nh,rN],TL),LQ=we([_Q],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(n),!0).forEach(function(r){$Q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Q(e,t,n){return(t=FQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FQ(e){var t=RQ(e,"string");return typeof t=="symbol"?t:t+""}function RQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BQ=()=>Dt(ei),zQ=()=>{var e=BQ(),t=Dt(Qo),n=Dt(_L);return Bg(!e||!n?void 0:SP(SP({},e),{},{scale:n}),t)};function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ju(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(n),!0).forEach(function(r){UQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UQ(e,t,n){return(t=VQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VQ(e){var t=WQ(e,"string");return typeof t=="symbol"?t:t+""}function WQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HQ=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},qQ=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return ju(ju(ju({},r),Ur(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return ju(ju(ju({},r),Ur(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function KQ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var BL=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(u=n[s-1])===null||u===void 0?void 0:u.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,g=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,b=void 0;if(!(m==null||p==null||g==null))if(_i(p-m)!==_i(g-p)){var x=[];if(_i(g-p)===_i(i[1]-i[0])){b=g;var w=p+i[1]-i[0];x[0]=Math.min(w,(w+m)/2),x[1]=Math.max(w,(w+m)/2)}else{b=m;var y=g+i[1]-i[0];x[0]=Math.min(p,(y+p)/2),x[1]=Math.max(p,(y+p)/2)}var N=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>N[0]&&e<=N[1]||e>=x[0]&&e<=x[1]){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}else{var S=Math.min(m,g),j=Math.max(m,g);if(e>(S+p)/2&&e<=(j+p)/2){var M;return(M=n[o])===null||M===void 0?void 0:M.index}}}else if(t)for(var $=0;$<s;$++){var T=t[$];if(T!=null){var _=t[$+1],O=t[$-1];if($===0&&_!=null&&e<=(T.coordinate+_.coordinate)/2||$===s-1&&O!=null&&e>(T.coordinate+O.coordinate)/2||$>0&&$<s-1&&O!=null&&_!=null&&e>(T.coordinate+O.coordinate)/2&&e<=(T.coordinate+_.coordinate)/2)return T.index}}return-1},GQ=()=>Dt(jS),aN=(e,t)=>t,zL=(e,t,n)=>n,sN=(e,t,n,r)=>r,YQ=we(Qo,e=>ox(e,t=>t.coordinate)),oN=we([Fd,aN,zL,sN],AL),lN=we([oN,Bd,eh,rh],eN),XQ=(e,t,n)=>{if(t!=null){var r=Fd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},UL=we([Fd,aN,zL,sN],DL),c0=we([qo,Ko,Hn,fi,Qo,sN,UL,nh],PL),QQ=we([oN,c0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),VL=we([Qo,lN],kL),ZQ=we([UL,lN,Ql,eh,VL,nh,aN],TL),JQ=we([oN,lN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),eZ=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&KQ(e,s)){var o=AH(e,t),l=BL(o,a,i,n,r),u=HQ(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},tZ=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=Bq(e,n);if(o){var l=PH(o,t),u=BL(l,s,a,r,i),d=qQ(t,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},nZ=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?eZ(e,t,r,i,a,s,o):tZ(e,t,n,r,i,a,s)},rZ=we(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),iZ=we(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ki)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:$Y}});function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(n),!0).forEach(function(r){aZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aZ(e,t,n){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sZ(e){var t=oZ(e,"string");return typeof t=="symbol"?t:t+""}function oZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lZ={},cZ={zIndexMap:Object.values(ki).reduce((e,t)=>jP(jP({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),lZ)},uZ=new Set(Object.values(ki));function dZ(e){return uZ.has(e)}var WL=ma({name:"zIndex",initialState:cZ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:mr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!dZ(n)&&delete e.zIndexMap[n])},prepare:mr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:mr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:mr()}}}),{registerZIndexPortal:fZ,unregisterZIndexPortal:mZ,registerZIndexPortalElement:hZ,unregisterZIndexPortalElement:pZ}=WL.actions,gZ=WL.reducer;function Ps(e){var{zIndex:t,children:n}=e,r=t7(),i=r&&t!==void 0&&t!==0,a=ha(),s=ar();v.useLayoutEffect(()=>i?(s(fZ({zIndex:t})),()=>{s(mZ({zIndex:t}))}):Bm,[s,t,i]);var o=Dt(l=>rZ(l,t,a));return i?o?Ed.createPortal(n,o):null:n}function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tw.apply(null,arguments)}function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){xZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xZ(e,t,n){return(t=vZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vZ(e){var t=bZ(e,"string");return typeof t=="symbol"?t:t+""}function bZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yZ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function wZ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,g,b;if(d==="ScatterChart")p=f,g=eq,b=ki.cursorLine;else if(d==="BarChart")p=tq(o,f,a,s),g=$_,b=ki.cursorRectangle;else if(o==="radial"&&J5(f)){var{cx:x,cy:w,radius:y,startAngle:N,endAngle:C}=R_(f);p={cx:x,cy:w,startAngle:N,endAngle:C,innerRadius:y,outerRadius:y},g=z_,b=ki.cursorLine}else p={points:Wq(o,f,a)},g=Zk,b=ki.cursorLine;var S=typeof l=="object"&&"className"in l?l.className:void 0,j=gp(gp(gp(gp({stroke:"#ccc",pointerEvents:"none"},a),p),hd(l)),{},{payload:h,payloadIndex:m,className:Fn("recharts-tooltip-cursor",S)});return v.createElement(Ps,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},v.createElement(yZ,{cursor:l,cursorComp:g,cursorProps:j}))}function kZ(e){var t=zQ(),n=y_(),r=Wm(),i=GQ();return t==null||n==null||r==null||i==null?null:v.createElement(wZ,Tw({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var HL=v.createContext(null),SZ=()=>v.useContext(HL),qL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var g=n?n+u:u;if(!this._events[g])return!1;var b=this._events[g],x=arguments.length,w,y;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,m),!0;case 6:return b.fn.call(b.context,d,f,h,m,p),!0}for(y=1,w=new Array(x-1);y<x;y++)w[y-1]=arguments[y];b.fn.apply(b.context,w)}else{var N=b.length,C;for(y=0;y<N;y++)switch(b[y].once&&this.removeListener(u,b[y].fn,void 0,!0),x){case 1:b[y].fn.call(b[y].context);break;case 2:b[y].fn.call(b[y].context,d);break;case 3:b[y].fn.call(b[y].context,d,f);break;case 4:b[y].fn.call(b[y].context,d,f,h);break;default:if(!w)for(C=1,w=new Array(x-1);C<x;C++)w[C-1]=arguments[C];b[y].fn.apply(b[y].context,w)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,b=[],x=p.length;g<x;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&b.push(p[g]);b.length?this._events[m]=b.length===1?b[0]:b:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(qL);var NZ=qL.exports;const CZ=js(NZ);var Cm=new CZ,Ew="recharts.syncEvent.tooltip",PP="recharts.syncEvent.brush";function KL(e,t){if(t){var n=Number.parseInt(t,10);if(!eo(n))return e==null?void 0:e[n]}}var jZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},GL=ma({name:"options",initialState:jZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),AZ=GL.reducer,{createEventEmitter:PZ}=GL.actions;function DZ(e){return e.tooltip.syncInteraction}var TZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},YL=ma({name:"chartData",initialState:TZ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:DP,setDataStartEndIndexes:EZ,setComputedData:D0e}=YL.actions,MZ=YL.reducer,OZ=["x","y"];function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){IZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IZ(e,t,n){return(t=_Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Z(e){var t=LZ(e,"string");return typeof t=="symbol"?t:t+""}function LZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Z(e,t){if(e==null)return{};var n,r,i=FZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RZ(){var e=Dt(AS),t=Dt(PS),n=ar(),r=Dt(B3),i=Dt(Qo),a=Wm(),s=kx(),o=Dt(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return Bm;var l=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:g}=m,b=$Z(m,OZ),{x,y:w,width:y,height:N}=d.payload.sourceViewBox,C=Au(Au({},b),{},{x:s.x+(y?(p-x)/y:0)*s.width,y:s.y+(N?(g-w)/N:0)*s.height});n(Au(Au({},d),{},{payload:Au(Au({},d.payload),{},{coordinate:C})}))}else n(d);return}if(i!=null){var S;if(typeof r=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},M=r(i,j);S=i[M]}else r==="value"&&(S=i.find(ge=>String(ge.value)===d.payload.label));var{coordinate:$}=d.payload;if(S==null||d.payload.active===!1||$==null||s==null){n(Pw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:_}=$,O=Math.min(T,s.x+s.width),G=Math.min(_,s.y+s.height),J={x:a==="horizontal"?S.coordinate:O,y:a==="horizontal"?G:S.coordinate},ue=Pw({active:d.payload.active,coordinate:J,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ue)}}};return Cm.on(Ew,l),()=>{Cm.off(Ew,l)}},[o,n,t,e,r,i,a,s])}function BZ(){var e=Dt(AS),t=Dt(PS),n=ar();v.useEffect(()=>{if(e==null)return Bm;var r=(i,a,s)=>{t!==s&&e===i&&n(EZ(a))};return Cm.on(PP,r),()=>{Cm.off(PP,r)}},[n,t,e])}function zZ(){var e=ar();v.useEffect(()=>{e(PZ())},[e]),RZ(),BZ()}function UZ(e,t,n,r,i,a){var s=Dt(m=>XQ(m,e,t)),o=Dt(PS),l=Dt(AS),u=Dt(B3),d=Dt(DZ),f=d==null?void 0:d.active,h=kx();v.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=Pw({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Cm.emit(Ew,l,m,o)}},[f,n,s,i,r,o,l,u,a,h])}function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){VZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VZ(e,t,n){return(t=WZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WZ(e){var t=HZ(e,"string");return typeof t=="symbol"?t:t+""}function HZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qZ(e){return e.dataKey}function KZ(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(O7,t)}var OP=[],GZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Vo(e){var t,n,r=Qr(e,GZ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:b,cursor:x,shared:w,trigger:y,defaultIndex:N,portal:C,axisId:S}=r,j=ar(),M=typeof N=="number"?String(N):N;v.useEffect(()=>{j(WX({shared:w,trigger:y,axisId:S,active:i,defaultIndex:M}))},[j,w,y,S,i,M]);var $=kx(),T=M_(),_=FX(w),{activeIndex:O,isActive:G}=(t=Dt(ne=>JQ(ne,_,y,M)))!==null&&t!==void 0?t:{},J=Dt(ne=>ZQ(ne,_,y,M)),ue=Dt(ne=>VL(ne,_,y,M)),ge=Dt(ne=>QQ(ne,_,y,M)),Y=J,q=SZ(),K=(n=i??G)!==null&&n!==void 0?n:!1,[E,D]=TI([Y,K]),ie=_==="axis"?ue:void 0;UZ(_,y,ge,ie,O,K);var k=C??q;if(k==null||$==null||_==null)return null;var V=Y??OP;K||(V=OP),u&&V.length&&(V=vI(V.filter(ne=>ne.value!=null&&(ne.hide!==!0||r.includeHidden)),h,qZ));var W=V.length>0,re=v.createElement(B7,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:K,coordinate:ge,hasPayload:W,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:$,wrapperStyle:b,lastBoundingBox:E,innerRef:D,hasPortalFromProps:!!C},KZ(l,MP(MP({},r),{},{payload:V,label:ie,active:K,activeIndex:O,coordinate:ge,accessibilityLayer:T})));return v.createElement(v.Fragment,null,Ed.createPortal(re,k),K&&v.createElement(kZ,{cursor:x,tooltipEventType:_,coordinate:ge,payload:V,index:O}))}var Sd=e=>null;Sd.displayName="Cell";function YZ(e,t,n){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XZ(e){var t=QZ(e,"string");return typeof t=="symbol"?t:t+""}function QZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ZZ{constructor(t){YZ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function IP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(n),!0).forEach(function(r){eJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eJ(e,t,n){return(t=tJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tJ(e){var t=nJ(e,"string");return typeof t=="symbol"?t:t+""}function nJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rJ={cacheSize:2e3,enableCache:!0},XL=JZ({},rJ),_P=new ZZ(XL.cacheSize),iJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LP="recharts_measurement_span";function aJ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var $P=(e,t)=>{try{var n=document.getElementById(LP);n||(n=document.createElement("span"),n.setAttribute("id",LP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,iJ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Lf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ax.isSsr)return{width:0,height:0};if(!XL.enableCache)return $P(t,n);var r=aJ(t,n),i=_P.get(r);if(i)return i;var a=$P(t,n);return _P.set(r,a),a},QL;function sJ(e,t,n){return(t=oJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oJ(e){var t=lJ(e,"string");return typeof t=="symbol"?t:t+""}function lJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fJ=["cm","mm","pt","pc","in","Q","px"];function mJ(e){return fJ.includes(e)}var Hu="NaN";function hJ(e,t){return e*dJ[t]}class wi{static parse(t){var n,[,r,i]=(n=uJ.exec(t))!==null&&n!==void 0?n:[];return r==null?wi.NaN:new wi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,eo(t)&&(this.unit=""),n!==""&&!cJ.test(n)&&(this.num=NaN,this.unit=""),mJ(n)&&(this.num=hJ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new wi(NaN,""):new wi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wi(NaN,""):new wi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wi(NaN,""):new wi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wi(NaN,""):new wi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return eo(this.num)}}QL=wi;sJ(wi,"NaN",new QL(NaN,""));function ZL(e){if(e==null||e.includes(Hu))return Hu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=FP.exec(t))!==null&&n!==void 0?n:[],s=wi.parse(r??""),o=wi.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Hu;t=t.replace(FP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=RP.exec(t))!==null&&u!==void 0?u:[],m=wi.parse(d??""),p=wi.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return Hu;t=t.replace(RP,g.toString())}return t}var BP=/\(([^()]*)\)/;function pJ(e){for(var t=e,n;(n=BP.exec(t))!=null;){var[,r]=n;t=t.replace(BP,ZL(r))}return t}function gJ(e){var t=e.replace(/\s+/g,"");return t=pJ(t),t=ZL(t),t}function xJ(e){try{return gJ(e)}catch{return Hu}}function ob(e){var t=xJ(e.slice(5,-1));return t===Hu?"":t}var vJ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],bJ=["dx","dy","angle","className","breakAll"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mw.apply(null,arguments)}function zP(e,t){if(e==null)return{};var n,r,i=yJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var JL=/[ \f\n\r\t\v\u2028\u2029]+/,e4=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Xr(t)||(n?i=t.toString().split(""):i=t.toString().split(JL));var a=i.map(o=>({word:o,width:Lf(o,r).width})),s=n?0:Lf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function wJ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var t4=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var u={words:[s],width:o};i.push(u)}return i},[]),n4=e=>e.reduce((t,n)=>t.width>n.width?t:n),kJ="",UP=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),u=e4({breakAll:n,style:r,children:l+kJ});if(!u)return[!1,[]];var d=t4(u.wordsWithComputedWidth,a,s,o),f=d.length>i||n4(d).width>Number(a);return[f,d]},SJ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=It(a),d=String(s),f=t4(t,r,n,i);if(!u||i)return f;var h=f.length>a||n4(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,g=0,b;m<=p&&g<=d.length-1;){var x=Math.floor((m+p)/2),w=x-1,[y,N]=UP(d,w,l,o,a,r,n,i),[C]=UP(d,x,l,o,a,r,n,i);if(!y&&!C&&(m=x+1),y&&C&&(p=x-1),!y&&C){b=N;break}g++}return b||f},VP=e=>{var t=Xr(e)?[]:e.toString().split(JL);return[{words:t,width:void 0}]},NJ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!Ax.isSsr){var o,l,u=e4({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,l=f}else return VP(r);return SJ({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return VP(r)},r4="#808080",CJ={angle:0,breakAll:!1,capHeight:"0.71em",fill:r4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Hx=v.forwardRef((e,t)=>{var n=Qr(e,CJ),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=n,f=zP(n,vJ),h=v.useMemo(()=>NJ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:g,className:b,breakAll:x}=f,w=zP(f,bJ);if(!to(r)||!to(i)||h.length===0)return null;var y=Number(r)+(It(m)?m:0),N=Number(i)+(It(p)?p:0);if(!Wr(y)||!Wr(N))return null;var C;switch(d){case"start":C=ob("calc(".concat(s,")"));break;case"middle":C=ob("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=ob("calc(".concat(h.length-1," * -").concat(a,")"));break}var S=[];if(l){var j=h[0].width,{width:M}=f;S.push("scale(".concat(It(M)&&It(j)?M/j:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(y,", ").concat(N,")")),S.length&&(w.transform=S.join(" ")),v.createElement("text",Mw({},Gi(w),{ref:t,x:y,y:N,className:Fn("recharts-text",b),textAnchor:u,fill:o.includes("url")?r4:o}),h.map(($,T)=>{var _=$.words.join(x?"":" ");return v.createElement("tspan",{x:y,dy:T===0?C:a,key:"".concat(_,"-").concat(T)},_)}))});Hx.displayName="Text";var jJ=["labelRef"],AJ=["content"];function WP(e,t){if(e==null)return{};var n,r,i=PJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(n),!0).forEach(function(r){DJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DJ(e,t,n){return(t=TJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TJ(e){var t=EJ(e,"string");return typeof t=="symbol"?t:t+""}function EJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(null,arguments)}var i4=v.createContext(null),MJ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return v.createElement(i4.Provider,{value:l},o)},a4=()=>{var e=v.useContext(i4),t=kx();return e||b_(t)},OJ=v.createContext(null),IJ=()=>{var e=v.useContext(OJ),t=Dt(H3);return e||t},_J=e=>{var{value:t,formatter:n}=e,r=Xr(e.children)?t:e.children;return typeof n=="function"?n(r):r},cN=e=>e!=null&&typeof e=="function",LJ=(e,t)=>{var n=_i(t-e),r=Math.min(Math.abs(t-e),360);return n*r},$J=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(u+d)/2,g=LJ(f,h),b=g>=0?1:-1,x,w;switch(t){case"insideStart":x=f+b*a,w=m;break;case"insideEnd":x=h-b*a,w=!m;break;case"end":x=h+b*a,w=m;break;default:throw new Error("Unsupported position ".concat(t))}w=g<=0?w:!w;var y=Ur(o,l,p,x),N=Ur(o,l,p,x+(w?1:-1)*359),C="M".concat(y.x,",").concat(y.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),S=Xr(e.id)?fm("recharts-radial-line-"):e.id;return v.createElement("text",yo({},r,{dominantBaseline:"central",className:Fn("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:S,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(S)},n))},FJ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Ur(r,i,s+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Ur(r,i,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Ow=e=>"cx"in e&&It(e.cx),RJ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Ow(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:d}=t,f=s,h=s+(l-u)/2,m=(f+h)/2,p=(l+u)/2,g=f+l/2,b=d>=0?1:-1,x=b*r,w=b>0?"end":"start",y=b>0?"start":"end",N=l>=0?1:-1,C=N*r,S=N>0?"end":"start",j=N>0?"start":"end";if(i==="top"){var M={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:w};return Or(Or({},M),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var $={x:h+u/2,y:o+d+x,textAnchor:"middle",verticalAnchor:y};return Or(Or({},$),a?{height:Math.max(a.y+a.height-(o+d),0),width:u}:{})}if(i==="left"){var T={x:m-C,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return Or(Or({},T),a?{width:Math.max(T.x-a.x,0),height:d}:{})}if(i==="right"){var _={x:m+p+C,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return Or(Or({},_),a?{width:Math.max(a.x+a.width-_.x,0),height:d}:{})}var O=a?{width:p,height:d}:{};return i==="insideLeft"?Or({x:m+C,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},O):i==="insideRight"?Or({x:m+p-C,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},O):i==="insideTop"?Or({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:y},O):i==="insideBottom"?Or({x:h+u/2,y:o+d-x,textAnchor:"middle",verticalAnchor:w},O):i==="insideTopLeft"?Or({x:f+C,y:o+x,textAnchor:j,verticalAnchor:y},O):i==="insideTopRight"?Or({x:f+l-C,y:o+x,textAnchor:S,verticalAnchor:y},O):i==="insideBottomLeft"?Or({x:h+C,y:o+d-x,textAnchor:j,verticalAnchor:w},O):i==="insideBottomRight"?Or({x:h+u-C,y:o+d-x,textAnchor:S,verticalAnchor:w},O):i&&typeof i=="object"&&(It(i.x)||Lo(i.x))&&(It(i.y)||Lo(i.y))?Or({x:s+Da(i.x,p),y:o+Da(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):Or({x:g,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},BJ={angle:0,offset:5,zIndex:ki.label,position:"middle",textBreakAll:!1};function vl(e){var t=Qr(e,BJ),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,d=IJ(),f=a4(),h=r==="center"?f:d??f,m,p,g;if(n==null?m=h:Ow(n)?m=n:m=b_(n),!m||Xr(i)&&Xr(a)&&!v.isValidElement(s)&&typeof s!="function")return null;var b=Or(Or({},t),{},{viewBox:m});if(v.isValidElement(s)){var{labelRef:x}=b,w=WP(b,jJ);return v.cloneElement(s,w)}if(typeof s=="function"){var{content:y}=b,N=WP(b,AJ);if(p=v.createElement(s,N),v.isValidElement(p))return p}else p=_J(t);var C=Gi(t);if(Ow(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return $J(t,r,p,C,m);g=FJ(m,t.offset,t.position)}else g=RJ(t,m);return v.createElement(Ps,{zIndex:t.zIndex},v.createElement(Hx,yo({ref:u,className:Fn("recharts-label",o)},C,g,{textAnchor:wJ(C.textAnchor)?C.textAnchor:g.textAnchor,breakAll:l}),p))}vl.displayName="Label";var zJ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(vl,yo({key:"label-implicit"},r)):to(e)?v.createElement(vl,yo({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===vl?v.cloneElement(e,Or({key:"label-implicit"},r)):v.createElement(vl,yo({key:"label-implicit",content:e},r)):cN(e)?v.createElement(vl,yo({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(vl,yo({},e,{key:"label-implicit"},r)):null};function UJ(e){var{label:t,labelRef:n}=e,r=a4();return zJ(t,r,n)||null}var s4={},o4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(o4);var l4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(l4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o4,n=l4,r=ix;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(s4);var VJ=s4.last;const WJ=js(VJ);var HJ=["valueAccessor"],qJ=["dataKey","clockWise","id","textBreakAll","zIndex"];function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u0.apply(null,arguments)}function qP(e,t){if(e==null)return{};var n,r,i=KJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GJ=e=>Array.isArray(e.value)?WJ(e.value):e.value,c4=v.createContext(void 0),YJ=c4.Provider,u4=v.createContext(void 0),XJ=u4.Provider;function QJ(){return v.useContext(c4)}function ZJ(){return v.useContext(u4)}function Wp(e){var{valueAccessor:t=GJ}=e,n=qP(e,HJ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=qP(n,qJ),u=QJ(),d=ZJ(),f=u||d;return!f||!f.length?null:v.createElement(Ps,{zIndex:o??ki.label},v.createElement(da,{className:"recharts-label-list"},f.map((h,m)=>{var p,g=Xr(r)?t(h,m):dr(h&&h.payload,r),b=Xr(a)?{}:{id:"".concat(a,"-").concat(m)};return v.createElement(vl,u0({key:"label-".concat(m)},Gi(h),l,b,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}Wp.displayName="LabelList";function d4(e){var{label:t}=e;return t?t===!0?v.createElement(Wp,{key:"labelList-implicit"}):v.isValidElement(t)||cN(t)?v.createElement(Wp,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(Wp,u0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iw.apply(null,arguments)}var f4=e=>{var{cx:t,cy:n,r,className:i}=e,a=Fn("recharts-dot",i);return It(t)&&It(n)&&It(r)?v.createElement("circle",Iw({},ns(e),Pk(e),{className:a,cx:t,cy:n,r})):null},m4=e=>e.graphicalItems.polarItems,JJ=we([gr,Qm],IS),qx=we([m4,Sr,JJ],_S),eee=we([qx],LS),Kx=we([eee,kS],$S),tee=we([Kx,Sr,qx],RS);we([Kx,Sr,qx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=dr(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:dr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var KP=()=>{},nee=we([Kx,Sr,qx,zx,gr],VS),ree=we([Sr,zS,US,KP,nee,KP,Hn,gr],WS),h4=we([Sr,Hn,Kx,tee,Xm,gr,ree],HS),iee=we([h4,Sr,$d],GS);we([Sr,h4,iee,gr],XS);var aee={radiusAxis:{},angleAxis:{}},p4=ma({name:"polarAxis",initialState:aee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:T0e,removeRadiusAxis:E0e,addAngleAxis:M0e,removeAngleAxis:O0e}=p4.actions,see=p4.reducer;function GP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(n),!0).forEach(function(r){oee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oee(e,t,n){return(t=lee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lee(e){var t=cee(e,"string");return typeof t=="symbol"?t:t+""}function cee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uee=(e,t)=>t,uN=we([m4,uee],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),dee=[],dN=(e,t,n)=>(n==null?void 0:n.length)===0?dee:n,g4=we([kS,uN,dN],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>YP(YP({},t.presentationProps),a.props))),i!=null)return i}}),fee=we([g4,uN,dN],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=dr(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:xx(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),mee=we([g4,uN,dN,fi],(e,t,n,r)=>{if(!(t==null||e==null))return jte({offset:r,pieSettings:t,displayedData:e,cells:n})}),x4={exports:{}},Xn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=60103,Yx=60106,ah=60107,sh=60108,oh=60114,lh=60109,ch=60110,uh=60112,dh=60113,fN=60120,fh=60115,mh=60116,v4=60121,b4=60122,y4=60117,w4=60129,k4=60131;if(typeof Symbol=="function"&&Symbol.for){var xi=Symbol.for;Gx=xi("react.element"),Yx=xi("react.portal"),ah=xi("react.fragment"),sh=xi("react.strict_mode"),oh=xi("react.profiler"),lh=xi("react.provider"),ch=xi("react.context"),uh=xi("react.forward_ref"),dh=xi("react.suspense"),fN=xi("react.suspense_list"),fh=xi("react.memo"),mh=xi("react.lazy"),v4=xi("react.block"),b4=xi("react.server.block"),y4=xi("react.fundamental"),w4=xi("react.debug_trace_mode"),k4=xi("react.legacy_hidden")}function Ds(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Gx:switch(e=e.type,e){case ah:case oh:case sh:case dh:case fN:return e;default:switch(e=e&&e.$$typeof,e){case ch:case uh:case mh:case fh:case lh:return e;default:return t}}case Yx:return t}}}var hee=lh,pee=Gx,gee=uh,xee=ah,vee=mh,bee=fh,yee=Yx,wee=oh,kee=sh,See=dh;Xn.ContextConsumer=ch;Xn.ContextProvider=hee;Xn.Element=pee;Xn.ForwardRef=gee;Xn.Fragment=xee;Xn.Lazy=vee;Xn.Memo=bee;Xn.Portal=yee;Xn.Profiler=wee;Xn.StrictMode=kee;Xn.Suspense=See;Xn.isAsyncMode=function(){return!1};Xn.isConcurrentMode=function(){return!1};Xn.isContextConsumer=function(e){return Ds(e)===ch};Xn.isContextProvider=function(e){return Ds(e)===lh};Xn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gx};Xn.isForwardRef=function(e){return Ds(e)===uh};Xn.isFragment=function(e){return Ds(e)===ah};Xn.isLazy=function(e){return Ds(e)===mh};Xn.isMemo=function(e){return Ds(e)===fh};Xn.isPortal=function(e){return Ds(e)===Yx};Xn.isProfiler=function(e){return Ds(e)===oh};Xn.isStrictMode=function(e){return Ds(e)===sh};Xn.isSuspense=function(e){return Ds(e)===dh};Xn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ah||e===oh||e===w4||e===sh||e===dh||e===fN||e===k4||typeof e=="object"&&e!==null&&(e.$$typeof===mh||e.$$typeof===fh||e.$$typeof===lh||e.$$typeof===ch||e.$$typeof===uh||e.$$typeof===y4||e.$$typeof===v4||e[0]===b4)};Xn.typeOf=Ds;x4.exports=Xn;var Nee=x4.exports,XP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",QP=null,lb=null,S4=e=>{if(e===QP&&Array.isArray(lb))return lb;var t=[];return v.Children.forEach(e,n=>{Xr(n)||(Nee.isFragment(n)?t=t.concat(S4(n.props.children)):t.push(n))}),lb=t,QP=e,t};function N4(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>XP(i)):r=[XP(t)],S4(e).forEach(i=>{var a=Hc(i,"type.displayName")||Hc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var C4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,j4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(j4);var Cee=j4.isPlainObject;const jee=js(Cee);var ZP,JP,eD,tD,nD;function rD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(n),!0).forEach(function(r){Aee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aee(e,t,n){return(t=Pee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d0.apply(null,arguments)}function ff(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var aD=(e,t,n,r,i)=>{var a=n-r,s;return s=Cr(ZP||(ZP=ff(["M ",",",""])),e,t),s+=Cr(JP||(JP=ff(["L ",",",""])),e+n,t),s+=Cr(eD||(eD=ff(["L ",",",""])),e+n-a/2,t+i),s+=Cr(tD||(tD=ff(["L ",",",""])),e+n-a/2-r,t+i),s+=Cr(nD||(nD=ff(["L ",","," Z"])),e,t),s},Tee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eee=e=>{var t=Qr(e,Tee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=v.useRef(null),[m,p]=v.useState(-1),g=v.useRef(i),b=v.useRef(a),x=v.useRef(s),w=v.useRef(n),y=v.useRef(r),N=Dx(e,"trapezoid-");if(v.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var J=h.current.getTotalLength();J&&p(J)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=Fn("recharts-trapezoid",o);if(!f)return v.createElement("g",null,v.createElement("path",d0({},Gi(t),{className:C,d:aD(n,r,i,a,s)})));var S=g.current,j=b.current,M=x.current,$=w.current,T=y.current,_="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),G=O_(["strokeDasharray"],u,l);return v.createElement(Px,{animationId:N,key:N,canBegin:m>0,duration:u,easing:l,isActive:f,begin:d},J=>{var ue=Ii(S,i,J),ge=Ii(j,a,J),Y=Ii(M,s,J),q=Ii($,n,J),K=Ii(T,r,J);h.current&&(g.current=ue,b.current=ge,x.current=Y,w.current=q,y.current=K);var E=J>0?{transition:G,strokeDasharray:O}:{strokeDasharray:_};return v.createElement("path",d0({},Gi(t),{className:C,d:aD(q,K,ue,ge,Y),ref:h,style:iD(iD({},E),t.style)}))})},Mee=["option","shapeType","activeClassName"];function Oee(e,t){if(e==null)return{};var n,r,i=Iee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function f0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(n),!0).forEach(function(r){_ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ee(e,t,n){return(t=Lee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lee(e){var t=$ee(e,"string");return typeof t=="symbol"?t:t+""}function $ee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fee(e,t){return f0(f0({},t),e)}function Ree(e,t){return e==="symbols"}function oD(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement($_,n);case"trapezoid":return v.createElement(Eee,n);case"sector":return v.createElement(z_,n);case"symbols":if(Ree(t))return v.createElement(Ak,n);break;case"curve":return v.createElement(Zk,n);default:return null}}function Bee(e){return v.isValidElement(e)?e.props:e}function A4(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=Oee(e,Mee),a;if(v.isValidElement(t))a=v.cloneElement(t,f0(f0({},i),Bee(t)));else if(typeof t=="function")a=t(i,i.index);else if(jee(t)&&typeof t!="boolean"){var s=Fee(t,i);a=v.createElement(oD,{shapeType:n,elementProps:s})}else{var o=i;a=v.createElement(oD,{shapeType:n,elementProps:o})}return i.isActive?v.createElement(da,{className:r},a):a}var zee=(e,t,n)=>{var r=ar();return(i,a)=>s=>{e==null||e(i,a,s),r(NL({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Uee=e=>{var t=ar();return(n,r)=>i=>{e==null||e(n,r,i),t(HX())}},Vee=(e,t,n)=>{var r=ar();return(i,a)=>s=>{e==null||e(i,a,s),r(qX({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function P4(e){var{tooltipEntrySettings:t}=e,n=ar(),r=ha(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(zX(t)):i.current!==t&&n(UX({prev:i.current,next:t})),i.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n(VX(i.current)),i.current=null)},[n]),null}function Wee(e){var{legendPayload:t}=e,n=ar(),r=ha(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(P_(t)):i.current!==t&&n(D_({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(T_(i.current)),i.current=null)},[n]),null}function Hee(e){var{legendPayload:t}=e,n=ar(),r=Dt(Hn),i=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(P_(t)):i.current!==t&&n(D_({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(T_(i.current)),i.current=null)},[n]),null}var cb,qee=()=>{var[e]=v.useState(()=>fm("uid-"));return e},Kee=(cb=nz.useId)!==null&&cb!==void 0?cb:qee;function Gee(e,t){var n=Kee();return t||(e?"".concat(e,"-").concat(n):n)}var Yee=v.createContext(void 0),D4=e=>{var{id:t,type:n,children:r}=e,i=Gee("recharts-".concat(n),t);return v.createElement(Yee.Provider,{value:i},r(i))},Xee={cartesianItems:[],polarItems:[]},T4=ma({name:"graphicalItems",initialState:Xee,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:mr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=vs(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:mr()},removeCartesianGraphicalItem:{reducer(e,t){var n=vs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:mr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:mr()},removePolarGraphicalItem:{reducer(e,t){var n=vs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:mr()}}}),{addCartesianGraphicalItem:Qee,replaceCartesianGraphicalItem:Zee,removeCartesianGraphicalItem:Jee,addPolarGraphicalItem:ete,removePolarGraphicalItem:tte}=T4.actions,nte=T4.reducer,rte=e=>{var t=ar(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Qee(e)):n.current!==e&&t(Zee({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(Jee(n.current)),n.current=null)},[t]),null},ite=v.memo(rte);function ate(e){var t=ar();return v.useLayoutEffect(()=>(t(ete(e)),()=>{t(tte(e))}),[t,e]),null}var ste=["key"],ote=["onMouseEnter","onClick","onMouseLeave"],lte=["id"],cte=["id"];function lD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(n),!0).forEach(function(r){ute(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ute(e,t,n){return(t=dte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dte(e){var t=fte(e,"string");return typeof t=="symbol"?t:t+""}function fte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul.apply(null,arguments)}function Xx(e,t){if(e==null)return{};var n,r,i=mte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hte(e){var t=v.useMemo(()=>N4(e.children,Sd),[e.children]),n=Dt(r=>fee(r,e.id,t));return n==null?null:v.createElement(Hee,{legendPayload:n})}var pte=v.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:xx(o,t),hide:l,type:u,color:s,unit:"",graphicalItemId:d}};return v.createElement(P4,{tooltipEntrySettings:f})}),gte=(e,t)=>e>t?"start":e<t?"end":"middle",xte=(e,t,n)=>Da(typeof t=="function"?t(e):t,n,n*.8),vte=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=F_(a,s),l=i+Da(e.cx,a,a/2),u=r+Da(e.cy,s,s/2),d=Da(e.innerRadius,o,0),f=xte(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},bte=(e,t)=>{var n=_i(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function yte(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var wte=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Fn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=Xx(t,ste);return v.createElement(Zk,Ul({},i,{type:"linear",className:n}))},kte=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var i=Fn("recharts-pie-label-text",yte(e));return v.createElement(Hx,Ul({},t,{alignmentBaseline:"middle",className:i}),r)};function Ste(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=ns(n),l=hd(i),u=hd(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Ur(h.cx,h.cy,h.outerRadius+d,p),b=Ar(Ar(Ar(Ar({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:gte(g.x,h.cx)},g),x=Ar(Ar(Ar(Ar({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Ur(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return v.createElement(Ps,{zIndex:ki.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},v.createElement(da,null,a&&wte(a,x),kte(i,b,dr(h,s))))});return v.createElement(da,{className:"recharts-pie-labels"},f)}function Nte(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?v.createElement(d4,{label:i}):v.createElement(Ste,{sectors:t,props:n,showLabels:r})}function Cte(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=Dt(kd),l=Dt(FL),u=Dt(EQ),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=Xx(i,ote),p=zee(d,i.dataKey,s),g=Uee(h),b=Vee(f,i.dataKey,s);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((x,w)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var y=u==null||u===s,N=String(w)===o&&(l==null||i.dataKey===l)&&y,C=o?r:null,S=n&&N?n:C,j=Ar(Ar({},x),{},{stroke:x.stroke,tabIndex:-1,[u_]:w,[d_]:s});return v.createElement(da,Ul({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},Dk(m,x,w),{onMouseEnter:p(x,w),onMouseLeave:g(x,w),onClick:b(x,w)}),v.createElement(A4,Ul({option:a??S,index:w,shapeType:"sector",isActive:N},j)))}))}function jte(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=bte(o,l),p=Math.abs(m),g=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,b=r.filter(S=>dr(S,u,0)!==0).length,x=(p>=360?b:b-1)*g,w=p-b*h-x,y=r.reduce((S,j)=>{var M=dr(j,u,0);return S+(It(M)?M:0)},0),N;if(y>0){var C;N=r.map((S,j)=>{var M=dr(S,u,0),$=dr(S,d,j),T=vte(n,a,S),_=(It(M)?M:0)/y,O,G=Ar(Ar({},S),i&&i[j]&&i[j].props);j?O=C.endAngle+_i(m)*g*(M!==0?1:0):O=o;var J=O+_i(m)*((M!==0?h:0)+_*w),ue=(O+J)/2,ge=(T.innerRadius+T.outerRadius)/2,Y=[{name:$,value:M,payload:G,dataKey:u,type:f,graphicalItemId:n.id}],q=Ur(T.cx,T.cy,ge,ue);return C=Ar(Ar(Ar(Ar({},n.presentationProps),{},{percent:_,cornerRadius:typeof s=="string"?parseFloat(s):s,name:$,tooltipPayload:Y,midAngle:ue,middleRadius:ge,tooltipPosition:q},G),T),{},{value:M,dataKey:u,startAngle:O,endAngle:J,payload:G,paddingAngle:_i(m)*g}),C})}return N}function Ate(e){var{showLabels:t,sectors:n,children:r}=e,i=v.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return v.createElement(XJ,{value:t?i:void 0},r)}function Pte(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=Dx(t,"recharts-pie-"),p=n.current,[g,b]=v.useState(!1),x=v.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),w=v.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return v.createElement(Ate,{showLabels:!g,sectors:i},v.createElement(Px,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:w,onAnimationEnd:x,key:m},y=>{var N=[],C=i&&i[0],S=C==null?void 0:C.startAngle;return i==null||i.forEach((j,M)=>{var $=p&&p[M],T=M>0?Hc(j,"paddingAngle",0):0;if($){var _=Ii($.endAngle-$.startAngle,j.endAngle-j.startAngle,y),O=Ar(Ar({},j),{},{startAngle:S+T,endAngle:S+_+T});N.push(O),S=O.endAngle}else{var{endAngle:G,startAngle:J}=j,ue=Ii(0,G-J,y),ge=Ar(Ar({},j),{},{startAngle:S+T,endAngle:S+ue+T});N.push(ge),S=ge.endAngle}}),n.current=N,v.createElement(da,null,v.createElement(Cte,{sectors:N,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),v.createElement(Nte,{showLabels:!g,sectors:i,props:t}),t.children)}var Dte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ki.area};function Tte(e){var{id:t}=e,n=Xx(e,lte),{hide:r,className:i,rootTabIndex:a}=e,s=v.useMemo(()=>N4(e.children,Sd),[e.children]),o=Dt(d=>mee(d,t,s)),l=v.useRef(null),u=Fn("recharts-pie",i);return r||o==null?(l.current=null,v.createElement(da,{tabIndex:a,className:u})):v.createElement(Ps,{zIndex:e.zIndex},v.createElement(pte,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(da,{tabIndex:a,className:u},v.createElement(Pte,{props:Ar(Ar({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function m0(e){var t=Qr(e,Dte),{id:n}=t,r=Xx(t,cte),i=ns(r);return v.createElement(D4,{id:n,type:"pie"},a=>v.createElement(v.Fragment,null,v.createElement(ate,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),v.createElement(hte,Ul({},r,{id:a})),v.createElement(Tte,Ul({},r,{id:a}))))}m0.displayName="Pie";var Ete=["points"];function cD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ub(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(n),!0).forEach(function(r){Mte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mte(e,t,n){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ote(e){var t=Ite(e,"string");return typeof t=="symbol"?t:t+""}function Ite(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h0.apply(null,arguments)}function _te(e,t){if(e==null)return{};var n,r,i=Lte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $te(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Fn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=_te(a,Ete);return v.createElement(f4,h0({},o,{className:i}))}function Fte(e,t){return e==null?!1:t?!0:e.length===1}function Rte(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=ki.scatter}=e;if(!Fte(t,n))return null;var d=C4(n),f=xV(n),h=t.map((p,g)=>{var b,x,w=ub(ub(ub({r:3},s),f),{},{index:g,cx:(b=p.x)!==null&&b!==void 0?b:void 0,cy:(x=p.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return v.createElement($te,{key:"dot-".concat(g),option:n,dotProps:w,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),v.createElement(Ps,{zIndex:u},v.createElement(da,h0({className:r},m),h))}function uD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(n),!0).forEach(function(r){Bte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bte(e,t,n){return(t=zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zte(e){var t=Ute(e,"string");return typeof t=="symbol"?t:t+""}function Ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vte={xAxis:{},yAxis:{},zAxis:{}},E4=ma({name:"cartesianAxis",initialState:Vte,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:mr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:mr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:mr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:mr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:mr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:mr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:mr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:mr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:mr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=dD(dD({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Wte,replaceXAxis:Hte,removeXAxis:qte,addYAxis:Kte,replaceYAxis:Gte,removeYAxis:Yte,addZAxis:I0e,replaceZAxis:_0e,removeZAxis:L0e,updateYAxisWidth:Xte}=E4.actions,Qte=E4.reducer,Zte=we([fi],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Jte=we([Zte,qo,Ko],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),mN=()=>Dt(Jte),ene=()=>Dt(LQ);function fD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function db(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(n),!0).forEach(function(r){tne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tne(e,t,n){return(t=nne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nne(e){var t=rne(e,"string");return typeof t=="symbol"?t:t+""}function rne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ine=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=db(db(db({},o),hd(i)),Pk(i)),u;return v.isValidElement(i)?u=v.cloneElement(i,l):typeof i=="function"?u=i(l):u=v.createElement(f4,l),v.createElement(da,{className:"recharts-active-dot",clipPath:s},u)};function ane(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=ki.activeDot}=e,o=Dt(kd),l=ene();if(t==null||l==null)return null;var u=t.find(d=>l.includes(d.payload));return Xr(u)?null:v.createElement(Ps,{zIndex:s},v.createElement(ine,{point:u,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var M4=e=>{var{chartData:t}=e,n=ar(),r=ha();return v.useEffect(()=>r?()=>{}:(n(DP(t)),()=>{n(DP(void 0))}),[t,n,r]),null},mD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},O4=ma({name:"brush",initialState:mD,reducers:{setBrushSettings(e,t){return t.payload==null?mD:t.payload}}}),{setBrushSettings:$0e}=O4.actions,sne=O4.reducer;function one(e,t,n){return(t=lne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lne(e){var t=cne(e,"string");return typeof t=="symbol"?t:t+""}function cne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hN{static create(t){return new hN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}one(hN,"EPS",1e-4);function une(e){return(e%180+180)%180}var dne=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=une(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},fne={dots:[],areas:[],lines:[]},I4=ma({name:"referenceElements",initialState:fne,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=vs(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=vs(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=vs(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:F0e,removeDot:R0e,addArea:B0e,removeArea:z0e,addLine:U0e,removeLine:V0e}=I4.actions,mne=I4.reducer,hne=v.createContext(void 0),pne=e=>{var{children:t}=e,[n]=v.useState("".concat(fm("recharts"),"-clip")),r=mN();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return v.createElement(hne.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function _4(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function gne(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return dne(r,n)}function xne(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function jm(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function vne(e,t){return _4(e,t+1)}function bne(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,u=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:_4(r,u)};var g=l,b,x=()=>(b===void 0&&(b=n(p,g)),b),w=p.coordinate,y=l===0||jm(e,w,x,d,o);y||(l=0,d=s,u+=1),y&&(d=w+e*(x()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function yne(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,u=1;u<=s;u++){for(var d=(s-1)%u,f=o,h=!0,m=function(){var w=r[p],y=p,N,C=()=>(N===void 0&&(N=n(w,y)),N),S=w.coordinate,j=p===d||jm(e,S,C,f,l);if(!j)return h=!1,1;j&&(f=S+e*(C()/2+i))},p=d;p<s&&!m();p+=u);if(h){for(var g=[],b=d;b<s;b+=u)g.push(r[b]);return g}}return[]}function hD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(n),!0).forEach(function(r){wne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wne(e,t,n){return(t=kne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kne(e){var t=Sne(e,"string");return typeof t=="symbol"?t:t+""}function Sne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nne(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(h){var m=a[h],p,g=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var b=e*(m.coordinate+e*g()/2-l);a[h]=m=Ei(Ei({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else a[h]=m=Ei(Ei({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=jm(e,m.tickCoord,g,o,l);x&&(l=m.tickCoord-e*(g()/2+i),a[h]=Ei(Ei({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function Cne(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-u);if(s[o-1]=d=Ei(Ei({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=jm(e,d.tickCoord,()=>f,l,u);m&&(u=d.tickCoord-e*(f/2+i),s[o-1]=Ei(Ei({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,g=function(w){var y=s[w],N,C=()=>(N===void 0&&(N=n(y,w)),N);if(w===0){var S=e*(y.coordinate-e*C()/2-l);s[w]=y=Ei(Ei({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else s[w]=y=Ei(Ei({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var j=jm(e,y.tickCoord,C,l,u);j&&(l=y.tickCoord+e*(C()/2+i),s[w]=Ei(Ei({},y),{},{isShow:!0}))}},b=0;b<p;b++)g(b);return s}function pN(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(It(l)||Ax.isSsr){var h;return(h=vne(i,It(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?Lf(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(y,N)=>{var C=typeof u=="function"?u(y.value,N):y.value;return p==="width"?gne(Lf(C,{fontSize:t,letterSpacing:n}),g,f):Lf(C,{fontSize:t,letterSpacing:n})[p]},x=i.length>=2?_i(i[1].coordinate-i[0].coordinate):1,w=xne(a,x,p);return l==="equidistantPreserveStart"?bne(x,w,b,i,s):l==="equidistantPreserveEnd"?yne(x,w,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=Cne(x,w,b,i,s,l==="preserveStartEnd"):m=Nne(x,w,b,i,s),m.filter(y=>y.isShow))}var jne=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(n?r:0);return Math.round(u)}return 0},Ane=["axisLine","width","height","className","hide","ticks","axisType"];function Pne(e,t){if(e==null)return{};var n,r,i=Dne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xc.apply(null,arguments)}function pD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(n),!0).forEach(function(r){Tne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tne(e,t,n){return(t=Ene(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ene(e){var t=Mne(e,"string");return typeof t=="symbol"?t:t+""}function Mne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Do={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ki.axis};function One(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=Br(Br(Br({},l),ns(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=Br(Br({},u),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=Br(Br({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return v.createElement("line",Xc({},u,{className:Fn("recharts-cartesian-axis-line",Hc(o,"className"))}))}function Ine(e,t,n,r,i,a,s,o,l){var u,d,f,h,m,p,g=o?-1:1,b=e.tickSize||s,x=It(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=n+ +!o*i,f=h-g*b,p=f-g*l,m=x;break;case"left":f=h=e.coordinate,d=t+ +!o*r,u=d-g*b,m=u-g*l,p=x;break;case"right":f=h=e.coordinate,d=t+ +o*r,u=d+g*b,m=u+g*l,p=x;break;default:u=d=e.coordinate,h=n+ +o*i,f=h+g*b,p=f+g*l,m=x;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function _ne(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Lne(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $ne(e){var{option:t,tickProps:n,value:r}=e,i,a=Fn(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,Br(Br({},n),{},{className:a}));else if(typeof t=="function")i=t(Br(Br({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Fn(s,t==null?void 0:t.className)),i=v.createElement(Hx,Xc({},n,{className:s}),r)}return i}var Fne=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:g,tickSize:b,tickMargin:x,fontSize:w,letterSpacing:y,getTicksConfig:N,events:C,axisType:S}=e,j=pN(Br(Br({},N),{},{ticks:n}),w,y),M=_ne(d,f),$=Lne(d,f),T=ns(N),_=hd(r),O={};typeof i=="object"&&(O=i);var G=Br(Br({},T),{},{fill:"none"},O),J=j.map(Y=>Br({entry:Y},Ine(Y,h,m,p,g,d,b,f,x))),ue=J.map(Y=>{var{entry:q,line:K}=Y;return v.createElement(da,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},i&&v.createElement("line",Xc({},G,K,{className:Fn("recharts-cartesian-axis-tick-line",Hc(i,"className"))})))}),ge=J.map((Y,q)=>{var{entry:K,tick:E}=Y,D=Br(Br(Br(Br({textAnchor:M,verticalAnchor:$},T),{},{stroke:"none",fill:a},_),E),{},{index:q,payload:K,visibleTicksCount:j.length,tickFormatter:s,padding:l},u);return v.createElement(da,Xc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},Dk(C,K,q)),r&&v.createElement($ne,{option:r,tickProps:D,value:"".concat(typeof s=="function"?s(K.value,q):K.value).concat(o||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},ge.length>0&&v.createElement(Ps,{zIndex:ki.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},ge)),ue.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},ue))}),Rne=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=Pne(e,Ane),[d,f]=v.useState(""),[h,m]=v.useState(""),p=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return jne({ticks:p.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=v.useCallback(b=>{if(b){var x=b.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=x;var w=x[0];if(w){var y=window.getComputedStyle(w),N=y.fontSize,C=y.letterSpacing;(N!==d||C!==h)&&(f(N),m(C))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(Ps,{zIndex:e.zIndex},v.createElement(da,{className:Fn("recharts-cartesian-axis",a)},v.createElement(One,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ns(e)}),v.createElement(Fne,{ref:g,axisType:l,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(MJ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(UJ,{label:e.label,labelRef:e.labelRef}),e.children)))}),gN=v.forwardRef((e,t)=>{var n=Qr(e,Do);return v.createElement(Rne,Xc({},n,{ref:t}))});gN.displayName="CartesianAxis";var Bne=["x1","y1","x2","y2","key"],zne=["offset"],Une=["xAxisId","yAxisId"],Vne=["xAxisId","yAxisId"];function gD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(n),!0).forEach(function(r){Wne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wne(e,t,n){return(t=Hne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hne(e){var t=qne(e,"string");return typeof t=="symbol"?t:t+""}function qne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dc.apply(null,arguments)}function p0(e,t){if(e==null)return{};var n,r,i=Kne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return v.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function L4(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=n,d=p0(n,Bne),f=(i=ns(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=p0(f,zne);r=v.createElement("line",Dc({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function Yne(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=p0(e,Une),l=i.map((u,d)=>{var f=Oi(Oi({},o),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return v.createElement(L4,{key:"line-".concat(d),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Xne(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=p0(e,Vne),l=i.map((u,d)=>{var f=Oi(Oi({},o),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return v.createElement(L4,{option:r,lineItemProps:f,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Qne(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+s-f:u[h+1]-f;if(p<=0)return null;var g=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Zne(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+s-f:u[h+1]-f;if(p<=0)return null;var g=h%n.length;return v.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Jne=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return o_(pN(Oi(Oi(Oi({},Do),n),{},{ticks:l_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},ere=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return o_(pN(Oi(Oi(Oi({},Do),n),{},{ticks:l_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},tre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ki.grid};function Qc(e){var t=Gk(),n=Yk(),r=y_(),i=Oi(Oi({},Qr(e,tre)),{},{x:It(e.x)?e.x:r.left,y:It(e.y)?e.y:r.top,width:It(e.width)?e.width:r.width,height:It(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=ha(),g=Dt($=>vP($,"xAxis",a,p)),b=Dt($=>vP($,"yAxis",s,p));if(!no(u)||!no(d)||!It(o)||!It(l))return null;var x=i.verticalCoordinatesGenerator||Jne,w=i.horizontalCoordinatesGenerator||ere,{horizontalPoints:y,verticalPoints:N}=i;if((!y||!y.length)&&typeof w=="function"){var C=h&&h.length,S=w({yAxis:b?Oi(Oi({},b),{},{ticks:C?h:b.ticks}):void 0,width:t??u,height:n??d,offset:r},C?!0:f);zg(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(y=S)}if((!N||!N.length)&&typeof x=="function"){var j=m&&m.length,M=x({xAxis:g?Oi(Oi({},g),{},{ticks:j?m:g.ticks}):void 0,width:t??u,height:n??d,offset:r},j?!0:f);zg(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(N=M)}return v.createElement(Ps,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Gne,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(Qne,Dc({},i,{horizontalPoints:y})),v.createElement(Zne,Dc({},i,{verticalPoints:N})),v.createElement(Yne,Dc({},i,{offset:r,horizontalPoints:y,xAxis:g,yAxis:b})),v.createElement(Xne,Dc({},i,{offset:r,verticalPoints:N,xAxis:g,yAxis:b}))))}Qc.displayName="CartesianGrid";var nre={},$4=ma({name:"errorBars",initialState:nre,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:W0e,replaceErrorBar:H0e,removeErrorBar:q0e}=$4.actions,rre=$4.reducer,ire=["children"];function are(e,t){if(e==null)return{};var n,r,i=sre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ore={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},lre=v.createContext(ore);function cre(e){var{children:t}=e,n=are(e,ire);return v.createElement(lre.Provider,{value:n},t)}function F4(e,t){var n,r,i=Dt(u=>Yo(u,e)),a=Dt(u=>Xo(u,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:oi.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:li.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function ure(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=mN(),{needClipX:a,needClipY:s,needClip:o}=F4(t,n);if(!o||!i)return null;var{x:l,y:u,width:d,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:a?l:l-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}var R4=(e,t,n,r)=>vL(e,"xAxis",t,r),B4=(e,t,n,r)=>xL(e,"xAxis",t,r),z4=(e,t,n,r)=>vL(e,"yAxis",n,r),U4=(e,t,n,r)=>xL(e,"yAxis",n,r),dre=we([Hn,R4,z4,B4,U4],(e,t,n,r,i)=>Gl(e,"xAxis")?Bg(t,r,!1):Bg(n,i,!1)),fre=(e,t,n,r,i)=>i;function mre(e){return e.type==="line"}var hre=we([Q3,fre],(e,t)=>e.filter(mre).find(n=>n.id===t)),pre=we([Hn,R4,z4,B4,U4,hre,dre,SS],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(u,d+1),m!=null)return sie({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function gre(e){var t=hd(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var xre={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh=v;function vre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bre=typeof Object.is=="function"?Object.is:vre,yre=hh.useSyncExternalStore,wre=hh.useRef,kre=hh.useEffect,Sre=hh.useMemo,Nre=hh.useDebugValue;xre.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=wre(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Sre(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,bre(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=yre(e,a[0],a[1]);return kre(function(){s.hasValue=!0,s.value=o},[o]),Nre(o),o};function Cre(e){e()}function jre(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Cre(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var xD={notify(){},get:()=>[]};function Are(e,t){let n,r=xD,i=0,a=!1;function s(g){d();const b=r.subscribe(g);let x=!1;return()=>{x||(x=!0,b(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return a}function d(){i++,n||(n=e.subscribe(l),r=jre())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=xD)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var Pre=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dre=Pre(),Tre=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ere=Tre(),Mre=()=>Dre||Ere?v.useLayoutEffect:v.useEffect,Ore=Mre();function vD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Ire(e,t){if(vD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!vD(e[n[i]],t[n[i]]))return!1;return!0}var fb=Symbol.for("react-redux-context"),mb=typeof globalThis<"u"?globalThis:{};function _re(){if(!v.createContext)return{};const e=mb[fb]??(mb[fb]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Lre=_re();function $re(e){const{children:t,context:n,serverState:r,store:i}=e,a=v.useMemo(()=>{const l=Are(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=v.useMemo(()=>i.getState(),[i]);Ore(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||Lre;return v.createElement(o.Provider,{value:a},t)}var Fre=$re,Rre=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Bre(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function xN(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Rre.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Ire(e[r],t[r]))return!1}else if(!Bre(e[r],t[r]))return!1;return!0}var zre=["id"],Ure=["type","layout","connectNulls","needClip","shape"],Vre=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Am.apply(null,arguments)}function bD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(n),!0).forEach(function(r){Wre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wre(e,t,n){return(t=Hre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hre(e){var t=qre(e,"string");return typeof t=="symbol"?t:t+""}function qre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vN(e,t){if(e==null)return{};var n,r,i=Kre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gre=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:xx(n,t),payload:e}]},Yre=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:xx(s,t),hide:o,type:u,color:r,unit:l,graphicalItemId:d}};return v.createElement(P4,{tooltipEntrySettings:f})}),V4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Xre(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Qre=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return V4(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>a){o=[...n.slice(0,l),a-u];break}var d=o.length%2===0?[0,s]:[s];return[...Xre(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function Zre(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=vN(r,zre),u=ns(l);return v.createElement(Rte,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:s,clipPathId:t})}function Jre(e){var{showLabels:t,children:n,points:r}=e,i=v.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ks(Ks({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(YJ,{value:t?i:void 0},n)}function yD(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:u,shape:d}=a,f=vN(a,Ure),h=Ks(Ks({},Gi(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(A4,Am({shapeType:"curve",option:d},h,{pathRef:n})),v.createElement(Zre,{points:r,clipPathId:t,props:a}))}function eie(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function tie(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:b}=n,x=i.current,w=Dx(s,"recharts-line-"),y=v.useRef(w),[N,C]=v.useState(!1),S=!N,j=v.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),M=v.useCallback(()=>{typeof b=="function"&&b(),C(!0)},[b]),$=eie(r.current),T=v.useRef(0);y.current!==w&&(T.current=a.current,y.current=w);var _=T.current;return v.createElement(Jre,{points:s,showLabels:S},n.children,v.createElement(Px,{animationId:w,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:j,onAnimationStart:M,key:w},O=>{var G=Ii(_,$+_,O),J=Math.min(G,$),ue;if(l)if(o){var ge="".concat(o).split(/[,\s]+/gim).map(K=>parseFloat(K));ue=Qre(J,$,ge)}else ue=V4($,J);else ue=o==null?void 0:String(o);if(O>0&&$>0&&(i.current=s,a.current=Math.max(a.current,J)),x){var Y=x.length/s.length,q=O===1?s:s.map((K,E)=>{var D=Math.floor(E*Y);if(x[D]){var ie=x[D];return Ks(Ks({},K),{},{x:Ii(ie.x,K.x,O),y:Ii(ie.y,K.y,O)})}return h?Ks(Ks({},K),{},{x:Ii(m*2,K.x,O),y:Ii(p/2,K.y,O)}):Ks(Ks({},K),{},{x:K.x,y:K.y})});return i.current=q,v.createElement(yD,{props:n,points:q,clipPathId:t,pathRef:r,strokeDasharray:ue})}return v.createElement(yD,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:ue})}),v.createElement(d4,{label:n.label}))}function nie(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),i=v.useRef(0),a=v.useRef(null);return v.createElement(tie,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var rie=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:dr(e.payload,t)}};class iie extends v.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=Fn("recharts-line",i),g=f,{r:b,strokeWidth:x}=gre(n),w=C4(n),y=b*2+x,N=h?"url(#clipPath-".concat(w?"":"dots-").concat(g,")"):void 0;return v.createElement(Ps,{zIndex:m},v.createElement(da,{className:p},h&&v.createElement("defs",null,v.createElement(ure,{clipPathId:g,xAxisId:a,yAxisId:s}),!w&&v.createElement("clipPath",{id:"clipPath-dots-".concat(g)},v.createElement("rect",{x:l-y/2,y:o-y/2,width:u+y,height:d+y}))),v.createElement(cre,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:rie,errorBarOffset:0},v.createElement(nie,{props:this.props,clipPathId:g}))),v.createElement(ane,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var W4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ki.line,type:"linear"};function aie(e){var t=Qr(e,W4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,b=vN(t,Vre),{needClip:x}=F4(m,p),w=mN(),y=Wm(),N=ha(),C=Dt(T=>pre(T,m,p,N,g));if(y!=="horizontal"&&y!=="vertical"||C==null||w==null)return null;var{height:S,width:j,x:M,y:$}=w;return v.createElement(iie,Am({},b,{id:g,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:C,layout:y,height:S,width:j,left:M,top:$,needClip:x}))}function sie(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((u,d)=>{var f=dr(u,s);if(t==="horizontal"){var h=Tj({axis:n,ticks:i,bandSize:o,entry:u,index:d}),m=Xr(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:u}}var p=Xr(f)?null:n.scale(f),g=Tj({axis:r,ticks:a,bandSize:o,entry:u,index:d});return p==null||g==null?null:{x:p,y:g,value:f,payload:u}}).filter(Boolean)}function oie(e){var t=Qr(e,W4),n=ha();return v.createElement(D4,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(Wee,{legendPayload:Gre(t)}),v.createElement(Yre,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement(ite,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(aie,Am({},t,{id:r}))))}var Xa=v.memo(oie,xN);Xa.displayName="Line";var lie=["domain","range"],cie=["domain","range"];function wD(e,t){if(e==null)return{};var n,r,i=uie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kD(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function H4(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=wD(e,lie),{domain:a,range:s}=t,o=wD(t,cie);return!kD(n,a)||!kD(r,s)?!1:xN(i,o)}var die=["dangerouslySetInnerHTML","ticks","scale"],fie=["id","scale"];function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_w.apply(null,arguments)}function SD(e,t){if(e==null)return{};var n,r,i=mie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hie(e){var t=ar(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Wte(e)):n.current!==e&&t(Hte({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(qte(n.current)),n.current=null)},[t]),null}var pie=e=>{var{xAxisId:t,className:n}=e,r=Dt(f_),i=ha(),a="xAxis",s=Dt(x=>gL(x,a,t,i)),o=Dt(x=>NX(x,t)),l=Dt(x=>TX(x,t)),u=Dt(x=>G3(x,t));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=SD(e,die),{id:p,scale:g}=u,b=SD(u,fie);return v.createElement(gN,_w({},m,b,{x:l.x,y:l.y,width:o.width,height:o.height,className:Fn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},gie={allowDataOverflow:oi.allowDataOverflow,allowDecimals:oi.allowDecimals,allowDuplicatedCategory:oi.allowDuplicatedCategory,angle:oi.angle,axisLine:Do.axisLine,height:oi.height,hide:!1,includeHidden:oi.includeHidden,interval:oi.interval,minTickGap:oi.minTickGap,mirror:oi.mirror,orientation:oi.orientation,padding:oi.padding,reversed:oi.reversed,scale:oi.scale,tick:oi.tick,tickCount:oi.tickCount,tickLine:Do.tickLine,tickSize:Do.tickSize,type:oi.type,xAxisId:0},xie=e=>{var t=Qr(e,gie);return v.createElement(v.Fragment,null,v.createElement(hie,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(pie,t))},Zc=v.memo(xie,H4);Zc.displayName="XAxis";var vie=["dangerouslySetInnerHTML","ticks","scale"],bie=["id","scale"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lw.apply(null,arguments)}function ND(e,t){if(e==null)return{};var n,r,i=yie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wie(e){var t=ar(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Kte(e)):n.current!==e&&t(Gte({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Yte(n.current)),n.current=null)},[t]),null}var kie=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=v.useRef(null),s=v.useRef(null),o=Dt(f_),l=ha(),u=ar(),d="yAxis",f=Dt(S=>OX(S,t)),h=Dt(S=>MX(S,t)),m=Dt(S=>gL(S,d,t,l)),p=Dt(S=>Y3(S,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||cN(i)||v.isValidElement(i)||p==null)){var S=a.current;if(S){var j=S.getCalculatedWidth();Math.round(f.width)!==Math.round(j)&&u(Xte({id:t,width:j}))}}},[m,f,u,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:b,scale:x}=e,w=ND(e,vie),{id:y,scale:N}=p,C=ND(p,bie);return v.createElement(gN,Lw({},w,C,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Fn("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},Sie={allowDataOverflow:li.allowDataOverflow,allowDecimals:li.allowDecimals,allowDuplicatedCategory:li.allowDuplicatedCategory,angle:li.angle,axisLine:Do.axisLine,hide:!1,includeHidden:li.includeHidden,interval:li.interval,minTickGap:li.minTickGap,mirror:li.mirror,orientation:li.orientation,padding:li.padding,reversed:li.reversed,scale:li.scale,tick:li.tick,tickCount:li.tickCount,tickLine:Do.tickLine,tickSize:Do.tickSize,type:li.type,width:li.width,yAxisId:0},Nie=e=>{var t=Qr(e,Sie);return v.createElement(v.Fragment,null,v.createElement(wie,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(kie,t))},Jc=v.memo(Nie,H4);Jc.displayName="YAxis";var Cie=(e,t)=>t,bN=we([Cie,Hn,H3,Jr,IL,Qo,YQ,fi],nZ),yN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},q4=rs("mouseClick"),K4=Um();K4.startListening({actionCreator:q4,effect:(e,t)=>{var n=e.payload,r=bN(t.getState(),yN(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(KX({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var $w=rs("mouseMove"),G4=Um(),xp=null;G4.startListening({actionCreator:$w,effect:(e,t)=>{var n=e.payload;xp!==null&&cancelAnimationFrame(xp);var r=yN(n);xp=requestAnimationFrame(()=>{var i=t.getState(),a=JS(i,i.tooltip.settings.shared);if(a==="axis"){var s=bN(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(jL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(CL())}xp=null})}});function jie(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var CD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Y4=ma({name:"rootProps",initialState:CD,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:CD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Aie=Y4.reducer,{updateOptions:Pie}=Y4.actions,X4=ma({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Die}=X4.actions,Tie=X4.reducer,Q4=rs("keyDown"),Z4=rs("focus"),wN=Um();wN.startListening({actionCreator:Q4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=eN(i,Bd(n),eh(n),rh(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Qo(n);if(a==="Enter"){var u=c0(n,"axis","hover",String(i.index));t.dispatch(Dw({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=$X(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=c0(n,"axis","hover",String(m));t.dispatch(Dw({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});wN.startListening({actionCreator:Z4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=c0(n,"axis","hover",String(a));t.dispatch(Dw({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Wa=rs("externalEvent"),J4=Um(),hb=new Map;J4.startListening({actionCreator:Wa,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=hb.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:OQ(o),activeDataKey:FL(o),activeIndex:kd(o),activeLabel:$L(o),activeTooltipIndex:kd(o),isTooltipActive:IQ(o)};n(l,r)}finally{hb.delete(i)}});hb.set(i,s)}}});var Eie=we([Fd],e=>e.tooltipItemPayloads),Mie=we([Eie,nh,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),e$=rs("touchMove"),t$=Um();t$.startListening({actionCreator:e$,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=JS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=bN(r,yN({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(jL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(u_),f=(o=u.getAttribute(d_))!==null&&o!==void 0?o:void 0,h=Rd(r).find(g=>g.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=Mie(r,d,f);t.dispatch(NL({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var Oie=MI({brush:sne,cartesianAxis:Qte,chartData:MZ,errorBars:rre,graphicalItems:nte,layout:hH,legend:p7,options:AZ,polarAxis:see,polarOptions:Tie,referenceElements:mne,rootProps:Aie,tooltip:GX,zIndex:gZ}),Iie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return R9({reducer:Oie,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([K4.middleware,G4.middleware,wN.middleware,J4.middleware,t$.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(KI({type:"raf"}))},devTools:{serialize:{replacer:jie},name:"recharts-".concat(n)}})};function n$(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ha(),a=v.useRef(null);if(i)return n;a.current==null&&(a.current=Iie(t,r));var s=Fk;return v.createElement(Fre,{context:s,store:a.current},n)}function _ie(e){var{layout:t,margin:n}=e,r=ar(),i=ha();return v.useEffect(()=>{i||(r(dH(t)),r(uH(n)))},[r,i,t,n]),null}var r$=v.memo(_ie,xN);function i$(e){var t=ar();return v.useEffect(()=>{t(Pie(e))},[t,e]),null}function jD(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),i=ar();return v.useLayoutEffect(()=>(r.current&&i(hZ({zIndex:t,element:r.current,isPanorama:n})),()=>{i(pZ({zIndex:t,isPanorama:n}))}),[i,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function AD(e){var{children:t,isPanorama:n}=e,r=Dt(iZ);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return v.createElement(v.Fragment,null,i.map(s=>v.createElement(jD,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>v.createElement(jD,{key:s,zIndex:s,isPanorama:n})))}var Lie=["children"];function $ie(e,t){if(e==null)return{};var n,r,i=Fie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g0.apply(null,arguments)}var Rie={width:"100%",height:"100%",display:"block"},Bie=v.forwardRef((e,t)=>{var n=Gk(),r=Yk(),i=M_();if(!no(n)||!no(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),v.createElement(kk,g0({},s,{title:o,desc:l,role:d,tabIndex:u,width:n,height:r,style:Rie,ref:t}),a)}),zie=e=>{var{children:t}=e,n=Dt(wx);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return v.createElement(kk,{width:r,height:i,x:s,y:a},t)},PD=v.forwardRef((e,t)=>{var{children:n}=e,r=$ie(e,Lie),i=ha();return i?v.createElement(zie,null,v.createElement(AD,{isPanorama:!0},n)):v.createElement(Bie,g0({ref:t},r),v.createElement(AD,{isPanorama:!1},n))});function Uie(){var e=ar(),[t,n]=v.useState(null),r=Dt(DH);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Wr(a)&&a!==r&&e(mH(a))}},[t,e,r]),n}function DD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(n),!0).forEach(function(r){Wie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wie(e,t,n){return(t=Hie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hie(e){var t=qie(e,"string");return typeof t=="symbol"?t:t+""}function qie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eu.apply(null,arguments)}var Kie=()=>(zZ(),null);function x0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Gie=v.forwardRef((e,t)=>{var n,r,i=v.useRef(null),[a,s]=v.useState({containerWidth:x0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:x0((r=e.style)===null||r===void 0?void 0:r.height)}),o=v.useCallback((u,d)=>{s(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=v.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var h=p=>{var{width:g,height:b}=p[0].contentRect;o(g,b)},m=new ResizeObserver(h);m.observe(u),i.current=m}},[t,o]);return v.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),v.createElement(v.Fragment,null,v.createElement(Sx,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",eu({ref:l},e)))}),Yie=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=v.useState({containerWidth:x0(n),containerHeight:x0(r)}),s=v.useCallback((l,u)=>{a(d=>{var f=Math.round(l),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();s(u,d)}},[t,s]);return v.createElement(v.Fragment,null,v.createElement(Sx,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",eu({ref:o},e)))}),Xie=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(Sx,{width:n,height:r}),v.createElement("div",eu({ref:t},e)))}),Qie=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return Lo(n)||Lo(r)?v.createElement(Yie,eu({},e,{ref:t})):v.createElement(Xie,eu({},e,{ref:t}))});function Zie(e){return e===!0?Gie:Qie}var Jie=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:b,width:x,responsive:w,dispatchTouchEvents:y=!0}=e,N=v.useRef(null),C=ar(),[S,j]=v.useState(null),[M,$]=v.useState(null),T=Uie(),_=Kk(),O=(_==null?void 0:_.width)>0?_.width:x,G=(_==null?void 0:_.height)>0?_.height:i,J=v.useCallback(F=>{T(F),typeof t=="function"&&t(F),j(F),$(F),F!=null&&(N.current=F)},[T,t,j,$]),ue=v.useCallback(F=>{C(q4(F)),C(Wa({handler:a,reactEvent:F}))},[C,a]),ge=v.useCallback(F=>{C($w(F)),C(Wa({handler:u,reactEvent:F}))},[C,u]),Y=v.useCallback(F=>{C(CL()),C(Wa({handler:d,reactEvent:F}))},[C,d]),q=v.useCallback(F=>{C($w(F)),C(Wa({handler:f,reactEvent:F}))},[C,f]),K=v.useCallback(()=>{C(Z4())},[C]),E=v.useCallback(F=>{C(Q4(F.key))},[C]),D=v.useCallback(F=>{C(Wa({handler:s,reactEvent:F}))},[C,s]),ie=v.useCallback(F=>{C(Wa({handler:o,reactEvent:F}))},[C,o]),k=v.useCallback(F=>{C(Wa({handler:l,reactEvent:F}))},[C,l]),V=v.useCallback(F=>{C(Wa({handler:h,reactEvent:F}))},[C,h]),W=v.useCallback(F=>{C(Wa({handler:g,reactEvent:F}))},[C,g]),re=v.useCallback(F=>{y&&C(e$(F)),C(Wa({handler:p,reactEvent:F}))},[C,y,p]),ne=v.useCallback(F=>{C(Wa({handler:m,reactEvent:F}))},[C,m]),se=Zie(w);return v.createElement(HL.Provider,{value:S},v.createElement(E5.Provider,{value:M},v.createElement(se,{width:O??(b==null?void 0:b.width),height:G??(b==null?void 0:b.height),className:Fn("recharts-wrapper",r),style:Vie({position:"relative",cursor:"default",width:O,height:G},b),onClick:ue,onContextMenu:D,onDoubleClick:ie,onFocus:K,onKeyDown:E,onMouseDown:k,onMouseEnter:ge,onMouseLeave:Y,onMouseMove:q,onMouseUp:V,onTouchEnd:ne,onTouchMove:re,onTouchStart:W,ref:J},v.createElement(Kie,null),n)))}),eae=["width","height","responsive","children","className","style","compact","title","desc"];function tae(e,t){if(e==null)return{};var n,r,i=nae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var a$=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:d}=e,f=tae(e,eae),h=ns(f);return l?v.createElement(v.Fragment,null,v.createElement(Sx,{width:n,height:r}),v.createElement(PD,{otherAttributes:h,title:u,desc:d},a)):v.createElement(Jie,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(PD,{otherAttributes:h,title:u,desc:d,ref:t},v.createElement(pne,null,a)))});function Fw(){return Fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fw.apply(null,arguments)}var rae={top:5,right:5,bottom:5,left:5},iae={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:rae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},aae=v.forwardRef(function(t,n){var r,i=Qr(t.categoricalChartProps,iae),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return v.createElement(n$,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},v.createElement(M4,{chartData:u.data}),v.createElement(r$,{layout:i.layout,margin:i.margin}),v.createElement(i$,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(a$,Fw({},i,{ref:n})))}),sae=["axis"],Nd=v.forwardRef((e,t)=>v.createElement(aae,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sae,tooltipPayloadSearcher:KL,categoricalChartProps:e,ref:t}));function oae(e){var t=ar();return v.useEffect(()=>{t(Die(e))},[t,e]),null}var lae=["layout"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rw.apply(null,arguments)}function cae(e,t){if(e==null)return{};var n,r,i=uae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dae={top:5,right:5,bottom:5,left:5},s$={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dae,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},fae=v.forwardRef(function(t,n){var r,i=Qr(t.categoricalChartProps,s$),{layout:a}=i,s=cae(i,lae),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return v.createElement(n$,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},v.createElement(M4,{chartData:i.data}),v.createElement(r$,{layout:a,margin:i.margin}),v.createElement(i$,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(oae,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement(a$,Rw({},s,{ref:n})))});function TD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ED(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(n),!0).forEach(function(r){mae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mae(e,t,n){return(t=hae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hae(e){var t=pae(e,"string");return typeof t=="symbol"?t:t+""}function pae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gae=["item"],xae=ED(ED({},s$),{},{layout:"centric",startAngle:0,endAngle:360}),Bw=v.forwardRef((e,t)=>{var n=Qr(e,xae);return v.createElement(fae,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:gae,tooltipPayloadSearcher:KL,categoricalChartProps:n,ref:t})});const Tn=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>c.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>c.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),MD="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",$f=new Map,id=new Map,vae=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if($f.has(r)||id.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&$f.set(r,s),s})();id.set(r,i);try{await i}finally{id.delete(r)}}))},bae=e=>{const[t,n]=v.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:$f.get(e)||MD:null});return v.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=$f.get(e);if(r){n(r);return}let i=!0;const a=id.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&$f.set(e,l),l})();return id.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(MD)}}).finally(()=>{id.delete(e)}),()=>{i=!1}},[e]),t},yae=(e,t,n,r)=>{const[i,a]=v.useState("bottom"),[s,o]=v.useState(0);return v.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(M=>{let $=(M==null?void 0:M.parentElement)||null;for(;$;){const T=window.getComputedStyle($),_=`${T.overflow}${T.overflowY}${T.overflowX}`;if(/(auto|scroll|hidden)/.test(_))return $;$=$.parentElement}return null})(u),g=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},b=g.bottom-f.bottom,x=f.top-g.top,w=b<h.height+8&&x>b?"top":"bottom";a(w);const y=6,N=f.left+f.width/2,C=g.left+y+h.width/2,S=g.right-y-h.width/2,j=Math.min(Math.max(N,C),S);o(j-N)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},wae=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},o$=(e,t,n,r,i=8)=>{const[a,s]=v.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return v.useEffect(()=>{if(!e)return;const o=()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,g=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),b=f.left+f.width/2,x=i+h.width/2,w=window.innerWidth-i-h.width/2,y=Math.min(Math.max(b,x),w);s({position:"fixed",top:g,left:y,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},kae=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Cc(i||"Unknown"),s=r.length>1,[o,l]=v.useState(!1),u=v.useRef(null),d=v.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=yae(o,[r.length,f],u,d),p=Array.from(new Set(r.map(w=>_l(w||"Unknown")))).slice(0,4),g=p.length>1?`conic-gradient(${p.map((w,y)=>`${w} ${y*360/p.length}deg ${(y+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const b=h==="top"?"bottom-full mb-2":"top-full mt-2",x={transform:`translateX(calc(-50% + ${m}px))`};return c.jsxs("span",{ref:u,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[c.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&c.jsxs(c.Fragment,{children:[c.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:g},children:c.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),c.jsxs("div",{ref:d,style:x,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${b} ${o?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),c.jsx("div",{className:"space-y-1",children:r.map(w=>{const y=Cc(w||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[y?c.jsx("img",{src:y,alt:w||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:w||"Unknown"})]},w)})})]})]})]})},Sae=(e,t,n="w-4 h-4 object-contain")=>c.jsx(kae,{profession:e,professionList:t,className:n}),pb=({count:e,classCounts:t,label:n,className:r})=>{const i=wae(t||{}),a=e>0,[s,o]=v.useState(!1),l=v.useRef(null),u=v.useRef(null),d=o$(s,[i.length,e],l,u);return c.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[c.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&Ed.createPortal(c.jsxs("div",{ref:u,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${s?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?c.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>c.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const g=Cc(m||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[g?c.jsx("img",{src:g,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):c.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},br=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i="",truncateText:a=!0})=>{const s=bae(t);return c.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[s?c.jsx("img",{src:s,alt:e,className:`${r} shrink-0`}):null,c.jsx("span",{className:`${a?"truncate":""} ${i}`,children:e})]})},OD=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=v.useState(!1),o=v.useRef(null),l=v.useRef(null),u=o$(a,[n.length],o,l);return c.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[c.jsx("span",{children:e}),i&&typeof document<"u"&&Ed.createPortal(c.jsxs("div",{ref:l,style:u,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg pointer-events-none ${a?"block":"hidden"}`,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),c.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate text-gray-100",children:c.jsx(br,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),c.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},Nae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:u,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:g,setSkillUsagePlayerFilter:b,skillUsageView:x,setSkillUsageView:w,skillUsageData:y,skillUsageSkillFilter:N,setSkillUsageSkillFilter:C,selectedSkillId:S,setSelectedSkillId:j,skillBarData:M,selectedSkillName:$,selectedSkillIcon:T,skillUsageReady:_,skillUsageAvailable:O,isSkillUsagePerSecond:G,skillChartData:J,skillChartMaxY:ue,playerTotalsForSkill:ge,hoveredSkillPlayer:Y,setHoveredSkillPlayer:q,getLineStrokeColor:K,getLineDashForPlayer:E,formatSkillUsageValue:D,renderProfessionIcon:ie})=>c.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(dk,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Tn,{value:x,onChange:w,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[y.logRecords.length," ",y.logRecords.length===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]})]}),o.length>0&&c.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[c.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(k=>{const V=d.get(k);return V?c.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[c.jsx("span",{className:"truncate max-w-[140px]",children:V.displayName}),c.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[V.logs," ",V.logs===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>u(V.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:c.jsx(d5,{className:"w-3 h-3"})})]},V.key):null})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),c.jsx("input",{type:"search",value:g,onChange:k=>b(k.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(k=>{const V=h===k.profession,W=k.players.map(ne=>ne.key),re=W.length>0&&W.every(ne=>o.includes(ne));return c.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[c.jsx("button",{type:"button",onClick:()=>{if(V){m(null);return}m(k.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${V?"bg-white/10":"hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ie(k.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:k.profession})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsxs("span",{className:"text-[10px]",children:[k.players.length,"p"]}),V?c.jsx(Fy,{className:"w-3.5 h-3.5"}):c.jsx(CU,{className:"w-3.5 h-3.5"})]})]})}),V&&c.jsxs("div",{className:"pb-2",children:[c.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[c.jsxs("span",{children:[k.players.length," ",k.players.length===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>{l(ne=>{if(re)return ne.filter(F=>!W.includes(F));const se=new Set(ne);return W.forEach(F=>se.add(F)),Array.from(se)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:re?"Clear All":"Select All"})]}),k.players.map(ne=>{const se=o.includes(ne.key);return c.jsx("button",{type:"button",onClick:()=>p(ne.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${se?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:ne.displayName}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[ne.account,"  ",ne.profession,"  ",ne.logs," ",ne.logs===1?"log":"logs"]})]}),se&&c.jsx(l5,{className:"w-4 h-4 text-cyan-300"})]})},ne.key)})]})]},k.profession)})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),c.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${G?"casts/sec":"total casts"}`:"Select players"})]}),c.jsx("input",{type:"search",value:N,onChange:k=>C(k.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):M.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const k=M.reduce((V,W)=>Math.max(V,W.total),0)||1;return c.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:M.map((V,W)=>{const re=Math.min(100,V.total/k*100),ne=S===V.skillId;return c.jsxs("button",{type:"button",onClick:()=>j(V.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${ne?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[c.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${W+1}`}),c.jsx(br,{name:V.name,iconUrl:V.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),c.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:D(V.total)})]}),c.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:c.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${re}%`,backgroundColor:V.color}})})]},V.skillId)})})})()})]})]}),c.jsx("div",{className:"space-y-3",children:_?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:$?c.jsx(br,{name:$,iconUrl:T,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",G?"casts per second":"casts per log",")"]})]}),c.jsx(Fo,{width:"100%",height:250,children:c.jsxs(Nd,{data:J,children:[c.jsx(Qc,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Zc,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:k=>{const V=J[k],W=String((V==null?void 0:V.shortLabel)??k);return W.length>20?`${W.slice(0,20)}`:W}}),c.jsx(Jc,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,ue)],allowDecimals:!1}),c.jsx(Vo,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:k,payload:V,label:W})=>{var F;if(!k||!V||V.length===0)return null;const re=[...V].sort((U,H)=>(H.value||0)-(U.value||0)),ne=re[0],se=((F=ne==null?void 0:ne.payload)==null?void 0:F.fullLabel)||W;return c.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[c.jsx("div",{className:"text-sm text-white mb-1",children:se}),c.jsx("div",{className:"space-y-1",children:re.map(U=>{const H=String(U.name||""),ee=d.get(H),R=(ee==null?void 0:ee.displayName)||H||"Player",ce=D(Number(U.value||0)),X=U.color||"#38bdf8";return c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"truncate",style:{color:X},children:R}),c.jsx("span",{className:"text-gray-200 font-mono",children:ce})]},`${R}-${ce}`)})})]})}}),o.map(k=>{const V=Y.includes(k),W=Y.length>0,re=K(k,V,W),ne=E(k),se=Y.length>0&&!V;return c.jsx(Xa,{dataKey:k,stroke:re,strokeWidth:V?4:3,strokeDasharray:ne,opacity:se?.6:1,dot:!1,isAnimationActive:o.length<=16,animationDuration:420,animationEasing:"ease-out"},k)})]})})]}),o.length>0&&c.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),c.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((k,V)=>(ge.get(V)||0)-(ge.get(k)||0)).map(k=>{const V=d.get(k),W=ge.get(k)??0,re=Y.includes(k),ne=Y.length>0,se=K(k,re,ne);return c.jsxs("button",{type:"button",onClick:()=>{q(F=>F.includes(k)?F.filter(U=>U!==k):[...F,k])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${re?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":re,children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:c.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:se,strokeWidth:"2",strokeDasharray:E(k),strokeLinecap:"round"})}),ie(V==null?void 0:V.profession,V==null?void 0:V.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),c.jsx("div",{className:"font-semibold text-white truncate",children:(V==null?void 0:V.displayName)||k}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[(V==null?void 0:V.logs)??0," ",((V==null?void 0:V.logs)??0)===1?"log":"logs"]})]})]}),c.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:D(W)})]},k)})})]})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),Cae=({containerRef:e,className:t=""})=>{const n=v.useRef(null),[r,i]=v.useState(0),[a,s]=v.useState(0),o=v.useRef(!1),l=v.useRef(0),u=v.useRef(0);v.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:y,clientWidth:N,scrollLeft:C}=h,S=y>N,j=n.current,M=(j==null?void 0:j.clientWidth)||0;if(!M){m=window.requestAnimationFrame(p);return}if(!S){i(M),s(0);return}const $=N/y,T=Math.max(20,Math.floor(M*$)),_=y-N,O=Math.max(0,M-T),G=_>0?Math.floor(C/_*O):0;i(T),s(G)};p();const g=()=>p(),b=new ResizeObserver(p);b.observe(h);const x=h.firstElementChild;x instanceof HTMLElement&&b.observe(x),n.current&&b.observe(n.current);const w=new MutationObserver(()=>p());return w.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",g),()=>{m&&window.cancelAnimationFrame(m),b.disconnect(),w.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",g)}},[e]),v.useEffect(()=>{const h=p=>{if(!o.current)return;const g=n.current,b=e.current;if(!g||!b)return;const x=g.getBoundingClientRect(),w=p.clientX-l.current,y=Math.max(0,x.width-r),N=Math.min(y,Math.max(0,u.current+w)),C=b.scrollWidth-b.clientWidth,S=y>0?N/y*C:0;b.scrollLeft=S},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const g=m.getBoundingClientRect(),b=h.clientX-g.left,x=Math.max(0,g.width-r),w=Math.min(x,Math.max(0,b-r/2)),y=p.scrollWidth-p.clientWidth;p.scrollLeft=x>0?w/x*y:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,u.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return c.jsx("div",{className:`scroll-scrubber ${t}`,children:c.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:c.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},Ss=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const u=v.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return c.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&c.jsxs("div",{className:"dense-table__header",children:[e&&c.jsx("div",{className:"dense-table__title",children:e}),t&&c.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&c.jsx("div",{className:"dense-table__controls",children:n}),c.jsx("div",{ref:u,className:"dense-table__scroll",children:c.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[c.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:c.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return c.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?c.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[c.jsx("span",{className:"truncate",children:f.label}),p&&c.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):c.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>c.jsxs("div",{className:"dense-table__row",children:[c.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>c.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),c.jsx(Cae,{containerRef:u})]})},Ns=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=v.useState(""),[o,l]=v.useState(!1),[u,d]=v.useState(0),f=v.useRef(null),h=v.useRef(null),m=v.useRef(new Map);v.useEffect(()=>{const x=w=>{f.current&&(f.current.contains(w.target)||l(!1))};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=v.useMemo(()=>{const x=a.trim().toLowerCase();return x?e.filter(w=>w.label.toLowerCase().includes(x)).slice(0,50):e.slice(0,50)},[e,a]),g=v.useMemo(()=>{const x=new Map;return p.forEach((w,y)=>{x.set(`${w.type}-${w.id}`,y)}),x},[p]),b=v.useMemo(()=>{const x=p.filter(y=>y.type==="column"),w=p.filter(y=>y.type==="player");return{columns:x,players:w}},[p]);return v.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(x=>Math.min(Math.max(x,0),p.length-1))}},[p,o]),v.useEffect(()=>{if(!o)return;const x=p[u];if(!x)return;const w=`${x.type}-${x.id}`,y=m.current.get(w);y&&h.current&&y.scrollIntoView({block:"nearest"})},[u,p,o]),c.jsxs("div",{ref:f,className:`relative ${i}`,children:[c.jsx("input",{value:a,onChange:x=>{s(x.target.value),l(!0)},onKeyDown:x=>{if(!o&&(x.key==="ArrowDown"||x.key==="ArrowUp")){l(!0);return}if(o)if(x.key==="ArrowDown"){if(x.preventDefault(),p.length===0)return;d(w=>(w+1)%p.length)}else if(x.key==="ArrowUp"){if(x.preventDefault(),p.length===0)return;d(w=>(w-1+p.length)%p.length)}else if(x.key==="Enter"){x.preventDefault();const w=p[u];if(!w)return;r(w),s(""),l(!1)}else x.key==="Escape"&&(x.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&c.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):c.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[b.columns.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),b.columns.map(x=>{const w=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return c.jsx("button",{type:"button",ref:y=>{m.current.set(`${x.type}-${x.id}`,y)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const y=g.get(`${x.type}-${x.id}`);typeof y=="number"&&d(y)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${w?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,c.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]}),b.players.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),b.players.map(x=>{const w=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return c.jsx("button",{type:"button",ref:y=>{m.current.set(`${x.type}-${x.id}`,y)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const y=g.get(`${x.type}-${x.id}`);typeof y=="number"&&d(y)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${w?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,c.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]})]})})]})},yr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=v.useState(!1),u=v.useRef(null),d=new Set(t);return v.useEffect(()=>{const f=h=>{u.current&&(u.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),c.jsxs("div",{ref:u,className:`relative ${i}`,children:[c.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?c.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,c.jsx("span",{children:a}),t.length>0&&c.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&c.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[c.jsx("span",{children:"Filter Columns"}),c.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),c.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>c.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,c.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},jae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:u,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:g,setActiveApmSkillId:b,ALL_SKILLS_KEY:x,apmSkillSearch:w,setApmSkillSearch:y,activeApmSpecTable:N,activeApmSkill:C,isAllApmSkills:S,apmView:j,setApmView:M,formatApmValue:$,formatCastRateValue:T,formatCastCountValue:_,renderProfessionIcon:O})=>{var ne;const[G,J]=v.useState({key:"apm",dir:"desc"}),ue=e==="apm-stats",[ge,Y]=v.useState({columnId:"",dir:"desc"}),[q,K]=v.useState([]),[E,D]=v.useState([]),[ie,k]=v.useState({}),V=ue?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,W=se=>{J(F=>({key:se,dir:F.key===se&&F.dir==="desc"?"asc":"desc"}))},re=v.useMemo(()=>{const se=[...(N==null?void 0:N.playerRows)||[]];return se.sort((F,U)=>{const H=G.key==="apm"?Number(j==="perSecond"?F.aps:F.apm):Number(j==="perSecond"?F.apsNoAuto:F.apmNoAuto),ee=G.key==="apm"?Number(j==="perSecond"?U.aps:U.apm):Number(j==="perSecond"?U.apsNoAuto:U.apmNoAuto);return(G.dir==="desc"?ee-H:H-ee)||String(F.displayName||"").localeCompare(String(U.displayName||""))}),se},[N,G,j]);return c.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(pk,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),c.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:w,onChange:se=>y(se.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),c.jsx("div",{className:V,children:d.map(se=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const F=f!==se.profession;h(se.profession),p(F?se.profession:m===se.profession?null:se.profession),F&&(b(x),K([]),D([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===se.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(se.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:se.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[se.players.length,"p"]})})]})}),!ue&&m===se.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:ie[se.profession]||"",onChange:F=>{const U=F.target.value;k(H=>({...H,[se.profession]:U}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),c.jsx("button",{type:"button",onClick:()=>{h(se.profession),b(x)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===se.profession&&S?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(se.skills||[]).filter(F=>{const U=(ie[se.profession]||"").trim().toLowerCase();return U?String(F.name||"").toLowerCase().includes(U):!0}).map(F=>c.jsx("button",{type:"button",onClick:()=>{h(se.profession),b(F.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===se.profession&&g===F.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:F.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.icon?c.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate",children:F.name})]})},F.id)),(se.skills||[]).filter(F=>{const U=(ie[se.profession]||"").trim().toLowerCase();return U?String(F.name||"").toLowerCase().includes(U):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},se.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:N?c.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[ue&&(()=>{const se=N.skills||[],F=(N.playerRows||[]).map(R=>({id:R.key,label:R.displayName||R.account||R.key,icon:O(R.profession,R.professionList,"w-3 h-3")})),U=se.map(R=>({id:R.id,label:R.name,icon:R.icon?c.jsx("img",{src:R.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),H=[...se.map(R=>({id:R.id,label:R.name,type:"column",icon:R.icon?c.jsx("img",{src:R.icon,alt:"",className:"h-4 w-4"}):void 0})),...(N.playerRows||[]).map(R=>({id:R.key,label:R.displayName||R.account||R.key,type:"player",icon:O(R.profession,R.professionList,"w-3 h-3")}))],ee=new Set([...q.map(R=>`column:${R}`),...E.map(R=>`player:${R}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Ns,{options:H,selectedIds:ee,onSelect:R=>{R.type==="column"?K(ce=>ce.includes(R.id)?ce.filter(X=>X!==R.id):[...ce,R.id]):D(ce=>ce.includes(R.id)?ce.filter(X=>X!==R.id):[...ce,R.id])},className:"w-full sm:w-64"}),c.jsx(yr,{options:U,selectedIds:q,onToggle:R=>{K(ce=>ce.includes(R)?ce.filter(X=>X!==R):[...ce,R])},onClear:()=>K([]),buttonLabel:"Columns",buttonIcon:c.jsx(ws,{className:"h-3.5 w-3.5"})}),c.jsx(yr,{options:F,selectedIds:E,onToggle:R=>{D(ce=>ce.includes(R)?ce.filter(X=>X!==R):[...ce,R])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:c.jsx(Pr,{className:"h-3.5 w-3.5"})}),c.jsx(Tn,{value:j,onChange:M,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(q.length>0||E.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{K([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),q.map(R=>{var X;const ce=((X=se.find(ae=>ae.id===R))==null?void 0:X.name)||R;return c.jsxs("button",{type:"button",onClick:()=>K(ae=>ae.filter(ze=>ze!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ce}),c.jsx("span",{className:"text-gray-400",children:""})]},R)}),E.map(R=>{var X;const ce=((X=F.find(ae=>ae.id===R))==null?void 0:X.label)||R;return c.jsxs("button",{type:"button",onClick:()=>D(ae=>ae.filter(ze=>ze!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ce}),c.jsx("span",{className:"text-gray-400",children:""})]},R)})]})]})})(),ue?(()=>{var R,ce;const se=N.skills||[],F=q.length>0?se.filter(X=>q.includes(X.id)):se,U=E.length>0?(N.playerRows||[]).filter(X=>E.includes(X.key)):N.playerRows||[];if(se.length===0)return c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const H=((R=F.find(X=>X.id===ge.columnId))==null?void 0:R.id)||((ce=F[0])==null?void 0:ce.id)||"",ee=[...U].map(X=>{const ae={},ze={};return F.forEach(Ve=>{var Pe;const he=Number(((Pe=Ve.playerCounts)==null?void 0:Pe.get(X.key))||0),L=j==="perSecond"?he/Math.max(1,X.totalActiveSeconds||0):he;ze[Ve.id]=L,ae[Ve.id]=j==="perSecond"?T(L):_(L)}),{row:X,values:ae,numericValues:ze}}).sort((X,ae)=>{const ze=X.numericValues[H]??0,Ve=ae.numericValues[H]??0;return(ge.dir==="desc"?Ve-ze:ze-Ve)||String(X.row.displayName||"").localeCompare(String(ae.row.displayName||""))});return c.jsx(Ss,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:H,sortDirection:ge.dir,onSortColumn:X=>{Y(ae=>({columnId:X,dir:ae.columnId===X&&ae.dir==="desc"?"asc":"desc"}))},columns:F.map(X=>({id:X.id,label:c.jsx(br,{name:X.name,iconUrl:X.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ee.map((X,ae)=>({id:`${N.profession}-${X.row.key}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:ae+1}),O(X.row.profession,X.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:X.row.displayName})]}),values:X.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(N.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:N.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),S||!C?c.jsx("span",{className:"truncate",children:"All Skills"}):c.jsx(br,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),c.jsx("div",{className:"text-[11px] text-gray-500",children:S||!C?`${((ne=N.playerRows)==null?void 0:ne.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),S||!C?c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>W("apm"),className:`text-right transition-colors ${G.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[j==="perSecond"?"APS":"APM",G.key==="apm"?G.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>W("apmNoAuto"),className:`text-right transition-colors ${G.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[j==="perSecond"?"APS":"APM"," (No Auto)",G.key==="apmNoAuto"?G.dir==="desc"?" ":" ":""]})]}):c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsx("div",{className:"text-right",children:"Casts"}),c.jsx("div",{className:"text-right",children:j==="perSecond"?"APS":"APM"})]})]}),S||!C?c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:re.map((se,F)=>c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${F+1}`}),O(se.profession,se.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:se.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:$(j==="perSecond"?se.aps:se.apm)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:$(j==="perSecond"?se.apsNoAuto:se.apmNoAuto)})]},`${N.profession}-all-${se.key}`))})}):c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?c.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((se,F)=>c.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${F+1}`}),O(se.profession,se.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:se.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:_(Number(se.count||0))}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:$(Number(j==="perSecond"?se.aps||0:se.apm||0))})]},`${N.profession}-${C.id}-${se.key}`))})})]})]}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:u?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},Aae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:u,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:g,activePlayerSkillId:b,setActivePlayerSkillId:x,activeClassKey:w,setActiveClassKey:y,expandedClassKey:N,setExpandedClassKey:C,activeClassSkillId:S,setActiveClassSkillId:j,skillSearch:M,setSkillSearch:$,activePlayerBreakdown:T,activePlayerSkill:_,activeClassBreakdown:O,activeClassSkill:G,renderProfessionIcon:J})=>{const ue=d.length,ge=((T==null?void 0:T.skills)||[]).reduce((X,ae)=>X+(ae.damage||0),0),Y=(O==null?void 0:O.players)||[],[q,K]=v.useState({key:"down",dir:"desc"}),E=e==="player-breakdown",[D,ie]=v.useState([]),[k,V]=v.useState([]),[W,re]=v.useState({columnId:"",dir:"desc"}),[ne,se]=v.useState({}),[F,U]=v.useState({}),H=(X,ae)=>{var Ve;if(!ae)return null;const ze=(Ve=X.skillMap)==null?void 0:Ve[ae];return ze||X.skills.find(he=>he.id===ae)||null},ee=E?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,R=v.useMemo(()=>{if(!O||!G)return Y;const X=[...Y];return X.sort((ae,ze)=>{const Ve=H(ae,G.id),he=H(ze,G.id),L=Number((Ve==null?void 0:Ve.downContribution)||0),Pe=Number((he==null?void 0:he.downContribution)||0),Ee=Number((Ve==null?void 0:Ve.damage)||0),xt=Number((he==null?void 0:he.damage)||0),zt=ae.totalFightMs>0?Ee/(ae.totalFightMs/1e3):0,pn=ze.totalFightMs>0?xt/(ze.totalFightMs/1e3):0;let ke=0;return q.key==="down"&&(ke=L-Pe),q.key==="damage"&&(ke=Ee-xt),q.key==="dps"&&(ke=zt-pn),q.dir==="asc"?ke:-ke}),X},[O,Y,G,q]),ce=X=>{K(ae=>ae.key!==X?{key:X,dir:"desc"}:{key:X,dir:ae.dir==="desc"?"asc":"desc"})};return c.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(fk,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[ue," ",ue===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:E?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!E&&c.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(X=>{const ae=l===X.id;return c.jsx("button",{type:"button",onClick:()=>u(X.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${ae?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:X.label},X.id)})})]}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:M,onChange:X=>$(X.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:ee,children:(E?"class":l)==="player"?d.map(X=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const ae=h!==X.key;ae&&(x(null),ie([]),V([])),m(X.key),g(ae?X.key:p===X.key?null:X.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===X.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:X.displayName,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(X.profession,X.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate min-w-0",children:X.displayName})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:c.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[X.skills.length," skills"]})})]})}),!E&&p===X.key&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:ne[X.key]||"",onChange:ae=>{const ze=ae.target.value;se(Ve=>({...Ve,[X.key]:ze}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),X.skills.filter(ae=>{const ze=(ne[X.key]||"").trim().toLowerCase();return ze?String(ae.name||"").toLowerCase().includes(ze):!0}).map(ae=>c.jsx("button",{type:"button",onClick:()=>{m(X.key),x(ae.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===X.key&&b===ae.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:ae.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:ae.name})]})},ae.id)),X.skills.filter(ae=>{const ze=(ne[X.key]||"").trim().toLowerCase();return ze?String(ae.name||"").toLowerCase().includes(ze):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},X.key)):f.map(X=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const ae=w!==X.profession;ae&&(j(null),ie([]),V([])),y(X.profession),C(ae?X.profession:N===X.profession?null:X.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${w===X.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(X.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:X.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[X.players.length,"p"]})})]})}),!E&&N===X.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:F[X.profession]||"",onChange:ae=>{const ze=ae.target.value;U(Ve=>({...Ve,[X.profession]:ze}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),X.skills.filter(ae=>{const ze=(F[X.profession]||"").trim().toLowerCase();return ze?String(ae.name||"").toLowerCase().includes(ze):!0}).map(ae=>c.jsx("button",{type:"button",onClick:()=>{y(X.profession),j(ae.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${w===X.profession&&S===ae.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:ae.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:ae.name})]})},ae.id)),X.skills.filter(ae=>{const ze=(F[X.profession]||"").trim().toLowerCase();return ze?String(ae.name||"").toLowerCase().includes(ze):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},X.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(E?"class":l)==="player"?!T||!E&&!_?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[E&&(()=>{const X=T.skills||[],ae=d.map(L=>({id:L.key,label:L.displayName||L.key,icon:J(L.profession,L.professionList,"w-3 h-3")})),ze=X.map(L=>({id:L.id,label:L.name,icon:L.icon?c.jsx("img",{src:L.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ve=[...X.map(L=>({id:L.id,label:L.name,type:"column",icon:L.icon?c.jsx("img",{src:L.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(L=>({id:L.key,label:L.displayName||L.key,type:"player",icon:J(L.profession,L.professionList,"w-3 h-3")}))],he=new Set([...D.map(L=>`column:${L}`),...k.map(L=>`player:${L}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Ns,{options:Ve,selectedIds:he,onSelect:L=>{L.type==="column"?ie(Pe=>Pe.includes(L.id)?Pe.filter(Ee=>Ee!==L.id):[...Pe,L.id]):V(Pe=>Pe.includes(L.id)?Pe.filter(Ee=>Ee!==L.id):[...Pe,L.id])},className:"w-full sm:w-64"}),c.jsx(yr,{options:ze,selectedIds:D,onToggle:L=>{ie(Pe=>Pe.includes(L)?Pe.filter(Ee=>Ee!==L):[...Pe,L])},onClear:()=>ie([]),buttonLabel:"Columns",buttonIcon:c.jsx(ws,{className:"h-3.5 w-3.5"})}),c.jsx(yr,{options:ae,selectedIds:k,onToggle:L=>{V(Pe=>Pe.includes(L)?Pe.filter(Ee=>Ee!==L):[...Pe,L])},onClear:()=>V([]),buttonLabel:"Players",buttonIcon:c.jsx(Pr,{className:"h-3.5 w-3.5"})})]}),(D.length>0||k.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{ie([]),V([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(L=>{var Ee;const Pe=((Ee=X.find(xt=>xt.id===L))==null?void 0:Ee.name)||L;return c.jsxs("button",{type:"button",onClick:()=>ie(xt=>xt.filter(zt=>zt!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Pe}),c.jsx("span",{className:"text-gray-400",children:""})]},L)}),k.map(L=>{var Ee;const Pe=((Ee=ae.find(xt=>xt.id===L))==null?void 0:Ee.label)||L;return c.jsxs("button",{type:"button",onClick:()=>V(xt=>xt.filter(zt=>zt!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Pe}),c.jsx("span",{className:"text-gray-400",children:""})]},L)})]})]})})(),E?(()=>{var L,Pe;const X=T.skills||[],ae=D.length>0?X.filter(Ee=>D.includes(Ee.id)):X,ze=k.length>0?d.filter(Ee=>k.includes(Ee.key)):d,Ve=((L=ae.find(Ee=>Ee.id===W.columnId))==null?void 0:L.id)||((Pe=ae[0])==null?void 0:Pe.id)||"",he=ze.map(Ee=>{const xt={},zt={};return ae.forEach(pn=>{const ke=H(Ee,pn.id),Qe=Number((ke==null?void 0:ke.damage)||0);zt[pn.id]=Qe,xt[pn.id]=ml(Qe)}),{player:Ee,values:xt,numericValues:zt}}).sort((Ee,xt)=>{const zt=Ee.numericValues[Ve]??0,pn=xt.numericValues[Ve]??0;return(W.dir==="desc"?pn-zt:zt-pn)||String(Ee.player.displayName||"").localeCompare(String(xt.player.displayName||""))});return c.jsx(Ss,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ve,sortDirection:W.dir,onSortColumn:Ee=>{re(xt=>({columnId:Ee,dir:xt.columnId===Ee&&xt.dir==="desc"?"asc":"desc"}))},columns:ae.map(Ee=>({id:Ee.id,label:c.jsx(br,{name:Ee.name,iconUrl:Ee.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:he.map((Ee,xt)=>({id:`${Ee.player.key}-${xt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:xt+1}),J(Ee.player.profession,Ee.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Ee.player.displayName})]}),values:Ee.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[J(T.profession,T.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.displayName}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(br,{name:(_==null?void 0:_.name)||"",iconUrl:_==null?void 0:_.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[T.skills.length," skills | ",ml(ge)," total damage"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Metric"}),c.jsx("div",{className:"text-right",children:"Value"})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:ml((_==null?void 0:_.downContribution)||0)},{label:"Total Damage",value:ml((_==null?void 0:_.damage)||0)},{label:"DPS",value:yi(T.totalFightMs>0?((_==null?void 0:_.damage)||0)/(T.totalFightMs/1e3):0,1)}].map(X=>c.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"font-semibold text-white",children:X.label}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:X.value})]},X.label))})]})]}):!O||!E&&!G?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[E&&(()=>{const X=O.skills||[],ae=Y.map(L=>({id:L.key,label:L.displayName||L.key,icon:J(L.profession,L.professionList,"w-3 h-3")})),ze=X.map(L=>({id:L.id,label:L.name,icon:L.icon?c.jsx("img",{src:L.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ve=[...X.map(L=>({id:L.id,label:L.name,type:"column",icon:L.icon?c.jsx("img",{src:L.icon,alt:"",className:"h-4 w-4"}):void 0})),...Y.map(L=>({id:L.key,label:L.displayName||L.key,type:"player",icon:J(L.profession,L.professionList,"w-3 h-3")}))],he=new Set([...D.map(L=>`column:${L}`),...k.map(L=>`player:${L}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Ns,{options:Ve,selectedIds:he,onSelect:L=>{L.type==="column"?ie(Pe=>Pe.includes(L.id)?Pe.filter(Ee=>Ee!==L.id):[...Pe,L.id]):V(Pe=>Pe.includes(L.id)?Pe.filter(Ee=>Ee!==L.id):[...Pe,L.id])},className:"w-full sm:w-64"}),c.jsx(yr,{options:ze,selectedIds:D,onToggle:L=>{ie(Pe=>Pe.includes(L)?Pe.filter(Ee=>Ee!==L):[...Pe,L])},onClear:()=>ie([]),buttonLabel:"Columns",buttonIcon:c.jsx(ws,{className:"h-3.5 w-3.5"})}),c.jsx(yr,{options:ae,selectedIds:k,onToggle:L=>{V(Pe=>Pe.includes(L)?Pe.filter(Ee=>Ee!==L):[...Pe,L])},onClear:()=>V([]),buttonLabel:"Players",buttonIcon:c.jsx(Pr,{className:"h-3.5 w-3.5"})})]}),(D.length>0||k.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{ie([]),V([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(L=>{var Ee;const Pe=((Ee=X.find(xt=>xt.id===L))==null?void 0:Ee.name)||L;return c.jsxs("button",{type:"button",onClick:()=>ie(xt=>xt.filter(zt=>zt!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Pe}),c.jsx("span",{className:"text-gray-400",children:""})]},L)}),k.map(L=>{var Ee;const Pe=((Ee=ae.find(xt=>xt.id===L))==null?void 0:Ee.label)||L;return c.jsxs("button",{type:"button",onClick:()=>V(xt=>xt.filter(zt=>zt!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Pe}),c.jsx("span",{className:"text-gray-400",children:""})]},L)})]})]})})(),E?(()=>{var L,Pe;const X=O.skills||[],ae=D.length>0?X.filter(Ee=>D.includes(Ee.id)):X,ze=k.length>0?Y.filter(Ee=>k.includes(Ee.key)):Y,Ve=((L=ae.find(Ee=>Ee.id===W.columnId))==null?void 0:L.id)||((Pe=ae[0])==null?void 0:Pe.id)||"",he=ze.map(Ee=>{const xt={},zt={};return ae.forEach(pn=>{const ke=H(Ee,pn.id),Qe=Number((ke==null?void 0:ke.damage)||0);zt[pn.id]=Qe,xt[pn.id]=ml(Qe)}),{player:Ee,values:xt,numericValues:zt}}).sort((Ee,xt)=>{const zt=Ee.numericValues[Ve]??0,pn=xt.numericValues[Ve]??0;return(W.dir==="desc"?pn-zt:zt-pn)||String(Ee.player.displayName||"").localeCompare(String(xt.player.displayName||""))});return c.jsx(Ss,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ve,sortDirection:W.dir,onSortColumn:Ee=>{re(xt=>({columnId:Ee,dir:xt.columnId===Ee&&xt.dir==="desc"?"asc":"desc"}))},columns:ae.map(Ee=>({id:Ee.id,label:c.jsx(br,{name:Ee.name,iconUrl:Ee.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:he.map((Ee,xt)=>({id:`${Ee.player.key}-${xt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:xt+1}),J(Ee.player.profession,Ee.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Ee.player.displayName})]}),values:Ee.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[J(O.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(br,{name:(G==null?void 0:G.name)||"",iconUrl:G==null?void 0:G.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[Y.length," players | ",O.skills.length," skills"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>ce("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${q.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",c.jsx("span",{className:"text-[10px]",children:q.key==="down"?q.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ce("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${q.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",c.jsx("span",{className:"text-[10px]",children:q.key==="damage"?q.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ce("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${q.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",c.jsx("span",{className:"text-[10px]",children:q.key==="dps"?q.dir==="desc"?"":"":""})]})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:R.map(X=>{const ae=H(X,(G==null?void 0:G.id)||""),ze=Number((ae==null?void 0:ae.downContribution)||0),Ve=Number((ae==null?void 0:ae.damage)||0),he=X.totalFightMs>0?Ve/(X.totalFightMs/1e3):0;return c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(X.profession,X.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:X.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:ml(ze)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:ml(Ve)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:yi(he,1)})]},`${O.profession}-${X.key}`)})})]})]})})]})})]})},Pae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,playerSkillBreakdowns:o,renderProfessionIcon:l})=>{const u="damage-breakdown",d=e===u,[f,h]=v.useState("damage"),[m,p]=v.useState(""),[g,b]=v.useState(null),x=j=>Number(f==="damage"?j.damage||0:j.downContribution||0),w=j=>(j.skills||[]).reduce((M,$)=>M+x($),0),y=v.useMemo(()=>{const j=m.trim().toLowerCase();return[...j?o.filter($=>String($.displayName||"").toLowerCase().includes(j)||String($.account||"").toLowerCase().includes(j)||String($.profession||"").toLowerCase().includes(j)):o].sort(($,T)=>{const _=w(T)-w($);return _!==0?_:String($.displayName||"").localeCompare(String(T.displayName||""))})},[o,m,f]),N=v.useMemo(()=>g&&y.find(j=>j.key===g)||null,[y,g]),C=v.useMemo(()=>N?[...N.skills||[]].filter(j=>x(j)>0).sort((j,M)=>x(M)-x(j)).map(j=>({...j,value:x(j)})):[],[N,f]),S=v.useMemo(()=>N?w(N):0,[N,f]);return v.useEffect(()=>{if(y.length===0){g!==null&&b(null);return}g&&!y.some(j=>j.key===g)&&b(null)},[y,g]),c.jsxs("div",{id:u,"data-section-visible":i(u),"data-section-first":a(u),className:s(u,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${d?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:d?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ck,{className:"w-5 h-5 text-sky-300"}),"Damage Breakdown"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select one player to view total skill contribution for the selected metric."})]}),c.jsxs("div",{className:`flex items-center gap-3 ${d?"pr-10 md:pr-0":""}`,children:[c.jsx(Tn,{value:f,onChange:j=>h(j),options:[{value:"damage",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>d?r():n(u),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${d?"absolute top-2 right-2 md:static":""}`,"aria-label":d?"Close Damage Breakdown":"Expand Damage Breakdown",title:d?"Close":"Expand",children:d?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]})]}),o.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:"grid gap-4 lg:grid-cols-[280px_1fr] items-stretch",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 h-[360px]",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3",children:"Squad Players"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"search",value:m,onChange:j=>p(j.target.value),placeholder:"Search player or account",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:"space-y-1 pr-1 flex-1 min-h-0 overflow-y-auto",children:y.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):y.map(j=>{const M=g===j.key;return c.jsx("button",{type:"button",onClick:()=>b(j.key),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${M?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(j.profession,j.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"truncate min-w-0",children:j.displayName})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[(j.skills||[]).length," ",(j.skills||[]).length===1?"skill":"skills"]})]}),c.jsx("div",{className:"text-xs font-mono text-sky-200 shrink-0",children:yi(w(j),0)})]})},j.key)})})]}),c.jsx("div",{className:"space-y-2 flex flex-col h-[360px]",children:c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table flex-1 min-h-0 flex flex-col",children:N?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-[0.25em] text-gray-400 shrink-0",children:"Skill Totals /"}),l(N.profession,N.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate font-semibold",children:N.displayName})]})}),c.jsxs("div",{className:"text-xs text-gray-400 uppercase tracking-[0.18em]",children:[f==="damage"?"Damage":"Down Contrib"," / ",C.length," ",C.length===1?"skill":"skills"]})]}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[2fr_0.8fr_0.7fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:f==="damage"?"Damage":"Down Contrib"}),c.jsx("div",{className:"text-right",children:"% Total"})]})]}),c.jsx("div",{className:"stats-table-shell__rows flex-1 min-h-0 overflow-y-auto",children:C.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No skill totals for this player and metric."}):C.map((j,M)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.7fr] gap-2 px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"min-w-0",children:c.jsx(br,{name:j.name,iconUrl:j.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:yi(Number(j.value||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:S>0?`${yi(Number(j.value||0)/S*100,1)}%`:"0.0%"})]},`${j.id}-${M}`))})]}):c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view skill totals."})})})]})]})},Dae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,boonSearch:o,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,timelineScope:h,setTimelineScope:m,playerFilter:p,setPlayerFilter:g,players:b,selectedPlayerKey:x,setSelectedPlayerKey:w,selectedPlayer:y,chartData:N,chartMaxY:C,selectedFightIndex:S,setSelectedFightIndex:j,drilldownTitle:M,drilldownData:$,formatWithCommas:T,renderProfessionIcon:_})=>{const O="boon-timeline",G=e===O,J=y!=null&&y.profession&&y.profession!=="All"?_l(y.profession):"#22d3ee",ue=h==="selfBuffs"?"Self":h==="groupBuffs"?"Group":h==="squadBuffs"?"Squad":"All",ge=K=>String(K||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),Y=N.reduce((K,E)=>!K||E.total>K.total?E:K,null),q=K=>{if(!Number.isFinite(K)||K<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(K))}catch{return""}};return c.jsxs("div",{id:O,"data-section-visible":i(O),"data-section-first":a(O),className:s(O,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${G?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:G?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(So,{className:"w-5 h-5 text-cyan-300"}),"Boon Timeline"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player (or All) to chart generation totals by fight and 5-second buckets."})]}),c.jsx("button",{type:"button",onClick:()=>G?r():n(O),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${G?"absolute top-2 right-2 md:static":""}`,"aria-label":G?"Close Boon Timeline":"Expand Boon Timeline",title:G?"Close":"Expand",children:G?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:o,onChange:K=>l(K.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2",children:c.jsx(Tn,{value:h,onChange:K=>m(K),options:[{value:"selfBuffs",label:"Self"},{value:"squadBuffs",label:"Squad"},{value:"groupBuffs",label:"Group"},{value:"totalBuffs",label:"All"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(K=>{const E=d===K.id;return c.jsxs("button",{type:"button",onClick:()=>f(K.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${E?"border-cyan-300/60 bg-cyan-500/15 text-cyan-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[K.icon?c.jsx("img",{src:K.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(So,{className:"h-3.5 w-3.5 text-cyan-300"}),c.jsx("span",{children:K.name})]},K.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Boon Sources"}),c.jsx("input",{type:"search",value:p,onChange:K=>g(K.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:b.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player generation."}):c.jsx("div",{className:"p-1.5 space-y-1",children:b.map(K=>{const E=x===K.key;return c.jsx("button",{type:"button",onClick:()=>w(K.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${E?"border-cyan-300/60 bg-cyan-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[K.key==="__all__"?c.jsx(So,{className:"w-3.5 h-3.5 text-cyan-300"}):_(K.profession,K.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:K.displayName}),K.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:K.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[K.logs," ",K.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-cyan-200 shrink-0",children:T((K.total||0)/1e3,0)})]})},K.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",ue," Generation"]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[N.length," ",N.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!y||N.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon generation by fight."}):c.jsx(Fo,{width:"100%",height:"100%",children:c.jsxs(Nd,{data:N,onClick:K=>{const E=Number(K==null?void 0:K.activeTooltipIndex);Number.isFinite(E)&&j(S===E?null:E)},children:[c.jsx(Qc,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Zc,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Jc,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,C)],tickFormatter:K=>T(K/1e3,0)}),c.jsx(Vo,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(K,E)=>[T(Number(K||0)/1e3,0),String(E||"")],labelFormatter:(K,E)=>{var ie;const D=(ie=E==null?void 0:E[0])==null?void 0:ie.payload;return ge(String((D==null?void 0:D.fullLabel)||""))}}),c.jsx(Xa,{type:"monotone",dataKey:"total",name:y.displayName,stroke:J,strokeWidth:3,dot:K=>{var ie;const E=Number((ie=K==null?void 0:K.payload)==null?void 0:ie.index);if(!Number.isFinite(E))return null;const D=S===E;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:k=>{k.stopPropagation(),j(D?null:E)},children:[c.jsx("circle",{cx:K.cx,cy:K.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:K.cx,cy:K.cy,r:D?4:3,fill:J,stroke:D?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:D?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(Xa,{type:"monotone",dataKey:"maxTotal",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),y&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Source"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[y.key==="__all__"?c.jsx(So,{className:"w-4 h-4 text-cyan-300"}):_(y.profession,y.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:y.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight Generation"}),c.jsx("div",{className:"mt-1 text-lg font-black text-cyan-200 font-mono",children:T(Number((Y==null?void 0:Y.total)||0)/1e3,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const K=ge((Y==null?void 0:Y.fullLabel)||"N/A"),E=q(Number((Y==null?void 0:Y.timestamp)||0));return E?`${E} - ${K}`:K})()})]})]}),y&&S!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:M}),c.jsx("button",{type:"button",onClick:()=>j(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:$.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Fo,{width:"100%",height:"100%",children:c.jsxs(Nd,{data:$,children:[c.jsx(Qc,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Zc,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Jc,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:K=>T(K/1e3,0)}),c.jsx(Vo,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:K=>[T(Number(K||0)/1e3,0),"Generation"],labelFormatter:K=>String(K||"")}),c.jsx(Xa,{type:"monotone",dataKey:"value",name:"Generation",stroke:J,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}})]})})})]})]})},l$=({className:e})=>c.jsx(FU,{className:e,style:{transform:"rotate(45deg)"}}),Zo=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>c.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[c.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),c.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),Cs=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"stats-table-shell__header",children:e}),c.jsx("div",{className:"stats-table-shell__columns",children:t})]}),c.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),Tae=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:x,sidebarListClass:w})=>{var E;const[y,N]=v.useState({key:"value",dir:"desc"}),[C,S]=v.useState({columnId:((E=t[0])==null?void 0:E.id)||"value",dir:"desc"}),j=f==="offense-detailed",[M,$]=v.useState([]),[T,_]=v.useState([]),O=t.filter(D=>D.label.toLowerCase().includes(r.trim().toLowerCase())),G=t.map(D=>({id:D.id,label:D.label})),J=G.filter(D=>D.label.toLowerCase().includes(r.trim().toLowerCase())),ge=M.length>0?t.filter(D=>M.includes(D.id)):t,Y=Array.from(new Map(e.offensePlayers.map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,icon:d(D.profession,D.professionList,"w-3 h-3")})),q=new Set([...M.map(D=>`column:${D}`),...T.map(D=>`player:${D}`)]),K=D=>{N(ie=>({key:D,dir:ie.key===D&&ie.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"offense-detailed","data-section-visible":g("offense-detailed"),"data-section-first":b("offense-detailed"),className:x("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(l$,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):j?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Ns,{options:[...G.map(D=>({...D,type:"column"})),...Y.map(D=>({...D,type:"player"}))],onSelect:D=>{D.type==="column"?$(ie=>ie.includes(D.id)?ie.filter(k=>k!==D.id):[...ie,D.id]):_(ie=>ie.includes(D.id)?ie.filter(k=>k!==D.id):[...ie,D.id])},selectedIds:q,className:"w-full sm:w-64"}),c.jsx(yr,{options:J,selectedIds:M,onToggle:D=>{$(ie=>ie.includes(D)?ie.filter(k=>k!==D):[...ie,D])},onClear:()=>$([]),buttonIcon:c.jsx(ws,{className:"h-3.5 w-3.5"})}),c.jsx(yr,{options:Y,selectedIds:T,onToggle:D=>{_(ie=>ie.includes(D)?ie.filter(k=>k!==D):[...ie,D])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:c.jsx(Pr,{className:"h-3.5 w-3.5"})}),c.jsx(Tn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||T.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{$([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(D=>{var k;const ie=((k=G.find(V=>V.id===D))==null?void 0:k.label)||D;return c.jsxs("button",{type:"button",onClick:()=>$(V=>V.filter(W=>W!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ie}),c.jsx("span",{className:"text-gray-400",children:""})]},D)}),T.map(D=>c.jsxs("button",{type:"button",onClick:()=>_(ie=>ie.filter(k=>k!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:D}),c.jsx("span",{className:"text-gray-400",children:""})]},D))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var re,ne;const D=se=>Math.max(1,(se.totalFightMs||0)/1e3),ie=(se,F,U)=>{var H,ee,R,ce,X;if(F==="downContributionPercent"){const ae=((H=se.offenseTotals)==null?void 0:H.downContribution)||0,ze=((ee=se.offenseTotals)==null?void 0:ee.damage)||0;return ze>0?ae/ze*100:0}if(U.isRate){const ae=((R=se.offenseRateWeights)==null?void 0:R[F])||0,ze=((ce=se.offenseTotals)==null?void 0:ce[F])||0;return ae>0?ze/ae*100:0}return((X=se.offenseTotals)==null?void 0:X[F])||0},k=(se,F)=>{const U=n&&!F.isPercent&&o==="total"?0:2,H=u(se,U);return F.isPercent?`${H}%`:H},V=((re=ge.find(se=>se.id===C.columnId))==null?void 0:re.id)||((ne=ge[0])==null?void 0:ne.id)||"",W=[...e.offensePlayers].filter(se=>T.length===0||T.includes(se.account)).map(se=>{const F={},U={};return ge.forEach(H=>{const ee=ie(se,H.id,H),R=o==="total"||H.isPercent||H.isRate?ee:o==="per1s"?ee/D(se):ee*60/D(se);U[H.id]=R,F[H.id]=k(R,H)}),{row:se,values:F,numericValues:U}}).sort((se,F)=>{const U=se.numericValues[V]??0,H=F.numericValues[V]??0;return(C.dir==="desc"?H-U:U-H)||String(se.row.account||"").localeCompare(String(F.row.account||""))});return c.jsx(Ss,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:V,sortDirection:C.dir,onSortColumn:se=>{S(F=>({columnId:se,dir:F.columnId===se&&F.dir==="desc"?"asc":"desc"}))},columns:ge.map(se=>({id:se.id,label:se.label,align:"right",minWidth:90})),rows:W.map((se,F)=>({id:`${se.row.account}-${F}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:F+1}),d(se.row.profession,se.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:se.row.account})]}),values:se.values}))})})()})]}):c.jsx(Zo,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsx("input",{value:r,onChange:D=>i(D.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${w} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:O.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):O.map(D=>c.jsx("button",{onClick:()=>s(D.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===D.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:D.label},D.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const D=t.find(re=>re.id===a)||t[0],ie=re=>Math.max(1,(re.totalFightMs||0)/1e3),k=re=>{var ne,se,F,U,H;if(D.id==="downContributionPercent"){const ee=((ne=re.offenseTotals)==null?void 0:ne.downContribution)||0,R=((se=re.offenseTotals)==null?void 0:se.damage)||0;return R>0?ee/R*100:0}if(D.isRate){const ee=((F=re.offenseRateWeights)==null?void 0:F[D.id])||0,R=((U=re.offenseTotals)==null?void 0:U[D.id])||0;return ee>0?R/ee*100:0}return((H=re.offenseTotals)==null?void 0:H[D.id])||0},V=re=>{const ne=n&&!D.isPercent&&o==="total"?0:2,se=u(re,ne);return D.isPercent?`${se}%`:se},W=[...e.offensePlayers].map(re=>({...re,total:k(re),per1s:D.isPercent||D.isRate?k(re):k(re)/ie(re),per60s:D.isPercent||D.isRate?k(re):k(re)*60/ie(re)})).sort((re,ne)=>{const se=y.key==="fightTime"?Number(re.totalFightMs||0):Number(o==="total"?re.total:o==="per1s"?re.per1s:re.per60s),F=y.key==="fightTime"?Number(ne.totalFightMs||0):Number(o==="total"?ne.total:o==="per1s"?ne.per1s:ne.per60s);return(y.dir==="desc"?F-se:se-F)||re.account.localeCompare(ne.account)});return c.jsx(Cs,{expanded:f==="offense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:D.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:c.jsx(Tn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>K("value"),className:`text-right transition-colors ${y.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",y.key==="value"?y.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>K("fightTime"),className:`text-right transition-colors ${y.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",y.key==="fightTime"?y.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:W.map((re,ne)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:ne+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(re.profession,re.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:re.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const se=o==="total"?re.total:o==="per1s"?re.per1s:re.per60s;return V(se)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:re.totalFightMs?`${(re.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${D.id}-${re.account}-${ne}`))})})})()})})]})},Eae=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:u,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:b,isSectionVisible:x,isFirstVisibleSection:w,sectionClass:y,sidebarListClass:N})=>{var E;const C=m==="conditions-outgoing",[S,j]=v.useState([]),[M,$]=v.useState([]),[T,_]=v.useState({columnId:"all",dir:"desc"}),O=D=>{if(!D)return 0;if(s!=="outgoing"){const W=Number(D.applicationsFromUptime);return Number.isFinite(W)&&W>0?W:Number(D.applications||0)}const ie=Number(D.applicationsFromUptime);if(Number.isFinite(ie)&&ie>0)return ie;const k=Number(D.applicationsFromBuffsActive);if(Number.isFinite(k)&&k>0)return k;const V=Number(D.applicationsFromBuffs);return Number.isFinite(V)&&V>0?V:Number(D.applications||0)},G=[...e||[]].sort((D,ie)=>(ie.damage||0)-(D.damage||0)),J=G.filter(D=>D.name.toLowerCase().includes(n.trim().toLowerCase())),ue=J.map(D=>({id:D.name,label:D.name,icon:D.icon?c.jsx("img",{src:D.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Y=S.length>0?G.filter(D=>S.includes(D.name)):G,q=Array.from(new Map((t||[]).map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,icon:h(D.profession,D.professionList,"w-3 h-3")})),K=new Set([...S.map(D=>`column:${D}`),...M.map(D=>`player:${D}`)]);return c.jsxs("div",{id:"conditions-outgoing","data-section-visible":x("conditions-outgoing"),"data-section-first":w("conditions-outgoing"),className:y("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Y0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),c.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?b():g("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]}),e&&e.length>0?C?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Ns,{options:[...G.map(D=>({id:D.name,label:D.name,type:"column"})),...q.map(D=>({...D,type:"player"}))],onSelect:D=>{D.type==="column"?j(ie=>ie.includes(D.id)?ie.filter(k=>k!==D.id):[...ie,D.id]):$(ie=>ie.includes(D.id)?ie.filter(k=>k!==D.id):[...ie,D.id])},selectedIds:K,className:"w-full sm:w-64"}),c.jsx(yr,{options:ue,selectedIds:S,onToggle:D=>{j(ie=>ie.includes(D)?ie.filter(k=>k!==D):[...ie,D])},onClear:()=>j([]),buttonIcon:c.jsx(ws,{className:"h-3.5 w-3.5"})}),c.jsx(yr,{options:q,selectedIds:M,onToggle:D=>{$(ie=>ie.includes(D)?ie.filter(k=>k!==D):[...ie,D])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:c.jsx(Pr,{className:"h-3.5 w-3.5"})}),c.jsx(Tn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&c.jsx(Tn,{value:u.key,onChange:D=>d({key:D,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:J.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const D=u.key,ie=[{id:"all",label:"All Conditions",icon:null},...Y],k=(t||[]).filter(re=>M.length===0||M.includes(re.account)).map(re=>{const ne=re.conditions||{},se={},F={};return ie.forEach(U=>{if(U.id==="all"||U.name==="All Conditions"){const R=Object.values(ne).reduce((X,ae)=>{const ze=O(ae);return X.applications+=Number(ze||0),X.damage+=Number((ae==null?void 0:ae.damage)||0),X},{applications:0,damage:0}),ce=D==="applications"?R.applications:R.damage;F.all=ce||0,se.all=Math.round(ce||0).toLocaleString();return}const H=ne[U.name],ee=D==="applications"?O(H):Number((H==null?void 0:H.damage)||0);F[U.name]=Number(ee||0),se[U.name]=Math.round(ee||0).toLocaleString()}),{player:re,values:se,numericValues:F}}).filter(re=>Object.values(re.values).some(ne=>ne!=="0")),V=["all",...Y.map(re=>re.name)].includes(T.columnId)?T.columnId:"all",W=[...k].sort((re,ne)=>{const se=re.numericValues[V]??0,F=ne.numericValues[V]??0;return(T.dir==="desc"?F-se:se-F)||String(re.player.account||"").localeCompare(String(ne.player.account||""))});return c.jsx(Ss,{title:"Conditions - Dense View",subtitle:D==="applications"?"Applications":"Damage",sortColumnId:V,sortDirection:T.dir,onSortColumn:re=>{_(ne=>({columnId:re,dir:ne.columnId===re&&ne.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...Y.map(re=>({id:re.name,label:c.jsx(br,{name:re.name,iconUrl:re.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:W.map((re,ne)=>({id:`${re.player.account}-${ne}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:ne+1}),h(re.player.profession,re.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:re.player.account})]}),values:re.values}))})})()}),(S.length>0||M.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{j([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),S.map(D=>c.jsxs("button",{type:"button",onClick:()=>j(ie=>ie.filter(k=>k!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:D}),c.jsx("span",{className:"text-gray-400",children:""})]},D)),M.map(D=>c.jsxs("button",{type:"button",onClick:()=>$(ie=>ie.filter(k=>k!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:D}),c.jsx("span",{className:"text-gray-400",children:""})]},D))]})]}):c.jsx(Zo,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsx("input",{value:n,onChange:D=>r(D.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${N} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:J.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),J.map(D=>c.jsx("button",{type:"button",onClick:()=>a(D.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===D.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(br,{name:D.name,iconUrl:D.icon,iconClassName:"h-5 w-5"})},D.name))]})})]}),content:c.jsx(Cs,{expanded:m==="conditions-outgoing",header:c.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":c.jsx(br,{name:i,iconUrl:(E=e.find(D=>D.name===i))==null?void 0:E.icon,iconClassName:"h-5 w-5"})}),c.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),c.jsx(Tn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:c.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:u.key==="applications"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",u.key==="applications"?u.dir==="desc"?"":"":""]}),f?c.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:u.key==="damage"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",u.key==="damage"?u.dir==="desc"?"":"":""]}):null]}),rows:c.jsx(c.Fragment,{children:(()=>{const ie=(t||[]).map(k=>{const V=k.conditions||{};if(i==="all"){const re=Object.values(V).reduce((ne,se)=>{const F=O(se);return ne.applications+=Number(F||0),ne.damage+=Number((se==null?void 0:se.damage)||0),ne},{applications:0,damage:0});return{...k,applications:re.applications,damage:re.damage}}const W=V[i];return{...k,applications:O(W),damage:Number((W==null?void 0:W.damage)||0)}}).filter(k=>k.applications>0||k.damage>0).sort((k,V)=>{const W=u.key==="applications"?k.applications||0:k.damage||0,re=u.key==="applications"?V.applications||0:V.damage||0,ne=u.dir==="desc"?re-W:W-re;if(ne!==0)return ne;const se=u.key==="applications"?(V.damage||0)-(k.damage||0):(V.applications||0)-(k.applications||0);return se!==0?se:String(k.account||"").localeCompare(String(V.account||""))});return ie.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):ie.map((k,V)=>{var R;const W=k.conditions||{};let re={};i==="all"?Object.values(W).forEach(ce=>{const X=(ce==null?void 0:ce.skills)||{};Object.values(X).forEach(ae=>{const ze=(ae==null?void 0:ae.name)||"Unknown",Ve=Number((ae==null?void 0:ae.hits)||0),he=Number((ae==null?void 0:ae.damage)||0);if((!Number.isFinite(Ve)||Ve<=0)&&(!Number.isFinite(he)||he<=0))return;const L=re[ze]||{name:ze,hits:0,damage:0,icon:ae==null?void 0:ae.icon};L.hits+=Number.isFinite(Ve)?Ve:0,L.damage+=Number.isFinite(he)?he:0,!L.icon&&(ae!=null&&ae.icon)&&(L.icon=ae.icon),re[ze]=L})}):re=((R=W[i])==null?void 0:R.skills)||{};const ne=Object.values(re).filter(ce=>Number.isFinite(ce.hits)&&ce.hits>0).sort((ce,X)=>X.hits-ce.hits||ce.name.localeCompare(X.name)),se=Object.values(re).filter(ce=>Number.isFinite(ce.damage)&&ce.damage>0).sort((ce,X)=>X.damage-ce.damage||ce.name.localeCompare(X.name)),F=i==="all"&&ne.length>0,U=i==="all"&&se.length>0,H=Math.round(k.applications||0).toLocaleString(),ee=Math.round(k.damage||0).toLocaleString();return c.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:F?c.jsx(OD,{value:H,label:"Condition Sources",items:ne.map(ce=>({name:ce.name,iconUrl:ce.icon,value:Math.round(ce.hits).toLocaleString()})),className:"justify-end"}):H}),f?c.jsx("div",{className:"text-right font-mono text-gray-300",children:U?c.jsx(OD,{value:ee,label:"Condition Damage Sources",items:se.map(ce=>({name:ce.name,iconUrl:ce.icon,value:Math.round(ce.damage).toLocaleString()})),className:"justify-end"}):ee}):null]},`${k.account}-${V}`)})})()})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},Mae=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:u,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:g,expandedSectionClosing:b,openExpandedSection:x,closeExpandedSection:w,isSectionVisible:y,isFirstVisibleSection:N,sectionClass:C,sidebarListClass:S})=>{const[j,M]=v.useState({key:"value",dir:"desc"}),[$,T]=v.useState({columnId:"",dir:"desc"}),_=g==="boon-output",[O,G]=v.useState([]),[J,ue]=v.useState([]),ge=e.boonTables||[],q=O.length>0?ge.filter(k=>O.includes(k.id)):ge,K=l.map(k=>({id:k.id,label:k.name,icon:k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),E=Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:m(k.profession,k.professionList,"w-3 h-3")})),D=new Set([...O.map(k=>`column:${k}`),...J.map(k=>`player:${k}`)]),ie=k=>{M(V=>({key:k,dir:V.key===k&&V.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"boon-output","data-section-visible":y("boon-output"),"data-section-first":N("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${g==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${b?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(So,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),c.jsx("button",{type:"button",onClick:()=>g==="boon-output"?w():x("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":g==="boon-output"?"Close Boon Output":"Expand Boon Output",title:g==="boon-output"?"Close":"Expand",children:g==="boon-output"?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]}),e.boonTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):_?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Ns,{options:[...ge.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:m(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?G(V=>V.includes(k.id)?V.filter(W=>W!==k.id):[...V,k.id]):ue(V=>V.includes(k.id)?V.filter(W=>W!==k.id):[...V,k.id])},selectedIds:D,className:"w-full sm:w-64"}),c.jsx(yr,{options:K,selectedIds:O,onToggle:k=>{G(V=>V.includes(k)?V.filter(W=>W!==k):[...V,k])},onClear:()=>G([]),buttonIcon:c.jsx(ws,{className:"h-3.5 w-3.5"})}),c.jsx(yr,{options:E,selectedIds:J,onToggle:k=>{ue(V=>V.includes(k)?V.filter(W=>W!==k):[...V,k])},onClear:()=>ue([]),buttonLabel:"Players",buttonIcon:c.jsx(Pr,{className:"h-3.5 w-3.5"})}),c.jsx(Tn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Tn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||J.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{G([]),ue([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(k=>{var W;const V=((W=ge.find(re=>re.id===k))==null?void 0:W.name)||k;return c.jsxs("button",{type:"button",onClick:()=>G(re=>re.filter(ne=>ne!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:V}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),J.map(k=>c.jsxs("button",{type:"button",onClick:()=>ue(V=>V.filter(W=>W!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ge.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var se,F;const k=q,V=((se=k.find(U=>U.id===$.columnId))==null?void 0:se.id)||(a&&k.some(U=>U.id===a)?a:void 0)||((F=k[0])==null?void 0:F.id)||"",W=new Map,re=new Map;k.forEach(U=>{const H=new Map;U.rows.forEach(ee=>{const R=ee.account||ee.name||ee.id;R&&(H.set(R,ee),re.has(R)||re.set(R,ee))}),W.set(U.id,H)});const ne=Array.from(re.entries()).filter(([U])=>J.length===0||J.includes(String(U))).map(([U,H])=>{const ee={};return k.forEach(R=>{var X;const ce=(X=W.get(R.id))==null?void 0:X.get(U);ee[R.id]=ce?f(ce,t,R.stacking,r,{roundCountStats:p}):"-"}),{key:U,row:H,values:ee}}).sort((U,H)=>{var Ve,he;if(!V)return String(U.key).localeCompare(String(H.key));const ee=k.find(L=>L.id===V),R=ee?(Ve=W.get(ee.id))==null?void 0:Ve.get(U.key):null,ce=ee?(he=W.get(ee.id))==null?void 0:he.get(H.key):null,X=R?h(R,t,ee==null?void 0:ee.stacking,r):0,ae=ce?h(ce,t,ee==null?void 0:ee.stacking,r):0;return($.dir==="desc"?ae-X:X-ae)||String(U.key).localeCompare(String(H.key))});return c.jsx(Ss,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:V,sortDirection:$.dir,onSortColumn:U=>{T(H=>({columnId:U,dir:H.columnId===U&&H.dir==="desc"?"asc":"desc"}))},columns:k.map(U=>({id:U.id,label:c.jsx(br,{name:U.name,iconUrl:U.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ne.map((U,H)=>({id:`${U.key}-${H}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:H+1}),m(U.row.profession,U.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:U.row.account||U.row.name||U.key})]}),values:U.values}))})})()})]}):c.jsx(Zo,{expanded:g==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${g==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${g==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsx("input",{value:u,onChange:k=>d(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${S} ${g==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(k=>c.jsx("button",{onClick:()=>s(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(br,{name:k.name,iconUrl:k.icon,iconClassName:"h-3.5 w-3.5"})},k.id))})]}),content:o?c.jsx(Cs,{expanded:g==="boon-output",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(br,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[c.jsx(Tn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Tn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>ie("value"),className:`text-right transition-colors ${j.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",j.key==="value"?j.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>ie("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:[...o.rows].sort((k,V)=>(()=>{const W=j.key==="fightTime"?Number(k.activeTimeMs||0):h(k,t,o.stacking,r),re=j.key==="fightTime"?Number(V.activeTimeMs||0):h(V,t,o.stacking,r);return(j.dir==="desc"?re-W:W-re)||String(k.account||"").localeCompare(String(V.account||""))})()).map((k,V)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:f(k,t,o.stacking,r,{roundCountStats:p})}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeTimeMs?`${(k.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${V}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},Oae=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:x,sidebarListClass:w})=>{var V;const[y,N]=v.useState({key:"value",dir:"desc"}),[C,S]=v.useState("combined"),[j,M]=v.useState({columnId:((V=t[0])==null?void 0:V.id)||"value",dir:"desc"}),$=f==="defense-detailed",[T,_]=v.useState([]),[O,G]=v.useState([]),J=t.filter(W=>W.label.toLowerCase().includes(n.trim().toLowerCase())),ue=t.map(W=>({id:W.id,label:W.label})),ge=ue.filter(W=>W.label.toLowerCase().includes(n.trim().toLowerCase())),q=T.length>0?t.filter(W=>T.includes(W.id)):t,K=Array.from(new Map(e.defensePlayers.map(W=>[W.account,W])).values()).map(W=>({id:W.account,label:W.account,icon:d(W.profession,W.professionList,"w-3 h-3")})),E=new Set([...T.map(W=>`column:${W}`),...O.map(W=>`player:${W}`)]),D=W=>{N(re=>({key:W,dir:re.key===W&&re.dir==="desc"?"asc":"desc"}))},ie=W=>W==="minionDamageTaken",k=(W,re)=>re==="combined"?W.map(ne=>({...ne,minionList:Object.entries((ne==null?void 0:ne.minionDamageTakenByMinion)||{}).filter(([,se])=>Number(se||0)>0).sort((se,F)=>Number(F[1]||0)-Number(se[1]||0)).map(([se])=>String(se))})):W.flatMap(ne=>{const se=Object.entries((ne==null?void 0:ne.minionDamageTakenByMinion)||{}).filter(([,F])=>Number(F||0)>0).sort((F,U)=>Number(U[1]||0)-Number(F[1]||0));return se.length===0?[]:se.map(([F,U])=>({...ne,minionName:String(F),defenseTotals:{...ne.defenseTotals||{},minionDamageTaken:Number(U||0)}}))});return c.jsxs("div",{id:"defense-detailed","data-section-visible":g("defense-detailed"),"data-section-first":b("defense-detailed"),className:x("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(md,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):$?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Ns,{options:[...ue.map(W=>({...W,type:"column"})),...K.map(W=>({...W,type:"player"}))],onSelect:W=>{W.type==="column"?_(re=>re.includes(W.id)?re.filter(ne=>ne!==W.id):[...re,W.id]):G(re=>re.includes(W.id)?re.filter(ne=>ne!==W.id):[...re,W.id])},selectedIds:E,className:"w-full sm:w-64"}),c.jsx(yr,{options:ge,selectedIds:T,onToggle:W=>{_(re=>re.includes(W)?re.filter(ne=>ne!==W):[...re,W])},onClear:()=>_([]),buttonIcon:c.jsx(ws,{className:"h-3.5 w-3.5"})}),c.jsx(yr,{options:K,selectedIds:O,onToggle:W=>{G(re=>re.includes(W)?re.filter(ne=>ne!==W):[...re,W])},onClear:()=>G([]),buttonLabel:"Players",buttonIcon:c.jsx(Pr,{className:"h-3.5 w-3.5"})}),c.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),q.some(W=>ie(W.id))&&c.jsx(Tn,{value:C,onChange:W=>S(W),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||O.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{_([]),G([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(W=>{var ne;const re=((ne=ue.find(se=>se.id===W))==null?void 0:ne.label)||W;return c.jsxs("button",{type:"button",onClick:()=>_(se=>se.filter(F=>F!==W)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:re}),c.jsx("span",{className:"text-gray-400",children:""})]},W)}),O.map(W=>c.jsxs("button",{type:"button",onClick:()=>G(re=>re.filter(ne=>ne!==W)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:W}),c.jsx("span",{className:"text-gray-400",children:""})]},W))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:J.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var H,ee;const W=R=>Math.max(1,(R.activeMs||0)/1e3),re=(R,ce)=>{const X=ce.isPercent,ze=u(R,l&&!X&&s==="total"?0:2);return X?`${ze}%`:ze},ne=((H=q.find(R=>R.id===j.columnId))==null?void 0:H.id)||((ee=q[0])==null?void 0:ee.id)||"",se=[...e.defensePlayers].filter(R=>O.length===0||O.includes(R.account)),U=[...q.some(R=>ie(R.id))?k(se,C):se].map(R=>{const ce={},X={};return q.forEach(ae=>{var L;const ze=((L=R.defenseTotals)==null?void 0:L[ae.id])||0,Ve=ae.isPercent,he=s==="total"||Ve?ze:s==="per1s"?ze/W(R):ze*60/W(R);X[ae.id]=he,ce[ae.id]=re(he,ae)}),{row:R,values:ce,numericValues:X}}).sort((R,ce)=>{const X=R.numericValues[ne]??0,ae=ce.numericValues[ne]??0;return(j.dir==="desc"?ae-X:X-ae)||String(R.row.account||"").localeCompare(String(ce.row.account||""))});return c.jsx(Ss,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:ne,sortDirection:j.dir,onSortColumn:R=>{M(ce=>({columnId:R,dir:ce.columnId===R&&ce.dir==="desc"?"asc":"desc"}))},columns:q.map(R=>({id:R.id,label:R.label,align:"right",minWidth:90})),rows:U.map((R,ce)=>({id:`${R.row.account}-${ce}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:ce+1}),d(R.row.profession,R.row.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:R.row.account}),C==="combined"&&Array.isArray(R.row.minionList)&&R.row.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:R.row.minionList.join(", ")}),C==="separate"&&R.row.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:R.row.minionName})]})]}),values:R.values}))})})()})]}):c.jsx(Zo,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsx("input",{value:n,onChange:W=>r(W.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${w} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:J.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):J.map(W=>c.jsx("button",{onClick:()=>a(W.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===W.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:W.label},W.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const W=t.find(U=>U.id===i)||t[0],re=U=>Math.max(1,(U.activeMs||0)/1e3),ne=[...e.defensePlayers],F=[...ie(W.id)?k(ne,C):ne].map(U=>{var H,ee,R;return{...U,total:((H=U.defenseTotals)==null?void 0:H[W.id])||0,per1s:(((ee=U.defenseTotals)==null?void 0:ee[W.id])||0)/re(U),per60s:(((R=U.defenseTotals)==null?void 0:R[W.id])||0)*60/re(U)}}).sort((U,H)=>{const ee=y.key==="fightTime"?Number(U.activeMs||0):Number(s==="total"?U.total:s==="per1s"?U.per1s:U.per60s),R=y.key==="fightTime"?Number(H.activeMs||0):Number(s==="total"?H.total:s==="per1s"?H.per1s:H.per60s);return(y.dir==="desc"?R-ee:ee-R)||U.account.localeCompare(H.account)});return c.jsx(Cs,{expanded:f==="defense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:W.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${ie(W.id)?"justify-between":"justify-end"}`,children:[ie(W.id)&&c.jsx(Tn,{value:C,onChange:U=>S(U),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:c.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>D("value"),className:`text-right transition-colors ${y.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",y.key==="value"?y.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>D("fightTime"),className:`text-right transition-colors ${y.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",y.key==="fightTime"?y.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:F.map((U,H)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:H+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(U.profession,U.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:U.account}),ie(W.id)&&C==="combined"&&Array.isArray(U.minionList)&&U.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:U.minionList.join(", ")}),ie(W.id)&&C==="separate"&&U.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:U.minionName})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ee=s==="total"?U.total:s==="per1s"?U.per1s:U.per60s;return u(ee,l&&s==="total"?0:2)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:U.activeMs?`${(U.activeMs/1e3).toFixed(1)}s`:"-"})]},`${W.id}-${U.account}-${H}`))})})})()})})]})},Iae=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:b,isSectionVisible:x,isFirstVisibleSection:w,sectionClass:y,sidebarListClass:N})=>{var H,ee;const C=((H=t.find(R=>R.id==="totalMitigation"))==null?void 0:H.id)||((ee=t[0])==null?void 0:ee.id)||"totalMitigation",[S,j]=v.useState({key:"value",dir:"desc"}),[M,$]=v.useState({columnId:C,dir:"desc"}),T=m==="defense-mitigation",[_,O]=v.useState([]),[G,J]=v.useState([]),[ue,ge]=v.useState([]),Y=e.damageMitigationPlayers||[],q=e.damageMitigationMinions||[],K=l==="minions"?q:Y,E=Y.length>0||q.length>0,D=t.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),ie=t.map(R=>({id:R.id,label:R.label})),k=ie.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),W=_.length>0?t.filter(R=>_.includes(R.id)):t,re=Array.from(new Map(K.map(R=>[R.account,R])).values()).map(R=>({id:R.account,label:R.account,icon:h(R.profession,R.professionList,"w-3 h-3")})),ne=Array.from(new Map(q.map(R=>[R.minion,R])).values()).filter(R=>R==null?void 0:R.minion).map(R=>({id:String(R.minion),label:String(R.minion)})),se=new Set([..._.map(R=>`column:${R}`),...G.map(R=>`player:${R}`)]),F=R=>{j(ce=>({key:R,dir:ce.key===R&&ce.dir==="desc"?"asc":"desc"}))},U=R=>f(R,d&&s==="total"?0:2);return c.jsxs("div",{id:"defense-mitigation","data-section-visible":x("defense-mitigation"),"data-section-first":w("defense-mitigation"),className:y("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(gk,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),c.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?b():g("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),E?T?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Ns,{options:[...ie.map(R=>({...R,type:"column"})),...re.map(R=>({...R,type:"player"}))],onSelect:R=>{R.type==="column"?O(ce=>ce.includes(R.id)?ce.filter(X=>X!==R.id):[...ce,R.id]):J(ce=>ce.includes(R.id)?ce.filter(X=>X!==R.id):[...ce,R.id])},selectedIds:se,className:"w-full sm:w-64"}),c.jsx(yr,{options:k,selectedIds:_,onToggle:R=>{O(ce=>ce.includes(R)?ce.filter(X=>X!==R):[...ce,R])},onClear:()=>O([]),buttonIcon:c.jsx(ws,{className:"h-3.5 w-3.5"})}),c.jsx(yr,{options:re,selectedIds:G,onToggle:R=>{J(ce=>ce.includes(R)?ce.filter(X=>X!==R):[...ce,R])},onClear:()=>J([]),buttonLabel:"Players",buttonIcon:c.jsx(Pr,{className:"h-3.5 w-3.5"})}),l==="minions"&&c.jsx(yr,{options:ne,selectedIds:ue,onToggle:R=>{ge(ce=>ce.includes(R)?ce.filter(X=>X!==R):[...ce,R])},onClear:()=>ge([]),buttonLabel:"Minions"}),c.jsx(Tn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(_.length>0||G.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{O([]),J([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(R=>{var X;const ce=((X=ie.find(ae=>ae.id===R))==null?void 0:X.label)||R;return c.jsxs("button",{type:"button",onClick:()=>O(ae=>ae.filter(ze=>ze!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ce}),c.jsx("span",{className:"text-gray-400",children:""})]},R)}),G.map(R=>c.jsxs("button",{type:"button",onClick:()=>J(ce=>ce.filter(X=>X!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:R}),c.jsx("span",{className:"text-gray-400",children:""})]},R))]}),l==="minions"&&ue.length>0&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>ge([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),ue.map(R=>c.jsxs("button",{type:"button",onClick:()=>ge(ce=>ce.filter(X=>X!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:R}),c.jsx("span",{className:"text-gray-400",children:""})]},R))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:K.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):D.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var ae,ze;const R=Ve=>Math.max(1,(Ve.activeMs||0)/1e3),ce=((ae=W.find(Ve=>Ve.id===M.columnId))==null?void 0:ae.id)||((ze=W[0])==null?void 0:ze.id)||"",X=[...K].filter(Ve=>G.length===0||G.includes(Ve.account)).filter(Ve=>l!=="minions"||!ue.length?!0:ue.includes(String(Ve.minion||""))).map(Ve=>{const he={},L={};return W.forEach(Pe=>{var zt;const Ee=((zt=Ve.mitigationTotals)==null?void 0:zt[Pe.id])||0,xt=s==="total"?Ee:s==="per1s"?Ee/R(Ve):Ee*60/R(Ve);L[Pe.id]=xt,he[Pe.id]=U(xt)}),{row:Ve,values:he,numericValues:L}}).sort((Ve,he)=>{const L=Ve.numericValues[ce]??0,Pe=he.numericValues[ce]??0;return(M.dir==="desc"?Pe-L:L-Pe)||String(Ve.row.account||"").localeCompare(String(he.row.account||""))});return c.jsx(Ss,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:ce,sortDirection:M.dir,onSortColumn:Ve=>{$(he=>({columnId:Ve,dir:he.columnId===Ve&&he.dir==="desc"?"asc":"desc"}))},columns:W.map(Ve=>({id:Ve.id,label:Ve.label,align:"right",minWidth:90})),rows:X.map((Ve,he)=>({id:`${Ve.row.account}-${Ve.row.minion||"player"}-${he}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:he+1}),h(Ve.row.profession,Ve.row.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:Ve.row.account}),Ve.row.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Ve.row.minion})]})]}),values:Ve.values}))})})()})]}):c.jsx(Zo,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsx("input",{value:n,onChange:R=>r(R.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),c.jsx("div",{className:`${N} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:D.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):D.map(R=>c.jsx("button",{onClick:()=>a(R.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===R.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:R.label},R.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const R=t.find(ae=>ae.id===i)||t[0],ce=ae=>Math.max(1,(ae.activeMs||0)/1e3),X=[...K].map(ae=>{var ze,Ve,he;return{...ae,total:((ze=ae.mitigationTotals)==null?void 0:ze[R.id])||0,per1s:(((Ve=ae.mitigationTotals)==null?void 0:Ve[R.id])||0)/ce(ae),per60s:(((he=ae.mitigationTotals)==null?void 0:he[R.id])||0)*60/ce(ae)}}).filter(ae=>l!=="minions"||!ue.length?!0:ue.includes(String(ae.minion||""))).sort((ae,ze)=>{const Ve=S.key==="fightTime"?Number(ae.activeMs||0):Number(s==="total"?ae.total:s==="per1s"?ae.per1s:ae.per60s),he=S.key==="fightTime"?Number(ze.activeMs||0):Number(s==="total"?ze.total:s==="per1s"?ze.per1s:ze.per60s);return(S.dir==="desc"?he-Ve:Ve-he)||ae.account.localeCompare(ze.account)});return c.jsx(Cs,{expanded:m==="defense-mitigation",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"px-4 py-2 bg-white/5",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Tn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"ml-auto",children:c.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>F("value"),className:`text-right transition-colors ${S.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>F("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:X.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):c.jsx(c.Fragment,{children:X.map((ae,ze)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:ze+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(ae.profession,ae.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:ae.account}),ae.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:ae.minion})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Ve=s==="total"?ae.total:s==="per1s"?ae.per1s:ae.per60s;return U(Ve)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:ae.activeMs?`${(ae.activeMs/1e3).toFixed(1)}s`:"-"})]},`${R.id}-${ae.account}-${ae.minion||"player"}-${ze}`))})})})()})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},_ae=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:b,isSectionVisible:x,isFirstVisibleSection:w,sectionClass:y,sidebarListClass:N})=>{var ie;const[C,S]=v.useState({key:"value",dir:"desc"}),[j,M]=v.useState({columnId:((ie=t[0])==null?void 0:ie.id)||"value",dir:"desc"}),$=m==="support-detailed",[T,_]=v.useState([]),[O,G]=v.useState([]),J=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),ue=t.map(k=>({id:k.id,label:k.label})),ge=ue.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),q=T.length>0?t.filter(k=>T.includes(k.id)):t,K=Array.from(new Map(e.supportPlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:h(k.profession,k.professionList,"w-3 h-3")})),E=new Set([...T.map(k=>`column:${k}`),...O.map(k=>`player:${k}`)]),D=k=>{S(V=>({key:k,dir:V.key===k&&V.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"support-detailed","data-section-visible":x("support-detailed"),"data-section-first":w("support-detailed"),className:y("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(hk,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?b():g("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):$?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Ns,{options:[...ue.map(k=>({...k,type:"column"})),...K.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?_(V=>V.includes(k.id)?V.filter(W=>W!==k.id):[...V,k.id]):G(V=>V.includes(k.id)?V.filter(W=>W!==k.id):[...V,k.id])},selectedIds:E,className:"w-full sm:w-64"}),c.jsx(yr,{options:ge,selectedIds:T,onToggle:k=>{_(V=>V.includes(k)?V.filter(W=>W!==k):[...V,k])},onClear:()=>_([]),buttonIcon:c.jsx(ws,{className:"h-3.5 w-3.5"})}),c.jsx(yr,{options:K,selectedIds:O,onToggle:k=>{G(V=>V.includes(k)?V.filter(W=>W!==k):[...V,k])},onClear:()=>G([]),buttonLabel:"Players",buttonIcon:c.jsx(Pr,{className:"h-3.5 w-3.5"})}),c.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&c.jsx(Tn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||O.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{_([]),G([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(k=>{var W;const V=((W=ue.find(re=>re.id===k))==null?void 0:W.label)||k;return c.jsxs("button",{type:"button",onClick:()=>_(re=>re.filter(ne=>ne!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:V}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),O.map(k=>c.jsxs("button",{type:"button",onClick:()=>G(V=>V.filter(W=>W!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:J.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var se,F;const k=(U,H)=>{var ee,R,ce;if(H==="condiCleanse"){const X=((ee=U.supportTotals)==null?void 0:ee.condiCleanse)||0,ae=((R=U.supportTotals)==null?void 0:R.condiCleanseSelf)||0;return l==="all"?X+ae:X}return((ce=U.supportTotals)==null?void 0:ce[H])||0},V=U=>Math.max(1,(U.activeMs||0)/1e3),W=(U,H)=>{const ee=U.isTime?1:d&&s==="total"?0:2;return f(H,ee)},re=((se=q.find(U=>U.id===j.columnId))==null?void 0:se.id)||((F=q[0])==null?void 0:F.id)||"",ne=[...e.supportPlayers].filter(U=>O.length===0||O.includes(U.account)).map(U=>{const H={},ee={};return q.forEach(R=>{const ce=k(U,R.id),X=s==="total"?ce:s==="per1s"?ce/V(U):ce*60/V(U);ee[R.id]=X,H[R.id]=W(R,X)}),{row:U,values:H,numericValues:ee}}).sort((U,H)=>{const ee=U.numericValues[re]??0,R=H.numericValues[re]??0;return(j.dir==="desc"?R-ee:ee-R)||String(U.row.account||"").localeCompare(String(H.row.account||""))});return c.jsx(Ss,{title:"Support - Dense View",subtitle:"Support",sortColumnId:re,sortDirection:j.dir,onSortColumn:U=>{M(H=>({columnId:U,dir:H.columnId===U&&H.dir==="desc"?"asc":"desc"}))},columns:q.map(U=>({id:U.id,label:U.label,align:"right",minWidth:90})),rows:ne.map((U,H)=>({id:`${U.row.account}-${H}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:H+1}),h(U.row.profession,U.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:U.row.account})]}),values:U.values}))})})()})]}):c.jsx(Zo,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${N} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:J.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):J.map(k=>c.jsx("button",{onClick:()=>a(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const k=t.find(ne=>ne.id===i)||t[0],V=ne=>{var se,F,U;if(k.id==="condiCleanse"){const H=((se=ne.supportTotals)==null?void 0:se.condiCleanse)||0,ee=((F=ne.supportTotals)==null?void 0:F.condiCleanseSelf)||0;return l==="all"?H+ee:H}return((U=ne.supportTotals)==null?void 0:U[k.id])||0},W=ne=>Math.max(1,(ne.activeMs||0)/1e3),re=[...e.supportPlayers].map(ne=>({...ne,total:V(ne),per1s:V(ne)/W(ne),per60s:V(ne)*60/W(ne)})).sort((ne,se)=>{const F=C.key==="fightTime"?Number(ne.activeMs||0):Number(s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s),U=C.key==="fightTime"?Number(se.activeMs||0):Number(s==="total"?se.total:s==="per1s"?se.per1s:se.per60s);return(C.dir==="desc"?U-F:F-U)||ne.account.localeCompare(se.account)});return c.jsx(Cs,{expanded:m==="support-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:c.jsxs(c.Fragment,{children:[k.id==="condiCleanse"?c.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[c.jsx(Tn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):c.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:c.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>D("value"),className:`text-right transition-colors ${C.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",C.key==="value"?C.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>D("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:re.map((ne,se)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:se+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(ne.profession,ne.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:ne.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const F=s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s,U=k.isTime?1:d&&s==="total"?0:2;return f(F,U)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:ne.activeMs?`${(ne.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${ne.account}-${se}`))})})})()})})]})},Lae=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:x})=>{var ge;const[w,y]=v.useState({key:"value",dir:"desc"}),[N,C]=v.useState({columnId:((ge=t[0])==null?void 0:ge.id)||"value",dir:"desc"}),S=f==="healing-stats",[j,M]=v.useState([]),[$,T]=v.useState([]),_=Array.from(new Map(e.healingPlayers.map(Y=>[Y.account,Y])).values()).map(Y=>({id:Y.account,label:Y.account,icon:d(Y.profession,Y.professionList,"w-3 h-3")})),O=new Set([...$.map(Y=>`column:${Y}`),...j.map(Y=>`player:${Y}`)]),G=t.map(Y=>({id:Y.id,label:Y.label})),J=$.length>0?t.filter(Y=>$.includes(Y.id)):t,ue=Y=>{y(q=>({key:Y,dir:q.key===Y&&q.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"healing-stats","data-section-visible":g("healing-stats"),"data-section-first":b("healing-stats"),className:x("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(s5,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),c.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):S?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Ns,{options:[...G.map(Y=>({...Y,type:"column"})),..._.map(Y=>({...Y,type:"player"}))],onSelect:Y=>{Y.type==="column"?T(q=>q.includes(Y.id)?q.filter(K=>K!==Y.id):[...q,Y.id]):M(q=>q.includes(Y.id)?q.filter(K=>K!==Y.id):[...q,Y.id])},selectedIds:O,className:"w-full sm:w-64"}),c.jsx(Tn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(yr,{options:G,selectedIds:$,onToggle:Y=>{T(q=>q.includes(Y)?q.filter(K=>K!==Y):[...q,Y])},onClear:()=>T([]),buttonIcon:c.jsx(ws,{className:"h-3.5 w-3.5"})}),c.jsx(Tn,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(Y=>({value:Y.id,label:Y.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(yr,{options:_,selectedIds:j,onToggle:Y=>{M(q=>q.includes(Y)?q.filter(K=>K!==Y):[...q,Y])},onClear:()=>M([]),buttonLabel:"Players",buttonIcon:c.jsx(Pr,{className:"h-3.5 w-3.5"})})]}),($.length>0||j.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{T([]),M([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(Y=>{var K;const q=((K=G.find(E=>E.id===Y))==null?void 0:K.label)||Y;return c.jsxs("button",{type:"button",onClick:()=>T(E=>E.filter(D=>D!==Y)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:q}),c.jsx("span",{className:"text-gray-400",children:""})]},Y)}),j.map(Y=>c.jsxs("button",{type:"button",onClick:()=>M(q=>q.filter(K=>K!==Y)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Y}),c.jsx("span",{className:"text-gray-400",children:""})]},Y))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var D,ie;const Y=k=>Math.max(1,(k.activeMs||0)/1e3),q=k=>{const V=k.baseField==="resUtility",W=V||i==="total"?"":i==="offSquad"?"offSquad":i;return V?s==="all"?"resUtility":`resUtility_${s}`:W?`${W}${k.baseField[0].toUpperCase()}${k.baseField.slice(1)}`:k.baseField},K=[...e.healingPlayers].filter(k=>j.length===0||j.includes(k.account)).filter(k=>Object.values(k.healingTotals||{}).some(V=>Number(V)>0)).map(k=>{const V={},W={};return J.forEach(re=>{var U;const ne=q(re),se=Number(((U=k.healingTotals)==null?void 0:U[ne])??0),F=re.perSecond?se/Y(k):se;W[re.id]=F,V[re.id]=u(F,re.decimals)}),{row:k,values:V,numericValues:W}}).sort((k,V)=>{var F,U;const W=((F=J.find(H=>H.id===N.columnId))==null?void 0:F.id)||((U=J[0])==null?void 0:U.id)||"",re=k.numericValues[W]??0,ne=V.numericValues[W]??0;return(N.dir==="desc"?ne-re:re-ne)||String(k.row.account||"").localeCompare(String(V.row.account||""))}),E=((D=J.find(k=>k.id===N.columnId))==null?void 0:D.id)||((ie=J[0])==null?void 0:ie.id)||"";return c.jsx(Ss,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:E,sortDirection:N.dir,onSortColumn:k=>{C(V=>({columnId:k,dir:V.columnId===k&&V.dir==="desc"?"asc":"desc"}))},columns:J.map(k=>({id:k.id,label:k.label,align:"right",minWidth:90})),rows:K.map((k,V)=>({id:`${k.row.account}-${V}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:V+1}),d(k.row.profession,k.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.row.account})]}),values:k.values}))})})()})]}):c.jsx(Zo,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(Y=>c.jsx("button",{onClick:()=>r(Y.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===Y.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:Y.label},Y.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const Y=t.find(k=>k.id===n)||t[0],q=Y.baseField==="resUtility",K=k=>Math.max(1,(k.activeMs||0)/1e3),E=q||i==="total"?"":i==="offSquad"?"offSquad":i,D=q?s==="all"?"resUtility":`resUtility_${s}`:E?`${E}${Y.baseField[0].toUpperCase()}${Y.baseField.slice(1)}`:Y.baseField,ie=[...e.healingPlayers].filter(k=>Object.values(k.healingTotals||{}).some(V=>Number(V)>0)).map(k=>{var re;const V=Number(((re=k.healingTotals)==null?void 0:re[D])??0),W=Y.perSecond?V/K(k):V;return{...k,value:W}}).sort((k,V)=>{const W=w.key==="fightTime"?Number(k.activeMs||0):Number(k.value||0),re=w.key==="fightTime"?Number(V.activeMs||0):Number(V.value||0);return(w.dir==="desc"?re-W:W-re)||k.account.localeCompare(V.account)});return c.jsx(Cs,{expanded:f==="healing-stats",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:Y.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:c.jsxs(c.Fragment,{children:[q&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:c.jsx(Tn,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(k=>({value:k.id,label:k.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!q&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:c.jsx(Tn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>ue("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[Y.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>ue("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:ie.length===0?c.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):ie.map((k,V)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:u(k.value,Y.decimals)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeMs?`${(k.activeMs/1e3).toFixed(1)}s`:"-"})]},`${Y.id}-${k.account}-${V}`))})})})()})})]})},$ae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",Fae=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:b})=>{const[x,w]=v.useState("total"),[y,N]=v.useState("desc"),[C,S]=v.useState({columnId:"",dir:"desc"}),j=u==="special-buffs",[M,$]=v.useState([]),[T,_]=v.useState([]),O=e.specialTables||[],J=M.length>0?O.filter(D=>M.includes(D.id)):O,ue=r.map(D=>({id:D.id,label:D.name,icon:D.icon?c.jsx("img",{src:D.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ge=Array.from(new Map((e.specialTables||[]).flatMap(D=>D.rows||[]).filter(D=>D.account).map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,icon:l(D.profession,D.professionList,"w-3 h-3")})),Y=new Set([...M.map(D=>`column:${D}`),...T.map(D=>`player:${D}`)]),q=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const D=[...s.rows];return D.sort((ie,k)=>{const V=Number((ie==null?void 0:ie[x])??0),W=Number((k==null?void 0:k[x])??0),re=y==="desc"?W-V:V-W;return re!==0?re:String((ie==null?void 0:ie.account)||"").localeCompare(String((k==null?void 0:k.account)||""))}),D},[s,x,y]),K=D=>{if(x===D){N(ie=>ie==="desc"?"asc":"desc");return}w(D),N("desc")},E=D=>x!==D?"":y==="desc"?" ":" ";return c.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:g("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(X0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),c.jsx("button",{type:"button",onClick:()=>u==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:u==="special-buffs"?"Close":"Expand",children:u==="special-buffs"?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]}),e.specialTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):j?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Ns,{options:[...O.map(D=>({id:D.id,label:D.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(D=>D.rows||[]).filter(D=>D.account).map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,type:"player",icon:l(D.profession,D.professionList,"w-3 h-3")}))],onSelect:D=>{D.type==="column"?$(ie=>ie.includes(D.id)?ie.filter(k=>k!==D.id):[...ie,D.id]):_(ie=>ie.includes(D.id)?ie.filter(k=>k!==D.id):[...ie,D.id])},selectedIds:Y,className:"w-full sm:w-64"}),c.jsx(yr,{options:ue,selectedIds:M,onToggle:D=>{$(ie=>ie.includes(D)?ie.filter(k=>k!==D):[...ie,D])},onClear:()=>$([]),buttonIcon:c.jsx(ws,{className:"h-3.5 w-3.5"})}),c.jsx(yr,{options:ge,selectedIds:T,onToggle:D=>{_(ie=>ie.includes(D)?ie.filter(k=>k!==D):[...ie,D])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:c.jsx(Pr,{className:"h-3.5 w-3.5"})}),c.jsx(Tn,{value:x,onChange:D=>w(D),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||T.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{$([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(D=>{var k;const ie=((k=O.find(V=>V.id===D))==null?void 0:k.name)||D;return c.jsxs("button",{type:"button",onClick:()=>$(V=>V.filter(W=>W!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ie}),c.jsx("span",{className:"text-gray-400",children:""})]},D)}),T.map(D=>c.jsxs("button",{type:"button",onClick:()=>_(ie=>ie.filter(k=>k!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:D}),c.jsx("span",{className:"text-gray-400",children:""})]},D))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var ne,se;const D=J,ie=new Map,k=new Map;D.forEach(F=>{const U=new Map;F.rows.forEach(H=>{const ee=H.account||H.name||H.id;ee&&(U.set(ee,H),k.has(ee)||k.set(ee,H))}),ie.set(F.id,U)});const V=Array.from(k.entries()).filter(([F])=>T.length===0||T.includes(String(F))).map(([F,U])=>{const H={},ee={};return D.forEach(R=>{var ze;const ce=(ze=ie.get(R.id))==null?void 0:ze.get(F);if(!ce){H[R.id]="-",ee[R.id]=0;return}if(x==="duration"){H[R.id]=ce.duration?`${ce.duration.toFixed(1)}s`:"-",ee[R.id]=Number(ce.duration||0);return}const X=x==="total"?ce.total:ce.perSecond,ae=x==="total"?0:1;ee[R.id]=Number(X||0),H[R.id]=o(X||0,ae)}),{key:F,row:U,values:H,numericValues:ee}}),W=((ne=D.find(F=>F.id===C.columnId))==null?void 0:ne.id)||(i&&D.some(F=>F.id===i)?i:void 0)||((se=D[0])==null?void 0:se.id)||"",re=[...V].sort((F,U)=>{if(!W)return String(F.key).localeCompare(String(U.key));const H=F.numericValues[W]??0,ee=U.numericValues[W]??0;return(C.dir==="desc"?ee-H:H-ee)||String(F.key).localeCompare(String(U.key))});return c.jsx(Ss,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:W,sortDirection:C.dir,onSortColumn:F=>{S(U=>({columnId:F,dir:U.columnId===F&&U.dir==="desc"?"asc":"desc"}))},columns:D.map(F=>({id:F.id,label:c.jsx(br,{name:F.name,iconUrl:F.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:re.map((F,U)=>({id:`${F.key}-${U}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:U+1}),l(F.row.profession,F.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:F.row.account||F.row.name||F.key})]}),values:F.values}))})})()})]}):c.jsx(Zo,{expanded:u==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${u==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${u==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsx("input",{value:t,onChange:D=>n(D.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${u==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(D=>c.jsx("button",{onClick:()=>a(D.id),title:D.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===D.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(br,{name:$ae(D.name),iconUrl:D.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},D.id))})]}),content:c.jsx(c.Fragment,{children:s?c.jsx(Cs,{expanded:u==="special-buffs",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(br,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>K("total"),className:`text-right transition-colors ${x==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",E("total")]}),c.jsxs("button",{type:"button",onClick:()=>K("perSecond"),className:`text-right transition-colors ${x==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",E("perSecond")]}),c.jsxs("button",{type:"button",onClick:()=>K("duration"),className:`text-right transition-colors ${x==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",E("duration")]})]}),rows:c.jsx(c.Fragment,{children:q.map((D,ie)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:ie+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(D.profession,D.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:D.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(D.total).toLocaleString()}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:o(D.perSecond,1)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:D.duration?`${D.duration.toFixed(1)}s`:"-"})]},`${s.id}-${D.account}-${ie}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},Rae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Bae=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:b})=>{const[x,w]=v.useState("desc"),y=u==="sigil-relic-uptime",N=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const C=[...s.rows];return C.sort((S,j)=>{const M=Number((S==null?void 0:S.uptimePerSecond)??(S==null?void 0:S.perSecond)??0),$=Number((j==null?void 0:j.uptimePerSecond)??(j==null?void 0:j.perSecond)??0),T=x==="desc"?$-M:M-$;return T!==0?T:String((S==null?void 0:S.account)||"").localeCompare(String((j==null?void 0:j.account)||""))}),C},[s,x]);return c.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:g("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(xk,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),c.jsx("button",{type:"button",onClick:()=>u==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:u==="sigil-relic-uptime"?"Close":"Expand",children:u==="sigil-relic-uptime"?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]}),e?c.jsx(Zo,{expanded:y,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${y?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${y?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),c.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${y?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>c.jsx("button",{onClick:()=>a(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(br,{name:Rae(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:c.jsx(c.Fragment,{children:s?c.jsx(Cs,{expanded:y,maxHeightClass:"max-h-72",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(br,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>w(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",x==="desc"?"":""]})]}),rows:c.jsx(c.Fragment,{children:N.map((C,S)=>{const j=Number(C.uptimePerSecond??C.perSecond??0)*100;return c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:S+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:C.account})]}),c.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(j,1),"%"]})]},`${s.id}-${C.account}-${S}`)})})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},zae=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:i,closeExpandedSection:a,isSectionVisible:s,isFirstVisibleSection:o,sectionClass:l})=>{const u=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,h]=v.useState(""),[m,p]=v.useState(""),[g,b]=v.useState(null);v.useEffect(()=>{var G,J,ue;if(u.length===0){h(""),p("");return}const _=String(((G=u[0])==null?void 0:G.id)||""),O=String(((J=u[1])==null?void 0:J.id)||((ue=u[0])==null?void 0:ue.id)||"");h(ge=>ge&&u.some(Y=>String(Y.id)===ge)?ge:_),p(ge=>ge&&u.some(Y=>String(Y.id)===ge)?ge:O)},[u]);const x=v.useMemo(()=>u.find(_=>String(_.id)===String(f))||null,[u,f]),w=v.useMemo(()=>u.find(_=>String(_.id)===String(m))||null,[u,m]),y=v.useMemo(()=>{if(!x||!w)return[];const _=new Map,O=(G,J,ue,ge)=>{const Y=String(G||"Unknown"),q=_.get(Y)||{label:Y,aDamage:0,aShare:0,bDamage:0,bShare:0};J==="a"?(q.aDamage=Number(ue||0),q.aShare=Number(ge||0)):(q.bDamage=Number(ue||0),q.bShare=Number(ge||0)),_.set(Y,q)};return(x.targetFocus||[]).forEach(G=>O(G.label,"a",G.damage,G.share)),(w.targetFocus||[]).forEach(G=>O(G.label,"b",G.damage,G.share)),Array.from(_.values()).map(G=>({...G,shareDelta:G.bShare-G.aShare})).sort((G,J)=>Math.abs(J.shareDelta)-Math.abs(G.shareDelta)||J.bDamage+J.aDamage-(G.bDamage+G.aDamage))},[x,w]),N=v.useMemo(()=>{if(!g)return y;const _=g.direction==="asc"?1:-1,O=g.key;return[...y].sort((G,J)=>{const ue=(Number(G[O])-Number(J[O]))*_;return ue!==0?ue:G.label.localeCompare(J.label)})},[y,g]),C=v.useMemo(()=>{if(!x||!w)return[];const _=new Map((x.squadMetrics||[]).map(J=>[J.metricId,J])),O=new Map((w.squadMetrics||[]).map(J=>[J.metricId,J]));return Array.from(new Set([..._.keys(),...O.keys()])).map(J=>{const ue=_.get(J),ge=O.get(J),Y=!!((ue==null?void 0:ue.higherIsBetter)??(ge==null?void 0:ge.higherIsBetter)??!0),q=Number((ue==null?void 0:ue.value)||0),K=Number((ge==null?void 0:ge.value)||0);return{metricId:J,metricLabel:String((ue==null?void 0:ue.metricLabel)||(ge==null?void 0:ge.metricLabel)||J),higherIsBetter:Y,a:ue,b:ge,delta:K-q}})},[x,w]),S=_=>`${t((Number(_)||0)*100,1)}%`,j=_=>_==="squadKdr"?2:0,M=_=>{b(O=>!O||O.key!==_?{key:_,direction:"desc"}:{key:_,direction:O.direction==="desc"?"asc":"desc"})},$=_=>(g==null?void 0:g.key)===_?g.direction==="desc"?" ":" ":"",T=_=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(g==null?void 0:g.key)===_?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return c.jsxs("div",{id:"fight-diff-mode","data-section-visible":s("fight-diff-mode"),"data-section-first":o("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(uk,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),c.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?a():i("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]}),d?c.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[c.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),c.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):u.length<2?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:_=>h(_.target.value),children:u.map(_=>c.jsxs("option",{value:_.id,children:[_.shortLabel," - ",_.fullLabel]},`fight-a-${_.id}`))})]}),c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:_=>p(_.target.value),children:u.map(_=>c.jsxs("option",{value:_.id,children:[_.shortLabel," - ",_.fullLabel]},`fight-b-${_.id}`))})]})]}),c.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[c.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),c.jsxs("div",{children:["Target focus compares how your squad distributed damage ",c.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",c.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",c.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",c.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Cs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:y.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("aDamage"),onClick:()=>M("aDamage"),children:[x==null?void 0:x.shortLabel," Damage",$("aDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("aShare"),onClick:()=>M("aShare"),children:[x==null?void 0:x.shortLabel," Share",$("aShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("bDamage"),onClick:()=>M("bDamage"),children:[w==null?void 0:w.shortLabel," Damage",$("bDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("bShare"),onClick:()=>M("bShare"),children:[w==null?void 0:w.shortLabel," Share",$("bShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("shareDelta"),onClick:()=>M("shareDelta"),children:["Share Delta",$("shareDelta")]})})]})})]})}):null,rows:y.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:N.map(_=>c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:_.label}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(_.aDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:S(_.aShare)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(_.bDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:S(_.bShare)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${_.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[_.shareDelta>=0?"+":"",S(_.shareDelta)]})]},`focus-${_.label}`))})]})}):c.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[c.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),c.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Cs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),c.jsxs("th",{className:"text-right py-2 px-3",children:[x==null?void 0:x.shortLabel," Value"]}),c.jsxs("th",{className:"text-right py-2 px-3",children:[w==null?void 0:w.shortLabel," Value"]}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:C.map(_=>{var J,ue;const O=_.higherIsBetter?_.delta>=0:_.delta<=0,G=j(_.metricId);return c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:_.metricLabel}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((J=_.a)==null?void 0:J.value)||0),G)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((ue=_.b)==null?void 0:ue.value)||0),G)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${O?"text-emerald-300":"text-red-300"}`,children:[_.delta>0?"+":"",t(_.delta,G)]})]},`performer-${_.metricId}`)})})]})}):c.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Uae=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{id:"kdr",className:"scroll-mt-24"}),c.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[c.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),c.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),Vae=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=v.useMemo(()=>{const u=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(m=>{const p=String((m==null?void 0:m.teamId)??"").trim(),g=Number((m==null?void 0:m.count)||0);!p||!Number.isFinite(g)||g<=0||u.set(p,(u.get(p)||0)+g)})}),Array.from(u.entries()).sort((f,h)=>{const m=h[1]-f[1];return m!==0?m:f[0].localeCompare(h[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=u=>{const d=u==null?void 0:u.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const g=Number(d);if(Number.isFinite(g)&&g>0)f=g>1e12?g:g*1e3;else{const b=Date.parse(d);Number.isFinite(b)&&b>0&&(f=b)}}const h=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(u==null?void 0:u.mapName)||(u==null?void 0:u.map)||"Unknown Map",p=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${h}  ${p}`};return c.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Tn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),c.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?c.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(u=>c.jsx("th",{className:"text-right py-2 px-3",children:`Team ${u}`},u))]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),c.jsx("tbody",{children:(e.fightBreakdown||[]).map((u,d)=>c.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),c.jsx("td",{className:"py-2 px-3 w-[240px]",children:u.permalink?c.jsx("button",{onClick:()=>{var f;u.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(u.permalink):u.permalink&&window.open(u.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(u)}):c.jsx("span",{className:"text-gray-500",children:"Pending"})}),c.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:u.duration||"--:--"}),c.jsx("td",{className:`py-2 px-3 font-semibold ${u.isWin===!0?"text-emerald-300":u.isWin===!1?"text-red-300":"text-amber-200"}`,children:u.isWin===!0?"Win":u.isWin===!1?"Loss":"Unknown"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(pb,{count:u.squadCount??0,classCounts:u.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(pb,{count:u.allyCount??0,classCounts:u.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(pb,{count:u.enemyCount??0,classCounts:u.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const m=(Array.isArray(u.teamBreakdown)?u.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((m==null?void 0:m.count)||0)},f)})]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDown??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDead??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesRevived??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.rallies??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDowns??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDeaths??0})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalOutgoingDamage||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((u.totalOutgoingDamage||0)-(u.totalIncomingDamage||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.incomingBarrierAbsorbed||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((u.outgoingBarrierAbsorbed||0)-(u.incomingBarrierAbsorbed||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},u.id||`${u.label}-${d}`))})]})})})]})})},ID={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Wae=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:u})=>{const d=ID[r]||ID.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return c.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:c.jsx(e,{className:"w-6 h-6"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),c.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",c.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),c.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),c.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&c.jsxs("div",{className:"mt-3 stats-share-exclude",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?c.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>c.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[c.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),c.jsx("div",{className:"shrink-0",children:u(m.profession,m.professionList,"w-4 h-4")}),c.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),c.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):c.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Hae=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},_D=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},qae=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?c.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Oc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[c.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),c.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[c.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:c.jsx(AU,{className:"w-10 h-10 text-yellow-400"})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(X0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),c.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),c.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[c.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),u(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),c.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),c.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[c.jsx(wg,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),c.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>c.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[c.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),c.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:_D(m.val,s)})]},p))})]}),c.jsxs("div",{className:"hidden lg:block text-right",children:[c.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),c.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),c.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,g,b,x,w;return c.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[c.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),c.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&u(m.data.profession,m.data.professionList,"w-6 h-6"),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((g=m.data)==null?void 0:g.account)||""}),c.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((b=m.data)==null?void 0:b.profession)||"Unknown"})]})]}),(w=(x=m.data)==null?void 0:x.topStats)!=null&&w.some(y=>l(y.name))?c.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(y=>l(y.name)).map((y,N)=>c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[c.jsx("span",{className:"leading-none",children:y.name}),c.jsx("span",{className:"tabular-nums leading-none",children:_D(y.val,s)})]},N))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,g=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,b=m?"":"Total ",x=m?" /s":"",w=[{icon:MU,title:`Down Contribution${x}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:md,title:`${b}Barrier${x}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:s5,title:`${b}Healing${x}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:BU,title:`${b}Dodges${x}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:um,title:`${b}Strips${x}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:TU,title:`${b}Cleanses${x}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:EU,title:`${b}CC${x}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:u5,title:`${b}Stab Gen${x}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:jU,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],y=N=>!m||!Number.isFinite(N)?s(N):o(N,2);return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:w.map(N=>{var $,T,_,O;const C=i==="all",S=Hae((g==null?void 0:g[N.statKey])||[],N.higherIsBetter),j=S[0],M=j?{...N.data,value:Number(j.value||0),player:j.account||(($=N.data)==null?void 0:$.player)||"-",count:j.count||((T=N.data)==null?void 0:T.count)||0,profession:j.profession||((_=N.data)==null?void 0:_.profession)||"Unknown",professionList:j.professionList||((O=N.data)==null?void 0:O.professionList)||[]}:N.data;return c.jsx(Wae,{...N,data:M,active:C,onClick:()=>a(G=>G==="all"?null:"all"),rows:S,formatValue:y,renderProfessionIcon:u},N.statKey)})})})()]}):null,Kae=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",l=o?"Down Contrib":"Damage",u=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=v.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((g,b)=>{const x=Number((g==null?void 0:g[u])||0);return Number((b==null?void 0:b[u])||0)-x||Number((b==null?void 0:b.hits)||0)-Number((g==null?void 0:g.hits)||0)||String((g==null?void 0:g.name)||"").localeCompare(String((b==null?void 0:b.name)||""))}),[o,d,f,e.topSkills,u]),m=v.useMemo(()=>Math.max(1,...h.map(g=>Number((g==null?void 0:g[u])||0))),[h,u]),p=typeof n=="function";return c.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[c.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(lk,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),p&&c.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(g=>{const b=(t||e.topSkillsMetric)===g.id;return c.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(g.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${b?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:g.label},g.id)})})]}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[h.map((g,b)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",b+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(br,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(g[u]||0).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(g[u]||0)/m*100}%`}})})]})]},`outgoing-${g.name||"unknown"}-${b}`)),h.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),c.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(kU,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((g,b)=>{var x;return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",b+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(br,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(g.damage).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${g.damage/(((x=e.topIncomingSkills[0])==null?void 0:x.damage)||1)*100}%`}})})]})]},`incoming-${g.name||"unknown"}-${b}`)}),e.topIncomingSkills.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Gae=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=r("squad-composition");return c.jsxs("div",{id:"squad-composition","data-section-visible":s,"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Pr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Fo,{width:"100%",height:"100%",children:c.jsxs(Bw,{children:[c.jsx(m0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,l)=>c.jsx(Sd,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Vo,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${s?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?c.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:o.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Y0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Fo,{width:"100%",height:"100%",children:c.jsxs(Bw,{children:[c.jsx(m0,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,l)=>c.jsx(Sd,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Vo,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${s?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?c.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:o.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]})},Yae=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>c.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Pr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[c.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),c.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>c.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):c.jsx("div",{className:"h-[260px] w-full",children:c.jsx(Fo,{width:"100%",height:"100%",children:c.jsxs(Nd,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[c.jsx(Qc,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Zc,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),c.jsx(Jc,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),c.jsx(Vo,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var f;const l=(f=o==null?void 0:o[0])==null?void 0:f.payload,u=(l==null?void 0:l.isWin)===!0?"Win":(l==null?void 0:l.isWin)===!1?"Loss":"Unknown";return`${typeof(l==null?void 0:l.label)=="string"&&l.label.trim().length>0?l.label:`Log ${s}`}  ${u}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),c.jsx(Xa,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),c.jsx(Xa,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Xae=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(mk,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),c.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:c.jsx(Fo,{width:"100%",height:"100%",children:c.jsxs(Bw,{children:[c.jsx(m0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>c.jsx(Sd,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),c.jsx(Vo,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),c.jsx(E_,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>c.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",c.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),LD=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:g,spikeMode:b,setSpikeMode:x,damageBasis:w="all",setDamageBasis:y,showDamageBasisToggle:N=!1,selectedSpikePlayerKey:C,setSelectedSpikePlayerKey:S,selectedSpikePlayer:j,spikeChartData:M,spikeChartMaxY:$,selectedSpikeFightIndex:T,setSelectedSpikeFightIndex:_,spikeDrilldownTitle:O,spikeDrilldownData:G,spikeDrilldownDownIndices:J,spikeDrilldownDeathIndices:ue,spikeFightSkillRows:ge=[],spikeFightSkillTitle:Y="Skill Damage (Selected Fight)",formatWithCommas:q,renderProfessionIcon:K})=>{const[E,D]=v.useState(null),[ie,k]=v.useState(null),V=he=>String(he||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),W=s===e,re=j?_l(j.profession):"#fda4af",ne=w==="downContribution",se=b==="hit"?ne?"Highest Down Contribution":"Highest Damage":b==="1s"?"1s Burst":b==="5s"?"5s Burst":"30s Burst",F=he=>b==="hit"?ne?he.peakHitDown:he.peakHit:b==="1s"?ne?he.peak1sDown:he.peak1s:b==="5s"?ne?he.peak5sDown:he.peak5s:ne?he.peak30sDown:he.peak30s,U=g.flatMap(he=>he.players.map(L=>({...L,groupProfession:he.profession}))).sort((he,L)=>{const Pe=F(L)-F(he);return Pe!==0?Pe:he.displayName.localeCompare(L.displayName)}),H=M.reduce((he,L)=>!he||L.damage>he.damage?L:he,null),ee=he=>{if(!Number.isFinite(he)||he<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(he))}catch{return""}},R=G.reduce((he,L)=>Math.max(he,Number(L.value||0)),0),ce=Math.max(1,R),X=new Set(J),ae=new Set(ue),ze=G.map((he,L)=>({...he,downMarker:X.has(L)?Math.max(Number(he.value||0),ce*.88):null,deathMarker:ae.has(L)?Math.max(Number(he.value||0),ce*.96):null})),Ve=he=>L=>{const Pe=Number(L==null?void 0:L.cx),Ee=Number(L==null?void 0:L.cy),xt=Number(L==null?void 0:L.index);if(!Number.isFinite(Pe)||!Number.isFinite(Ee)||!Number.isFinite(xt))return null;const zt=(L==null?void 0:L.payload)||{},pn=he==="down"?zt==null?void 0:zt.downMarker:zt==null?void 0:zt.deathMarker;if(!Number.isFinite(Number(pn)))return null;const ke=`${he}-${xt}`,Qe=E===ke,Tt=he==="down"?"#facc15":"#ef4444",nn=he==="down"?"#fde047":"#f87171";return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{D(ke),k({x:Pe,y:Ee,kind:he,label:String((zt==null?void 0:zt.label)||"")})},onMouseLeave:()=>{D(Xt=>Xt===ke?null:Xt),k(Xt=>(Xt==null?void 0:Xt.kind)===he&&(Xt==null?void 0:Xt.label)===String((zt==null?void 0:zt.label)||"")?null:Xt)},children:[c.jsx("circle",{cx:Pe,cy:Ee,r:Qe?10:7,fill:nn,opacity:Qe?.35:.18}),c.jsx("circle",{cx:Pe,cy:Ee,r:Qe?7:5.5,fill:Tt,stroke:"#0f172a",strokeWidth:Qe?2.25:1.75})]})};return c.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${W?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:W?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(um,{className:`w-5 h-5 ${a}`}),t]}),c.jsx("p",{className:"text-xs text-gray-400",children:n})]}),c.jsxs("div",{className:`flex items-center gap-3 ${W?"pr-10 md:pr-0":""}`,children:[N&&y&&c.jsx(Tn,{value:w,onChange:he=>y(he),options:[{value:"all",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Tn,{value:b,onChange:he=>x(he),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>W?u():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${W?"absolute top-2 right-2 md:static":""}`,"aria-label":W?`Close ${t}`:`Expand ${t}`,title:W?"Close":"Expand",children:W?c.jsx(Ci,{className:"w-4 h-4"}):c.jsx(Fi,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),c.jsx("input",{type:"search",value:m,onChange:he=>p(he.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:U.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):c.jsx("div",{className:"p-1.5 space-y-1",children:U.map(he=>{const L=C===he.key;return c.jsx("button",{type:"button",onClick:()=>S(he.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${L?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[K(he.profession,void 0,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:he.displayName}),c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:he.groupProfession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[he.characterName||he.displayName,"  ",he.logs," ",he.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:q(F(he)||0,0)})]})},he.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",se]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[M.length," ",M.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!j||M.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst values by fight."}):c.jsx(Fo,{width:"100%",height:"100%",children:c.jsxs(Nd,{data:M,onClick:he=>{const L=Number(he==null?void 0:he.activeTooltipIndex);Number.isFinite(L)&&_(T===L?null:L)},children:[c.jsx(Qc,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Zc,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Jc,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,$)],tickFormatter:he=>q(he,0)}),c.jsx(Vo,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(he,L)=>[q(Number(he||0),0),String(L||"")],labelFormatter:(he,L)=>{var xt;const Pe=(xt=L==null?void 0:L[0])==null?void 0:xt.payload;if(!Pe)return"";const Ee=V(Pe.fullLabel||"");return b==="hit"&&Pe.skillName?`${Ee}  ${Pe.skillName}`:Ee}}),c.jsx(Xa,{type:"monotone",dataKey:"damage",name:j.displayName,stroke:re,strokeWidth:3,dot:he=>{var Ee;const L=Number((Ee=he==null?void 0:he.payload)==null?void 0:Ee.index);if(!Number.isFinite(L))return null;const Pe=T===L;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:xt=>{xt.stopPropagation(),_(Pe?null:L)},children:[c.jsx("circle",{cx:he.cx,cy:he.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:he.cx,cy:he.cy,r:Pe?4:3,fill:re,stroke:Pe?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Pe?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(Xa,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),j&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[K(j.profession,j.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:j.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:b==="hit"?ne?"Peak Highest Skill Down Contribution":"Peak Highest Skill Damage":`Peak ${se}`}),c.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:q(F(j)||0,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:b==="hit"?"Peak Skill / Fight":"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const he=V((H==null?void 0:H.fullLabel)||j.peakFightLabel||"N/A"),L=ee(Number((H==null?void 0:H.timestamp)||0)),Pe=L?`${L} - ${he}`:he;return b!=="hit"?Pe:j.peakSkillName?`${j.peakSkillName}  ${Pe}`:Pe})()})]})]}),j&&T!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:O}),c.jsx("button",{type:"button",onClick:()=>_(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:G.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsxs(c.Fragment,{children:[c.jsx(Fo,{width:"100%",height:"100%",children:c.jsxs(Nd,{data:ze,children:[c.jsx(Qc,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Zc,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Jc,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:he=>q(he,0)}),c.jsx(Vo,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(he,L)=>{const Pe=String(L||"");return Pe==="Down"?["Downed","Event"]:Pe==="Death"?["Dead","Event"]:[q(Number(he||0),0),"Damage"]},labelFormatter:he=>String(he||"")}),c.jsx(Xa,{type:"monotone",dataKey:"value",name:"Damage",stroke:re,strokeWidth:2.5,dot:b==="hit"?{r:2}:!1,activeDot:{r:4}}),c.jsx(Xa,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:Ve("down")}),c.jsx(Xa,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:Ve("death")})]})}),ie&&c.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,ie.x)}px`,top:`${Math.max(8,ie.y-38)}px`,transform:"translate(-50%, -100%)"},children:[c.jsx("div",{className:`${ie.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:ie.kind==="down"?"Down":"Death"}),c.jsx("div",{className:"text-gray-300",children:ie.label})]})]})})]}),j&&T!==null&&c.jsx("div",{className:`mt-4 transition-all duration-300 ${ge.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:(()=>{const he=Pe=>Number(ne?Pe.downContribution||0:Pe.damage||0),L=[...ge].filter(Pe=>he(Pe)>0).sort((Pe,Ee)=>he(Ee)-he(Pe)||Number(Ee.hits||0)-Number(Pe.hits||0)).slice(0,30);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:Y}),c.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[L.length," ",L.length===1?"skill":"skills"]})]}),L.length===0?c.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):c.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:ne?"Down Contrib":"Damage"}),c.jsx("div",{className:"text-right",children:"Hits"})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:L.map((Pe,Ee)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[c.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[Pe.icon?c.jsx("img",{src:Pe.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):c.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),c.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:Pe.skillName,children:Pe.skillName})]}),c.jsx("div",{className:"text-right font-mono text-rose-200",children:q(Number(ne?Pe.downContribution||0:Pe.damage||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:q(Number(Pe.hits||0),0)})]},`${Pe.skillName}-${Ee}`))})]})]})})()})]})},Qae=10,vp=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},$D=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},Zae=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Jae=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(""),[o,l]=v.useState("squad"),[u,d]=v.useState("desc"),f=a.trim().toLowerCase(),h=v.useMemo(()=>{const b=e.filter(w=>{if(!f)return!0;const y=String(w.account||"").toLowerCase(),N=(w.characterNames||[]).join(" ").toLowerCase(),C=(w.classTimes||[]).map(S=>String(S.profession||"").toLowerCase()).join(" ");return y.includes(f)||N.includes(f)||C.includes(f)}),x=w=>Number(o==="fight"?w.combatTimeMs??w.squadTimeMs??0:w.squadTimeMs??0);return[...b].sort((w,y)=>{const N=x(y)-x(w);return N!==0?u==="desc"?N:-N:String(w.account||"").localeCompare(String(y.account||""))})},[e,f,u,o]),m=b=>{if(o===b){d(x=>x==="desc"?"asc":"desc");return}l(b),d("desc")},p=h.length>Qae,g=()=>{const b=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],x=h.map(j=>{const M=(j.classTimes||[]).map($=>`${$.profession} (${vp($.timeMs)})`).join("; ");return[j.account||"",(j.characterNames||[]).join(", "),M,$D(Number(j.combatTimeMs??j.squadTimeMs??0)),$D(j.squadTimeMs)]}),w=[b,...x].map(j=>j.map(M=>Zae(String(M??""))).join(",")).join(`
`),y=new Blob([w],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(y),C=document.createElement("a"),S=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");C.href=N,C.download=`attendance-ledger-${S}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(N)};return c.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(cm,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),c.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),c.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[c.jsx("input",{value:a,onChange:b=>s(b.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),c.jsxs("button",{type:"button",onClick:g,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[c.jsx(PU,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?u==="desc"?" ":" ":""]})}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?u==="desc"?" ":" ":""]})})]})}),c.jsxs("tbody",{children:[h.map(b=>c.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:b.account}),c.jsx("td",{className:"py-2 px-4 text-gray-300",children:b.characterNames.length>0?b.characterNames.join(", "):"-"}),c.jsx("td",{className:"py-2 px-4",children:c.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.classTimes.length>0?b.classTimes.map(x=>c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(x.profession)?c.jsx("img",{src:t(x.profession),alt:x.profession,className:"w-3.5 h-3.5 object-contain"}):null,c.jsx("span",{children:x.profession}),c.jsx("span",{className:"text-gray-400",children:vp(x.timeMs)})]},`${b.account}-${x.profession}`)):c.jsx("span",{className:"text-gray-500",children:"-"})})}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:vp(Number(b.combatTimeMs??b.squadTimeMs??0))}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:vp(b.squadTimeMs)})]},b.account)),h.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},ese=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},tse=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null),[o,l]=v.useState(""),u=o.trim().toLowerCase(),d=Fm("svg/commander_tag.svg");v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=v.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!u)return!1;const p=String(m.account||"").toLowerCase(),g=String(m.characterName||"").toLowerCase(),b=String(m.profession||"").toLowerCase();return p.includes(u)||g.includes(u)||b.includes(u)};return c.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Pr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),c.jsx("div",{className:"mb-4",children:c.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return c.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",ese(m.timestamp)]})]},m.id)})})]}),c.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?c.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>c.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[c.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),c.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,g)=>(()=>{const b=h(p);return c.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${b?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?c.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,c.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[c.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?c.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):c.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),c.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:c.jsx("span",{className:"truncate min-w-0",children:p.account})}),c.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${g}`)})())})]},`${f.id}-party-${m.party}`))}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},nse=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},rse=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null);v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(u=>u.id===a))&&s(e[0].id)},[e,a]);const o=v.useMemo(()=>e.find(u=>u.id===a)||null,[e,a]),l=v.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([u,d])=>({profession:u,count:Number(d||0)})).filter(u=>u.count>0).sort((u,d)=>d.count-u.count||u.profession.localeCompare(d.profession)):[],[o]);return c.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Cl,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(u=>{const d=u.id===a;return c.jsxs("button",{onClick:()=>s(u.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:u.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:u.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[u.duration||"--:--","  ",nse(u.timestamp)]})]},u.id)})})]}),c.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:o?c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),c.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(u=>{const d=Array.isArray(u.players)&&u.players.length>0?u.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession)||f.characterName.localeCompare(h.characterName)||f.account.localeCompare(h.account)):Object.entries(u.classCounts||{}).flatMap(([f,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession));return c.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[c.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:u.party>0?`P${u.party}`:"Unk"}),c.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,h)=>c.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?c.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):c.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${u.party}-${f.profession}-${f.account||f.characterName||h}-${h}`)):c.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${u.party}`)})})]}),c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),c.jsx("div",{className:"p-2",children:l.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(u=>c.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[c.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:u.profession,children:t(u.profession)?c.jsx("img",{src:t(u.profession),alt:u.profession,className:"w-3 h-3 object-contain"}):c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),c.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:u.count})]},`${o.id}-enemy-${u.profession}`))}):c.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},ise=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:u,canShareDiscord:d,onShare:f})=>{const h=u||!d,m=d?"":"Select a Discord webhook to enable sharing.";return c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[c.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&c.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:c.jsx(o5,{className:"w-6 h-6"})}),c.jsxs("div",{className:"space-y-0",children:[c.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Oc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),c.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&c.jsxs("div",{className:"flex items-center gap-3",children:[i&&c.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[c.jsx(X0,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),c.jsxs("button",{onClick:l,disabled:o,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[c.jsx(RU,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),c.jsxs("div",{className:"relative group",title:m,children:[c.jsxs("button",{onClick:f,disabled:h,"aria-disabled":h,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(LU,{className:"w-4 h-4"}),u?"Sharing...":"Share to Discord"]}),!d&&c.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},ase=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=v.useState("idle"),u=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),c.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&c.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&c.jsx(IU,{className:"w-3 h-3 animate-spin"}),r==="built"&&c.jsx(l5,{className:"w-3 h-3"}),r==="errored"&&c.jsx(d5,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),u&&c.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},sse=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?c.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):c.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&c.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Vs="space-y-1 pr-1 max-h-72 overflow-y-auto",ose=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),lse=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","boon-timeline","offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],FD={logRecords:[],players:[],skillOptions:[],resUtilitySkills:[]},gb=[];function cse({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:u=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0,statsDataProgress:p,aggregationResult:g}){var SC,NC;const b=n||g5,x=r||By,w=a||a8,y=x.showTopStats,N=x.showMvp,C=x.roundCountStats,S=x.topStatsMode||"total",[j,M]=v.useState(x.topSkillsMetric||"damage"),$=(i?x.topSkillsMetric:j)||"damage",T=w.uploading,_=w.message,O=w.url,G=w.buildStatus,J=!u&&!1,[ue,ge]=v.useState(!0),Y=v.useCallback(P=>d?d(P):!0,[d]),q=!!g,{result:K,aggregationProgress:E,aggregationDiagnostics:D}=dV({logs:q?[]:e,precomputedStats:q?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),ie=g||K,k=(g==null?void 0:g.aggregationProgress)||E,V=(g==null?void 0:g.aggregationDiagnostics)||D,{stats:W,skillUsageData:re}=ie,ne=v.useMemo(()=>{const P=Math.max(0,Number((p==null?void 0:p.total)||e.length||0)),z=Math.min(P,Math.max(0,Number((p==null?void 0:p.pending)||0))),B=Math.min(P,Math.max(0,Number((p==null?void 0:p.processed)||P-z))),Ce=Math.max(0,Number((p==null?void 0:p.unavailable)||0));if(!!(p!=null&&p.active)&&P>0&&z>0){const Mt=P>0?Math.max(1,Math.min(99,Math.round(B/P*100))):0,Bt=Ce>0?`  ${Ce} unavailable`:"";return{active:!0,phaseLabel:"Loading fight details",progressText:`${B} of ${P} fights prepared${Bt}`,progressPercent:Mt}}if(P>0&&Ce>=P)return{active:!0,phaseLabel:"Fight details unavailable",progressText:`${Ce} of ${P} fights could not be loaded from dps.report`,progressPercent:100};if(P>0&&e.length===0)return{active:!0,phaseLabel:"Preparing fights for stats",progressText:"Syncing uploaded fights into the stats dashboard",progressPercent:5};const Me=Math.max(0,Number((k==null?void 0:k.total)||e.length||0));if(!(!!(k!=null&&k.active)&&(k==null?void 0:k.phase)!=="idle"&&(k==null?void 0:k.phase)!=="settled"&&Me>0))return{active:!1,phaseLabel:"",progressText:"",progressPercent:0};const et=Math.min(Math.max(Number((k==null?void 0:k.streamed)||0),0),Me),gt=(k==null?void 0:k.phase)==="streaming"?"Loading fight data":"Finalizing squad stats",Ze=(k==null?void 0:k.phase)==="streaming"?`${et} of ${Me} fights loaded`:"All fights loaded  calculating final totals",At=(k==null?void 0:k.phase)==="streaming"?Math.max(1,Math.min(99,Math.round(et/Me*100))):99;return{active:!0,phaseLabel:gt,progressText:Ze,progressPercent:At}},[p,k,e.length]),se=v.useMemo(()=>{if(!V)return"";const P=Ce=>{const De=Math.max(0,Number(Ce||0));return De>=1e4?`${(De/1e3).toFixed(1)}s`:De>=1e3?`${(De/1e3).toFixed(2)}s`:`${Math.round(De)}ms`},z=[`Load ${P(V.streamMs)}`,`Calculate ${P(V.computeMs)}`,`Total ${P(V.totalMs)}`],B=V.transferStripStats;if(V.mode==="worker"&&B){const Ce=Number(B.spikeSkillRowsRemoved||0),De=Number(B.incomingSkillRowsRemoved||0),Me=Number(B.playerSkillMapsRemoved||0),Z=Ce+De+Me;Z>0&&z.push(`Cleaned up ${Z.toLocaleString()} temporary records`)}return V.mode==="worker"&&Number(V.droppedLogMessages||0)>0&&z.push(`Skipped ${Number(V.droppedLogMessages||0)} outdated updates`),z.join("  ")},[V]),F=ne.active,U=ne.phaseLabel,H=ne.progressText,ee=F&&ne.progressPercent<100;v.useEffect(()=>{if(F){ge(!1);return}let P=!1;const z=()=>{P||ge(!0)},B=window.requestIdleCallback;let Ce=null;return typeof B=="function"?Ce=B(()=>z(),{timeout:220}):Ce=window.setTimeout(z,60),()=>{if(P=!0,Ce!==null)if(typeof B=="function"){const De=window.cancelIdleCallback;typeof De=="function"&&De(Ce)}else window.clearTimeout(Ce)}},[F]);const R=ue&&!F,ce=R&&(Y("top-skills-outgoing")||Y("player-breakdown")||Y("damage-breakdown")),X=R&&Y("skill-usage"),ae=R&&Y("apm-stats"),ze=R&&Y("spike-damage"),Ve=R&&Y("incoming-strike-damage"),he=R&&Y("conditions-outgoing"),L=v.useMemo(()=>{var Ze,At,Mt,Bt,fn,Ut;const P=W&&typeof W=="object"?W:{},z=Jt=>Array.isArray(Jt)?Jt:[],B=Jt=>Jt&&typeof Jt=="object"?Jt:{},Ce=(Jt,Wn)=>Jt&&typeof Jt=="object"?Jt:Wn,De={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Me={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},Z={...P,total:Number(P.total||0),timelineData:z(P.timelineData),mapData:z(P.mapData),fightBreakdown:z(P.fightBreakdown),topSkills:z(P.topSkills),topIncomingSkills:z(P.topIncomingSkills),leaderboards:B(P.leaderboards),topStatsPerSecond:B(P.topStatsPerSecond),topStatsLeaderboardsPerSecond:B(P.topStatsLeaderboardsPerSecond),maxDownContrib:Ce(P.maxDownContrib,De),maxBarrier:Ce(P.maxBarrier,De),maxHealing:Ce(P.maxHealing,De),maxDodges:Ce(P.maxDodges,De),maxStrips:Ce(P.maxStrips,De),maxCleanses:Ce(P.maxCleanses,De),maxCC:Ce(P.maxCC,De),maxStab:Ce(P.maxStab,De),closestToTag:Ce(P.closestToTag,De),mvp:{...Me,...B(P.mvp),topStats:z((Ze=P==null?void 0:P.mvp)==null?void 0:Ze.topStats)},silver:Ce(P.silver,Me),bronze:Ce(P.bronze,Me),avgMvpScore:Number(P.avgMvpScore||0),offensePlayers:z(P.offensePlayers),defensePlayers:z(P.defensePlayers),damageMitigationPlayers:z(P.damageMitigationPlayers),damageMitigationMinions:z(P.damageMitigationMinions),supportPlayers:z(P.supportPlayers),healingPlayers:z(P.healingPlayers),boonTables:z(P.boonTables),boonTimeline:z(P.boonTimeline),specialTables:z(P.specialTables),outgoingConditionSummary:z(P.outgoingConditionSummary),outgoingConditionPlayers:z(P.outgoingConditionPlayers),incomingConditionSummary:z(P.incomingConditionSummary),incomingConditionPlayers:z(P.incomingConditionPlayers),squadClassData:z(P.squadClassData),enemyClassData:z(P.enemyClassData),attendanceData:z(P.attendanceData),squadCompByFight:z(P.squadCompByFight),fightDiffMode:z(P.fightDiffMode),playerSkillBreakdowns:z(P.playerSkillBreakdowns)},gt=z((At=Z.leaderboards)==null?void 0:At.downContrib).map(Jt=>({...Jt,value:Number((Jt==null?void 0:Jt.value)??0)})).filter(Jt=>Number.isFinite(Jt.value)).sort((Jt,Wn)=>Wn.value-Jt.value||String((Jt==null?void 0:Jt.account)||"").localeCompare(String((Wn==null?void 0:Wn.account)||"")))[0];return gt&&(Z.maxDownContrib={...Z.maxDownContrib||{},value:Number(gt.value||0),player:String(gt.account||((Mt=Z.maxDownContrib)==null?void 0:Mt.player)||"-"),count:Number(gt.count||((Bt=Z.maxDownContrib)==null?void 0:Bt.count)||0),profession:String(gt.profession||((fn=Z.maxDownContrib)==null?void 0:fn.profession)||"Unknown"),professionList:Array.isArray(gt.professionList)?gt.professionList:((Ut=Z.maxDownContrib)==null?void 0:Ut.professionList)||[]}),Z},[W]);v.useEffect(()=>{var De;if(!((De=window==null?void 0:window.electronAPI)!=null&&De.fetchImageAsDataUrl)||F)return;let P=!1;const z=()=>{if(P)return;const Me=new Set,Z=At=>{typeof At=="string"&&/^https?:\/\//i.test(At)&&Me.add(At)},et=At=>{At.forEach(Mt=>{Z(Mt==null?void 0:Mt.icon),Z(Mt==null?void 0:Mt.iconUrl)})};et(Array.isArray(L==null?void 0:L.topSkills)?L.topSkills:[]),et(Array.isArray(L==null?void 0:L.topIncomingSkills)?L.topIncomingSkills:[]),et(Array.isArray(L==null?void 0:L.topSkillsByDamage)?L.topSkillsByDamage:[]),et(Array.isArray(L==null?void 0:L.topSkillsByDownContribution)?L.topSkillsByDownContribution:[]),et(Array.isArray(L==null?void 0:L.outgoingConditionSummary)?L.outgoingConditionSummary:[]),et(Array.isArray(L==null?void 0:L.incomingConditionSummary)?L.incomingConditionSummary:[]),(Array.isArray(L==null?void 0:L.boonTables)?L.boonTables:[]).forEach(At=>{Z(At==null?void 0:At.icon)}),(Array.isArray(L==null?void 0:L.specialTables)?L.specialTables:[]).forEach(At=>{Z(At==null?void 0:At.icon)}),ce&&(Array.isArray(L==null?void 0:L.playerSkillBreakdowns)?L.playerSkillBreakdowns:[]).forEach(Mt=>{const Bt=Array.isArray(Mt==null?void 0:Mt.skills)?Mt.skills:[];et(Bt)}),Me.size>0&&vae(Array.from(Me))},B=window.requestIdleCallback;let Ce=null;return typeof B=="function"?Ce=B(()=>z(),{timeout:500}):Ce=window.setTimeout(z,120),()=>{if(P=!0,Ce!==null)if(typeof B=="function"){const Me=window.cancelIdleCallback;typeof Me=="function"&&Me(Ce)}else window.clearTimeout(Ce)}},[L,F,ce]);const Pe=v.useMemo(()=>{const P=(l==null?void 0:l.skillUsageData)??re;return{logRecords:Array.isArray(P==null?void 0:P.logRecords)?P.logRecords:[],players:Array.isArray(P==null?void 0:P.players)?P.players:[],skillOptions:Array.isArray(P==null?void 0:P.skillOptions)?P.skillOptions:[],resUtilitySkills:Array.isArray(P==null?void 0:P.resUtilitySkills)?P.resUtilitySkills:[]}},[re,l==null?void 0:l.skillUsageData]),Ee=Pe.players.length>0;v.useEffect(()=>{i||M(x.topSkillsMetric||"damage")},[x.topSkillsMetric,i]);const xt=P=>{if(i){i({...x,topSkillsMetric:P});return}M(P)},{scrollContainerRef:zt}=UU(u,!0,ee),{devMockUploadState:pn,webCopyStatus:ke,setWebCopyStatus:Qe,handleWebUpload:Tt,handleDevMockUpload:nn}=m8({logs:e,stats:L,skillUsageData:Pe,activeStatsViewSettings:r||By,uiTheme:h||"classic",embedded:u,onWebUpload:s}),{sharing:Xt,handleShare:Nr}=oV(u),Bn={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},un=P=>{const z=Bn[P];return z?b[z]>0:!0},[ss,gn]=v.useState(null),[Cn,jn]=v.useState(null),[ji,Lr]=v.useState("totalBuffs"),[Dr,cu]=v.useState("total"),[ao,el]=v.useState(""),[ti,Ts]=v.useState(""),[sr,ga]=v.useState(null),[ni,$a]=v.useState("squadBuffs"),[Es,uu]=v.useState(""),[Qn,xa]=v.useState(null),[Zi,du]=v.useState(null),[Ji,ec]=v.useState(null),[tc,Vd]=v.useState(""),[va,Ms]=v.useState(null),[tl,nl]=v.useState(""),[te,Ae]=v.useState(""),[We,bt]=v.useState(""),[Rt,qt]=v.useState(""),[dn,Pt]=v.useState(""),[yt,Rn]=v.useState(""),[$r,A]=v.useState(""),[I,Q]=v.useState("outgoing"),[pe,le]=v.useState(""),[Ge,ve]=v.useState("damage"),[ut,ht]=v.useState("damageTaken"),[_t,Lt]=v.useState("totalMitigation"),[Ue,$e]=v.useState("all"),[ot,Te]=v.useState({key:"damage",dir:"desc"}),it=!(Ue!=="all"&&ose.has(Ue)),kt=it?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",je=it?ot:{key:"applications",dir:ot.key==="applications"?ot.dir:"desc"},[_e,Re]=v.useState("condiCleanse"),[He,qe]=v.useState("healing"),[Xe,be]=v.useState("total"),[nt,ft]=v.useState("all"),[fe,xe]=v.useState("total"),[at,wt]=v.useState("total"),[Se,de]=v.useState("total"),[$t,Ne]=v.useState("total"),[Le,lt]=v.useState("all"),[pt,Je]=v.useState("squad"),[Be,ct]=v.useState("player"),[mt,Et]=v.useState(""),[Qt,xn]=v.useState(""),[cn,kn]=v.useState(null),[Mn,An]=v.useState([]),[rn,Zn]=v.useState(null),[Sn,Hr]=v.useState(null),[an,ri]=v.useState("hit"),[Tr,so]=v.useState("all"),[Jn,Os]=v.useState(null),[ii,Is]=v.useState(null),[Er,rl]=v.useState("hit"),[nc,fu]=v.useState([]),[Ie,Ke]=v.useState(null),[ye,Fe]=v.useState(!1),dt=v.useRef(null),[on,Nn]=v.useState("sizes"),[On,Vn]=v.useState("total"),ea=On==="perSecond",[ai,Bi]=v.useState(null),[rc,ta]=v.useState("total"),[_s,ic]=v.useState(null),[na,Ls]=v.useState(null),[Fa,mu]=v.useState(null),[kh,Sh]=v.useState(""),[$s,hu]=v.useState(null),[pu,zi]=v.useState(null),[Ai,Fs]=v.useState(null),[ac,sc]=v.useState(""),[LR,$R]=v.useState("player"),[oc,uv]=v.useState(null),[FR,cC]=v.useState(null),[oo,Nh]=v.useState(null),RR=ae?Pe:FD,{apmSpecBuckets:il}=fV(RR),lo=v.useMemo(()=>ce?L.playerSkillBreakdowns||[]:gb,[ce,L.playerSkillBreakdowns]),dv=v.useMemo(()=>{const P=new Map;return lo.forEach(z=>P.set(z.key,z)),P},[lo]),gu=v.useMemo(()=>{const P=new Map;return lo.forEach(z=>{const B=z.profession||"Unknown";P.has(B)||P.set(B,{profession:B,players:[],skills:new Map});const Ce=P.get(B);Ce.players.push(z),z.skills.forEach(De=>{var Z;const Me=Ce.skills.get(De.id)||{...De,damage:0,downContribution:0};Me.damage+=Number(De.damage||0),Me.downContribution+=Number(De.downContribution||0),!Me.icon&&De.icon&&(Me.icon=De.icon),(Z=Me.name)!=null&&Z.startsWith("Skill ")&&!De.name.startsWith("Skill ")&&(Me.name=De.name),Ce.skills.set(De.id,Me)})}),Array.from(P.values()).map(z=>{const B=Array.from(z.skills.values()).sort((De,Me)=>Me.damage-De.damage),Ce=B.reduce((De,Me)=>(De[Me.id]=Me,De),{});return{profession:z.profession,players:z.players,skills:B,skillMap:Ce}}).sort((z,B)=>z.profession.localeCompare(B.profession))},[lo]),co=$s&&dv.get($s)||null,BR=co&&Ai&&(((SC=co.skillMap)==null?void 0:SC[Ai])||co.skills.find(P=>P.id===Ai))||null,fv=v.useMemo(()=>{const P=new Map;return gu.forEach(z=>P.set(z.profession,z)),P},[gu]),al=oc&&fv.get(oc)||null,zR=al&&oo&&((NC=al.skillMap)==null?void 0:NC[oo])||null,Ch=(P,z)=>{if(!z)return null;const B=Number(z.index);if(Number.isInteger(B)&&B>=0&&B<P.length)return P[B]||null;const Ce=String(z.fightId||"").trim();return Ce&&P.find(De=>String((De==null?void 0:De.id)||"").trim()===Ce)||null},sl=P=>{if(P&&typeof P=="object"){const B=Number((P==null?void 0:P.damage)||0),Ce=Array.isArray(P==null?void 0:P.skillRows)?P.skillRows:void 0,De=(Ce||[]).reduce((Me,Z)=>Me+Number((Z==null?void 0:Z.downContribution)||0),0);return{hit:Number((P==null?void 0:P.hit)??B),burst1s:Number((P==null?void 0:P.burst1s)||0),burst5s:Number((P==null?void 0:P.burst5s)||0),burst30s:Number((P==null?void 0:P.burst30s)||0),hitDown:Number((P==null?void 0:P.hitDown)||De||0),burst1sDown:Number((P==null?void 0:P.burst1sDown)||0),burst5sDown:Number((P==null?void 0:P.burst5sDown)||0),burst30sDown:Number((P==null?void 0:P.burst30sDown)||0),skillName:String((P==null?void 0:P.skillName)||""),buckets5s:Array.isArray(P==null?void 0:P.buckets5s)?P.buckets5s:void 0,buckets5sDown:Array.isArray(P==null?void 0:P.buckets5sDown)?P.buckets5sDown:void 0,downIndices5s:Array.isArray(P==null?void 0:P.downIndices5s)?P.downIndices5s:void 0,deathIndices5s:Array.isArray(P==null?void 0:P.deathIndices5s)?P.deathIndices5s:void 0,skillRows:Ce}}return{hit:Number(P||0),burst1s:0,burst5s:0,burst30s:0,hitDown:0,burst1sDown:0,burst5sDown:0,burst30sDown:0,skillName:"",buckets5s:void 0,buckets5sDown:void 0,downIndices5s:void 0,deathIndices5s:void 0,skillRows:void 0}},ba=v.useMemo(()=>{if(!ze)return{fights:[],players:[]};const P=me=>String(me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),z=me=>P(me).toLowerCase().split(/[^a-z0-9]+/i).map(Ye=>Ye.trim()).filter(Boolean).map(Ye=>Ye.length>3&&Ye.endsWith("s")?Ye.slice(0,-1):Ye),B=(me,Ye)=>{const oe=P(me),jt=P(Ye);if(!jt)return oe;if(!oe)return jt;const St=z(oe),sn=z(jt),mn=new Set(St),er=new Set(sn),Vt=sn.length>0&&sn.every(Ot=>mn.has(Ot)),Zt=St.length>0&&St.every(Ot=>er.has(Ot));return Vt||Zt?oe:`${oe} - ${jt}`},Ce=me=>{if(me==null||me==="")return 0;if(typeof me=="number")return!Number.isFinite(me)||me<=0?0:me>1e12?me:me*1e3;if(me instanceof Date){const mn=me.getTime();return Number.isFinite(mn)&&mn>0?mn:0}const Ye=String(me).trim();if(!Ye)return 0;const oe=Number(Ye);if(Number.isFinite(oe)&&oe>0)return oe>1e12?oe:oe*1e3;const jt=Date.parse(Ye);if(Number.isFinite(jt)&&jt>0)return jt;const St=Ye.replace(/([+-]\d{2})$/,"$1:00"),sn=Date.parse(St);return Number.isFinite(sn)&&sn>0?sn:0},De=(me,Ye)=>Ce((me==null?void 0:me.uploadTime)??(Ye==null?void 0:Ye.uploadTime)??(me==null?void 0:me.timeStartStd)??(me==null?void 0:me.timeStart)??(me==null?void 0:me.timeEndStd)??(me==null?void 0:me.timeEnd)),Me=L==null?void 0:L.spikeDamage,Z=Array.isArray(Me==null?void 0:Me.fights)?Me.fights:[],et=Array.isArray(Me==null?void 0:Me.players)?Me.players:[],gt=Z.some(me=>(me!=null&&me.values&&typeof me.values=="object"?Object.values(me.values):[]).some(oe=>oe&&typeof oe=="object"&&(Number(oe.burst1s||0)>0||Number(oe.burst5s||0)>0||Number(oe.burst30s||0)>0)))||et.some(me=>Number((me==null?void 0:me.peak1s)||0)>0||Number((me==null?void 0:me.peak5s)||0)>0||Number((me==null?void 0:me.peak30s)||0)>0),Ze=Z.some(me=>(me!=null&&me.values&&typeof me.values=="object"?Object.values(me.values):[]).some(oe=>oe&&typeof oe=="object"&&(Number(oe.hitDown||0)>0||Number(oe.burst1sDown||0)>0||Number(oe.burst5sDown||0)>0||Number(oe.burst30sDown||0)>0)))||et.some(me=>Number((me==null?void 0:me.peakHitDown)||0)>0||Number((me==null?void 0:me.peak1sDown)||0)>0||Number((me==null?void 0:me.peak5sDown)||0)>0||Number((me==null?void 0:me.peak30sDown)||0)>0);if((Z.length>0||et.length>0)&&(gt||e.length===0)&&(Tr!=="downContribution"||Ze||e.length===0)){const me=Z.map((oe,jt)=>{const St=oe!=null&&oe.values&&typeof oe.values=="object"?oe.values:{};return{id:String((oe==null?void 0:oe.id)||`fight-${jt+1}`),shortLabel:String((oe==null?void 0:oe.shortLabel)||`F${jt+1}`),fullLabel:P((oe==null?void 0:oe.fullLabel)||`Fight ${jt+1}`),timestamp:Number((oe==null?void 0:oe.timestamp)||0),values:St,maxHit:Number((oe==null?void 0:oe.maxHit)??(oe==null?void 0:oe.maxDamage)??0),max1s:Number((oe==null?void 0:oe.max1s)||0),max5s:Number((oe==null?void 0:oe.max5s)||0),max30s:Number((oe==null?void 0:oe.max30s)||0),maxHitDown:Number((oe==null?void 0:oe.maxHitDown)||0),max1sDown:Number((oe==null?void 0:oe.max1sDown)||0),max5sDown:Number((oe==null?void 0:oe.max5sDown)||0),max30sDown:Number((oe==null?void 0:oe.max30sDown)||0)}}),Ye=et.map(oe=>({key:String((oe==null?void 0:oe.key)||""),account:String((oe==null?void 0:oe.account)||"Unknown"),displayName:String((oe==null?void 0:oe.displayName)||(oe==null?void 0:oe.account)||"Unknown"),characterName:String((oe==null?void 0:oe.characterName)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.character_name)||(oe==null?void 0:oe.display_name)||""),profession:String((oe==null?void 0:oe.profession)||"Unknown"),professionList:Array.isArray(oe==null?void 0:oe.professionList)?oe.professionList.map(jt=>String(jt)):[],logs:Number((oe==null?void 0:oe.logs)||0),peakHit:Number((oe==null?void 0:oe.peakHit)||0),peak1s:Number((oe==null?void 0:oe.peak1s)||0),peak5s:Number((oe==null?void 0:oe.peak5s)||0),peak30s:Number((oe==null?void 0:oe.peak30s)||0),peakHitDown:Number((oe==null?void 0:oe.peakHitDown)||0),peak1sDown:Number((oe==null?void 0:oe.peak1sDown)||0),peak5sDown:Number((oe==null?void 0:oe.peak5sDown)||0),peak30sDown:Number((oe==null?void 0:oe.peak30sDown)||0),peakFightLabel:P((oe==null?void 0:oe.peakFightLabel)||""),peakSkillName:String((oe==null?void 0:oe.peakSkillName)||"")}));return{fights:me,players:Ye}}const Mt=(me,Ye)=>{const oe=(Ye==null?void 0:Ye.skillMap)||{},jt=(Ye==null?void 0:Ye.buffMap)||{};let St=0,sn=0,mn="";const er=Ot=>{const vn=Number(Ot);if(!Number.isFinite(vn))return String(Ot||"Unknown Skill");const tr=(oe==null?void 0:oe[`s${vn}`])||(oe==null?void 0:oe[`${vn}`]);if(tr!=null&&tr.name)return String(tr.name);const Ra=(jt==null?void 0:jt[`b${vn}`])||(jt==null?void 0:jt[`${vn}`]);return Ra!=null&&Ra.name?String(Ra.name):`Skill ${vn}`},Vt=Ot=>{if(!Ot||typeof Ot!="object")return;const vn=[Number(Ot.max),Number(Ot.maxDamage),Number(Ot.maxHit)].filter(Kd=>Number.isFinite(Kd)),tr=vn.length>0?Math.max(...vn):0;tr>St&&(St=tr,mn=er(Ot.id));const Ra=Number(Ot.downContribution||0);Ra>sn&&(sn=Ra)};let Zt=!1;return Array.isArray(me==null?void 0:me.targetDamageDist)&&me.targetDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(vn=>{Array.isArray(vn)&&vn.forEach(tr=>{Zt=!0,Vt(tr)})})}),(!Zt||St<=0)&&Array.isArray(me==null?void 0:me.totalDamageDist)&&me.totalDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(vn=>Vt(vn))}),{peak:St,peakDownContribution:sn,skillName:mn||"Unknown Skill"}},Bt=me=>{const Ye=Vt=>{if(!Array.isArray(Vt)||Vt.length===0)return[];const Zt=[];for(let Ot=0;Ot<Vt.length;Ot+=1){const vn=Number(Vt[Ot]||0),tr=Ot>0?Number(Vt[Ot-1]||0):0;Zt.push(Math.max(0,vn-tr))}return Zt},oe=Vt=>{if(!Array.isArray(Vt))return[];const Zt=Vt.reduce((vn,tr)=>Math.max(vn,Array.isArray(tr)?tr.length:0),0);if(Zt<=0)return[];const Ot=new Array(Zt).fill(0);return Vt.forEach(vn=>{if(Array.isArray(vn))for(let tr=0;tr<Zt;tr+=1)Ot[tr]+=Number(vn[tr]||0)}),Ot},jt=Vt=>Array.isArray(Vt)?Vt.map(Zt=>Number(Zt||0)):null,sn=(Vt=>{if(!Array.isArray(Vt)||Vt.length===0)return null;const Zt=Vt[0];if(!Array.isArray(Zt))return null;if(Array.isArray(Zt[0])&&Array.isArray(Zt[0][0]))return oe(Zt);if(Array.isArray(Zt[0])&&!Array.isArray(Zt[0][0])){const Ot=Vt.map(vn=>jt(Array.isArray(vn)?vn[0]:null)).filter(vn=>Array.isArray(vn)&&vn.length>0);if(Ot.length>0)return oe(Ot)}return null})(me==null?void 0:me.targetDamage1S),mn=Array.isArray(me==null?void 0:me.damage1S)&&Array.isArray(me.damage1S[0])?me.damage1S[0]:null,er=sn||(Array.isArray(mn)?mn.map(Vt=>Number(Vt||0)):[]);return Ye(er)},fn=(me,Ye)=>{if(!Array.isArray(me)||me.length===0||Ye<=0)return 0;let oe=0,jt=0;for(let St=0;St<me.length;St+=1)oe+=Number(me[St]||0),St>=Ye&&(oe-=Number(me[St-Ye]||0)),St>=Ye-1&&oe>jt&&(jt=oe);return Math.max(0,jt)},Ut=(me,Ye)=>{if(!Array.isArray(me)||me.length===0||Ye<=0)return[];const oe=[];for(let jt=0;jt<me.length;jt+=Ye){const St=Math.min(jt+Ye,me.length),sn=me.slice(jt,St).reduce((mn,er)=>mn+Number(er||0),0);oe.push(sn)}return oe},Jt=(me,Ye)=>{let oe=0,jt=0;const St=new Map,sn=er=>{if(!er||typeof er!="object"||er.indirectDamage)return;const Vt=Number(er.totalDamage||0),Zt=Number(er.downContribution||0);!Number.isFinite(Vt)&&!Number.isFinite(Zt)||(oe+=Number.isFinite(Vt)?Vt:0,jt+=Number.isFinite(Zt)?Zt:0)};return Array.isArray(me==null?void 0:me.targetDamageDist)&&me.targetDamageDist.forEach(er=>{Array.isArray(er)&&er.forEach(Vt=>{Array.isArray(Vt)&&Vt.forEach(Zt=>{const Ot=Number(Zt==null?void 0:Zt.id);if(Number.isFinite(Ot)){const vn=St.get(Ot)||{damage:0,downContribution:0};vn.damage+=Number((Zt==null?void 0:Zt.totalDamage)||0),vn.downContribution+=Number((Zt==null?void 0:Zt.downContribution)||0),St.set(Ot,vn)}sn(Zt)})})}),!(Ye!=null&&Ye.detailedWvW)&&Array.isArray(me==null?void 0:me.totalDamageDist)&&me.totalDamageDist.forEach(er=>{Array.isArray(er)&&er.forEach(Vt=>{const Zt=Number(Vt==null?void 0:Vt.id);if(!Number.isFinite(Zt)){sn(Vt);return}const Ot=St.get(Zt);if(!Ot){sn(Vt);return}const vn=Number((Vt==null?void 0:Vt.totalDamage)||0)-Number(Ot.damage||0),tr=Number((Vt==null?void 0:Vt.downContribution)||0)-Number(Ot.downContribution||0);vn<=0&&tr<=0||sn({...Vt,totalDamage:Math.max(0,vn),downContribution:Math.max(0,tr)})})}),{damageTotal:Math.max(0,oe),downContributionTotal:Math.max(0,jt)}},Wn=[],Kt=new Map;e.forEach(me=>{const Ye=me==null?void 0:me.details;if(!Ye)return;const oe=Wn.length+1,jt=P(Ye.fightName||me.fightName||`Fight ${oe}`),St=Ye.zone||Ye.mapName||Ye.map||Ye.location||"",sn=B(jt,String(St||"")),mn={};(Array.isArray(Ye.players)?Ye.players:[]).forEach(ln=>{if(ln!=null&&ln.notInSquad)return;const bn=String((ln==null?void 0:ln.account)||(ln==null?void 0:ln.name)||"Unknown"),Gd=String((ln==null?void 0:ln.character_name)||(ln==null?void 0:ln.display_name)||(ln==null?void 0:ln.name)||""),ol=String((ln==null?void 0:ln.profession)||"Unknown"),yu=`${bn}|${ol}`,ll=Mt(ln,Ye),ho=Number(ll.peak||0),Yd=Number(ll.peakDownContribution||0),cl=Bt(ln),{damageTotal:Ih,downContributionTotal:lc}=Jt(ln,Ye),_h=Ih>0?Math.min(1,Math.max(0,lc/Ih)):0,ul=cl.map(ls=>Number(ls||0)*_h),wu=Number(fn(cl,1)||0),Oe=Number(fn(cl,5)||0),vt=Number(fn(cl,30)||0),Wt=Number(fn(ul,1)||0),Pn=Number(fn(ul,5)||0),en=Number(fn(ul,30)||0),Gt=Math.max(0,Math.ceil(Number((Ye==null?void 0:Ye.durationMS)||0)/5e3)),Dn=Math.max(0,Math.ceil(cl.length/5)),si=Math.max(0,Math.ceil(ul.length/5)),Mr=Math.max(Gt,Dn,si),cc=Ut(cl,5),Lh=Ut(ul,5),or=Array.from({length:Mr},(ls,uc)=>Number(cc[uc]||0)),Ba=Array.from({length:Mr},(ls,uc)=>Number(Lh[uc]||0));mn[yu]={hit:ho,burst1s:wu,burst5s:Oe,burst30s:vt,hitDown:Yd,burst1sDown:Wt,burst5sDown:Pn,burst30sDown:en,skillName:ll.skillName,buckets5s:or,buckets5sDown:Ba};const $n=Kt.get(yu)||{key:yu,account:bn,displayName:bn,characterName:Gd,profession:ol,professionList:[ol],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};$n.logs+=1,$n.professionList.includes(ol)||$n.professionList.push(ol),!$n.characterName&&Gd&&($n.characterName=Gd),ho>$n.peakHit&&($n.peakHit=ho,$n.peakFightLabel=sn,$n.peakSkillName=ll.skillName),wu>$n.peak1s&&($n.peak1s=wu),Oe>$n.peak5s&&($n.peak5s=Oe),vt>$n.peak30s&&($n.peak30s=vt),Yd>$n.peakHitDown&&($n.peakHitDown=Yd),Wt>$n.peak1sDown&&($n.peak1sDown=Wt),Pn>$n.peak5sDown&&($n.peak5sDown=Pn),en>$n.peak30sDown&&($n.peak30sDown=en),Kt.set(yu,$n)});const Vt=Object.values(mn).reduce((ln,bn)=>Math.max(ln,Number((bn==null?void 0:bn.hit)||0)),0),Zt=Object.values(mn).reduce((ln,bn)=>Math.max(ln,Number((bn==null?void 0:bn.burst1s)||0)),0),Ot=Object.values(mn).reduce((ln,bn)=>Math.max(ln,Number((bn==null?void 0:bn.burst5s)||0)),0),vn=Object.values(mn).reduce((ln,bn)=>Math.max(ln,Number((bn==null?void 0:bn.burst30s)||0)),0),tr=Object.values(mn).reduce((ln,bn)=>Math.max(ln,Number((bn==null?void 0:bn.hitDown)||0)),0),Ra=Object.values(mn).reduce((ln,bn)=>Math.max(ln,Number((bn==null?void 0:bn.burst1sDown)||0)),0),Kd=Object.values(mn).reduce((ln,bn)=>Math.max(ln,Number((bn==null?void 0:bn.burst5sDown)||0)),0),CC=Object.values(mn).reduce((ln,bn)=>Math.max(ln,Number((bn==null?void 0:bn.burst30sDown)||0)),0);Wn.push({id:me.filePath||me.id||`fight-${oe}`,shortLabel:`F${oe}`,fullLabel:sn,timestamp:De(Ye,me),values:mn,maxHit:Vt,max1s:Zt,max5s:Ot,max30s:vn,maxHitDown:tr,max1sDown:Ra,max5sDown:Kd,max30sDown:CC})});const In=Array.from(Kt.values()).sort((me,Ye)=>Ye.peakHit!==me.peakHit?Ye.peakHit-me.peakHit:me.displayName.localeCompare(Ye.displayName));return{fights:Wn,players:In}},[e,L,ze,Tr]),ya=v.useMemo(()=>{if(!Ve)return{fights:[],players:[]};const P=Z=>String(Z||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),z=L==null?void 0:L.incomingStrikeDamage,B=Array.isArray(z==null?void 0:z.fights)?z.fights:[],Ce=Array.isArray(z==null?void 0:z.players)?z.players:[];if(B.length===0&&Ce.length===0)return{fights:[],players:[]};const De=B.map((Z,et)=>{const gt=Z!=null&&Z.values&&typeof Z.values=="object"?Z.values:{};return{id:String((Z==null?void 0:Z.id)||`fight-${et+1}`),shortLabel:String((Z==null?void 0:Z.shortLabel)||`F${et+1}`),fullLabel:P((Z==null?void 0:Z.fullLabel)||`Fight ${et+1}`),timestamp:Number((Z==null?void 0:Z.timestamp)||0),values:gt,maxHit:Number((Z==null?void 0:Z.maxHit)??(Z==null?void 0:Z.maxDamage)??0),max1s:Number((Z==null?void 0:Z.max1s)||0),max5s:Number((Z==null?void 0:Z.max5s)||0),max30s:Number((Z==null?void 0:Z.max30s)||0),maxHitDown:Number((Z==null?void 0:Z.maxHitDown)||0),max1sDown:Number((Z==null?void 0:Z.max1sDown)||0),max5sDown:Number((Z==null?void 0:Z.max5sDown)||0),max30sDown:Number((Z==null?void 0:Z.max30sDown)||0)}}),Me=Ce.map(Z=>({key:String((Z==null?void 0:Z.key)||""),account:String((Z==null?void 0:Z.account)||"Unknown"),displayName:String((Z==null?void 0:Z.displayName)||(Z==null?void 0:Z.account)||"Unknown"),characterName:String((Z==null?void 0:Z.characterName)||(Z==null?void 0:Z.name)||(Z==null?void 0:Z.character_name)||(Z==null?void 0:Z.display_name)||""),profession:String((Z==null?void 0:Z.profession)||"Unknown"),professionList:Array.isArray(Z==null?void 0:Z.professionList)?Z.professionList.map(et=>String(et)):[],logs:Number((Z==null?void 0:Z.logs)||0),peakHit:Number((Z==null?void 0:Z.peakHit)||0),peak1s:Number((Z==null?void 0:Z.peak1s)||0),peak5s:Number((Z==null?void 0:Z.peak5s)||0),peak30s:Number((Z==null?void 0:Z.peak30s)||0),peakHitDown:Number((Z==null?void 0:Z.peakHitDown)||0),peak1sDown:Number((Z==null?void 0:Z.peak1sDown)||0),peak5sDown:Number((Z==null?void 0:Z.peak5sDown)||0),peak30sDown:Number((Z==null?void 0:Z.peak30sDown)||0),peakFightLabel:P((Z==null?void 0:Z.peakFightLabel)||""),peakSkillName:String((Z==null?void 0:Z.peakSkillName)||"")}));return{fights:De,players:Me}},[L,Ve]),Wd=v.useMemo(()=>{const P=new Map;return ba.players.forEach(z=>P.set(z.key,z)),P},[ba.players]),UR=v.useMemo(()=>{const P=De=>Tr==="downContribution"?an==="hit"?De.peakHitDown:an==="1s"?De.peak1sDown:an==="5s"?De.peak5sDown:De.peak30sDown:an==="hit"?De.peakHit:an==="1s"?De.peak1s:an==="5s"?De.peak5s:De.peak30s,z=yt.trim().toLowerCase(),B=z?ba.players.filter(De=>De.displayName.toLowerCase().includes(z)||De.account.toLowerCase().includes(z)||De.profession.toLowerCase().includes(z)):ba.players,Ce=new Map;return B.forEach(De=>{const Me=De.profession||"Unknown",Z=Ce.get(Me)||[];Z.push(De),Ce.set(Me,Z)}),Array.from(Ce.entries()).map(([De,Me])=>({profession:De,players:[...Me].sort((Z,et)=>P(et)-P(Z)||Z.displayName.localeCompare(et.displayName))})).sort((De,Me)=>De.profession.localeCompare(Me.profession))},[ba.players,yt,an,Tr]),VR=rn&&Wd.get(rn)||null,Rs=v.useMemo(()=>{if(!rn)return[];const P=B=>B?Number(Tr==="downContribution"?an==="hit"?B.hitDown||0:an==="1s"?B.burst1sDown||0:an==="5s"?B.burst5sDown||0:B.burst30sDown||0:an==="hit"?B.hit||0:an==="1s"?B.burst1s||0:an==="5s"?B.burst5s||0:B.burst30s||0):0,z=B=>Number(Tr==="downContribution"?an==="hit"?B.maxHitDown||0:an==="1s"?B.max1sDown||0:an==="5s"?B.max5sDown||0:B.max30sDown||0:an==="hit"?B.maxHit||0:an==="1s"?B.max1s||0:an==="5s"?B.max5s||0:B.max30s||0);return ba.fights.map((B,Ce)=>({index:Ce,fightId:B.id,shortLabel:B.shortLabel,fullLabel:B.fullLabel,timestamp:Number(B.timestamp||0),damage:P(sl(B.values[rn])),maxDamage:z(B),skillName:String(sl(B.values[rn]).skillName||"")}))},[ba.fights,rn,an,Tr]),WR=v.useMemo(()=>{const P=Rs.reduce((B,Ce)=>Math.max(B,Number(Ce.damage||0)),0),z=Rs.reduce((B,Ce)=>Math.max(B,Number(Ce.maxDamage||0)),0);return Math.max(1,P,z)},[Rs]),jh=v.useMemo(()=>{var ul,wu;const P=Sn===null?null:Rs.find(Oe=>Oe.index===Sn)||null;if(!P||!rn)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const z=Ch(ba.fights,P),[B,Ce]=rn.split("|"),De=e.find(Oe=>String((Oe==null?void 0:Oe.filePath)||(Oe==null?void 0:Oe.id)||"")===String(P.fightId||"")),Me=De==null?void 0:De.details,Z=Oe=>Array.isArray(Oe)?Oe.map(vt=>Array.isArray(vt)?[Number(vt[0]),Number(vt[1])]:vt&&typeof vt=="object"?[Number(vt.time),Number(vt.value)]:null).filter(vt=>!!vt&&Number.isFinite(vt[0])&&vt[0]>=0):[],et=Oe=>String(Oe||"").trim().toLowerCase(),gt=et(B),Ze=et(Ce),At=Wd.get(rn),Mt=new Set([et(At==null?void 0:At.displayName),et(At==null?void 0:At.characterName),et(At==null?void 0:At.account)].filter(Boolean)),Bt=Array.isArray(Me==null?void 0:Me.players)&&((ul=Me.players.map(Oe=>{const vt=et(Oe==null?void 0:Oe.account),Wt=et(Oe==null?void 0:Oe.name),Pn=et(Oe==null?void 0:Oe.profession),en=!!vt&&vt===gt,Gt=!!Wt&&(Wt===gt||Mt.has(Wt)),Dn=!!vt&&Mt.has(vt),si=!Ze||Pn===Ze;let Mr=0;return en&&(Mr+=100),Gt&&(Mr+=90),Dn&&(Mr+=80),si&&(Mr+=20),{player:Oe,score:Mr}}).filter(Oe=>Oe.score>0).sort((Oe,vt)=>vt.score-Oe.score)[0])==null?void 0:ul.player)||null,fn=(()=>{const Oe=Bt==null?void 0:Bt.combatReplayData;return Array.isArray(Oe)?Oe.filter(vt=>vt&&typeof vt=="object"):Oe&&typeof Oe=="object"?[Oe]:[]})(),Ut=fn.flatMap(Oe=>Z(Oe==null?void 0:Oe.down).map(([vt])=>vt)),Jt=fn.flatMap(Oe=>Z(Oe==null?void 0:Oe.dead).map(([vt])=>vt)),Wn=fn.map(Oe=>Number(Oe==null?void 0:Oe.start)).filter(Oe=>Number.isFinite(Oe)&&Oe>=0),Kt=Array.isArray(Me==null?void 0:Me.players)?Me.players.flatMap(Oe=>{const vt=Oe==null?void 0:Oe.combatReplayData;return Array.isArray(vt)?vt.map(Wt=>Number(Wt==null?void 0:Wt.start)):[Number(vt==null?void 0:vt.start)]}).filter(Oe=>Number.isFinite(Oe)&&Oe>=0).reduce((Oe,vt)=>Math.min(Oe,vt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,In=[0,Number((Me==null?void 0:Me.logStartOffset)||0),...Wn,Number.isFinite(Kt)?Kt:0].filter(Oe=>Number.isFinite(Oe)&&Oe>=0),me=Oe=>{const vt=Math.max(0,Math.floor(Number(Oe||0)/1e3)),Wt=Math.floor(vt/5)*5;return`${Wt}s-${Wt+5}s`},Ye=(Oe,vt)=>{if(Oe.length===0||vt.length===0)return[];const Wt=vt.length*5e3,Pn=or=>or.reduce((Ba,$n)=>$n>=0&&$n<=Wt+2e3?Ba+1:Ba,0),en=[],Gt=Oe.map(or=>Number(or||0)).filter(or=>Number.isFinite(or)&&or>=0);if(Gt.length===0)return[];en.push(Gt);const Dn=Gt.reduce((or,Ba)=>Math.max(or,Ba),0),si=Gt.reduce((or,Ba)=>Math.min(or,Ba),Number.POSITIVE_INFINITY);Dn>Wt*20&&en.push(Gt.map(or=>or/1e3)),Dn<=Wt*2&&si>=0&&Dn>0&&Dn<Math.max(120,vt.length*5+10)&&en.push(Gt.map(or=>or*1e3));let Mr=Gt,cc=0,Lh=-1;return en.forEach(or=>{const Ba=new Set(In),$n=or.reduce((ls,uc)=>Math.min(ls,uc),Number.POSITIVE_INFINITY);if(Number.isFinite($n)&&Wt>0&&$n>Wt){const ls=Math.floor($n/Wt)*Wt;Ba.add(ls),Ba.add(Math.max(0,ls-Wt))}Ba.forEach(ls=>{const uc=or.map($B=>$B-ls),jC=Pn(uc);jC>Lh&&(Lh=jC,cc=ls,Mr=or)})}),Mr.map(or=>or-cc).filter(or=>Number.isFinite(or)&&or>=0)},oe=(Oe,vt)=>{if(Oe.length===0||vt.length===0)return[];const Wt=Ye(vt,Oe),Pn=new Map;Oe.forEach(Gt=>{const Dn=/^(\d+)s-/.exec(String(Gt));if(!Dn)return;const si=Number(Dn[1]);Number.isFinite(si)&&Pn.set(si,Gt)});const en=[];return Wt.forEach(Gt=>{const Dn=Math.max(0,Math.floor(Number(Gt||0)/1e3)),si=Math.floor(Dn/5)*5,Mr=Pn.get(si)||me(Gt);Oe.includes(Mr)&&en.push(Mr)}),Array.from(new Set(en))},jt=(Oe,vt)=>{if(Oe<=0||vt.length===0)return[];const Wt=Array.from({length:Oe},(Gt,Dn)=>`${Dn*5}s-${(Dn+1)*5}s`),en=Ye(vt,Wt).map(Gt=>Math.floor(Math.max(0,Number(Gt||0))/5e3)).filter(Gt=>Number.isFinite(Gt)&&Gt>=0&&Gt<Oe);return Array.from(new Set(en))},St=sl((wu=z==null?void 0:z.values)==null?void 0:wu[rn]),sn=Tr==="downContribution"?Array.isArray(St==null?void 0:St.buckets5sDown)?(St==null?void 0:St.buckets5sDown)||[]:[]:Array.isArray(St==null?void 0:St.buckets5s)?(St==null?void 0:St.buckets5s)||[]:[],mn=Array.isArray(St==null?void 0:St.downIndices5s)?St.downIndices5s.map(Oe=>Number(Oe)).filter(Oe=>Number.isFinite(Oe)&&Oe>=0):[],er=Array.isArray(St==null?void 0:St.deathIndices5s)?St.deathIndices5s.map(Oe=>Number(Oe)).filter(Oe=>Number.isFinite(Oe)&&Oe>=0):[];if(sn.length>0){const Oe=Math.max(0,Math.ceil(Number((Me==null?void 0:Me.durationMS)||0)/5e3)),vt=Math.max(sn.length,Oe),Wt=Array.from({length:vt},(en,Gt)=>({label:`${Gt*5}s-${(Gt+1)*5}s`,value:Number(sn[Gt]||0)})),Pn=Wt.map(en=>en.label);return{title:`Fight Breakdown - ${P.shortLabel||"Fight"} (5s ${Tr==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:Wt,downLabels:oe(Pn,Ut),deathLabels:oe(Pn,Jt),downIndices:mn.length>0?mn.filter(en=>en<Wt.length):jt(Wt.length,Ut),deathIndices:er.length>0?er.filter(en=>en<Wt.length):jt(Wt.length,Jt)}}const Vt=P.shortLabel||"Fight";if(!Me||!Array.isArray(Me.players))return{title:`Fight Breakdown - ${Vt}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Zt=Me.players.find(Oe=>String((Oe==null?void 0:Oe.account)||(Oe==null?void 0:Oe.name)||"Unknown")===B&&String((Oe==null?void 0:Oe.profession)||"Unknown")===Ce);if(!Zt)return{title:`Fight Breakdown - ${Vt}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Ot=Zt,vn=()=>{let Oe=0,vt=0;const Wt=new Map,Pn=en=>{if(!en||typeof en!="object"||en.indirectDamage)return;const Gt=Number(en.totalDamage||0),Dn=Number(en.downContribution||0);!Number.isFinite(Gt)&&!Number.isFinite(Dn)||(Oe+=Number.isFinite(Gt)?Gt:0,vt+=Number.isFinite(Dn)?Dn:0)};return Array.isArray(Ot==null?void 0:Ot.targetDamageDist)&&Ot.targetDamageDist.forEach(en=>{Array.isArray(en)&&en.forEach(Gt=>{Array.isArray(Gt)&&Gt.forEach(Dn=>{const si=Number(Dn==null?void 0:Dn.id);if(Number.isFinite(si)){const Mr=Wt.get(si)||{damage:0,downContribution:0};Mr.damage+=Number((Dn==null?void 0:Dn.totalDamage)||0),Mr.downContribution+=Number((Dn==null?void 0:Dn.downContribution)||0),Wt.set(si,Mr)}Pn(Dn)})})}),!(Me!=null&&Me.detailedWvW)&&Array.isArray(Ot==null?void 0:Ot.totalDamageDist)&&Ot.totalDamageDist.forEach(en=>{Array.isArray(en)&&en.forEach(Gt=>{const Dn=Number(Gt==null?void 0:Gt.id);if(!Number.isFinite(Dn)){Pn(Gt);return}const si=Wt.get(Dn);if(!si){Pn(Gt);return}const Mr=Number((Gt==null?void 0:Gt.totalDamage)||0)-Number(si.damage||0),cc=Number((Gt==null?void 0:Gt.downContribution)||0)-Number(si.downContribution||0);Mr<=0&&cc<=0||Pn({...Gt,totalDamage:Math.max(0,Mr),downContribution:Math.max(0,cc)})})}),Oe<=0?0:Math.min(1,Math.max(0,vt/Oe))},tr=Oe=>{if(!Array.isArray(Oe)||Oe.length===0)return[];const vt=[];for(let Wt=0;Wt<Oe.length;Wt+=1){const Pn=Number(Oe[Wt]||0),en=Wt>0?Number(Oe[Wt-1]||0):0;vt.push(Math.max(0,Pn-en))}return vt},Ra=Oe=>{if(!Array.isArray(Oe))return[];const vt=Oe.reduce((Pn,en)=>Math.max(Pn,Array.isArray(en)?en.length:0),0);if(vt<=0)return[];const Wt=new Array(vt).fill(0);return Oe.forEach(Pn=>{if(Array.isArray(Pn))for(let en=0;en<vt;en+=1)Wt[en]+=Number(Pn[en]||0)}),Wt},Kd=Oe=>Array.isArray(Oe)?Oe.map(vt=>Number(vt||0)):null,ln=(Oe=>{if(!Array.isArray(Oe)||Oe.length===0)return null;const vt=Oe[0];if(!Array.isArray(vt))return null;if(Array.isArray(vt[0])&&Array.isArray(vt[0][0]))return Ra(vt);if(Array.isArray(vt[0])&&!Array.isArray(vt[0][0])){const Wt=Oe.map(Pn=>Kd(Array.isArray(Pn)?Pn[0]:null)).filter(Pn=>Array.isArray(Pn)&&Pn.length>0);if(Wt.length>0)return Ra(Wt)}return null})(Ot==null?void 0:Ot.targetDamage1S),bn=Array.isArray(Ot==null?void 0:Ot.damage1S)&&Array.isArray(Ot.damage1S[0])?Ot.damage1S[0]:null,Gd=ln||(Array.isArray(bn)?bn.map(Oe=>Number(Oe||0)):[]),ol=tr(Gd),yu=vn(),ll=Tr==="downContribution"?ol.map(Oe=>Number(Oe||0)*yu):ol,ho=5,Yd=Math.max(0,Math.ceil(Number((Me==null?void 0:Me.durationMS)||0)/(ho*1e3))),cl=Math.max(0,Math.ceil(ll.length/ho)),Ih=Math.max(Yd,cl),lc=[];for(let Oe=0;Oe<Ih;Oe+=1){const vt=Oe*ho,Wt=Math.min(vt+ho,ll.length),Pn=ll.slice(vt,Wt).reduce((en,Gt)=>en+Number(Gt||0),0);lc.push({label:`${vt}s-${vt+ho}s`,value:Pn})}const _h=lc.map(Oe=>Oe.label);return{title:`Fight Breakdown - ${Vt} (5s ${Tr==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:lc,downLabels:oe(_h,Ut),deathLabels:oe(_h,Jt),downIndices:jt(lc.length,Ut),deathIndices:jt(lc.length,Jt)}},[Sn,Rs,rn,e,ba.fights,Wd,Tr]),mv=v.useMemo(()=>{const P=new Map;return ya.players.forEach(z=>P.set(z.key,z)),P},[ya.players]),HR=v.useMemo(()=>{const P=De=>Er==="hit"?De.peakHit:Er==="1s"?De.peak1s:Er==="5s"?De.peak5s:De.peak30s,z=$r.trim().toLowerCase(),B=z?ya.players.filter(De=>De.displayName.toLowerCase().includes(z)||De.account.toLowerCase().includes(z)||De.profession.toLowerCase().includes(z)):ya.players,Ce=new Map;return B.forEach(De=>{const Me=De.profession||"Unknown",Z=Ce.get(Me)||[];Z.push(De),Ce.set(Me,Z)}),Array.from(Ce.entries()).map(([De,Me])=>({profession:De,players:[...Me].sort((Z,et)=>P(et)-P(Z)||Z.displayName.localeCompare(et.displayName))})).sort((De,Me)=>De.profession.localeCompare(Me.profession))},[ya.players,$r,Er]),qR=Jn&&mv.get(Jn)||null,Bs=v.useMemo(()=>{if(!Jn)return[];const P=B=>B?Number(Er==="hit"?B.hit||0:Er==="1s"?B.burst1s||0:Er==="5s"?B.burst5s||0:B.burst30s||0):0,z=B=>Number(Er==="hit"?B.maxHit||0:Er==="1s"?B.max1s||0:Er==="5s"?B.max5s||0:B.max30s||0);return ya.fights.map((B,Ce)=>({index:Ce,fightId:B.id,shortLabel:B.shortLabel,fullLabel:B.fullLabel,timestamp:Number(B.timestamp||0),damage:P(sl(B.values[Jn])),maxDamage:z(B),skillName:String(sl(B.values[Jn]).skillName||"")}))},[ya.fights,Jn,Er]),KR=v.useMemo(()=>{const P=Bs.reduce((B,Ce)=>Math.max(B,Number(Ce.damage||0)),0),z=Bs.reduce((B,Ce)=>Math.max(B,Number(Ce.maxDamage||0)),0);return Math.max(1,P,z)},[Bs]),Ah=v.useMemo(()=>{var et;const P=ii===null?null:Bs.find(gt=>gt.index===ii)||null;if(!P||!Jn)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const z=Ch(ya.fights,P),B=sl((et=z==null?void 0:z.values)==null?void 0:et[Jn]),Ce=Array.isArray(B==null?void 0:B.buckets5s)?(B==null?void 0:B.buckets5s)||[]:[],De=Array.isArray(B==null?void 0:B.downIndices5s)?B.downIndices5s.map(gt=>Number(gt)).filter(gt=>Number.isFinite(gt)&&gt>=0):[],Me=Array.isArray(B==null?void 0:B.deathIndices5s)?B.deathIndices5s.map(gt=>Number(gt)).filter(gt=>Number.isFinite(gt)&&gt>=0):[];if(Ce.length>0){const gt=Ce.map((Ze,At)=>({label:`${At*5}s-${(At+1)*5}s`,value:Number(Ze||0)}));return{title:`Fight Breakdown - ${P.shortLabel||"Fight"} (5s Damage Buckets)`,data:gt,downLabels:[],deathLabels:[],downIndices:De.filter(Ze=>Ze<gt.length),deathIndices:Me.filter(Ze=>Ze<gt.length)}}const Z=Number(Er==="hit"?B.hit||0:Er==="1s"?B.burst1s||0:Er==="5s"?B.burst5s||0:B.burst30s||0);return Z>0?{title:`Fight Breakdown - ${P.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:Z}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${P.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[ii,Bs,Jn,ya.fights,Er]),GR=v.useMemo(()=>{var gt;if(ii===null||!Jn)return[];const P=Bs.find(Ze=>Ze.index===ii);if(!P)return[];const z=Ch(ya.fights,P),B=sl((gt=z==null?void 0:z.values)==null?void 0:gt[Jn]),De=[...(B==null?void 0:B.skillRows)||[]].filter(Ze=>Number((Ze==null?void 0:Ze.damage)||0)>0||Number((Ze==null?void 0:Ze.downContribution)||0)>0).sort((Ze,At)=>Number(At.damage||0)-Number(Ze.damage||0)).slice(0,30);if(De.length>0)return De;const Me=e.find(Ze=>String((Ze==null?void 0:Ze.filePath)||(Ze==null?void 0:Ze.id)||"")===String(P.fightId||"")),Z=Me==null?void 0:Me.details;if(Z&&Jn){const Ze=new Set(Object.keys(Vc)),At=Object.keys(Vc).filter(Kt=>Kt&&Kt!=="Unknown").sort((Kt,In)=>In.length-Kt.length),Mt=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],Bt=Kt=>{if(!Kt)return"Unknown";const In=String(Kt).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(Ze.has(In))return In;const me=In.toLowerCase();for(const oe of At)if(me.includes(oe.toLowerCase()))return oe;return Mt.find(oe=>me.includes(oe.toLowerCase()))||In||"Unknown"},fn=Kt=>{const In=Number(Kt);if(!Number.isFinite(In))return{name:String(Kt||"Unknown Skill"),icon:void 0};const me=(Z==null?void 0:Z.skillMap)||{},Ye=(Z==null?void 0:Z.buffMap)||{},oe=(me==null?void 0:me[`s${In}`])||(me==null?void 0:me[`${In}`]);if(oe!=null&&oe.name)return{name:String(oe.name),icon:oe==null?void 0:oe.icon};const jt=(Ye==null?void 0:Ye[`b${In}`])||(Ye==null?void 0:Ye[`${In}`]);return jt!=null&&jt.name?{name:String(jt.name),icon:jt==null?void 0:jt.icon}:{name:`Skill ${In}`,icon:void 0}},Ut=new Map;(Array.isArray(Z==null?void 0:Z.targets)?Z.targets:[]).forEach(Kt=>{!Kt||Kt.isFake||Kt.enemyPlayer===!1||Bt((Kt==null?void 0:Kt.profession)||(Kt==null?void 0:Kt.name)||(Kt==null?void 0:Kt.id))!==Jn||Array.isArray(Kt==null?void 0:Kt.totalDamageDist)&&Kt.totalDamageDist.forEach(me=>{Array.isArray(me)&&me.forEach(Ye=>{if(!Ye||typeof Ye!="object"||Ye.indirectDamage)return;const oe=Number(Ye.totalDamage||0);if(!Number.isFinite(oe)||oe<=0)return;const jt=Number(Ye.connectedHits||Ye.hits||0),St=fn(Ye.id),sn=St.name,mn=Ut.get(sn)||{skillName:sn,damage:0,hits:0,icon:St.icon};mn.damage+=oe,mn.hits+=Number.isFinite(jt)?jt:0,!mn.icon&&St.icon&&(mn.icon=St.icon),Ut.set(sn,mn)})})});const Wn=Array.from(Ut.values()).filter(Kt=>Number((Kt==null?void 0:Kt.damage)||0)>0).sort((Kt,In)=>Number(In.damage||0)-Number(Kt.damage||0)).slice(0,30);if(Wn.length>0)return Wn}const et=Number((B==null?void 0:B.hit)||0);return et<=0?De:[{skillName:String((B==null?void 0:B.skillName)||"Unknown Skill"),damage:et,hits:1,icon:void 0}]},[ii,Jn,Bs,ya.fights,e]),YR=v.useMemo(()=>{var et;if(Sn===null||!rn)return[];const P=Rs.find(gt=>gt.index===Sn);if(!P)return[];const z=Ch(ba.fights,P),B=sl((et=z==null?void 0:z.values)==null?void 0:et[rn]),De=[...(B==null?void 0:B.skillRows)||[]].filter(gt=>Number((gt==null?void 0:gt.damage)||0)>0||Number((gt==null?void 0:gt.downContribution)||0)>0).sort((gt,Ze)=>Number(Ze.damage||0)-Number(gt.damage||0)).slice(0,30);if(De.length>0)return De;const Me=e.find(gt=>String((gt==null?void 0:gt.filePath)||(gt==null?void 0:gt.id)||"")===String(P.fightId||"")),Z=Me==null?void 0:Me.details;if(Z&&rn){const[gt,Ze]=rn.split("|"),At=Ut=>{const Jt=Number(Ut);if(!Number.isFinite(Jt))return{name:String(Ut||"Unknown Skill"),icon:void 0};const Wn=(Z==null?void 0:Z.skillMap)||{},Kt=(Z==null?void 0:Z.buffMap)||{},In=(Wn==null?void 0:Wn[`s${Jt}`])||(Wn==null?void 0:Wn[`${Jt}`]);if(In!=null&&In.name)return{name:String(In.name),icon:In==null?void 0:In.icon};const me=(Kt==null?void 0:Kt[`b${Jt}`])||(Kt==null?void 0:Kt[`${Jt}`]);return me!=null&&me.name?{name:String(me.name),icon:me==null?void 0:me.icon}:{name:`Skill ${Jt}`,icon:void 0}},Mt=new Map,fn=(Array.isArray(Z==null?void 0:Z.players)?Z.players:[]).find(Ut=>{if(Ut!=null&&Ut.notInSquad)return!1;const Jt=String((Ut==null?void 0:Ut.account)||(Ut==null?void 0:Ut.name)||""),Wn=String((Ut==null?void 0:Ut.profession)||"Unknown"),Kt=Jt===String(gt||""),In=Wn===String(Ze||"");return Kt&&In})||null;if(fn){const Ut=fn,Jt=me=>{if(!me||typeof me!="object"||me.indirectDamage)return;const Ye=Number(me.totalDamage||0),oe=Number(me.downContribution||0);if((!Number.isFinite(Ye)||Ye<=0)&&(!Number.isFinite(oe)||oe<=0))return;const jt=Number(me.connectedHits||me.hits||0),St=At(me.id),sn=Mt.get(St.name)||{skillName:St.name,damage:0,downContribution:0,hits:0,icon:St.icon};sn.damage+=Number.isFinite(Ye)?Ye:0,sn.downContribution+=Number.isFinite(oe)?oe:0,sn.hits+=Number.isFinite(jt)?jt:0,!sn.icon&&St.icon&&(sn.icon=St.icon),Mt.set(St.name,sn)},Wn=new Map;Array.isArray(Ut==null?void 0:Ut.targetDamageDist)&&Ut.targetDamageDist.forEach(me=>{Array.isArray(me)&&me.forEach(Ye=>{Array.isArray(Ye)&&Ye.forEach(oe=>{const jt=Number(oe==null?void 0:oe.id),St=Number((oe==null?void 0:oe.totalDamage)||0),sn=Number((oe==null?void 0:oe.downContribution)||0);if(Number.isFinite(jt)){const mn=Wn.get(jt)||{damage:0,downContribution:0,hits:0};mn.damage+=Number.isFinite(St)?St:0,mn.downContribution+=Number.isFinite(sn)?sn:0,mn.hits+=Number((oe==null?void 0:oe.connectedHits)||(oe==null?void 0:oe.hits)||0),Wn.set(jt,mn)}Jt(oe)})})}),!(Z!=null&&Z.detailedWvW)&&Array.isArray(Ut==null?void 0:Ut.totalDamageDist)&&Ut.totalDamageDist.forEach(me=>{Array.isArray(me)&&me.forEach(Ye=>{const oe=Number(Ye==null?void 0:Ye.id);if(!Number.isFinite(oe)){Jt(Ye);return}const jt=Wn.get(oe);if(!jt){Jt(Ye);return}const St=Number((Ye==null?void 0:Ye.totalDamage)||0),sn=Number((Ye==null?void 0:Ye.downContribution)||0),mn=Number((Ye==null?void 0:Ye.connectedHits)||(Ye==null?void 0:Ye.hits)||0),er=St-Number(jt.damage||0),Vt=sn-Number(jt.downContribution||0),Zt=mn-Number(jt.hits||0);er<=0&&Vt<=0&&Zt<=0||Jt({...Ye,totalDamage:Math.max(0,er),downContribution:Math.max(0,Vt),connectedHits:Math.max(0,Zt),hits:Math.max(0,Zt)})})});const In=Array.from(Mt.values()).filter(me=>Number((me==null?void 0:me.damage)||0)>0||Number((me==null?void 0:me.downContribution)||0)>0).sort((me,Ye)=>Number(Ye.damage||0)-Number(me.damage||0)).slice(0,30);if(In.length>0)return In}}return De},[Sn,rn,Rs,ba.fights,e]);v.useEffect(()=>{if(lo.length===0){$s!==null&&hu(null),Ai!==null&&Fs(null);return}if(!$s||!dv.has($s)){const P=lo[0].key;hu(P),zi(null)}},[lo,dv,$s,Ai]),v.useEffect(()=>{if(!co||co.skills.length===0){Ai!==null&&Fs(null);return}const P=co.skills.some(z=>z.id===Ai);(!Ai||!P)&&Fs(co.skills[0].id)},[co,Ai]),v.useEffect(()=>{if(gu.length===0){oc!==null&&uv(null),oo!==null&&Nh(null);return}if(!oc||!fv.has(oc)){const P=gu[0].profession;uv(P),cC(null)}},[gu,fv,oc,oo]),v.useEffect(()=>{if(!al||al.skills.length===0){oo!==null&&Nh(null);return}const P=al.skills.some(z=>z.id===oo);(!oo||!P)&&Nh(al.skills[0].id)},[al,oo]),v.useEffect(()=>{if(ba.players.length===0){rn!==null&&Zn(null);return}(!rn||!Wd.has(rn))&&rn!==null&&Zn(null)},[ba.players,Wd,rn]),v.useEffect(()=>{Hr(null)},[rn,an,Tr]),v.useEffect(()=>{if(Sn===null)return;Rs.some(z=>z.index===Sn)||Hr(null)},[Rs,Sn]),v.useEffect(()=>{if(ya.players.length===0){Jn!==null&&Os(null);return}(!Jn||!mv.has(Jn))&&Jn!==null&&Os(null)},[ya.players,mv,Jn]),v.useEffect(()=>{Is(null)},[Jn,Er]),v.useEffect(()=>{if(ii===null)return;Bs.some(z=>z.index===ii)||Is(null)},[Bs,ii]);const XR=v.useMemo(()=>new Set(Mn),[Mn]),Ph=X?Pe:FD,{playerMapByKey:uo,playerTotalsForSkill:xu,skillChartData:QR,skillChartMaxY:ZR,groupedSkillUsagePlayers:JR}=mV({skillUsageData:Ph,selectedSkillId:cn,selectedPlayers:XR,skillUsageView:On==="perSecond"?"perSecond":"total"}),uC=v.useMemo(()=>{const P=new Map,z=Me=>{Me.forEach(Z=>{const et=Du(Z==null?void 0:Z.name)||(Z==null?void 0:Z.name);et&&Z!=null&&Z.icon&&!P.has(et)&&P.set(et,Z.icon)})},B=Me=>{Me.forEach(Z=>{Object.entries((Z==null?void 0:Z.conditions)||{}).forEach(([et,gt])=>{const Ze=Du(et)||et;gt!=null&&gt.icon&&!P.has(Ze)&&P.set(Ze,gt.icon)})})},Ce=Me=>{const Z=new Map;return Me.forEach(et=>{const gt=Du(et==null?void 0:et.name)||(et==null?void 0:et.name);if(!gt)return;const Ze=Z.get(gt)||{name:gt,icon:(et==null?void 0:et.icon)||P.get(gt)||tp(gt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Ze.applications+=Number((et==null?void 0:et.applications)||0),Ze.damage+=Number((et==null?void 0:et.damage)||0),et!=null&&et.applicationsFromUptime&&(Ze.applicationsFromUptime+=Number(et.applicationsFromUptime||0)),et!=null&&et.applicationsFromBuffs&&(Ze.applicationsFromBuffs+=Number(et.applicationsFromBuffs||0)),et!=null&&et.applicationsFromBuffsActive&&(Ze.applicationsFromBuffsActive+=Number(et.applicationsFromBuffsActive||0)),!Ze.icon&&(et!=null&&et.icon)&&(Ze.icon=et.icon),Ze.icon||(Ze.icon=tp(gt)),Z.set(gt,Ze)}),Array.from(Z.values())},De=Me=>Me.map(Z=>{const et={};return Object.entries((Z==null?void 0:Z.conditions)||{}).forEach(([gt,Ze])=>{const At=Du(gt)||gt;if(!At)return;const Mt=et[At]||{icon:(Ze==null?void 0:Ze.icon)||P.get(At)||tp(At),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Mt.applications+=Number((Ze==null?void 0:Ze.applications)||0),Mt.damage+=Number((Ze==null?void 0:Ze.damage)||0),Ze!=null&&Ze.applicationsFromUptime&&(Mt.applicationsFromUptime+=Number(Ze.applicationsFromUptime||0)),Ze!=null&&Ze.applicationsFromBuffs&&(Mt.applicationsFromBuffs+=Number(Ze.applicationsFromBuffs||0)),Ze!=null&&Ze.applicationsFromBuffsActive&&(Mt.applicationsFromBuffsActive+=Number(Ze.applicationsFromBuffsActive||0)),!Mt.icon&&(Ze!=null&&Ze.icon)&&(Mt.icon=Ze.icon),Mt.icon||(Mt.icon=tp(At)),Object.values((Ze==null?void 0:Ze.skills)||{}).forEach(Bt=>{const fn=(Bt==null?void 0:Bt.name)||"Unknown",Ut=Mt.skills[fn]||{name:fn,hits:0,damage:0,icon:Bt==null?void 0:Bt.icon};Ut.hits+=Number((Bt==null?void 0:Bt.hits)||0),Ut.damage+=Number((Bt==null?void 0:Bt.damage)||0),!Ut.icon&&(Bt!=null&&Bt.icon)&&(Ut.icon=Bt.icon),Mt.skills[fn]=Ut}),et[At]=Mt}),{...Z,conditions:et}});return(Me,Z)=>(z(Me),B(Z),{summary:Ce(Me),players:De(Z)})},[]),dC=he?I==="outgoing"?L.outgoingConditionSummary:L.incomingConditionSummary:gb,fC=he?I==="outgoing"?L.outgoingConditionPlayers:L.incomingConditionPlayers:gb,{summary:Dh,players:eB}=v.useMemo(()=>uC(dC||[],fC||[]),[uC,dC,fC]);v.useEffect(()=>{if(!he||Ue==="all"||Dh.some(z=>z.name===Ue))return;const P=Du(Ue);P&&Dh.some(z=>z.name===P)?$e(P):$e("all")},[Ue,Dh,$e,he]);const tB=v.useMemo(()=>{const P={};return xu.forEach((z,B)=>{const Ce=uo.get(B);if(!Ce)return;const De=Ce.profession;(!P[De]||z>P[De])&&(P[De]=z)}),P},[xu,uo]),Ft=Y,qn=v.useCallback((P,z)=>{const B=Ft(P);return d?`${z} ${B?"":"hidden"}`:`${z} transition-[opacity,transform] duration-700 ease-in-out ${B?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Ft,d]),mC=v.useMemo(()=>lse.find(P=>Ft(P))||null,[Ft]),Kn=v.useCallback(P=>P===mC,[mC]),nB=v.useMemo(()=>{const P=new Map,z=new Map;return Mn.forEach(B=>{const Ce=uo.get(B);if(!Ce)return;const De=xu.get(B)??0,Me=z.get(Ce.profession)||[];Me.push({key:B,total:De}),z.set(Ce.profession,Me)}),z.forEach(B=>{B.sort((Ce,De)=>De.total-Ce.total),B.forEach((Ce,De)=>{P.set(Ce.key,De)})}),P},[Mn,uo,xu]),hC=["0","12 3","8 3","6 3","4 3","2 3"],rB=P=>{const z=uo.get(P),B=_l((z==null?void 0:z.profession)||""),Ce=xu.get(P)??0,De=z!=null&&z.profession&&tB[z.profession]||1,Z=.35+(De>0?Ce/De:1)*.65;return Th(B,Z)},iB=P=>{const z=nB.get(P)??0;return hC[z%hC.length]},aB=(P,z,B)=>{if(!B)return rB(P);const Ce=uo.get(P),De=_l((Ce==null?void 0:Ce.profession)||"");return z?Th(De,1.2):Th(De,.5)},Th=(P,z)=>{const B=P.replace("#","");if(B.length!==6)return P;const Ce=Ze=>Math.max(0,Math.min(255,Ze)),De=Ze=>Number.parseInt(B.slice(Ze,Ze+2),16),Me=Ze=>Ce(Math.round(Ze)).toString(16).padStart(2,"0"),Z=De(0),et=De(2),gt=De(4);return`#${Me(Z*z)}${Me(et*z)}${Me(gt*z)}`},pC=v.useMemo(()=>{const P=new Map;return Ph.skillOptions.forEach(z=>{P.set(z.id,{name:z.name,icon:z.icon})}),P},[Ph.skillOptions]),Hd=v.useMemo(()=>{var Ze;if(Mn.length===0)return[];const P=new Map,z=new Map;let B=0;Mn.forEach(At=>{const Mt=uo.get(At);if(!Mt)return;B+=Mt.totalActiveSeconds||0,Object.entries(Mt.skillTotals||{}).forEach(([fn,Ut])=>{P.set(fn,(P.get(fn)||0)+Number(Ut||0))});const Bt=Mt.profession||"Unknown";z.set(Bt,(z.get(Bt)||0)+(Mt.totalActiveSeconds||0))});const Ce=Qt.trim().toLowerCase(),De=On==="perSecond",Me=((Ze=Array.from(z.entries()).sort((At,Mt)=>Mt[1]-At[1])[0])==null?void 0:Ze[0])||"Unknown",Z=_l(Me),et="#64748b";return Array.from(P.entries()).map(([At,Mt])=>{const Bt=pC.get(At),fn=(Bt==null?void 0:Bt.name)||At,Ut=De&&B>0?Mt/B:Mt;return{skillId:At,name:fn,icon:Bt==null?void 0:Bt.icon,total:Ut}}).filter(At=>At.total>0&&(!Ce||At.name.toLowerCase().includes(Ce))).sort((At,Mt)=>Mt.total-At.total).map((At,Mt)=>({...At,color:Mt===0?Z:Th(Z,.85-Math.min(Mt*.06,.4))||et}))},[Mn,uo,Qt,On,pC]);v.useEffect(()=>{if(X){if(Hd.length===0){cn!==null&&kn(null);return}(!cn||!Hd.some(P=>P.skillId===cn))&&kn(Hd[0].skillId)}},[Hd,cn,kn,X]);const vu=Ph.skillOptions.find(P=>P.id===cn),sB=(vu==null?void 0:vu.name)||"",oB=(vu==null?void 0:vu.icon)||null,lB=Ee&&!!cn&&Mn.length>0,Eh="__all__",cB=Ee&&il.length>0,fo=v.useMemo(()=>il.find(P=>P.profession===_s)??null,[il,_s]),uB=Fa===Eh,dB=v.useMemo(()=>{var P;return((P=fo==null?void 0:fo.skills)==null?void 0:P.find(z=>z.id===Fa))??null},[fo,Fa]);v.useEffect(()=>{if(il.length===0){_s!==null&&ic(null),na!==null&&Ls(null);return}if(!_s||!il.some(P=>P.profession===_s)){const P=il[0].profession;ic(P),Ls(null)}},[il,_s,na]),v.useEffect(()=>{if(!fo||fo.skills.length===0){Fa!==null&&mu(null);return}const P=fo.skills.some(z=>z.id===Fa);(!Fa||!P&&Fa!==Eh)&&mu(Eh)},[fo,Fa]);const fB=P=>{An(z=>z.includes(P)?z.filter(B=>B!==P):[...z,P])},mB=P=>{An(z=>z.filter(B=>B!==P))},hB=v.useMemo(()=>{const P=ao.trim().toLowerCase(),z=L.boonTables||[];return P?z.filter(B=>B.name.toLowerCase().includes(P)):z},[L.boonTables,ao]),pB=v.useMemo(()=>Cn?(L.boonTables||[]).find(P=>P.id===Cn)??null:null,[L.boonTables,Cn]),Mh=P=>{var z,B,Ce,De;return{selfBuffs:P!=null&&P.totals&&typeof P.totals=="object"?Number(((z=P==null?void 0:P.totals)==null?void 0:z.selfBuffs)||0):0,groupBuffs:P!=null&&P.totals&&typeof P.totals=="object"?Number(((B=P==null?void 0:P.totals)==null?void 0:B.groupBuffs)||0):0,squadBuffs:P!=null&&P.totals&&typeof P.totals=="object"?Number(((Ce=P==null?void 0:P.totals)==null?void 0:Ce.squadBuffs)||0):Number((P==null?void 0:P.total)||0),totalBuffs:P!=null&&P.totals&&typeof P.totals=="object"?Number((((De=P==null?void 0:P.totals)==null?void 0:De.totalBuffs)??(P==null?void 0:P.total))||0):Number((P==null?void 0:P.total)||0)}},qd=(P,z)=>{const B=Mh(P),Ce=Number((B==null?void 0:B[z])||0);return Number.isFinite(Ce)?Math.max(0,Ce):0},gC=ni==="selfBuffs"?"Self":ni==="groupBuffs"?"Group":ni==="squadBuffs"?"Squad":"All",mo=v.useMemo(()=>(Array.isArray(L==null?void 0:L.boonTimeline)?L.boonTimeline:[]).map(z=>({id:String((z==null?void 0:z.id)||""),name:String((z==null?void 0:z.name)||(z==null?void 0:z.id)||"Unknown Boon"),icon:typeof(z==null?void 0:z.icon)=="string"?z.icon:void 0,stacking:!!(z!=null&&z.stacking),players:(Array.isArray(z==null?void 0:z.players)?z.players:[]).map(B=>({key:String((B==null?void 0:B.key)||""),account:String((B==null?void 0:B.account)||(B==null?void 0:B.displayName)||"Unknown"),displayName:String((B==null?void 0:B.displayName)||(B==null?void 0:B.account)||"Unknown"),profession:String((B==null?void 0:B.profession)||"Unknown"),professionList:Array.isArray(B==null?void 0:B.professionList)?B.professionList.map(Ce=>String(Ce||"")):[],logs:Number((B==null?void 0:B.logs)||0),totals:Mh(B)})),fights:(Array.isArray(z==null?void 0:z.fights)?z.fights:[]).map((B,Ce)=>({id:String((B==null?void 0:B.id)||`fight-${Ce+1}`),shortLabel:String((B==null?void 0:B.shortLabel)||`F${Ce+1}`),fullLabel:String((B==null?void 0:B.fullLabel)||`Fight ${Ce+1}`),timestamp:Number((B==null?void 0:B.timestamp)||0),durationMs:Number((B==null?void 0:B.durationMs)||0),maxTotal:Number((B==null?void 0:B.maxTotal)||0),values:B!=null&&B.values&&typeof B.values=="object"?Object.fromEntries(Object.entries(B.values).map(([De,Me])=>[String(De||""),{total:Number((Me==null?void 0:Me.total)||0),totals:Mh(Me),bucketWeights5s:Array.isArray(Me==null?void 0:Me.bucketWeights5s)?Me.bucketWeights5s.map(Z=>Number(Z||0)):[],buckets5s:Array.isArray(Me==null?void 0:Me.buckets5s)?Me.buckets5s.map(Z=>Number(Z||0)):[]}])):{}}))})).filter(z=>z.id&&z.players.length>0&&z.fights.length>0),[L.boonTimeline]),gB=v.useMemo(()=>{const P=ti.trim().toLowerCase();return P?mo.filter(z=>String((z==null?void 0:z.name)||"").toLowerCase().includes(P)):mo},[mo,ti]),Ui=v.useMemo(()=>sr&&mo.find(P=>P.id===sr)||null,[mo,sr]),Oh=v.useMemo(()=>[...Array.isArray(Ui==null?void 0:Ui.players)?Ui.players:[]].map(z=>({...z,total:qd(z,ni)})).sort((z,B)=>Number(B.total||0)-Number(z.total||0)||String(z.displayName||"").localeCompare(String(B.displayName||""))),[Ui,ni]),xB=v.useMemo(()=>{const P=Oh,z=Es.trim().toLowerCase();return z?P.filter(B=>String((B==null?void 0:B.displayName)||"").toLowerCase().includes(z)||String((B==null?void 0:B.account)||"").toLowerCase().includes(z)||String((B==null?void 0:B.profession)||"").toLowerCase().includes(z)):P},[Oh,Es]),vB=v.useMemo(()=>{const P=new Map;return Oh.forEach(z=>{P.set(String((z==null?void 0:z.key)||""),z)}),P},[Oh]),bB=Qn&&vB.get(Qn)||null,bu=v.useMemo(()=>!Ui||!Qn?[]:(Ui.fights||[]).map((P,z)=>{var De;const B=(De=P==null?void 0:P.values)==null?void 0:De[Qn],Ce=Object.entries(P!=null&&P.values&&typeof P.values=="object"?P.values:{}).filter(([Me])=>String(Me||"")!=="__all__").reduce((Me,[,Z])=>Math.max(Me,qd(Z,ni)),0);return{index:z,fightId:String((P==null?void 0:P.id)||""),shortLabel:String((P==null?void 0:P.shortLabel)||`F${z+1}`),fullLabel:String((P==null?void 0:P.fullLabel)||`Fight ${z+1}`),timestamp:Number((P==null?void 0:P.timestamp)||0),total:qd(B,ni),maxTotal:Ce>0?Ce:Number((P==null?void 0:P.maxTotal)||0)}}),[Ui,Qn,ni]),yB=v.useMemo(()=>{const P=bu.reduce((B,Ce)=>Math.max(B,Number((Ce==null?void 0:Ce.total)||0)),0),z=bu.reduce((B,Ce)=>Math.max(B,Number((Ce==null?void 0:Ce.maxTotal)||0)),0);return Math.max(1,P,z)},[bu]),xC=v.useMemo(()=>{var Mt;const P=Zi===null?null:bu.find(Bt=>Bt.index===Zi)||null;if(!P||!Ui||!Qn)return{title:"Fight Breakdown",data:[]};const z=Ui.fights[P.index],B=((Mt=z==null?void 0:z.values)==null?void 0:Mt[Qn])||{total:0,totals:{selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0},bucketWeights5s:[],buckets5s:[]},Ce=qd(B,ni),De=Array.isArray(B==null?void 0:B.bucketWeights5s)?B.bucketWeights5s:[],Me=Array.isArray(B==null?void 0:B.buckets5s)?B.buckets5s:[],Z=Math.max(De.length,Me.length,Math.ceil(Math.max(0,Number((z==null?void 0:z.durationMs)||0))/5e3),1),et=Array.from({length:Z},(Bt,fn)=>Number(De[fn]||0)),gt=et.reduce((Bt,fn)=>Bt+Number(fn||0),0);let Ze=[];if(gt>0){const Bt=Ce>0?Ce/gt:0;Ze=et.map(fn=>Number(fn||0)*Bt)}else if(Me.length>0){const Bt=Array.from({length:Z},(fn,Ut)=>Number(Me[Ut]||0));if(ni==="totalBuffs"||!(B!=null&&B.totals))Ze=Bt;else{const fn=qd({totals:Mh(B)},"totalBuffs"),Ut=fn>0?Ce/fn:0;Ze=Bt.map(Jt=>Number(Jt||0)*Ut)}}else{const Bt=Ce>0?Ce/Math.max(1,Z):0;Ze=Array.from({length:Z},()=>Bt)}const At=Array.from({length:Z},(Bt,fn)=>({label:`${fn*5}s-${(fn+1)*5}s`,value:Number(Ze[fn]||0)}));return{title:`Fight Breakdown - ${P.shortLabel||"Fight"} (5s ${gC} Generation Buckets)`,data:At}},[Zi,bu,Ui,Qn,ni,gC]),wB=v.useMemo(()=>{const P=tc.trim().toLowerCase(),z=[...L.specialTables||[]].sort((B,Ce)=>B.name.localeCompare(Ce.name));return P?z.filter(B=>B.name.toLowerCase().includes(P)):z},[L.specialTables,tc]),os=v.useMemo(()=>[...L.specialTables||[]].filter(z=>/\b(sigil|relic)\b/i.test(String((z==null?void 0:z.name)||""))).sort((z,B)=>z.name.localeCompare(B.name)),[L.specialTables]),kB=v.useMemo(()=>{const P=tl.trim().toLowerCase();return P?os.filter(z=>z.name.toLowerCase().includes(P)):os},[os,tl]),SB=v.useMemo(()=>Ji?(L.specialTables||[]).find(P=>P.id===Ji)??null:null,[L.specialTables,Ji]),NB=v.useMemo(()=>va?os.find(P=>P.id===va)??null:null,[os,va]);v.useEffect(()=>{!L.boonTables||L.boonTables.length===0||(!Cn||!L.boonTables.some(P=>P.id===Cn))&&jn(L.boonTables[0].id)},[L.boonTables,Cn]),v.useEffect(()=>{if(mo.length===0){sr!==null&&ga(null);return}(!sr||!mo.some(P=>P.id===sr))&&ga(mo[0].id)},[mo,sr]),v.useEffect(()=>{var B;const P=(Ui==null?void 0:Ui.players)||[];if(P.length===0){Qn!==null&&xa(null);return}const z=((B=P.find(Ce=>Ce.key==="__all__"))==null?void 0:B.key)||P[0].key;(!Qn||!P.some(Ce=>Ce.key===Qn))&&xa(z)},[Ui,Qn]),v.useEffect(()=>{du(null)},[sr,Qn]),v.useEffect(()=>{!L.specialTables||L.specialTables.length===0||(!Ji||!L.specialTables.some(P=>P.id===Ji))&&ec(L.specialTables[0].id)},[L.specialTables,Ji]),v.useEffect(()=>{if(!os||os.length===0){va!==null&&Ms(null);return}(!va||!os.some(P=>P.id===va))&&Ms(os[0].id)},[os,va]),v.useEffect(()=>{const P=()=>{const B=window.getSelection();B&&B.rangeCount>0&&B.removeAllRanges()},z=B=>{var De;const Ce=B.target;(De=Ce==null?void 0:Ce.closest)!=null&&De.call(Ce,".recharts-wrapper")&&(B.preventDefault(),P())};return document.addEventListener("selectstart",z),document.addEventListener("mousedown",z),document.addEventListener("mousemove",z),document.addEventListener("dragstart",z),()=>{document.removeEventListener("selectstart",z),document.removeEventListener("mousedown",z),document.removeEventListener("mousemove",z),document.removeEventListener("dragstart",z)}},[]);const hi=P=>{dt.current&&(window.clearTimeout(dt.current),dt.current=null),Fe(!1),Ke(P)},qr=()=>{Ie&&(dt.current&&window.clearTimeout(dt.current),Fe(!0),dt.current=window.setTimeout(()=>{Ke(null),Fe(!1),dt.current=null},160))};v.useEffect(()=>{if(!Ie)return;const P=Ce=>{Ce.key==="Escape"&&qr()},z=document.body.style.overflow,B=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",P),()=>{window.removeEventListener("keydown",P),document.body.style.overflow=z,document.documentElement.style.overflow=B}},[Ie]);const vC=(P,z)=>{const B=((z==null?void 0:z.value)||0)-((P==null?void 0:P.value)||0);return B!==0?B:String((P==null?void 0:P.name)||"").localeCompare(String((z==null?void 0:z.name)||""))},bC=Array.isArray(L==null?void 0:L.squadClassData)?L.squadClassData:[],yC=Array.isArray(L==null?void 0:L.enemyClassData)?L.enemyClassData:[],CB=Array.isArray(L==null?void 0:L.attendanceData)?L.attendanceData:[],hv=Array.isArray(L==null?void 0:L.squadCompByFight)?L.squadCompByFight:[],wC=Array.isArray(L==null?void 0:L.fightBreakdown)?L.fightBreakdown:[],jB=v.useMemo(()=>{const P=new Map;return wC.forEach(z=>{const B=String((z==null?void 0:z.id)||"");B&&P.set(B,z)}),hv.map(z=>{const B=P.get(String((z==null?void 0:z.id)||""))||null;return{...z,enemyClassCounts:(B==null?void 0:B.enemyClassCounts)||{}}})},[hv,wC]),AB=v.useMemo(()=>[...bC].sort(vC),[bC]),PB=v.useMemo(()=>[...yC].sort(vC),[yC]),DB=u?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",TB=u?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${Ie?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${Ie?"":"backdrop-blur-2xl"}`,kC=u&&h!=="matte"&&h!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:u&&h==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,EB=ee?{...kC||{},overflowY:"hidden"}:kC,MB=P=>On==="perSecond"?P.toFixed(1):Math.round(P).toLocaleString(),OB=P=>P.toFixed(1),IB=P=>Math.round(P).toLocaleString(),_B=P=>typeof P=="number"&&Number.isFinite(P)?P.toFixed(1):"0.0",LB=Math.max(Math.max(0,Number(L.total||0)),Math.max(0,Number(e.length||0)),Math.max(0,Number((p==null?void 0:p.total)||0))),pi=Sae;return c.jsxs("div",{className:DB,children:[Ie&&c.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${ye?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:qr}),c.jsx(ise,{embedded:u,dashboardTitle:f,totalLogs:LB,onBack:t,devMockAvailable:J,devMockUploadState:pn,onDevMockUpload:nn,uploadingWeb:T,onWebUpload:Tt,sharing:Xt,canShareDiscord:m,onShare:Nr}),c.jsx(ase,{embedded:u,webUploadMessage:_,webUploadUrl:O,webUploadBuildStatus:G,webCopyStatus:ke,setWebCopyStatus:Qe}),c.jsx(sse,{embedded:u,devMockAvailable:J,devMockUploadState:pn}),F&&c.jsxs("div",{className:"stats-settling-banner mb-3 rounded-xl border px-4 py-3 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"stats-settling-banner__title font-semibold",children:U}),c.jsx("div",{className:"stats-settling-banner__meta text-[11px]",children:H})]}),ne.active&&c.jsx("div",{className:"stats-settling-banner__track mt-2 h-1.5 overflow-hidden rounded-full",children:c.jsx("div",{className:"stats-settling-banner__bar h-full rounded-full transition-all duration-300",style:{width:`${ne.progressPercent}%`}})}),se&&c.jsx("div",{className:"stats-settling-banner__meta mt-2 text-[11px] opacity-80",children:se})]}),c.jsxs("div",{className:`${u?"":"flex-1 min-h-0 flex"} relative ${ee?"stats-dashboard-loading-shell":""}`,children:[c.jsxs("div",{id:"stats-dashboard-container",ref:zt,className:`${TB} ${u?"":"flex-1"} ${ee?"stats-dashboard-scroll-lock":""}`,style:EB,children:[c.jsxs(c.Fragment,{children:[Ft("overview")&&c.jsx(Uae,{stats:L,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn}),Ft("fight-breakdown")&&c.jsx(Vae,{stats:L,fightBreakdownTab:on,setFightBreakdownTab:Nn,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn}),Ft("top-players")&&c.jsx(qae,{stats:L,showTopStats:y,showMvp:N,topStatsMode:S,expandedLeader:ss,setExpandedLeader:gn,formatTopStatValue:ml,formatWithCommas:yi,isMvpStatEnabled:un,renderProfessionIcon:pi,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn}),Ft("top-skills-outgoing")&&c.jsx(Kae,{stats:L,topSkillsMetric:$,onTopSkillsMetricChange:xt,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn}),Ft("squad-composition")&&c.jsx(Gae,{sortedSquadClassData:AB,sortedEnemyClassData:PB,getProfessionIconPath:Cc,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn}),Ft("attendance-ledger")&&c.jsx(Jae,{attendanceRows:CB,getProfessionIconPath:Cc,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn}),Ft("squad-comp-fight")&&c.jsx(tse,{fights:hv,getProfessionIconPath:Cc,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn}),Ft("fight-comp")&&c.jsx(rse,{fights:jB,getProfessionIconPath:Cc,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn}),Ft("timeline")&&c.jsx(Yae,{timelineData:L.timelineData,timelineFriendlyScope:pt,setTimelineFriendlyScope:Je,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn}),Ft("map-distribution")&&c.jsx(Xae,{mapData:L.mapData,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn}),Ft("offense-detailed")&&c.jsx(Tae,{stats:L,OFFENSE_METRICS:t5,roundCountStats:C,offenseSearch:te,setOffenseSearch:Ae,activeOffenseStat:Ge,setActiveOffenseStat:ve,offenseViewMode:fe,setOffenseViewMode:xe,formatWithCommas:yi,renderProfessionIcon:pi,expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Vs}),Ft("player-breakdown")&&c.jsx(Aae,{expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Vs,viewMode:LR,setViewMode:$R,playerSkillBreakdowns:lo,classSkillBreakdowns:gu,activePlayerKey:$s,setActivePlayerKey:hu,expandedPlayerKey:pu,setExpandedPlayerKey:zi,activePlayerSkillId:Ai,setActivePlayerSkillId:Fs,activeClassKey:oc,setActiveClassKey:uv,expandedClassKey:FR,setExpandedClassKey:cC,activeClassSkillId:oo,setActiveClassSkillId:Nh,skillSearch:ac,setSkillSearch:sc,activePlayerBreakdown:co,activePlayerSkill:BR,activeClassBreakdown:al,activeClassSkill:zR,renderProfessionIcon:pi}),Ft("damage-breakdown")&&c.jsx(Pae,{expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,playerSkillBreakdowns:lo,renderProfessionIcon:pi}),Ft("spike-damage")&&c.jsx(LD,{expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,spikePlayerFilter:yt,setSpikePlayerFilter:Rn,groupedSpikePlayers:UR,spikeMode:an,setSpikeMode:ri,damageBasis:Tr,setDamageBasis:so,showDamageBasisToggle:!0,selectedSpikePlayerKey:rn,setSelectedSpikePlayerKey:Zn,selectedSpikePlayer:VR,spikeChartData:Rs,spikeChartMaxY:WR,selectedSpikeFightIndex:Sn,setSelectedSpikeFightIndex:Hr,spikeDrilldownTitle:jh.title,spikeDrilldownData:jh.data,spikeDrilldownDownIndices:jh.downIndices,spikeDrilldownDeathIndices:jh.deathIndices,spikeFightSkillRows:YR,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:yi,renderProfessionIcon:pi}),Ft("conditions-outgoing")&&c.jsx(Eae,{conditionSummary:Dh,conditionPlayers:eB,conditionSearch:dn,setConditionSearch:Pt,activeConditionName:Ue,setActiveConditionName:$e,conditionDirection:I,setConditionDirection:Q,conditionGridClass:kt,effectiveConditionSort:je,setConditionSort:Te,showConditionDamage:it,renderProfessionIcon:pi,expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Vs}),Ft("defense-detailed")&&c.jsx(Oae,{stats:L,DEFENSE_METRICS:n5,defenseSearch:We,setDefenseSearch:bt,activeDefenseStat:ut,setActiveDefenseStat:ht,defenseViewMode:at,setDefenseViewMode:wt,roundCountStats:C,formatWithCommas:yi,renderProfessionIcon:pi,expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Vs}),Ft("incoming-strike-damage")&&c.jsx(LD,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,spikePlayerFilter:$r,setSpikePlayerFilter:A,groupedSpikePlayers:HR,spikeMode:Er,setSpikeMode:rl,selectedSpikePlayerKey:Jn,setSelectedSpikePlayerKey:Os,selectedSpikePlayer:qR,spikeChartData:Bs,spikeChartMaxY:KR,selectedSpikeFightIndex:ii,setSelectedSpikeFightIndex:Is,spikeDrilldownTitle:Ah.title,spikeDrilldownData:Ah.data,spikeDrilldownDownIndices:Ah.downIndices,spikeDrilldownDeathIndices:Ah.deathIndices,spikeFightSkillRows:GR,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:yi,renderProfessionIcon:pi}),Ft("defense-mitigation")&&c.jsx(Iae,{stats:L,DAMAGE_MITIGATION_METRICS:hU,damageMitigationSearch:Rt,setDamageMitigationSearch:qt,activeDamageMitigationStat:_t,setActiveDamageMitigationStat:Lt,damageMitigationViewMode:Se,setDamageMitigationViewMode:de,damageMitigationScope:Be,setDamageMitigationScope:ct,roundCountStats:C,formatWithCommas:yi,renderProfessionIcon:pi,expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Vs}),Ft("boon-output")&&c.jsx(Mae,{stats:L,activeBoonCategory:ji,setActiveBoonCategory:P=>Lr(P),activeBoonMetric:Dr,setActiveBoonMetric:cu,activeBoonTab:Cn,setActiveBoonTab:jn,activeBoonTable:pB,filteredBoonTables:hB,boonSearch:ao,setBoonSearch:el,formatBoonMetricDisplay:HU,getBoonMetricValue:h5,renderProfessionIcon:pi,roundCountStats:C,expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Vs}),Ft("boon-timeline")&&c.jsx(Dae,{expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,boonSearch:ti,setBoonSearch:Ts,boons:gB,activeBoonId:sr,setActiveBoonId:ga,timelineScope:ni,setTimelineScope:$a,playerFilter:Es,setPlayerFilter:uu,players:xB,selectedPlayerKey:Qn,setSelectedPlayerKey:xa,selectedPlayer:bB,chartData:bu,chartMaxY:yB,selectedFightIndex:Zi,setSelectedFightIndex:du,drilldownTitle:xC.title,drilldownData:xC.data,formatWithCommas:yi,renderProfessionIcon:pi}),Ft("support-detailed")&&c.jsx(_ae,{stats:L,SUPPORT_METRICS:r5,supportSearch:pe,setSupportSearch:le,activeSupportStat:_e,setActiveSupportStat:Re,supportViewMode:$t,setSupportViewMode:Ne,cleanseScope:Le,setCleanseScope:lt,roundCountStats:C,formatWithCommas:yi,renderProfessionIcon:pi,expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Vs}),Ft("healing-stats")&&c.jsx(Lae,{stats:L,HEALING_METRICS:pU,activeHealingMetric:He,setActiveHealingMetric:qe,healingCategory:Xe,setHealingCategory:be,activeResUtilitySkill:nt,setActiveResUtilitySkill:ft,skillUsageData:Pe,formatWithCommas:yi,renderProfessionIcon:pi,expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn}),Ft("fight-diff-mode")&&c.jsx(zae,{stats:L,formatWithCommas:yi,expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn}),Ft("special-buffs")&&c.jsx(Fae,{stats:L,specialSearch:tc,setSpecialSearch:Vd,filteredSpecialTables:wB,activeSpecialTab:Ji,setActiveSpecialTab:ec,activeSpecialTable:SB,formatWithCommas:yi,renderProfessionIcon:pi,expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Vs}),Ft("sigil-relic-uptime")&&c.jsx(Bae,{hasSigilRelicTables:os.length>0,sigilRelicSearch:tl,setSigilRelicSearch:nl,filteredSigilRelicTables:kB,activeSigilRelicTab:va,setActiveSigilRelicTab:Ms,activeSigilRelicTable:NB,formatWithCommas:yi,renderProfessionIcon:pi,expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Vs}),Ft("skill-usage")&&c.jsx(Nae,{expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,selectedPlayers:Mn,setSelectedPlayers:An,removeSelectedPlayer:mB,playerMapByKey:uo,groupedSkillUsagePlayers:JR,expandedSkillUsageClass:ai,setExpandedSkillUsageClass:Bi,togglePlayerSelection:fB,skillUsagePlayerFilter:mt,setSkillUsagePlayerFilter:Et,skillUsageView:On,setSkillUsageView:Vn,skillUsageData:Pe,skillUsageSkillFilter:Qt,setSkillUsageSkillFilter:xn,selectedSkillId:cn,setSelectedSkillId:kn,skillBarData:Hd,selectedSkillName:sB,selectedSkillIcon:oB,skillUsageReady:lB,skillUsageAvailable:Ee,isSkillUsagePerSecond:ea,skillChartData:QR,skillChartMaxY:ZR,playerTotalsForSkill:xu,hoveredSkillPlayer:nc,setHoveredSkillPlayer:fu,getLineStrokeColor:aB,getLineDashForPlayer:iB,formatSkillUsageValue:MB,renderProfessionIcon:pi}),Ft("apm-stats")&&c.jsx(jae,{expandedSection:Ie,expandedSectionClosing:ye,openExpandedSection:hi,closeExpandedSection:qr,isSectionVisible:Ft,isFirstVisibleSection:Kn,sectionClass:qn,sidebarListClass:Vs,apmSpecAvailable:cB,skillUsageAvailable:Ee,apmSpecTables:il,activeApmSpec:_s,setActiveApmSpec:ic,expandedApmSpec:na,setExpandedApmSpec:Ls,activeApmSkillId:Fa,setActiveApmSkillId:mu,ALL_SKILLS_KEY:Eh,apmSkillSearch:kh,setApmSkillSearch:Sh,activeApmSpecTable:fo,activeApmSkill:dB,isAllApmSkills:uB,apmView:rc,setApmView:ta,formatApmValue:_B,formatCastRateValue:OB,formatCastCountValue:IB,renderProfessionIcon:pi})]}),!u&&c.jsx("div",{className:"h-24","aria-hidden":"true"})]}),ee&&c.jsx("div",{className:"stats-dashboard-loading-overlay","aria-hidden":"true"})]})]})}const use="Arcane",kN="CRT",v0="MatteSlate",b0="KineticPaper",Ff="KineticPaperDark",Hp={id:use,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},dse={id:v0,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},fse={id:b0,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},mse={id:Ff,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},hse=[Hp,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],pse={id:kN,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Cf=[...hse,pse,dse,fse,mse];function gse(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const xse=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vse=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,bse={};function RD(e,t){return(bse.jsx?vse:xse).test(e)}const yse=/[ \t\n\f\r]/g;function wse(e){return typeof e=="object"?e.type==="text"?BD(e.value):!1:BD(e)}function BD(e){return e.replace(yse,"")===""}class ph{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ph.prototype.normal={};ph.prototype.property={};ph.prototype.space=void 0;function c$(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new ph(n,r,t)}function zw(e){return e.toLowerCase()}class pa{constructor(t,n){this.attribute=n,this.property=t}}pa.prototype.attribute="";pa.prototype.booleanish=!1;pa.prototype.boolean=!1;pa.prototype.commaOrSpaceSeparated=!1;pa.prototype.commaSeparated=!1;pa.prototype.defined=!1;pa.prototype.mustUseProperty=!1;pa.prototype.number=!1;pa.prototype.overloadedBoolean=!1;pa.prototype.property="";pa.prototype.spaceSeparated=!1;pa.prototype.space=void 0;let kse=0;const hn=su(),Rr=su(),Uw=su(),st=su(),nr=su(),ad=su(),ka=su();function su(){return 2**++kse}const Vw=Object.freeze(Object.defineProperty({__proto__:null,boolean:hn,booleanish:Rr,commaOrSpaceSeparated:ka,commaSeparated:ad,number:st,overloadedBoolean:Uw,spaceSeparated:nr},Symbol.toStringTag,{value:"Module"})),xb=Object.keys(Vw);class SN extends pa{constructor(t,n,r,i){let a=-1;if(super(t,n),zD(this,"space",i),typeof r=="number")for(;++a<xb.length;){const s=xb[a];zD(this,xb[a],(r&Vw[s])===Vw[s])}}}SN.prototype.defined=!0;function zD(e,t,n){n&&(e[t]=n)}function zd(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new SN(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[zw(r)]=r,n[zw(a.attribute)]=r}return new ph(t,n,e.space)}const u$=zd({properties:{ariaActiveDescendant:null,ariaAtomic:Rr,ariaAutoComplete:null,ariaBusy:Rr,ariaChecked:Rr,ariaColCount:st,ariaColIndex:st,ariaColSpan:st,ariaControls:nr,ariaCurrent:null,ariaDescribedBy:nr,ariaDetails:null,ariaDisabled:Rr,ariaDropEffect:nr,ariaErrorMessage:null,ariaExpanded:Rr,ariaFlowTo:nr,ariaGrabbed:Rr,ariaHasPopup:null,ariaHidden:Rr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nr,ariaLevel:st,ariaLive:null,ariaModal:Rr,ariaMultiLine:Rr,ariaMultiSelectable:Rr,ariaOrientation:null,ariaOwns:nr,ariaPlaceholder:null,ariaPosInSet:st,ariaPressed:Rr,ariaReadOnly:Rr,ariaRelevant:null,ariaRequired:Rr,ariaRoleDescription:nr,ariaRowCount:st,ariaRowIndex:st,ariaRowSpan:st,ariaSelected:Rr,ariaSetSize:st,ariaSort:null,ariaValueMax:st,ariaValueMin:st,ariaValueNow:st,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function d$(e,t){return t in e?e[t]:t}function f$(e,t){return d$(e,t.toLowerCase())}const Sse=zd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ad,acceptCharset:nr,accessKey:nr,action:null,allow:null,allowFullScreen:hn,allowPaymentRequest:hn,allowUserMedia:hn,alt:null,as:null,async:hn,autoCapitalize:null,autoComplete:nr,autoFocus:hn,autoPlay:hn,blocking:nr,capture:null,charSet:null,checked:hn,cite:null,className:nr,cols:st,colSpan:null,content:null,contentEditable:Rr,controls:hn,controlsList:nr,coords:st|ad,crossOrigin:null,data:null,dateTime:null,decoding:null,default:hn,defer:hn,dir:null,dirName:null,disabled:hn,download:Uw,draggable:Rr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:hn,formTarget:null,headers:nr,height:st,hidden:Uw,high:st,href:null,hrefLang:null,htmlFor:nr,httpEquiv:nr,id:null,imageSizes:null,imageSrcSet:null,inert:hn,inputMode:null,integrity:null,is:null,isMap:hn,itemId:null,itemProp:nr,itemRef:nr,itemScope:hn,itemType:nr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:hn,low:st,manifest:null,max:null,maxLength:st,media:null,method:null,min:null,minLength:st,multiple:hn,muted:hn,name:null,nonce:null,noModule:hn,noValidate:hn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:hn,optimum:st,pattern:null,ping:nr,placeholder:null,playsInline:hn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:hn,referrerPolicy:null,rel:nr,required:hn,reversed:hn,rows:st,rowSpan:st,sandbox:nr,scope:null,scoped:hn,seamless:hn,selected:hn,shadowRootClonable:hn,shadowRootDelegatesFocus:hn,shadowRootMode:null,shape:null,size:st,sizes:null,slot:null,span:st,spellCheck:Rr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:st,step:null,style:null,tabIndex:st,target:null,title:null,translate:null,type:null,typeMustMatch:hn,useMap:null,value:Rr,width:st,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nr,axis:null,background:null,bgColor:null,border:st,borderColor:null,bottomMargin:st,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:hn,declare:hn,event:null,face:null,frame:null,frameBorder:null,hSpace:st,leftMargin:st,link:null,longDesc:null,lowSrc:null,marginHeight:st,marginWidth:st,noResize:hn,noHref:hn,noShade:hn,noWrap:hn,object:null,profile:null,prompt:null,rev:null,rightMargin:st,rules:null,scheme:null,scrolling:Rr,standby:null,summary:null,text:null,topMargin:st,valueType:null,version:null,vAlign:null,vLink:null,vSpace:st,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:hn,disableRemotePlayback:hn,prefix:null,property:null,results:st,security:null,unselectable:null},space:"html",transform:f$}),Nse=zd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ka,accentHeight:st,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:st,amplitude:st,arabicForm:null,ascent:st,attributeName:null,attributeType:null,azimuth:st,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:st,by:null,calcMode:null,capHeight:st,className:nr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:st,diffuseConstant:st,direction:null,display:null,dur:null,divisor:st,dominantBaseline:null,download:hn,dx:null,dy:null,edgeMode:null,editable:null,elevation:st,enableBackground:null,end:null,event:null,exponent:st,externalResourcesRequired:null,fill:null,fillOpacity:st,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ad,g2:ad,glyphName:ad,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:st,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:st,horizOriginX:st,horizOriginY:st,id:null,ideographic:st,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:st,k:st,k1:st,k2:st,k3:st,k4:st,kernelMatrix:ka,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:st,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:st,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:st,overlineThickness:st,paintOrder:null,panose1:null,path:null,pathLength:st,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:st,pointsAtY:st,pointsAtZ:st,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ka,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ka,rev:ka,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ka,requiredFeatures:ka,requiredFonts:ka,requiredFormats:ka,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:st,specularExponent:st,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:st,strikethroughThickness:st,string:null,stroke:null,strokeDashArray:ka,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:st,strokeOpacity:st,strokeWidth:null,style:null,surfaceScale:st,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ka,tabIndex:st,tableValues:null,target:null,targetX:st,targetY:st,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ka,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:st,underlineThickness:st,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:st,values:null,vAlphabetic:st,vMathematical:st,vectorEffect:null,vHanging:st,vIdeographic:st,version:null,vertAdvY:st,vertOriginX:st,vertOriginY:st,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:st,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:d$}),m$=zd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),h$=zd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:f$}),p$=zd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Cse={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},jse=/[A-Z]/g,UD=/-[a-z]/g,Ase=/^data[-\w.:]+$/i;function Pse(e,t){const n=zw(t);let r=t,i=pa;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Ase.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(UD,Tse);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!UD.test(a)){let s=a.replace(jse,Dse);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=SN}return new i(r,t)}function Dse(e){return"-"+e.toLowerCase()}function Tse(e){return e.charAt(1).toUpperCase()}const Ese=c$([u$,Sse,m$,h$,p$],"html"),NN=c$([u$,Nse,m$,h$,p$],"svg");function Mse(e){return e.join(" ").trim()}var CN={},VD=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Ose=/\n/g,Ise=/^\s*/,_se=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Lse=/^:\s*/,$se=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Fse=/^[;\s]*/,Rse=/^\s+|\s+$/g,Bse=`
`,WD="/",HD="*",wc="",zse="comment",Use="declaration";function Vse(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(Ose);g&&(n+=g.length);var b=p.lastIndexOf(Bse);r=~b?p.length-b:r+p.length}function a(){var p={line:n,column:r};return function(g){return g.position=new s(p),u(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var b=g[0];return i(b),e=e.slice(b.length),g}}function u(){l(Ise)}function d(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=a();if(!(WD!=e.charAt(0)||HD!=e.charAt(1))){for(var g=2;wc!=e.charAt(g)&&(HD!=e.charAt(g)||WD!=e.charAt(g+1));)++g;if(g+=2,wc===e.charAt(g-1))return o("End of comment missing");var b=e.slice(2,g-2);return r+=2,i(b),e=e.slice(g),r+=2,p({type:zse,comment:b})}}function h(){var p=a(),g=l(_se);if(g){if(f(),!l(Lse))return o("property missing ':'");var b=l($se),x=p({type:Use,property:qD(g[0].replace(VD,wc)),value:b?qD(b[0].replace(VD,wc)):wc});return l(Fse),x}}function m(){var p=[];d(p);for(var g;g=h();)g!==!1&&(p.push(g),d(p));return p}return u(),m()}function qD(e){return e?e.replace(Rse,wc):wc}var Wse=Vse,Hse=Xp&&Xp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(CN,"__esModule",{value:!0});CN.default=Kse;const qse=Hse(Wse);function Kse(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,qse.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var Qx={};Object.defineProperty(Qx,"__esModule",{value:!0});Qx.camelCase=void 0;var Gse=/^--[a-zA-Z0-9_-]+$/,Yse=/-([a-z])/g,Xse=/^[^-]+$/,Qse=/^-(webkit|moz|ms|o|khtml)-/,Zse=/^-(ms)-/,Jse=function(e){return!e||Xse.test(e)||Gse.test(e)},eoe=function(e,t){return t.toUpperCase()},KD=function(e,t){return"".concat(t,"-")},toe=function(e,t){return t===void 0&&(t={}),Jse(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Zse,KD):e=e.replace(Qse,KD),e.replace(Yse,eoe))};Qx.camelCase=toe;var noe=Xp&&Xp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},roe=noe(CN),ioe=Qx;function Ww(e,t){var n={};return!e||typeof e!="string"||(0,roe.default)(e,function(r,i){r&&i&&(n[(0,ioe.camelCase)(r,t)]=i)}),n}Ww.default=Ww;var aoe=Ww;const soe=js(aoe),g$=x$("end"),jN=x$("start");function x$(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function ooe(e){const t=jN(e),n=g$(e);if(t&&n)return{start:t,end:n}}function Rf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?GD(e.position):"start"in e||"end"in e?GD(e):"line"in e||"column"in e?Hw(e):""}function Hw(e){return YD(e&&e.line)+":"+YD(e&&e.column)}function GD(e){return Hw(e&&e.start)+"-"+Hw(e&&e.end)}function YD(e){return e&&typeof e=="number"?e:1}class Ri extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Rf(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ri.prototype.file="";Ri.prototype.name="";Ri.prototype.reason="";Ri.prototype.message="";Ri.prototype.stack="";Ri.prototype.column=void 0;Ri.prototype.line=void 0;Ri.prototype.ancestors=void 0;Ri.prototype.cause=void 0;Ri.prototype.fatal=void 0;Ri.prototype.place=void 0;Ri.prototype.ruleId=void 0;Ri.prototype.source=void 0;const AN={}.hasOwnProperty,loe=new Map,coe=/[A-Z]/g,uoe=new Set(["table","tbody","thead","tfoot","tr"]),doe=new Set(["td","th"]),v$="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function foe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=yoe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=boe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?NN:Ese,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=b$(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function b$(e,t,n){if(t.type==="element")return moe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return hoe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return goe(e,t,n);if(t.type==="mdxjsEsm")return poe(e,t);if(t.type==="root")return xoe(e,t,n);if(t.type==="text")return voe(e,t)}function moe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=NN,e.schema=i),e.ancestors.push(t);const a=w$(e,t.tagName,!1),s=woe(e,t);let o=DN(e,t);return uoe.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!wse(l):!0})),y$(e,s,a,t),PN(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function hoe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Pm(e,t.position)}function poe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Pm(e,t.position)}function goe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=NN,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:w$(e,t.name,!0),s=koe(e,t),o=DN(e,t);return y$(e,s,a,t),PN(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function xoe(e,t,n){const r={};return PN(r,DN(e,t)),e.create(t,e.Fragment,r,n)}function voe(e,t){return t.value}function y$(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function PN(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function boe(e,t,n){return r;function r(i,a,s,o){const u=Array.isArray(s.children)?n:t;return o?u(a,s,o):u(a,s)}}function yoe(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=jN(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function woe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&AN.call(t.properties,i)){const a=Soe(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&doe.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function koe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Pm(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Pm(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function DN(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:loe;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const o=b$(e,a,s);o!==void 0&&n.push(o)}return n}function Soe(e,t,n){const r=Pse(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?gse(n):Mse(n)),r.property==="style"){let i=typeof n=="object"?n:Noe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Coe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Cse[r.property]||r.property:r.attribute,n]}}function Noe(e,t){try{return soe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ri("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=v$+"#cannot-parse-style-attribute",i}}function w$(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=RD(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=RD(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return AN.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Pm(e)}function Pm(e,t){const n=new Ri("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=v$+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Coe(e){const t={};let n;for(n in e)AN.call(e,n)&&(t[joe(n)]=e[n]);return t}function joe(e){let t=e.replace(coe,Aoe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Aoe(e){return"-"+e.toLowerCase()}const vb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Poe={};function TN(e,t){const n=Poe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return k$(e,r,i)}function k$(e,t,n){if(Doe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return XD(e.children,t,n)}return Array.isArray(e)?XD(e,t,n):""}function XD(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=k$(e[i],t,n);return r.join("")}function Doe(e){return!!(e&&typeof e=="object")}const QD=document.createElement("i");function EN(e){const t="&"+e+";";QD.innerHTML=t;const n=QD.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ea(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Ya(e,t){return e.length>0?(Ea(e,e.length,0,t),e):t}const ZD={}.hasOwnProperty;function S$(e){const t={};let n=-1;for(;++n<e.length;)Toe(t,e[n]);return t}function Toe(e,t){let n;for(n in t){const i=(ZD.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){ZD.call(i,s)||(i[s]=[]);const o=a[s];Eoe(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Eoe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ea(e,0,0,r)}function N$(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function bs(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Hi=Zl(/[A-Za-z]/),Li=Zl(/[\dA-Za-z]/),Moe=Zl(/[#-'*+\--9=?A-Z^-~]/);function y0(e){return e!==null&&(e<32||e===127)}const qw=Zl(/\d/),Ooe=Zl(/[\dA-Fa-f]/),Ioe=Zl(/[!-/:-@[-`{-~]/);function Ht(e){return e!==null&&e<-2}function Yn(e){return e!==null&&(e<0||e===32)}function yn(e){return e===-2||e===-1||e===32}const Zx=Zl(new RegExp("\\p{P}|\\p{S}","u")),tu=Zl(/\s/);function Zl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ud(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Li(e.charCodeAt(n+1))&&Li(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function En(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return yn(l)?(e.enter(n),o(l)):t(l)}function o(l){return yn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const _oe={tokenize:Loe};function Loe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),En(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Ht(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const $oe={tokenize:Foe},JD={tokenize:Roe};function Foe(e){const t=this,n=[];let r=0,i,a,s;return o;function o(y){if(r<n.length){const N=n[r];return t.containerState=N[1],e.attempt(N[0].continuation,l,u)(y)}return u(y)}function l(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const N=t.events.length;let C=N,S;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){S=t.events[C][1].end;break}x(r);let j=N;for(;j<t.events.length;)t.events[j][1].end={...S},j++;return Ea(t.events,C+1,0,t.events.slice(N)),t.events.length=j,u(y)}return o(y)}function u(y){if(r===n.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return p(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(JD,d,f)(y)}function d(y){return i&&w(),x(r),h(y)}function f(y){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(y)}function h(y){return t.containerState={},e.attempt(JD,m,p)(y)}function m(y){return r++,n.push([t.currentConstruct,t.containerState]),h(y)}function p(y){if(y===null){i&&w(),x(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(y)}function g(y){if(y===null){b(e.exit("chunkFlow"),!0),x(0),e.consume(y);return}return Ht(y)?(e.consume(y),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(y),g)}function b(y,N){const C=t.sliceStream(y);if(N&&C.push(null),y.previous=a,a&&(a.next=y),a=y,i.defineSkip(y.start),i.write(C),t.parser.lazy[y.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<s&&(!i.events[S][1].end||i.events[S][1].end.offset>s))return;const j=t.events.length;let M=j,$,T;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){if($){T=t.events[M][1].end;break}$=!0}for(x(r),S=j;S<t.events.length;)t.events[S][1].end={...T},S++;Ea(t.events,M+1,0,t.events.slice(j)),t.events.length=S}}function x(y){let N=n.length;for(;N-- >y;){const C=n[N];t.containerState=C[1],C[0].exit.call(t,e)}n.length=y}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Roe(e,t,n){return En(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Cd(e){if(e===null||Yn(e)||tu(e))return 1;if(Zx(e))return 2}function Jx(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const Kw={name:"attention",resolveAll:Boe,tokenize:zoe};function Boe(e,t){let n=-1,r,i,a,s,o,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};eT(f,-l),eT(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Ya(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Ya(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=Ya(u,Jx(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Ya(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Ya(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ea(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function zoe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Cd(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const u=e.exit("attentionSequence"),d=Cd(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(i||!h)),u._close=!!(a===42?h:h&&(d||!f)),t(l)}}function eT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Uoe={name:"autolink",tokenize:Voe};function Voe(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Hi(m)?(e.consume(m),s):m===64?n(m):u(m)}function s(m){return m===43||m===45||m===46||Li(m)?(r=1,o(m)):u(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Li(m))&&r++<32?(e.consume(m),o):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||y0(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):Moe(m)?(e.consume(m),u):n(m)}function d(m){return Li(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Li(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const gh={partial:!0,tokenize:Woe};function Woe(e,t,n){return r;function r(a){return yn(a)?En(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ht(a)?t(a):n(a)}}const C$={continuation:{tokenize:qoe},exit:Koe,name:"blockQuote",tokenize:Hoe};function Hoe(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return yn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function qoe(e,t,n){const r=this;return i;function i(s){return yn(s)?En(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(C$,t,n)(s)}}function Koe(e){e.exit("blockQuote")}const j$={name:"characterEscape",tokenize:Goe};function Goe(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Ioe(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const A$={name:"characterReference",tokenize:Yoe};function Yoe(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=Li,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=Ooe,d):(e.enter("characterReferenceValue"),a=7,s=qw,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===Li&&!EN(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const tT={partial:!0,tokenize:Qoe},nT={concrete:!0,name:"codeFenced",tokenize:Xoe};function Xoe(e,t,n){const r=this,i={partial:!0,tokenize:C};let a=0,s=0,o;return l;function l(S){return u(S)}function u(S){const j=r.events[r.events.length-1];return a=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,o=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===o?(s++,e.consume(S),d):s<3?n(S):(e.exit("codeFencedFenceSequence"),yn(S)?En(e,f,"whitespace")(S):f(S))}function f(S){return S===null||Ht(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(tT,g,N)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(S))}function h(S){return S===null||Ht(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(S)):yn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),En(e,m,"whitespace")(S)):S===96&&S===o?n(S):(e.consume(S),h)}function m(S){return S===null||Ht(S)?f(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||Ht(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(S)):S===96&&S===o?n(S):(e.consume(S),p)}function g(S){return e.attempt(i,N,b)(S)}function b(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),x}function x(S){return a>0&&yn(S)?En(e,w,"linePrefix",a+1)(S):w(S)}function w(S){return S===null||Ht(S)?e.check(tT,g,N)(S):(e.enter("codeFlowValue"),y(S))}function y(S){return S===null||Ht(S)?(e.exit("codeFlowValue"),w(S)):(e.consume(S),y)}function N(S){return e.exit("codeFenced"),t(S)}function C(S,j,M){let $=0;return T;function T(ue){return S.enter("lineEnding"),S.consume(ue),S.exit("lineEnding"),_}function _(ue){return S.enter("codeFencedFence"),yn(ue)?En(S,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ue):O(ue)}function O(ue){return ue===o?(S.enter("codeFencedFenceSequence"),G(ue)):M(ue)}function G(ue){return ue===o?($++,S.consume(ue),G):$>=s?(S.exit("codeFencedFenceSequence"),yn(ue)?En(S,J,"whitespace")(ue):J(ue)):M(ue)}function J(ue){return ue===null||Ht(ue)?(S.exit("codeFencedFence"),j(ue)):M(ue)}}}function Qoe(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const bb={name:"codeIndented",tokenize:Joe},Zoe={partial:!0,tokenize:ele};function Joe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),En(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):Ht(u)?e.attempt(Zoe,s,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||Ht(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function ele(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Ht(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):En(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Ht(s)?i(s):n(s)}}const tle={name:"codeText",previous:rle,resolve:nle,tokenize:ile};function nle(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function rle(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ile(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Ht(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Ht(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class ale{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&mf(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),mf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),mf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);mf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);mf(this.left,n.reverse())}}}function mf(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function P$(e){const t={};let n=-1,r,i,a,s,o,l,u;const d=new ale(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,sle(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return Ea(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function sle(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let d,f,h=-1,m=n,p=0,g=0;const b=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,b.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),h=b.length;h--;){const x=o.slice(b[h],b[h+1]),w=a.pop();l.push([w,w+x.length-1]),e.splice(w,2,x)}for(l.reverse(),h=-1;++h<l.length;)u[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return u}const ole={resolve:cle,tokenize:ule},lle={partial:!0,tokenize:dle};function cle(e){return P$(e),e}function ule(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Ht(o)?e.check(lle,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function dle(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),En(e,a,"linePrefix")}function a(s){if(s===null||Ht(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function D$(e,t,n,r,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),h):x===null||x===32||x===41||y0(x)?n(x):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(x))}function h(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(o),h(x)):x===null||x===60||Ht(x)?n(x):(e.consume(x),x===92?p:m)}function p(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function g(x){return!d&&(x===null||x===41||Yn(x))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(x)):d<u&&x===40?(e.consume(x),d++,g):x===41?(e.consume(x),d--,g):x===null||x===32||x===40||y0(x)?n(x):(e.consume(x),x===92?b:g)}function b(x){return x===40||x===41||x===92?(e.consume(x),g):g(x)}}function T$(e,t,n,r,i,a){const s=this;let o=0,l;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Ht(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Ht(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!yn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function E$(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),u(h))}function u(h){return h===s?(e.exit(a),l(s)):h===null?n(h):Ht(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),En(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||Ht(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function Bf(e,t){let n;return r;function r(i){return Ht(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):yn(i)?En(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const fle={name:"definition",tokenize:hle},mle={partial:!0,tokenize:ple};function hle(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return T$.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=bs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Yn(m)?Bf(e,u)(m):u(m)}function u(m){return D$(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(mle,f,f)(m)}function f(m){return yn(m)?En(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Ht(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function ple(e,t,n){return r;function r(o){return Yn(o)?Bf(e,i)(o):n(o)}function i(o){return E$(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return yn(o)?En(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Ht(o)?t(o):n(o)}}const gle={name:"hardBreakEscape",tokenize:xle};function xle(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Ht(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const vle={name:"headingAtx",resolve:ble,tokenize:yle};function ble(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ea(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function yle(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Yn(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Ht(d)?(e.exit("atxHeading"),t(d)):yn(d)?En(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Yn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const wle=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],rT=["pre","script","style","textarea"],kle={concrete:!0,name:"htmlFlow",resolveTo:Cle,tokenize:jle},Sle={partial:!0,tokenize:Ple},Nle={partial:!0,tokenize:Ale};function Cle(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function jle(e,t,n){const r=this;let i,a,s,o,l;return u;function u(k){return d(k)}function d(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),h):k===47?(e.consume(k),a=!0,g):k===63?(e.consume(k),i=3,r.interrupt?t:E):Hi(k)?(e.consume(k),s=String.fromCharCode(k),b):n(k)}function h(k){return k===45?(e.consume(k),i=2,m):k===91?(e.consume(k),i=5,o=0,p):Hi(k)?(e.consume(k),i=4,r.interrupt?t:E):n(k)}function m(k){return k===45?(e.consume(k),r.interrupt?t:E):n(k)}function p(k){const V="CDATA[";return k===V.charCodeAt(o++)?(e.consume(k),o===V.length?r.interrupt?t:O:p):n(k)}function g(k){return Hi(k)?(e.consume(k),s=String.fromCharCode(k),b):n(k)}function b(k){if(k===null||k===47||k===62||Yn(k)){const V=k===47,W=s.toLowerCase();return!V&&!a&&rT.includes(W)?(i=1,r.interrupt?t(k):O(k)):wle.includes(s.toLowerCase())?(i=6,V?(e.consume(k),x):r.interrupt?t(k):O(k)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):a?w(k):y(k))}return k===45||Li(k)?(e.consume(k),s+=String.fromCharCode(k),b):n(k)}function x(k){return k===62?(e.consume(k),r.interrupt?t:O):n(k)}function w(k){return yn(k)?(e.consume(k),w):T(k)}function y(k){return k===47?(e.consume(k),T):k===58||k===95||Hi(k)?(e.consume(k),N):yn(k)?(e.consume(k),y):T(k)}function N(k){return k===45||k===46||k===58||k===95||Li(k)?(e.consume(k),N):C(k)}function C(k){return k===61?(e.consume(k),S):yn(k)?(e.consume(k),C):y(k)}function S(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),l=k,j):yn(k)?(e.consume(k),S):M(k)}function j(k){return k===l?(e.consume(k),l=null,$):k===null||Ht(k)?n(k):(e.consume(k),j)}function M(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Yn(k)?C(k):(e.consume(k),M)}function $(k){return k===47||k===62||yn(k)?y(k):n(k)}function T(k){return k===62?(e.consume(k),_):n(k)}function _(k){return k===null||Ht(k)?O(k):yn(k)?(e.consume(k),_):n(k)}function O(k){return k===45&&i===2?(e.consume(k),ge):k===60&&i===1?(e.consume(k),Y):k===62&&i===4?(e.consume(k),D):k===63&&i===3?(e.consume(k),E):k===93&&i===5?(e.consume(k),K):Ht(k)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Sle,ie,G)(k)):k===null||Ht(k)?(e.exit("htmlFlowData"),G(k)):(e.consume(k),O)}function G(k){return e.check(Nle,J,ie)(k)}function J(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),ue}function ue(k){return k===null||Ht(k)?G(k):(e.enter("htmlFlowData"),O(k))}function ge(k){return k===45?(e.consume(k),E):O(k)}function Y(k){return k===47?(e.consume(k),s="",q):O(k)}function q(k){if(k===62){const V=s.toLowerCase();return rT.includes(V)?(e.consume(k),D):O(k)}return Hi(k)&&s.length<8?(e.consume(k),s+=String.fromCharCode(k),q):O(k)}function K(k){return k===93?(e.consume(k),E):O(k)}function E(k){return k===62?(e.consume(k),D):k===45&&i===2?(e.consume(k),E):O(k)}function D(k){return k===null||Ht(k)?(e.exit("htmlFlowData"),ie(k)):(e.consume(k),D)}function ie(k){return e.exit("htmlFlow"),t(k)}}function Ale(e,t,n){const r=this;return i;function i(s){return Ht(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function Ple(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(gh,t,n)}}const Dle={name:"htmlText",tokenize:Tle};function Tle(e,t,n){const r=this;let i,a,s;return o;function o(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),l}function l(E){return E===33?(e.consume(E),u):E===47?(e.consume(E),C):E===63?(e.consume(E),y):Hi(E)?(e.consume(E),M):n(E)}function u(E){return E===45?(e.consume(E),d):E===91?(e.consume(E),a=0,p):Hi(E)?(e.consume(E),w):n(E)}function d(E){return E===45?(e.consume(E),m):n(E)}function f(E){return E===null?n(E):E===45?(e.consume(E),h):Ht(E)?(s=f,Y(E)):(e.consume(E),f)}function h(E){return E===45?(e.consume(E),m):f(E)}function m(E){return E===62?ge(E):E===45?h(E):f(E)}function p(E){const D="CDATA[";return E===D.charCodeAt(a++)?(e.consume(E),a===D.length?g:p):n(E)}function g(E){return E===null?n(E):E===93?(e.consume(E),b):Ht(E)?(s=g,Y(E)):(e.consume(E),g)}function b(E){return E===93?(e.consume(E),x):g(E)}function x(E){return E===62?ge(E):E===93?(e.consume(E),x):g(E)}function w(E){return E===null||E===62?ge(E):Ht(E)?(s=w,Y(E)):(e.consume(E),w)}function y(E){return E===null?n(E):E===63?(e.consume(E),N):Ht(E)?(s=y,Y(E)):(e.consume(E),y)}function N(E){return E===62?ge(E):y(E)}function C(E){return Hi(E)?(e.consume(E),S):n(E)}function S(E){return E===45||Li(E)?(e.consume(E),S):j(E)}function j(E){return Ht(E)?(s=j,Y(E)):yn(E)?(e.consume(E),j):ge(E)}function M(E){return E===45||Li(E)?(e.consume(E),M):E===47||E===62||Yn(E)?$(E):n(E)}function $(E){return E===47?(e.consume(E),ge):E===58||E===95||Hi(E)?(e.consume(E),T):Ht(E)?(s=$,Y(E)):yn(E)?(e.consume(E),$):ge(E)}function T(E){return E===45||E===46||E===58||E===95||Li(E)?(e.consume(E),T):_(E)}function _(E){return E===61?(e.consume(E),O):Ht(E)?(s=_,Y(E)):yn(E)?(e.consume(E),_):$(E)}function O(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),i=E,G):Ht(E)?(s=O,Y(E)):yn(E)?(e.consume(E),O):(e.consume(E),J)}function G(E){return E===i?(e.consume(E),i=void 0,ue):E===null?n(E):Ht(E)?(s=G,Y(E)):(e.consume(E),G)}function J(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||Yn(E)?$(E):(e.consume(E),J)}function ue(E){return E===47||E===62||Yn(E)?$(E):n(E)}function ge(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):n(E)}function Y(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),q}function q(E){return yn(E)?En(e,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):K(E)}function K(E){return e.enter("htmlTextData"),s(E)}}const MN={name:"labelEnd",resolveAll:Ile,resolveTo:_le,tokenize:Lle},Ele={tokenize:$le},Mle={tokenize:Fle},Ole={tokenize:Rle};function Ile(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ea(e,0,e.length,n),e}function _le(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=Ya(o,e.slice(a+1,a+r+3)),o=Ya(o,[["enter",d,t]]),o=Ya(o,Jx(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=Ya(o,[["exit",d,t],e[s-2],e[s-1],["exit",u,t]]),o=Ya(o,e.slice(s+1)),o=Ya(o,[["exit",l,t]]),Ea(e,a,e.length,o),e}function Lle(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(bs(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(Ele,d,s?d:f)(h):h===91?e.attempt(Mle,d,s?u:f)(h):s?d(h):f(h)}function u(h){return e.attempt(Ole,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function $le(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Yn(f)?Bf(e,a)(f):a(f)}function a(f){return f===41?d(f):D$(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Yn(f)?Bf(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?E$(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Yn(f)?Bf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Fle(e,t,n){const r=this;return i;function i(o){return T$.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(bs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function Rle(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Ble={name:"labelStartImage",resolveAll:MN.resolveAll,tokenize:zle};function zle(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Ule={name:"labelStartLink",resolveAll:MN.resolveAll,tokenize:Vle};function Vle(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const yb={name:"lineEnding",tokenize:Wle};function Wle(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),En(e,t,"linePrefix")}}const qp={name:"thematicBreak",tokenize:Hle};function Hle(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Ht(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),yn(u)?En(e,o,"whitespace")(u):o(u))}}const ra={continuation:{tokenize:Yle},exit:Qle,name:"list",tokenize:Gle},qle={partial:!0,tokenize:Zle},Kle={partial:!0,tokenize:Xle};function Gle(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:qw(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(qp,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return qw(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(gh,r.interrupt?n:d,e.attempt(qle,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return yn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Yle(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(gh,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,En(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!yn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Kle,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,En(e,e.attempt(ra,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Xle(e,t,n){const r=this;return En(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function Qle(e){e.exit(this.containerState.type)}function Zle(e,t,n){const r=this;return En(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!yn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const iT={name:"setextUnderline",resolveTo:Jle,tokenize:ece};function Jle(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function ece(e,t,n){const r=this;let i;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),yn(u)?En(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Ht(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const tce={tokenize:nce};function nce(e){const t=this,n=e.attempt(gh,r,e.attempt(this.parser.constructs.flowInitial,i,En(e,e.attempt(this.parser.constructs.flow,i,e.attempt(ole,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const rce={resolveAll:O$()},ice=M$("string"),ace=M$("text");function M$(e){return{resolveAll:O$(e==="text"?sce:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return u(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function O$(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function sce(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const oce={42:ra,43:ra,45:ra,48:ra,49:ra,50:ra,51:ra,52:ra,53:ra,54:ra,55:ra,56:ra,57:ra,62:C$},lce={91:fle},cce={[-2]:bb,[-1]:bb,32:bb},uce={35:vle,42:qp,45:[iT,qp],60:kle,61:iT,95:qp,96:nT,126:nT},dce={38:A$,92:j$},fce={[-5]:yb,[-4]:yb,[-3]:yb,33:Ble,38:A$,42:Kw,60:[Uoe,Dle],91:Ule,92:[gle,j$],93:MN,95:Kw,96:tle},mce={null:[Kw,rce]},hce={null:[42,95]},pce={null:[]},gce=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:hce,contentInitial:lce,disable:pce,document:oce,flow:uce,flowInitial:cce,insideSpan:mce,string:dce,text:fce},Symbol.toStringTag,{value:"Module"}));function xce(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:j(C),check:j(S),consume:w,enter:y,exit:N,interrupt:j(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function f(_){return s=Ya(s,_),b(),s[s.length-1]!==null?[]:(M(t,0),u.events=Jx(a,u.events,u),u.events)}function h(_,O){return bce(m(_),O)}function m(_){return vce(s,_)}function p(){const{_bufferIndex:_,_index:O,line:G,column:J,offset:ue}=r;return{_bufferIndex:_,_index:O,line:G,column:J,offset:ue}}function g(_){i[_.line]=_.column,T()}function b(){let _;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(_=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===_&&r._bufferIndex<O.length;)x(O.charCodeAt(r._bufferIndex));else x(O)}}function x(_){d=d(_)}function w(_){Ht(_)?(r.line++,r.column=1,r.offset+=_===-3?2:1,T()):_!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=_}function y(_,O){const G=O||{};return G.type=_,G.start=p(),u.events.push(["enter",G,u]),o.push(G),G}function N(_){const O=o.pop();return O.end=p(),u.events.push(["exit",O,u]),O}function C(_,O){M(_,O.from)}function S(_,O){O.restore()}function j(_,O){return G;function G(J,ue,ge){let Y,q,K,E;return Array.isArray(J)?ie(J):"tokenize"in J?ie([J]):D(J);function D(re){return ne;function ne(se){const F=se!==null&&re[se],U=se!==null&&re.null,H=[...Array.isArray(F)?F:F?[F]:[],...Array.isArray(U)?U:U?[U]:[]];return ie(H)(se)}}function ie(re){return Y=re,q=0,re.length===0?ge:k(re[q])}function k(re){return ne;function ne(se){return E=$(),K=re,re.partial||(u.currentConstruct=re),re.name&&u.parser.constructs.disable.null.includes(re.name)?W():re.tokenize.call(O?Object.assign(Object.create(u),O):u,l,V,W)(se)}}function V(re){return _(K,E),ue}function W(re){return E.restore(),++q<Y.length?k(Y[q]):ge}}}function M(_,O){_.resolveAll&&!a.includes(_)&&a.push(_),_.resolve&&Ea(u.events,O,u.events.length-O,_.resolve(u.events.slice(O),u)),_.resolveTo&&(u.events=_.resolveTo(u.events,u))}function $(){const _=p(),O=u.previous,G=u.currentConstruct,J=u.events.length,ue=Array.from(o);return{from:J,restore:ge};function ge(){r=_,u.previous=O,u.currentConstruct=G,u.events.length=J,o=ue,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function vce(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function bce(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function yce(e){const r={constructs:S$([gce,...(e||{}).extensions||[]]),content:i(_oe),defined:[],document:i($oe),flow:i(tce),lazy:{},string:i(ice),text:i(ace)};return r;function i(a){return s;function s(o){return xce(r,a,o)}}}function wce(e){for(;!P$(e););return e}const aT=/[\0\t\n\r]/g;function kce(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let u,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(aT.lastIndex=f,u=aT.exec(a),h=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(h),!u){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Sce=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Nce(e){return e.replace(Sce,Cce)}function Cce(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return N$(n.slice(a?2:1),a?16:10)}return EN(n)||e}const I$={}.hasOwnProperty;function jce(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Ace(n)(wce(yce(n).document().write(kce()(e,t,!0))))}function Ace(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(he),autolinkProtocol:$,autolinkEmail:$,atxHeading:a(X),blockQuote:a(U),characterEscape:$,characterReference:$,codeFenced:a(H),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(H,s),codeText:a(ee,s),codeTextData:$,data:$,codeFlowValue:$,definition:a(R),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(ce),hardBreakEscape:a(ae),hardBreakTrailing:a(ae),htmlFlow:a(ze,s),htmlFlowData:$,htmlText:a(ze,s),htmlTextData:$,image:a(Ve),label:s,link:a(he),listItem:a(Pe),listItemValue:h,listOrdered:a(L,f),listUnordered:a(L),paragraph:a(Ee),reference:k,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(X),strong:a(xt),thematicBreak:a(pn)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:F,autolinkProtocol:se,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:W,characterReferenceMarkerNumeric:W,characterReferenceValue:re,characterReference:ne,codeFenced:l(b),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:l(x),codeText:l(ue),codeTextData:T,data:T,definition:l(),definitionDestinationString:N,definitionLabelString:w,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(G),htmlFlowData:T,htmlText:l(J),htmlTextData:T,image:l(Y),label:K,labelText:q,lineEnding:_,link:l(ge),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:V,resourceDestinationString:E,resourceTitleString:D,resource:ie,setextHeading:l(M),setextHeadingLineSequence:j,setextHeadingText:S,strong:l(),thematicBreak:l()}};_$(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ke){let Qe={type:"root",children:[]};const Tt={stack:[Qe],tokenStack:[],config:t,enter:o,exit:u,buffer:s,resume:d,data:n},nn=[];let Xt=-1;for(;++Xt<ke.length;)if(ke[Xt][1].type==="listOrdered"||ke[Xt][1].type==="listUnordered")if(ke[Xt][0]==="enter")nn.push(Xt);else{const Nr=nn.pop();Xt=i(ke,Nr,Xt)}for(Xt=-1;++Xt<ke.length;){const Nr=t[ke[Xt][0]];I$.call(Nr,ke[Xt][1].type)&&Nr[ke[Xt][1].type].call(Object.assign({sliceSerialize:ke[Xt][2].sliceSerialize},Tt),ke[Xt][1])}if(Tt.tokenStack.length>0){const Nr=Tt.tokenStack[Tt.tokenStack.length-1];(Nr[1]||sT).call(Tt,void 0,Nr[0])}for(Qe.position={start:fl(ke.length>0?ke[0][1].start:{line:1,column:1,offset:0}),end:fl(ke.length>0?ke[ke.length-2][1].end:{line:1,column:1,offset:0})},Xt=-1;++Xt<t.transforms.length;)Qe=t.transforms[Xt](Qe)||Qe;return Qe}function i(ke,Qe,Tt){let nn=Qe-1,Xt=-1,Nr=!1,Bn,un,ss,gn;for(;++nn<=Tt;){const Cn=ke[nn];switch(Cn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Cn[0]==="enter"?Xt++:Xt--,gn=void 0;break}case"lineEndingBlank":{Cn[0]==="enter"&&(Bn&&!gn&&!Xt&&!ss&&(ss=nn),gn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:gn=void 0}if(!Xt&&Cn[0]==="enter"&&Cn[1].type==="listItemPrefix"||Xt===-1&&Cn[0]==="exit"&&(Cn[1].type==="listUnordered"||Cn[1].type==="listOrdered")){if(Bn){let jn=nn;for(un=void 0;jn--;){const ji=ke[jn];if(ji[1].type==="lineEnding"||ji[1].type==="lineEndingBlank"){if(ji[0]==="exit")continue;un&&(ke[un][1].type="lineEndingBlank",Nr=!0),ji[1].type="lineEnding",un=jn}else if(!(ji[1].type==="linePrefix"||ji[1].type==="blockQuotePrefix"||ji[1].type==="blockQuotePrefixWhitespace"||ji[1].type==="blockQuoteMarker"||ji[1].type==="listItemIndent"))break}ss&&(!un||ss<un)&&(Bn._spread=!0),Bn.end=Object.assign({},un?ke[un][1].start:Cn[1].end),ke.splice(un||nn,0,["exit",Bn,Cn[2]]),nn++,Tt++}if(Cn[1].type==="listItemPrefix"){const jn={type:"listItem",_spread:!1,start:Object.assign({},Cn[1].start),end:void 0};Bn=jn,ke.splice(nn,0,["enter",jn,Cn[2]]),nn++,Tt++,ss=void 0,gn=!0}}}return ke[Qe][1]._spread=Nr,Tt}function a(ke,Qe){return Tt;function Tt(nn){o.call(this,ke(nn),nn),Qe&&Qe.call(this,nn)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(ke,Qe,Tt){this.stack[this.stack.length-1].children.push(ke),this.stack.push(ke),this.tokenStack.push([Qe,Tt||void 0]),ke.position={start:fl(Qe.start),end:void 0}}function l(ke){return Qe;function Qe(Tt){ke&&ke.call(this,Tt),u.call(this,Tt)}}function u(ke,Qe){const Tt=this.stack.pop(),nn=this.tokenStack.pop();if(nn)nn[0].type!==ke.type&&(Qe?Qe.call(this,ke,nn[0]):(nn[1]||sT).call(this,ke,nn[0]));else throw new Error("Cannot close `"+ke.type+"` ("+Rf({start:ke.start,end:ke.end})+"): its not open");Tt.position.end=fl(ke.end)}function d(){return TN(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(ke){if(this.data.expectingFirstListItemValue){const Qe=this.stack[this.stack.length-2];Qe.start=Number.parseInt(this.sliceSerialize(ke),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ke=this.resume(),Qe=this.stack[this.stack.length-1];Qe.lang=ke}function p(){const ke=this.resume(),Qe=this.stack[this.stack.length-1];Qe.meta=ke}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const ke=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=ke.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ke=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=ke.replace(/(\r?\n|\r)$/g,"")}function w(ke){const Qe=this.resume(),Tt=this.stack[this.stack.length-1];Tt.label=Qe,Tt.identifier=bs(this.sliceSerialize(ke)).toLowerCase()}function y(){const ke=this.resume(),Qe=this.stack[this.stack.length-1];Qe.title=ke}function N(){const ke=this.resume(),Qe=this.stack[this.stack.length-1];Qe.url=ke}function C(ke){const Qe=this.stack[this.stack.length-1];if(!Qe.depth){const Tt=this.sliceSerialize(ke).length;Qe.depth=Tt}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function j(ke){const Qe=this.stack[this.stack.length-1];Qe.depth=this.sliceSerialize(ke).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function $(ke){const Tt=this.stack[this.stack.length-1].children;let nn=Tt[Tt.length-1];(!nn||nn.type!=="text")&&(nn=zt(),nn.position={start:fl(ke.start),end:void 0},Tt.push(nn)),this.stack.push(nn)}function T(ke){const Qe=this.stack.pop();Qe.value+=this.sliceSerialize(ke),Qe.position.end=fl(ke.end)}function _(ke){const Qe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Tt=Qe.children[Qe.children.length-1];Tt.position.end=fl(ke.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Qe.type)&&($.call(this,ke),T.call(this,ke))}function O(){this.data.atHardBreak=!0}function G(){const ke=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=ke}function J(){const ke=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=ke}function ue(){const ke=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=ke}function ge(){const ke=this.stack[this.stack.length-1];if(this.data.inReference){const Qe=this.data.referenceType||"shortcut";ke.type+="Reference",ke.referenceType=Qe,delete ke.url,delete ke.title}else delete ke.identifier,delete ke.label;this.data.referenceType=void 0}function Y(){const ke=this.stack[this.stack.length-1];if(this.data.inReference){const Qe=this.data.referenceType||"shortcut";ke.type+="Reference",ke.referenceType=Qe,delete ke.url,delete ke.title}else delete ke.identifier,delete ke.label;this.data.referenceType=void 0}function q(ke){const Qe=this.sliceSerialize(ke),Tt=this.stack[this.stack.length-2];Tt.label=Nce(Qe),Tt.identifier=bs(Qe).toLowerCase()}function K(){const ke=this.stack[this.stack.length-1],Qe=this.resume(),Tt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Tt.type==="link"){const nn=ke.children;Tt.children=nn}else Tt.alt=Qe}function E(){const ke=this.resume(),Qe=this.stack[this.stack.length-1];Qe.url=ke}function D(){const ke=this.resume(),Qe=this.stack[this.stack.length-1];Qe.title=ke}function ie(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function V(ke){const Qe=this.resume(),Tt=this.stack[this.stack.length-1];Tt.label=Qe,Tt.identifier=bs(this.sliceSerialize(ke)).toLowerCase(),this.data.referenceType="full"}function W(ke){this.data.characterReferenceType=ke.type}function re(ke){const Qe=this.sliceSerialize(ke),Tt=this.data.characterReferenceType;let nn;Tt?(nn=N$(Qe,Tt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nn=EN(Qe);const Xt=this.stack[this.stack.length-1];Xt.value+=nn}function ne(ke){const Qe=this.stack.pop();Qe.position.end=fl(ke.end)}function se(ke){T.call(this,ke);const Qe=this.stack[this.stack.length-1];Qe.url=this.sliceSerialize(ke)}function F(ke){T.call(this,ke);const Qe=this.stack[this.stack.length-1];Qe.url="mailto:"+this.sliceSerialize(ke)}function U(){return{type:"blockquote",children:[]}}function H(){return{type:"code",lang:null,meta:null,value:""}}function ee(){return{type:"inlineCode",value:""}}function R(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ce(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function ae(){return{type:"break"}}function ze(){return{type:"html",value:""}}function Ve(){return{type:"image",title:null,url:"",alt:null}}function he(){return{type:"link",title:null,url:"",children:[]}}function L(ke){return{type:"list",ordered:ke.type==="listOrdered",start:null,spread:ke._spread,children:[]}}function Pe(ke){return{type:"listItem",spread:ke._spread,checked:null,children:[]}}function Ee(){return{type:"paragraph",children:[]}}function xt(){return{type:"strong",children:[]}}function zt(){return{type:"text",value:""}}function pn(){return{type:"thematicBreak"}}}function fl(e){return{line:e.line,column:e.column,offset:e.offset}}function _$(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?_$(e,r):Pce(e,r)}}function Pce(e,t){let n;for(n in t)if(I$.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function sT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Rf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Rf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Rf({start:t.start,end:t.end})+") is still open")}function Dce(e){const t=this;t.parser=n;function n(r){return jce(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Tce(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Ece(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Mce(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function Oce(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ice(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _ce(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Ud(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function Lce(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $ce(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function L$(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Fce(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return L$(e,t);const i={src:Ud(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function Rce(e,t){const n={src:Ud(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Bce(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function zce(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return L$(e,t);const i={href:Ud(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Uce(e,t){const n={href:Ud(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Vce(e,t,n){const r=e.all(t),i=n?Wce(n):$$(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function Wce(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=$$(n[r])}return t}function $$(e){const t=e.spread;return t??e.children.length>1}function Hce(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function qce(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Kce(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Gce(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Yce(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=jN(t.children[1]),l=g$(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Xce(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),u.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function Qce(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const oT=9,lT=32;function Zce(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(cT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(cT(t.slice(i),i>0,!1)),a.join("")}function cT(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===oT||a===lT;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===oT||a===lT;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Jce(e,t){const n={type:"text",value:Zce(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function eue(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const tue={blockquote:Tce,break:Ece,code:Mce,delete:Oce,emphasis:Ice,footnoteReference:_ce,heading:Lce,html:$ce,imageReference:Fce,image:Rce,inlineCode:Bce,linkReference:zce,link:Uce,listItem:Vce,list:Hce,paragraph:qce,root:Kce,strong:Gce,table:Yce,tableCell:Qce,tableRow:Xce,text:Jce,thematicBreak:eue,toml:bp,yaml:bp,definition:bp,footnoteDefinition:bp};function bp(){}const F$=-1,ev=0,zf=1,w0=2,ON=3,IN=4,_N=5,LN=6,R$=7,B$=8,uT=typeof self=="object"?self:globalThis,nue=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case ev:case F$:return n(s,i);case zf:{const o=n([],i);for(const l of s)o.push(r(l));return o}case w0:{const o=n({},i);for(const[l,u]of s)o[r(l)]=r(u);return o}case ON:return n(new Date(s),i);case IN:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case _N:{const o=n(new Map,i);for(const[l,u]of s)o.set(r(l),r(u));return o}case LN:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case R$:{const{name:o,message:l}=s;return n(new uT[o](l),i)}case B$:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new uT[a](s),i)};return r},dT=e=>nue(new Map,e)(0),Pu="",{toString:rue}={},{keys:iue}=Object,hf=e=>{const t=typeof e;if(t!=="object"||!e)return[ev,t];const n=rue.call(e).slice(8,-1);switch(n){case"Array":return[zf,Pu];case"Object":return[w0,Pu];case"Date":return[ON,Pu];case"RegExp":return[IN,Pu];case"Map":return[_N,Pu];case"Set":return[LN,Pu];case"DataView":return[zf,n]}return n.includes("Array")?[zf,n]:n.includes("Error")?[R$,n]:[w0,n]},yp=([e,t])=>e===ev&&(t==="function"||t==="symbol"),aue=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=hf(s);switch(o){case ev:{let d=s;switch(l){case"bigint":o=B$,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([F$],s)}return i([o,d],s)}case zf:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case w0:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of iue(s))(e||!yp(hf(s[h])))&&d.push([a(h),a(s[h])]);return f}case ON:return i([o,s.toISOString()],s);case IN:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case _N:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(yp(hf(h))||yp(hf(m))))&&d.push([a(h),a(m)]);return f}case LN:{const d=[],f=i([o,d],s);for(const h of s)(e||!yp(hf(h)))&&d.push(a(h));return f}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},fT=(e,{json:t,lossy:n}={})=>{const r=[];return aue(!(t||n),!!t,new Map,r)(e),r},k0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?dT(fT(e,t)):structuredClone(e):(e,t)=>dT(fT(e,t));function sue(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function oue(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function lue(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||sue,r=e.options.footnoteBackLabel||oue,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=Ud(f.toLowerCase());let m=0;const p=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++m<=g;){p.length>0&&p.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,m);typeof w=="string"&&(w={type:"text",value:w}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const w=b.children[b.children.length-1];w&&w.type==="text"?w.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...p)}else d.push(...p);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...k0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const tv=function(e){if(e==null)return fue;if(typeof e=="function")return nv(e);if(typeof e=="object")return Array.isArray(e)?cue(e):uue(e);if(typeof e=="string")return due(e);throw new Error("Expected function, string, or object as test")};function cue(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=tv(e[n]);return nv(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function uue(e){const t=e;return nv(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function due(e){return nv(t);function t(n){return n&&n.type===e}}function nv(e){return t;function t(n,r,i){return!!(mue(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function fue(){return!0}function mue(e){return e!==null&&typeof e=="object"&&"type"in e}const z$=[],hue=!0,Gw=!1,pue="skip";function U$(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=tv(i),s=r?-1:1;o(e,void 0,[])();function o(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=z$,p,g,b;if((!t||a(l,u,d[d.length-1]||void 0))&&(m=gue(n(l,d)),m[0]===Gw))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==pue)for(g=(r?x.children.length:-1)+s,b=d.concat(x);g>-1&&g<x.children.length;){const w=x.children[g];if(p=o(w,g,b)(),p[0]===Gw)return p;g=typeof p[1]=="number"?p[1]:g+s}}return m}}}function gue(e){return Array.isArray(e)?e:typeof e=="number"?[hue,e]:e==null?z$:[e]}function $N(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),U$(e,a,o,i);function o(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const Yw={}.hasOwnProperty,xue={};function vue(e,t){const n=t||xue,r=new Map,i=new Map,a=new Map,s={...tue,...n.handlers},o={all:u,applyData:yue,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:bue,wrap:kue};return $N(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(Yw.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...b}=d,x=k0(b);return x.children=o.all(d),x}return k0(d)}return(o.options.unknownHandler||wue)(o,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=mT(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=mT(g.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function bue(e,t){e.position&&(t.position=ooe(e))}function yue(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,k0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function wue(e,t){const n=t.data||{},r="value"in t&&!(Yw.call(n,"hProperties")||Yw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function kue(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function mT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function hT(e,t){const n=vue(e,t),r=n.one(e,void 0),i=lue(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Sue(e,t){return e&&"run"in e?async function(n,r){const i=hT(n,{file:r,...t});await e.run(i,r)}:function(n,r){return hT(n,{file:r,...e||t})}}function pT(e){if(e)throw e}var Kp=Object.prototype.hasOwnProperty,V$=Object.prototype.toString,gT=Object.defineProperty,xT=Object.getOwnPropertyDescriptor,vT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):V$.call(t)==="[object Array]"},bT=function(t){if(!t||V$.call(t)!=="[object Object]")return!1;var n=Kp.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Kp.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Kp.call(t,i)},yT=function(t,n){gT&&n.name==="__proto__"?gT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},wT=function(t,n){if(n==="__proto__")if(Kp.call(t,n)){if(xT)return xT(t,n).value}else return;return t[n]},Nue=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=wT(o,n),i=wT(t,n),o!==i&&(d&&i&&(bT(i)||(a=vT(i)))?(a?(a=!1,s=r&&vT(r)?r:[]):s=r&&bT(r)?r:{},yT(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&yT(o,{name:n,newValue:i}));return o};const wb=js(Nue);function Xw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Cue(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?jue(d,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function jue(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const qs={basename:Aue,dirname:Pue,extname:Due,join:Tue,sep:"/"};function Aue(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');xh(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function Pue(e){if(xh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Due(e){xh(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Tue(...e){let t=-1,n;for(;++t<e.length;)xh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Eue(n)}function Eue(e){xh(e);const t=e.codePointAt(0)===47;let n=Mue(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Mue(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function xh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Oue={cwd:Iue};function Iue(){return"/"}function Qw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function _ue(e){if(typeof e=="string")e=new URL(e);else if(!Qw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Lue(e)}function Lue(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const kb=["history","path","basename","stem","extname","dirname"];class W${constructor(t){let n;t?Qw(t)?n={path:t}:typeof t=="string"||$ue(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Oue.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<kb.length;){const a=kb[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)kb.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?qs.basename(this.path):void 0}set basename(t){Nb(t,"basename"),Sb(t,"basename"),this.path=qs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?qs.dirname(this.path):void 0}set dirname(t){kT(this.basename,"dirname"),this.path=qs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?qs.extname(this.path):void 0}set extname(t){if(Sb(t,"extname"),kT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=qs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Qw(t)&&(t=_ue(t)),Nb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?qs.basename(this.path,this.extname):void 0}set stem(t){Nb(t,"stem"),Sb(t,"stem"),this.path=qs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ri(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Sb(e,t){if(e&&e.includes(qs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+qs.sep+"`")}function Nb(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function kT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function $ue(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Fue=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Rue={}.hasOwnProperty;class FN extends Fue{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Cue()}copy(){const t=new FN;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(wb(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ab("data",this.frozen),this.namespace[t]=n,this):Rue.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ab("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=wp(t),r=this.parser||this.Parser;return Cb("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Cb("process",this.parser||this.Parser),jb("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=wp(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return u(d);const m=f,p=r.stringify(m,h);Uue(p)?h.value=p:h.result=p,u(d,h)});function u(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Cb("processSync",this.parser||this.Parser),jb("processSync",this.compiler||this.Compiler),this.process(t,i),NT("processSync","process",n),r;function i(a,s){n=!0,pT(a),r=s}}run(t,n,r){ST(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=wp(n);i.run(t,l,u);function u(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),NT("runSync","run",r),i;function a(s,o){pT(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=wp(n),i=this.compiler||this.Compiler;return jb("stringify",i),ST(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Ab("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=wb(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[m,...p]=d;const g=r[h][1];Xw(g)&&Xw(m)&&(m=wb(!0,g,m)),r[h]=[u,m,...p]}}}}const Bue=new FN().freeze();function Cb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function jb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ab(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ST(e){if(!Xw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function NT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function wp(e){return zue(e)?e:new W$(e)}function zue(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Uue(e){return typeof e=="string"||Vue(e)}function Vue(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Wue="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",CT=[],jT={allowDangerousHtml:!0},Hue=/^(https?|ircs?|mailto|xmpp)$/i,que=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Kue(e){const t=Gue(e),n=Yue(e);return Xue(t.runSync(t.parse(n),n),e)}function Gue(e){const t=e.rehypePlugins||CT,n=e.remarkPlugins||CT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...jT}:jT;return Bue().use(Dce).use(n).use(Sue,r).use(t)}function Yue(e){const t=e.children||"",n=new W$;return typeof t=="string"&&(n.value=t),n}function Xue(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Que;for(const d of que)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Wue+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),$N(e,u),foe(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in vb)if(Object.hasOwn(vb,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],g=vb[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Que(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Hue.test(e.slice(0,t))?e:""}function AT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Zue(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Jue(e,t,n){const i=tv((n||{}).ignore||[]),a=ede(t);let s=-1;for(;++s<a.length;)U$(e,"text",o);function o(u,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(u,d)}function l(u,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const b=f.children.indexOf(u);let x=!1,w=[];h.lastIndex=0;let y=h.exec(u.value);for(;y;){const N=y.index,C={index:y.index,input:y.input,stack:[...d,u]};let S=m(...y,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?h.lastIndex=N+1:(p!==N&&w.push({type:"text",value:u.value.slice(p,N)}),Array.isArray(S)?w.push(...S):S&&w.push(S),p=N+y[0].length,x=!0),!h.global)break;y=h.exec(u.value)}return x?(p<u.value.length&&w.push({type:"text",value:u.value.slice(p)}),f.children.splice(b,1,...w)):w=[u],b+w.length}}function ede(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([tde(i[0]),nde(i[1])])}return t}function tde(e){return typeof e=="string"?new RegExp(Zue(e),"g"):e}function nde(e){return typeof e=="function"?e:function(){return e}}const Pb="phrasing",Db=["autolink","link","image","label"];function rde(){return{transforms:[ude],enter:{literalAutolink:ade,literalAutolinkEmail:Tb,literalAutolinkHttp:Tb,literalAutolinkWww:Tb},exit:{literalAutolink:cde,literalAutolinkEmail:lde,literalAutolinkHttp:sde,literalAutolinkWww:ode}}}function ide(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Pb,notInConstruct:Db},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Pb,notInConstruct:Db},{character:":",before:"[ps]",after:"\\/",inConstruct:Pb,notInConstruct:Db}]}}function ade(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Tb(e){this.config.enter.autolinkProtocol.call(this,e)}function sde(e){this.config.exit.autolinkProtocol.call(this,e)}function ode(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function lde(e){this.config.exit.autolinkEmail.call(this,e)}function cde(e){this.exit(e)}function ude(e){Jue(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,dde],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),fde]],{ignore:["link","linkReference"]})}function dde(e,t,n,r,i){let a="";if(!H$(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!mde(n)))return!1;const s=hde(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function fde(e,t,n,r){return!H$(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function mde(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function hde(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=AT(e,"(");let a=AT(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function H$(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||tu(n)||Zx(n))&&(!t||n!==47)}q$.peek=Sde;function pde(){this.buffer()}function gde(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function xde(){this.buffer()}function vde(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function bde(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=bs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function yde(e){this.exit(e)}function wde(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=bs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function kde(e){this.exit(e)}function Sde(){return"["}function q$(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function Nde(){return{enter:{gfmFootnoteCallString:pde,gfmFootnoteCall:gde,gfmFootnoteDefinitionLabelString:xde,gfmFootnoteDefinition:vde},exit:{gfmFootnoteCallString:bde,gfmFootnoteCall:yde,gfmFootnoteDefinitionLabelString:wde,gfmFootnoteDefinition:kde}}}function Cde(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:q$},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const u=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?K$:jde))),u(),l}}function jde(e,t,n){return t===0?e:K$(e,t,n)}function K$(e,t,n){return(n?"":"    ")+e}const Ade=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];G$.peek=Mde;function Pde(){return{canContainEols:["delete"],enter:{strikethrough:Tde},exit:{strikethrough:Ede}}}function Dde(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Ade}],handlers:{delete:G$}}}function Tde(e){this.enter({type:"delete",children:[]},e)}function Ede(e){this.exit(e)}function G$(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function Mde(){return"~"}function Ode(e){return e.length}function Ide(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Ode,a=[],s=[],o=[],l=[];let u=0,d=-1;for(;++d<e.length;){const g=[],b=[];let x=-1;for(e[d].length>u&&(u=e[d].length);++x<e[d].length;){const w=_de(e[d][x]);if(n.alignDelimiters!==!1){const y=i(w);b[x]=y,(l[x]===void 0||y>l[x])&&(l[x]=y)}g.push(w)}s[d]=g,o[d]=b}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)a[f]=PT(r[f]);else{const g=PT(r);for(;++f<u;)a[f]=g}f=-1;const h=[],m=[];for(;++f<u;){const g=a[f];let b="",x="";g===99?(b=":",x=":"):g===108?b=":":g===114&&(x=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[f]-b.length-x.length);const y=b+"-".repeat(w)+x;n.alignDelimiters!==!1&&(w=b.length+w+x.length,w>l[f]&&(l[f]=w),m[f]=w),h[f]=y}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const g=s[d],b=o[d];f=-1;const x=[];for(;++f<u;){const w=g[f]||"";let y="",N="";if(n.alignDelimiters!==!1){const C=l[f]-(b[f]||0),S=a[f];S===114?y=" ".repeat(C):S===99?C%2?(y=" ".repeat(C/2+.5),N=" ".repeat(C/2-.5)):(y=" ".repeat(C/2),N=y):N=" ".repeat(C)}n.delimiterStart!==!1&&!f&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||f)&&x.push(" "),n.alignDelimiters!==!1&&x.push(y),x.push(w),n.alignDelimiters!==!1&&x.push(N),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&x.push("|")}p.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return p.join(`
`)}function _de(e){return e==null?"":String(e)}function PT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Lde(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),$de);return i(),s}function $de(e,t,n){return">"+(n?"":" ")+e}function Fde(e,t){return DT(e,t.inConstruct,!0)&&!DT(e,t.notInConstruct,!1)}function DT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function TT(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Fde(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Rde(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function Bde(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function zde(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Ude(e,t,n,r){const i=zde(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(Bde(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,Vde);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(Rde(a,i)+1,3)),u=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),u(),d}function Vde(e,t,n){return(n?"":"    ")+e}function RN(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Wde(e,t,n,r){const i=RN(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),s(),u}function Hde(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Dm(e){return"&#x"+e.toString(16).toUpperCase()+";"}function S0(e,t,n){const r=Cd(e),i=Cd(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Y$.peek=qde;function Y$(e,t,n,r){const i=Hde(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),d=S0(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Dm(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=S0(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Dm(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function qde(e,t,n){return n.options.emphasis||"*"}function Kde(e,t){let n=!1;return $N(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Gw}),!!((!e.depth||e.depth<3)&&TN(e)&&(t.options.setext||n))}function Gde(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Kde(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=Dm(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),o(),u}X$.peek=Yde;function X$(e){return e.value||""}function Yde(){return"<"}Q$.peek=Xde;function Q$(e,t,n,r){const i=RN(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),s(),u}function Xde(){return"!"}Z$.peek=Qde;function Z$(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Qde(){return"!"}J$.peek=Zde;function J$(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Zde(){return"`"}function eF(e,t){const n=TN(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}tF.peek=Jde;function tF(e,t,n,r){const i=RN(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(eF(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),o(),u}function Jde(e,t,n){return eF(e,n)?"<":"["}nF.peek=efe;function nF(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function efe(){return"["}function BN(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function tfe(e){const t=BN(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function nfe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function rF(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function rfe(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?nfe(n):BN(n);const o=e.ordered?s==="."?")":".":tfe(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),rF(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),u}function ife(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function afe(e,t,n,r){const i=ife(n);let a=n.bulletCurrent||BN(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),d);return l(),u;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function sfe(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const ofe=tv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function lfe(e,t,n,r){return(e.children.some(function(s){return ofe(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function cfe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}iF.peek=ufe;function iF(e,t,n,r){const i=cfe(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),d=S0(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Dm(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=S0(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Dm(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function ufe(e,t,n){return n.options.strong||"*"}function dfe(e,t,n,r){return n.safe(e.value,r)}function ffe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function mfe(e,t,n){const r=(rF(n)+(n.options.ruleSpaces?" ":"")).repeat(ffe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const aF={blockquote:Lde,break:TT,code:Ude,definition:Wde,emphasis:Y$,hardBreak:TT,heading:Gde,html:X$,image:Q$,imageReference:Z$,inlineCode:J$,link:tF,linkReference:nF,list:rfe,listItem:afe,paragraph:sfe,root:lfe,strong:iF,text:dfe,thematicBreak:mfe};function hfe(){return{enter:{table:pfe,tableData:ET,tableHeader:ET,tableRow:xfe},exit:{codeText:vfe,table:gfe,tableData:Eb,tableHeader:Eb,tableRow:Eb}}}function pfe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function gfe(e){this.exit(e),this.data.inTable=void 0}function xfe(e){this.enter({type:"tableRow",children:[]},e)}function Eb(e){this.exit(e)}function ET(e){this.enter({type:"tableCell",children:[]},e)}function vfe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,bfe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function bfe(e,t){return t==="|"?t:e}function yfe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,g,b){return u(d(m,g,b),m.align)}function o(m,p,g,b){const x=f(m,g,b),w=u([x]);return w.slice(0,w.indexOf(`
`))}function l(m,p,g,b){const x=g.enter("tableCell"),w=g.enter("phrasing"),y=g.containerPhrasing(m,{...b,before:a,after:a});return w(),x(),y}function u(m,p){return Ide(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,g){const b=m.children;let x=-1;const w=[],y=p.enter("table");for(;++x<b.length;)w[x]=f(b[x],p,g);return y(),w}function f(m,p,g){const b=m.children;let x=-1;const w=[],y=p.enter("tableRow");for(;++x<b.length;)w[x]=l(b[x],m,p,g);return y(),w}function h(m,p,g){let b=aF.inlineCode(m,p,g);return g.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function wfe(){return{exit:{taskListCheckValueChecked:MT,taskListCheckValueUnchecked:MT,paragraph:Sfe}}}function kfe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Nfe}}}function MT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Sfe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Nfe(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=aF.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+s}}function Cfe(){return[rde(),Nde(),Pde(),hfe(),wfe()]}function jfe(e){return{extensions:[ide(),Cde(e),Dde(),yfe(e),kfe()]}}const Afe={tokenize:Ofe,partial:!0},sF={tokenize:Ife,partial:!0},oF={tokenize:_fe,partial:!0},lF={tokenize:Lfe,partial:!0},Pfe={tokenize:$fe,partial:!0},cF={name:"wwwAutolink",tokenize:Efe,previous:dF},uF={name:"protocolAutolink",tokenize:Mfe,previous:fF},Jo={name:"emailAutolink",tokenize:Tfe,previous:mF},io={};function Dfe(){return{text:io}}let dc=48;for(;dc<123;)io[dc]=Jo,dc++,dc===58?dc=65:dc===91&&(dc=97);io[43]=Jo;io[45]=Jo;io[46]=Jo;io[95]=Jo;io[72]=[Jo,uF];io[104]=[Jo,uF];io[87]=[Jo,cF];io[119]=[Jo,cF];function Tfe(e,t,n){const r=this;let i,a;return s;function s(f){return!Zw(f)||!mF.call(r,r.previous)||zN(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return Zw(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(Pfe,d,u)(f):f===45||f===95||Li(f)?(a=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Hi(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function Efe(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!dF.call(r,r.previous)||zN(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Afe,e.attempt(sF,e.attempt(oF,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Mfe(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&fF.call(r,r.previous)&&!zN(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Hi(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?u:(a=!0,l)):n(f)}function u(f){return f===null||y0(f)||Yn(f)||tu(f)||Zx(f)?n(f):e.attempt(sF,e.attempt(oF,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function Ofe(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function Ife(e,t,n){let r,i,a;return s;function s(u){return u===46||u===95?e.check(lF,l,o)(u):u===null||Yn(u)||tu(u)||u!==45&&Zx(u)?l(u):(a=!0,e.consume(u),s)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function l(u){return i||r||!a?n(u):t(u)}}function _fe(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(lF,t,a)(s):s===null||Yn(s)||tu(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function Lfe(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Yn(o)||tu(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Yn(o)||tu(o)?t(o):r(o)}function a(o){return Hi(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Hi(o)?(e.consume(o),s):n(o)}}function $fe(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Li(a)?n(a):t(a)}}function dF(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Yn(e)}function fF(e){return!Hi(e)}function mF(e){return!(e===47||Zw(e))}function Zw(e){return e===43||e===45||e===46||e===95||Li(e)}function zN(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Ffe={tokenize:qfe,partial:!0};function Rfe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Vfe,continuation:{tokenize:Wfe},exit:Hfe}},text:{91:{name:"gfmFootnoteCall",tokenize:Ufe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Bfe,resolveTo:zfe}}}}function Bfe(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const u=bs(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function zfe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Ufe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!s||f===null||f===91||Yn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(bs(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Yn(f)||(s=!0),a++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,u):u(f)}}function Vfe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Yn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=bs(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Yn(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),En(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function Wfe(e,t,n){return e.check(gh,t,e.attempt(Ffe,t,n))}function Hfe(e){e.exit("gfmFootnoteDefinition")}function qfe(e,t,n){const r=this;return En(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function Kfe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&Ea(h,h.length,0,Jx(m,s.slice(u+1,l),o)),Ea(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),Ea(s,u-1,l-u+3,h),l=u+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const u=this.previous,d=this.events;let f=0;return h;function h(p){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const g=Cd(u);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const b=s.exit("strikethroughSequenceTemporary"),x=Cd(p);return b._open=!x||x===2&&!!g,b._close=!g||g===2&&!!x,o(p)}}}class Gfe{constructor(){this.map=[]}add(t,n,r){Yfe(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Yfe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Xfe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Qfe(){return{flow:{null:{name:"table",tokenize:Zfe,resolveAll:Jfe}}}}function Zfe(e,t,n){const r=this;let i=0,a=0,s;return o;function o(T){let _=r.events.length-1;for(;_>-1;){const J=r.events[_][1].type;if(J==="lineEnding"||J==="linePrefix")_--;else break}const O=_>-1?r.events[_][1].type:null,G=O==="tableHead"||O==="tableRow"?S:l;return G===S&&r.parser.lazy[r.now().line]?n(T):G(T)}function l(T){return e.enter("tableHead"),e.enter("tableRow"),u(T)}function u(T){return T===124||(s=!0,a+=1),d(T)}function d(T){return T===null?n(T):Ht(T)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),m):n(T):yn(T)?En(e,d,"whitespace")(T):(a+=1,s&&(s=!1,i+=1),T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(T)))}function f(T){return T===null||T===124||Yn(T)?(e.exit("data"),d(T)):(e.consume(T),T===92?h:f)}function h(T){return T===92||T===124?(e.consume(T),f):f(T)}function m(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(e.enter("tableDelimiterRow"),s=!1,yn(T)?En(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):p(T))}function p(T){return T===45||T===58?b(T):T===124?(s=!0,e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),g):C(T)}function g(T){return yn(T)?En(e,b,"whitespace")(T):b(T)}function b(T){return T===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),x):T===45?(a+=1,x(T)):T===null||Ht(T)?N(T):C(T)}function x(T){return T===45?(e.enter("tableDelimiterFiller"),w(T)):C(T)}function w(T){return T===45?(e.consume(T),w):T===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(T))}function y(T){return yn(T)?En(e,N,"whitespace")(T):N(T)}function N(T){return T===124?p(T):T===null||Ht(T)?!s||i!==a?C(T):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(T)):C(T)}function C(T){return n(T)}function S(T){return e.enter("tableRow"),j(T)}function j(T){return T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),j):T===null||Ht(T)?(e.exit("tableRow"),t(T)):yn(T)?En(e,j,"whitespace")(T):(e.enter("data"),M(T))}function M(T){return T===null||T===124||Yn(T)?(e.exit("data"),j(T)):(e.consume(T),T===92?$:M)}function $(T){return T===92||T===124?(e.consume(T),M):M(T)}}function Jfe(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,u,d,f;const h=new Gfe;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(OT(h,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=kp(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=kp(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=kp(h,t,a,i,n,f)):s[1]!==0&&(f=kp(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&OT(h,t,l,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Xfe(t.events,n))}return e}function kp(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},Eu(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=Eu(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=Eu(t.events,n[2]),d=Eu(t.events,n[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Eu(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function OT(e,t,n,r,i){const a=[],s=Eu(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function Eu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const eme={name:"tasklistCheck",tokenize:nme};function tme(){return{text:{91:eme}}}function nme(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Yn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return Ht(l)?t(l):yn(l)?e.check({tokenize:rme},t,n)(l):n(l)}}function rme(e,t,n){return En(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function ime(e){return S$([Dfe(),Rfe(),Kfe(e),Qfe(),tme()])}const ame={};function sme(e){const t=this,n=e||ame,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(ime(n)),a.push(Cfe()),s.push(jfe(n))}const Mb='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n### Boon Timeline (Defense)\n\nThe Boon Timeline section uses the same generation foundation as Boon Output\nwith **Total** semantics:\n\n- Per-player per-boon totals use:\n  - `selfBuffs + squadBuffs`\n  - `groupBuffs` is intentionally excluded to avoid double counting\n    (group is a subset of squad in this model)\n- Scope toggle:\n  - `Self` = `selfBuffs`\n  - `Squad` = `squadBuffs` (default)\n  - `Group` = `groupBuffs`\n  - `All` = `selfBuffs + squadBuffs` (`totalBuffs`)\n\nFor each fight and boon:\n\n1. Compute player total generation milliseconds:\n   - stacking boons:\n     - `generationMs = generation * durationMs * recipientCount`\n   - non-stacking boons:\n     - `generationMs = (generation / 100) * durationMs * recipientCount`\n   - where:\n     - `recipientCount = 1` for self\n     - `recipientCount = squadCount - 1` for squad\n\n2. Build 5-second bucket shape from `buffUptimes[*].statesPerSource`:\n   - integrate source state value over time (time-weighted area) into each 5s bucket\n   - this yields relative bucket weights (not final totals)\n\n3. Scale bucket weights to the player fight total from step 1:\n   - `bucketValue = bucketWeight * (fightTotal / sum(bucketWeights))`\n   - fallback when timeline weights are unavailable: uniform distribution across buckets\n\nUnits shown in the UI are **boon-seconds** (`generationMs / 1000`), aggregated\nacross recipients. Because this is recipient-aggregated generation, 5s bucket\nvalues can exceed `5` and may be large for stacking boons or `All`-player view.\n\nTimeline player identity is account-level (`account`) to match Boon Output row\ngrouping across profession swaps.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',hF=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),rv=v.createContext({}),UN=v.createContext(null),iv=typeof document<"u",ome=iv?v.useLayoutEffect:v.useEffect,pF=v.createContext({strict:!1}),VN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),lme="framerAppearId",gF="data-"+VN(lme);function cme(e,t,n,r){const{visualElement:i}=v.useContext(rv),a=v.useContext(pF),s=v.useContext(UN),o=v.useContext(hF).reducedMotion,l=v.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const u=l.current;v.useInsertionEffect(()=>{u&&u.update(n,s)});const d=v.useRef(!!(n[gF]&&!window.HandoffComplete));return ome(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),v.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function qu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ume(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):qu(n)&&(n.current=r))},[t])}function Tm(e){return typeof e=="string"||Array.isArray(e)}function av(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const WN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],HN=["initial",...WN];function sv(e){return av(e.animate)||HN.some(t=>Tm(e[t]))}function xF(e){return!!(sv(e)||e.variants)}function dme(e,t){if(sv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Tm(n)?n:void 0,animate:Tm(r)?r:void 0}}return e.inherit!==!1?t:{}}function fme(e){const{initial:t,animate:n}=dme(e,v.useContext(rv));return v.useMemo(()=>({initial:t,animate:n}),[IT(t),IT(n)])}function IT(e){return Array.isArray(e)?e.join(" "):e}const _T={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Em={};for(const e in _T)Em[e]={isEnabled:t=>_T[e].some(n=>!!t[n])};function mme(e){for(const t in e)Em[t]={...Em[t],...e[t]}}const vF=v.createContext({}),bF=v.createContext({}),hme=Symbol.for("motionComponentSymbol");function pme({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&mme(e);function a(o,l){let u;const d={...v.useContext(hF),...o,layoutId:gme(o)},{isStatic:f}=d,h=fme(o),m=r(o,f);if(!f&&iv){h.visualElement=cme(i,m,d,t);const p=v.useContext(bF),g=v.useContext(pF).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,g,e,p))}return v.createElement(rv.Provider,{value:h},u&&h.visualElement?v.createElement(u,{visualElement:h.visualElement,...d}):null,n(i,o,ume(m,h.visualElement,l),m,f,h.visualElement))}const s=v.forwardRef(a);return s[hme]=i,s}function gme({layoutId:e}){const t=v.useContext(vF).id;return t&&e!==void 0?t+"-"+e:e}function xme(e){function t(r,i={}){return pme(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const vme=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qN(e){return typeof e!="string"||e.includes("-")?!1:!!(vme.indexOf(e)>-1||/[A-Z]/.test(e))}const N0={};function bme(e){Object.assign(N0,e)}const vh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ou=new Set(vh);function yF(e,{layout:t,layoutId:n}){return ou.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!N0[e]||e==="opacity")}const fa=e=>!!(e&&e.getVelocity),yme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wme=vh.length;function kme(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<wme;s++){const o=vh[s];if(e[o]!==void 0){const l=yme[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const wF=e=>t=>typeof t=="string"&&t.startsWith(e),kF=wF("--"),Jw=wF("var(--"),Sme=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Nme=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Vl=(e,t,n)=>Math.min(Math.max(n,e),t),lu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Uf={...lu,transform:e=>Vl(0,1,e)},Sp={...lu,default:1},Vf=e=>Math.round(e*1e5)/1e5,ov=/(-)?([\d]*\.?[\d])+/g,SF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Cme=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function bh(e){return typeof e=="string"}const yh=e=>({test:t=>bh(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),hl=yh("deg"),Js=yh("%"),Yt=yh("px"),jme=yh("vh"),Ame=yh("vw"),LT={...Js,parse:e=>Js.parse(e)/100,transform:e=>Js.transform(e*100)},$T={...lu,transform:Math.round},NF={borderWidth:Yt,borderTopWidth:Yt,borderRightWidth:Yt,borderBottomWidth:Yt,borderLeftWidth:Yt,borderRadius:Yt,radius:Yt,borderTopLeftRadius:Yt,borderTopRightRadius:Yt,borderBottomRightRadius:Yt,borderBottomLeftRadius:Yt,width:Yt,maxWidth:Yt,height:Yt,maxHeight:Yt,size:Yt,top:Yt,right:Yt,bottom:Yt,left:Yt,padding:Yt,paddingTop:Yt,paddingRight:Yt,paddingBottom:Yt,paddingLeft:Yt,margin:Yt,marginTop:Yt,marginRight:Yt,marginBottom:Yt,marginLeft:Yt,rotate:hl,rotateX:hl,rotateY:hl,rotateZ:hl,scale:Sp,scaleX:Sp,scaleY:Sp,scaleZ:Sp,skew:hl,skewX:hl,skewY:hl,distance:Yt,translateX:Yt,translateY:Yt,translateZ:Yt,x:Yt,y:Yt,z:Yt,perspective:Yt,transformPerspective:Yt,opacity:Uf,originX:LT,originY:LT,originZ:Yt,zIndex:$T,fillOpacity:Uf,strokeOpacity:Uf,numOctaves:$T};function KN(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(kF(f)){a[f]=h;continue}const m=NF[f],p=Nme(h,m);if(ou.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=kme(e.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const GN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CF(e,t,n){for(const r in t)!fa(t[r])&&!yF(r,n)&&(e[r]=t[r])}function Pme({transformTemplate:e},t,n){return v.useMemo(()=>{const r=GN();return KN(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Dme(e,t,n){const r=e.style||{},i={};return CF(i,r,e),Object.assign(i,Pme(e,t,n)),e.transformValues?e.transformValues(i):i}function Tme(e,t,n){const r={},i=Dme(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Eme=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function C0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Eme.has(e)}let jF=e=>!C0(e);function Mme(e){e&&(jF=t=>t.startsWith("on")?!C0(t):e(t))}try{Mme(require("@emotion/is-prop-valid").default)}catch{}function Ome(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(jF(i)||n===!0&&C0(i)||!t&&!C0(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function FT(e,t,n){return typeof e=="string"?e:Yt.transform(t+n*e)}function Ime(e,t,n){const r=FT(t,e.x,e.width),i=FT(n,e.y,e.height);return`${r} ${i}`}const _me={offset:"stroke-dashoffset",array:"stroke-dasharray"},Lme={offset:"strokeDashoffset",array:"strokeDasharray"};function $me(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?_me:Lme;e[a.offset]=Yt.transform(-r);const s=Yt.transform(t),o=Yt.transform(n);e[a.array]=`${s} ${o}`}function YN(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},d,f,h){if(KN(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:g}=e;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=Ime(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&$me(m,s,o,l,!1)}const AF=()=>({...GN(),attrs:{}}),XN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Fme(e,t,n,r){const i=v.useMemo(()=>{const a=AF();return YN(a,t,{enableHardwareAcceleration:!1},XN(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};CF(a,e.style,e),i.style={...a,...i.style}}return i}function Rme(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(qN(n)?Fme:Tme)(r,a,s,n),d={...Ome(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=v.useMemo(()=>fa(f)?f.get():f,[f]);return v.createElement(n,{...d,children:h})}}function PF(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const DF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TF(e,t,n,r){PF(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(DF.has(i)?i:VN(i),t.attrs[i])}function QN(e,t){const{style:n}=e,r={};for(const i in n)(fa(n[i])||t.style&&fa(t.style[i])||yF(i,e))&&(r[i]=n[i]);return r}function EF(e,t){const n=QN(e,t);for(const r in e)if(fa(e[r])||fa(t[r])){const i=vh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function ZN(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Bme(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const j0=e=>Array.isArray(e),zme=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Ume=e=>j0(e)?e[e.length-1]||0:e;function Gp(e){const t=fa(e)?e.get():e;return zme(t)?t.toValue():t}function Vme({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:Wme(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const MF=e=>(t,n)=>{const r=v.useContext(rv),i=v.useContext(UN),a=()=>Vme(e,t,r,i);return n?a():Bme(a)};function Wme(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=Gp(a[h]);let{initial:s,animate:o}=e;const l=sv(e),u=xF(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!av(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=ZN(e,m);if(!p)return;const{transitionEnd:g,transition:b,...x}=p;for(const w in x){let y=x[w];if(Array.isArray(y)){const N=d?y.length-1:0;y=y[N]}y!==null&&(i[w]=y)}for(const w in g)i[w]=g[w]}),i}const _r=e=>e;class RT{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Hme(e){let t=new RT,n=new RT,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,u=!1,d=!1)=>{const f=d&&i,h=f?t:n;return u&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const Np=["prepare","read","update","preRender","render","postRender"],qme=40;function Kme(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Np.reduce((f,h)=>(f[h]=Hme(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,qme),1),i.timestamp=f,i.isProcessing=!0,Np.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:Np.reduce((f,h)=>{const m=a[h];return f[h]=(p,g=!1,b=!1)=>(n||l(),m.schedule(p,g,b)),f},{}),cancel:f=>Np.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:fr,cancel:Wo,state:Ti,steps:Ob}=Kme(typeof requestAnimationFrame<"u"?requestAnimationFrame:_r,!0),Gme={useVisualState:MF({scrapeMotionValuesFromProps:EF,createRenderState:AF,onMount:(e,t,{renderState:n,latestValues:r})=>{fr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),fr.render(()=>{YN(n,r,{enableHardwareAcceleration:!1},XN(t.tagName),e.transformTemplate),TF(t,n)})}})},Yme={useVisualState:MF({scrapeMotionValuesFromProps:QN,createRenderState:GN})};function Xme(e,{forwardMotionProps:t=!1},n,r){return{...qN(e)?Gme:Yme,preloadedFeatures:n,useRender:Rme(t),createVisualElement:r,Component:e}}function jo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const OF=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function lv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Qme=e=>t=>OF(t)&&e(t,lv(t));function To(e,t,n,r){return jo(e,t,Qme(n),r)}const Zme=(e,t)=>n=>t(e(n)),Fl=(...e)=>e.reduce(Zme);function IF(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const BT=IF("dragHorizontal"),zT=IF("dragVertical");function _F(e){let t=!1;if(e==="y")t=zT();else if(e==="x")t=BT();else{const n=BT(),r=zT();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function LF(){const e=_F(!0);return e?(e(),!1):!0}class Jl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function UT(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||LF())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&fr.update(()=>o[r](a,s))};return To(e.current,n,i,{passive:!e.getProps()[r]})}class Jme extends Jl{mount(){this.unmount=Fl(UT(this.node,!0),UT(this.node,!1))}unmount(){}}class ehe extends Jl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fl(jo(this.node.current,"focus",()=>this.onFocus()),jo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const $F=(e,t)=>t?e===t?!0:$F(e,t.parentElement):!1;function Ib(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,lv(n))}class the extends Jl{constructor(){super(...arguments),this.removeStartListeners=_r,this.removeEndListeners=_r,this.removeAccessibleListeners=_r,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=To(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();fr.update(()=>{!f&&!$F(this.node.current,o.target)?d&&d(o,l):u&&u(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=To(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Fl(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Ib("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&fr.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=jo(this.node.current,"keyup",s),Ib("down",(o,l)=>{this.startPress(o,l)})},n=jo(this.node.current,"keydown",t),r=()=>{this.isPressing&&Ib("cancel",(a,s)=>this.cancelPress(a,s))},i=jo(this.node.current,"blur",r);this.removeAccessibleListeners=Fl(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&fr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!LF()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&fr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=To(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=jo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const e1=new WeakMap,_b=new WeakMap,nhe=e=>{const t=e1.get(e.target);t&&t(e)},rhe=e=>{e.forEach(nhe)};function ihe({root:e,...t}){const n=e||document;_b.has(n)||_b.set(n,{});const r=_b.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(rhe,{root:e,...t})),r[i]}function ahe(e,t,n){const r=ihe(t);return e1.set(e,n),r.observe(e),()=>{e1.delete(e),r.unobserve(e)}}const she={some:0,all:1};class ohe extends Jl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:she[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return ahe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(lhe(t,n))&&this.startObserver()}unmount(){}}function lhe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const che={inView:{Feature:ohe},tap:{Feature:the},focus:{Feature:ehe},hover:{Feature:Jme}};function FF(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function uhe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function dhe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function cv(e,t,n){const r=e.getProps();return ZN(r,t,n!==void 0?n:r.custom,uhe(e),dhe(e))}let JN=_r;const $c=e=>e*1e3,Eo=e=>e/1e3,fhe={current:!1},RF=e=>Array.isArray(e)&&typeof e[0]=="number";function BF(e){return!!(!e||typeof e=="string"&&zF[e]||RF(e)||Array.isArray(e)&&e.every(BF))}const jf=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,zF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jf([0,.65,.55,1]),circOut:jf([.55,0,1,.45]),backIn:jf([.31,.01,.66,-.59]),backOut:jf([.33,1.53,.69,.99])};function UF(e){if(e)return RF(e)?jf(e):Array.isArray(e)?e.map(UF):zF[e]}function mhe(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=UF(o);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function hhe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const VF=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,phe=1e-7,ghe=12;function xhe(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=VF(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>phe&&++o<ghe);return s}function wh(e,t,n,r){if(e===t&&n===r)return _r;const i=a=>xhe(a,0,1,e,n);return a=>a===0||a===1?a:VF(i(a),t,r)}const vhe=wh(.42,0,1,1),bhe=wh(0,0,.58,1),WF=wh(.42,0,.58,1),yhe=e=>Array.isArray(e)&&typeof e[0]!="number",HF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qF=e=>t=>1-e(1-t),eC=e=>1-Math.sin(Math.acos(e)),KF=qF(eC),whe=HF(eC),GF=wh(.33,1.53,.69,.99),tC=qF(GF),khe=HF(tC),She=e=>(e*=2)<1?.5*tC(e):.5*(2-Math.pow(2,-10*(e-1))),Nhe={linear:_r,easeIn:vhe,easeInOut:WF,easeOut:bhe,circIn:eC,circInOut:whe,circOut:KF,backIn:tC,backInOut:khe,backOut:GF,anticipate:She},VT=e=>{if(Array.isArray(e)){JN(e.length===4);const[t,n,r,i]=e;return wh(t,n,r,i)}else if(typeof e=="string")return Nhe[e];return e},nC=(e,t)=>n=>!!(bh(n)&&Cme.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),YF=(e,t,n)=>r=>{if(!bh(r))return r;const[i,a,s,o]=r.match(ov);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Che=e=>Vl(0,255,e),Lb={...lu,transform:e=>Math.round(Che(e))},Tc={test:nC("rgb","red"),parse:YF("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Lb.transform(e)+", "+Lb.transform(t)+", "+Lb.transform(n)+", "+Vf(Uf.transform(r))+")"};function jhe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const t1={test:nC("#"),parse:jhe,transform:Tc.transform},Ku={test:nC("hsl","hue"),parse:YF("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Js.transform(Vf(t))+", "+Js.transform(Vf(n))+", "+Vf(Uf.transform(r))+")"},Vi={test:e=>Tc.test(e)||t1.test(e)||Ku.test(e),parse:e=>Tc.test(e)?Tc.parse(e):Ku.test(e)?Ku.parse(e):t1.parse(e),transform:e=>bh(e)?e:e.hasOwnProperty("red")?Tc.transform(e):Ku.transform(e)},vr=(e,t,n)=>-n*e+n*t+e;function $b(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ahe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=$b(l,o,e+1/3),a=$b(l,o,e),s=$b(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const Fb=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Phe=[t1,Tc,Ku],Dhe=e=>Phe.find(t=>t.test(e));function WT(e){const t=Dhe(e);let n=t.parse(e);return t===Ku&&(n=Ahe(n)),n}const XF=(e,t)=>{const n=WT(e),r=WT(t),i={...n};return a=>(i.red=Fb(n.red,r.red,a),i.green=Fb(n.green,r.green,a),i.blue=Fb(n.blue,r.blue,a),i.alpha=vr(n.alpha,r.alpha,a),Tc.transform(i))};function The(e){var t,n;return isNaN(e)&&bh(e)&&(((t=e.match(ov))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(SF))===null||n===void 0?void 0:n.length)||0)>0}const QF={regex:Sme,countKey:"Vars",token:"${v}",parse:_r},ZF={regex:SF,countKey:"Colors",token:"${c}",parse:Vi.parse},JF={regex:ov,countKey:"Numbers",token:"${n}",parse:lu.parse};function Rb(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function A0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Rb(n,QF),Rb(n,ZF),Rb(n,JF),n}function eR(e){return A0(e).values}function tR(e){const{values:t,numColors:n,numVars:r,tokenised:i}=A0(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(QF.token,s[l]):l<r+n?o=o.replace(ZF.token,Vi.transform(s[l])):o=o.replace(JF.token,Vf(s[l]));return o}}const Ehe=e=>typeof e=="number"?0:e;function Mhe(e){const t=eR(e);return tR(e)(t.map(Ehe))}const Wl={test:The,parse:eR,createTransformer:tR,getAnimatableNone:Mhe},nR=(e,t)=>n=>`${n>0?t:e}`;function rR(e,t){return typeof e=="number"?n=>vr(e,t,n):Vi.test(e)?XF(e,t):e.startsWith("var(")?nR(e,t):aR(e,t)}const iR=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>rR(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},Ohe=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=rR(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},aR=(e,t)=>{const n=Wl.createTransformer(t),r=A0(e),i=A0(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Fl(iR(r.values,i.values),n):nR(e,t)},Mm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},HT=(e,t)=>n=>vr(e,t,n);function Ihe(e){return typeof e=="number"?HT:typeof e=="string"?Vi.test(e)?XF:aR:Array.isArray(e)?iR:typeof e=="object"?Ohe:HT}function _he(e,t,n){const r=[],i=n||Ihe(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||_r:t;o=Fl(l,o)}r.push(o)}return r}function sR(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(JN(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=_he(t,r,i),o=s.length,l=u=>{let d=0;if(o>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Mm(e[d],e[d+1],u);return s[d](f)};return n?u=>l(Vl(e[0],e[a-1],u)):l}function Lhe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Mm(0,t,r);e.push(vr(n,1,i))}}function $he(e){const t=[0];return Lhe(t,e.length-1),t}function Fhe(e,t){return e.map(n=>n*t)}function Rhe(e,t){return e.map(()=>t||WF).splice(0,e.length-1)}function P0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=yhe(r)?r.map(VT):VT(r),a={done:!1,value:t[0]},s=Fhe(n&&n.length===t.length?n:$he(t),e),o=sR(s,t,{ease:Array.isArray(i)?i:Rhe(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function oR(e,t){return t?e*(1e3/t):0}const Bhe=5;function lR(e,t,n){const r=Math.max(t-Bhe,0);return oR(n-e(r),t-r)}const Bb=.001,zhe=.01,Uhe=10,Vhe=.05,Whe=1;function Hhe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=Vl(Vhe,Whe,s),e=Vl(zhe,Uhe,Eo(e)),s<1?(i=u=>{const d=u*s,f=d*e,h=d-n,m=n1(u,s),p=Math.exp(-f);return Bb-h/m*p},a=u=>{const f=u*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,p=Math.exp(-f),g=n1(Math.pow(u,2),s);return(-i(u)+Bb>0?-1:1)*((h-m)*p)/g}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Bb+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const o=5/e,l=Khe(i,a,o);if(e=$c(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const qhe=12;function Khe(e,t,n){let r=n;for(let i=1;i<qhe;i++)r=r-e(r)/t(r);return r}function n1(e,t){return e*Math.sqrt(1-t*t)}const Ghe=["duration","bounce"],Yhe=["stiffness","damping","mass"];function qT(e,t){return t.some(n=>e[n]!==void 0)}function Xhe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!qT(e,Yhe)&&qT(e,Ghe)){const n=Hhe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function cR({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=Xhe({...r,velocity:-Eo(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*u)),g=a-i,b=Eo(Math.sqrt(o/u)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let w;if(p<1){const y=n1(b,p);w=N=>{const C=Math.exp(-p*b*N);return a-C*((m+p*b*g)/y*Math.sin(y*N)+g*Math.cos(y*N))}}else if(p===1)w=y=>a-Math.exp(-b*y)*(g+(m+b*g)*y);else{const y=b*Math.sqrt(p*p-1);w=N=>{const C=Math.exp(-p*b*N),S=Math.min(y*N,300);return a-C*((m+p*b*g)*Math.sinh(S)+y*g*Math.cosh(S))/y}}return{calculatedDuration:h&&d||null,next:y=>{const N=w(y);if(h)s.done=y>=d;else{let C=m;y!==0&&(p<1?C=lR(w,y,N):C=0);const S=Math.abs(C)<=n,j=Math.abs(a-N)<=t;s.done=S&&j}return s.value=s.done?a:N,s}}}function KT({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=M=>o!==void 0&&M<o||l!==void 0&&M>l,p=M=>o===void 0?l:l===void 0||Math.abs(o-M)<Math.abs(l-M)?o:l;let g=n*t;const b=f+g,x=s===void 0?b:s(b);x!==b&&(g=x-f);const w=M=>-g*Math.exp(-M/r),y=M=>x+w(M),N=M=>{const $=w(M),T=y(M);h.done=Math.abs($)<=u,h.value=h.done?x:T};let C,S;const j=M=>{m(h.value)&&(C=M,S=cR({keyframes:[h.value,p(h.value)],velocity:lR(y,M,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:M=>{let $=!1;return!S&&C===void 0&&($=!0,N(M),j(M)),C!==void 0&&M>C?S.next(M-C):(!$&&N(M),h)}}}const Qhe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>fr.update(t,!0),stop:()=>Wo(t),now:()=>Ti.isProcessing?Ti.timestamp:performance.now()}},GT=2e4;function YT(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<GT;)t+=n,r=e.next(t);return t>=GT?1/0:t}const Zhe={decay:KT,inertia:KT,tween:P0,keyframes:P0,spring:cR};function D0({autoplay:e=!0,delay:t=0,driver:n=Qhe,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,g,b;const x=()=>{b=new Promise(D=>{g=D})};x();let w;const y=Zhe[i]||P0;let N;y!==P0&&typeof r[0]!="number"&&(N=sR([0,100],r,{clamp:!1}),r=[0,100]);const C=y({...h,keyframes:r});let S;o==="mirror"&&(S=y({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let j="idle",M=null,$=null,T=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=YT(C));const{calculatedDuration:_}=C;let O=1/0,G=1/0;_!==null&&(O=_+s,G=O*(a+1)-s);let J=0;const ue=D=>{if($===null)return;m>0&&($=Math.min($,D)),m<0&&($=Math.min(D-G/m,$)),M!==null?J=M:J=Math.round(D-$)*m;const ie=J-t*(m>=0?1:-1),k=m>=0?ie<0:ie>G;J=Math.max(ie,0),j==="finished"&&M===null&&(J=G);let V=J,W=C;if(a){const F=Math.min(J,G)/O;let U=Math.floor(F),H=F%1;!H&&F>=1&&(H=1),H===1&&U--,U=Math.min(U,a+1),!!(U%2)&&(o==="reverse"?(H=1-H,s&&(H-=s/O)):o==="mirror"&&(W=S)),V=Vl(0,1,H)*O}const re=k?{done:!1,value:r[0]}:W.next(V);N&&(re.value=N(re.value));let{done:ne}=re;!k&&_!==null&&(ne=m>=0?J>=G:J<=0);const se=M===null&&(j==="finished"||j==="running"&&ne);return f&&f(re.value),se&&q(),re},ge=()=>{w&&w.stop(),w=void 0},Y=()=>{j="idle",ge(),g(),x(),$=T=null},q=()=>{j="finished",d&&d(),ge(),g()},K=()=>{if(p)return;w||(w=n(ue));const D=w.now();l&&l(),M!==null?$=D-M:(!$||j==="finished")&&($=D),j==="finished"&&x(),T=$,M=null,j="running",w.start()};e&&K();const E={then(D,ie){return b.then(D,ie)},get time(){return Eo(J)},set time(D){D=$c(D),J=D,M!==null||!w||m===0?M=D:$=w.now()-D/m},get duration(){const D=C.calculatedDuration===null?YT(C):C.calculatedDuration;return Eo(D)},get speed(){return m},set speed(D){D===m||!w||(m=D,E.time=Eo(J))},get state(){return j},play:K,pause:()=>{j="paused",M=J},stop:()=>{p=!0,j!=="idle"&&(j="idle",u&&u(),Y())},cancel:()=>{T!==null&&ue(T),Y()},complete:()=>{j="finished"},sample:D=>($=0,ue(D))};return E}function Jhe(e){let t;return()=>(t===void 0&&(t=e()),t)}const epe=Jhe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tpe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Cp=10,npe=2e4,rpe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!BF(t.ease);function ipe(e,t,{onUpdate:n,onComplete:r,...i}){if(!(epe()&&tpe.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,u=!1;const d=()=>{l=new Promise(y=>{o=y})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(rpe(t,i)){const y=D0({...i,repeat:0,delay:0});let N={done:!1,value:f[0]};const C=[];let S=0;for(;!N.done&&S<npe;)N=y.sample(S),C.push(N.value),S+=Cp;p=void 0,f=C,h=S-Cp,m="linear"}const g=mhe(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),b=()=>{u=!1,g.cancel()},x=()=>{u=!0,fr.update(b),o(),d()};return g.onfinish=()=>{u||(e.set(hhe(f,i)),r&&r(),x())},{then(y,N){return l.then(y,N)},attachTimeline(y){return g.timeline=y,g.onfinish=null,_r},get time(){return Eo(g.currentTime||0)},set time(y){g.currentTime=$c(y)},get speed(){return g.playbackRate},set speed(y){g.playbackRate=y},get duration(){return Eo(h)},play:()=>{s||(g.play(),Wo(b))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:y}=g;if(y){const N=D0({...i,autoplay:!1});e.setWithVelocity(N.sample(y-Cp).value,N.sample(y).value,Cp)}x()},complete:()=>{u||g.finish()},cancel:x}}function ape({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:_r,pause:_r,stop:_r,then:a=>(a(),Promise.resolve()),cancel:_r,complete:_r});return t?D0({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const spe={type:"spring",stiffness:500,damping:25,restSpeed:10},ope=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),lpe={type:"keyframes",duration:.8},cpe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},upe=(e,{keyframes:t})=>t.length>2?lpe:ou.has(e)?e.startsWith("scale")?ope(t[1]):spe:cpe,r1=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wl.test(t)||t==="0")&&!t.startsWith("url(")),dpe=new Set(["brightness","contrast","saturate","opacity"]);function fpe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ov)||[];if(!r)return e;const i=n.replace(r,"");let a=dpe.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const mpe=/([a-z-]*)\(.*?\)/g,i1={...Wl,getAnimatableNone:e=>{const t=e.match(mpe);return t?t.map(fpe).join(" "):e}},hpe={...NF,color:Vi,backgroundColor:Vi,outlineColor:Vi,fill:Vi,stroke:Vi,borderColor:Vi,borderTopColor:Vi,borderRightColor:Vi,borderBottomColor:Vi,borderLeftColor:Vi,filter:i1,WebkitFilter:i1},rC=e=>hpe[e];function uR(e,t){let n=rC(e);return n!==i1&&(n=Wl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const dR=e=>/^0[^.\s]+$/.test(e);function ppe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||dR(e)}function gpe(e,t,n,r){const i=r1(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?s:a[u-1]),ppe(a[u])&&l.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(o=a[u]);if(i&&l.length&&o)for(let u=0;u<l.length;u++){const d=l[u];a[d]=uR(t,o)}return a}function xpe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function iC(e,t){return e[t]||e.default||e}const vpe={skipAnimations:!1},aC=(e,t,n,r={})=>i=>{const a=iC(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-$c(s);const l=gpe(t,e,n,a),u=l[0],d=l[l.length-1],f=r1(e,u),h=r1(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(xpe(a)||(m={...m,...upe(e,m)}),m.duration&&(m.duration=$c(m.duration)),m.repeatDelay&&(m.repeatDelay=$c(m.repeatDelay)),!f||!h||fhe.current||a.type===!1||vpe.skipAnimations)return ape(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=ipe(t,e,m);if(p)return p}return D0(m)};function T0(e){return!!(fa(e)&&e.add)}const fR=e=>/^\-?\d*\.?\d+$/.test(e);function sC(e,t){e.indexOf(t)===-1&&e.push(t)}function oC(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class lC{constructor(){this.subscriptions=[]}add(t){return sC(this.subscriptions,t),()=>oC(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bpe=e=>!isNaN(parseFloat(e));class ype{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=Ti;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,fr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>fr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=bpe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new lC);const r=this.events[t].add(n);return t==="change"?()=>{r(),fr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?oR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jd(e,t){return new ype(e,t)}const mR=e=>t=>t.test(e),wpe={test:e=>e==="auto",parse:e=>e},hR=[lu,Yt,Js,hl,Ame,jme,wpe],pf=e=>hR.find(mR(e)),kpe=[...hR,Vi,Wl],Spe=e=>kpe.find(mR(e));function Npe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,jd(n))}function Cpe(e,t){const n=cv(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=Ume(a[s]);Npe(e,s,o)}}function jpe(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(fR(d)||dR(d))?d=parseFloat(d):!Spe(d)&&Wl.test(u)&&(d=uR(l,u)),e.addValue(l,jd(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function Ape(e,t){return t?(t[e]||t.default||t).from:void 0}function Ppe(e,t,n){const r={};for(const i in e){const a=Ape(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function Dpe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Tpe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function pR(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&Dpe(d,f))continue;const p={delay:n,elapsed:0,...iC(a||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[gF];if(x){const w=window.HandoffAppearAnimations(x,f,h,fr);w!==null&&(p.elapsed=w,p.isHandoff=!0)}}let g=!p.isHandoff&&!Tpe(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(aC(f,h,m,e.shouldReduceMotion&&ou.has(f)?{type:!1}:p));const b=h.animation;T0(l)&&(l.add(f),b.then(()=>l.remove(f))),u.push(b)}return s&&Promise.all(u).then(()=>{s&&Cpe(e,s)}),u}function a1(e,t,n={}){const r=cv(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(pR(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return Epe(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,u]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>u())}else return Promise.all([a(),s(n.delay)])}function Epe(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(Mpe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(a1(u,t,{...a,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function Mpe(e,t){return e.sortNodePosition(t)}function Ope(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>a1(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=a1(e,t,n);else{const i=typeof t=="function"?cv(e,t,n.custom):t;r=Promise.all(pR(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Ipe=[...WN].reverse(),_pe=WN.length;function Lpe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Ope(e,n,r)))}function $pe(e){let t=Lpe(e);const n=Rpe();let r=!0;const i=(l,u)=>{const d=cv(e,u);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},g=1/0;for(let x=0;x<_pe;x++){const w=Ipe[x],y=n[w],N=d[w]!==void 0?d[w]:f[w],C=Tm(N),S=w===u?y.isActive:null;S===!1&&(g=x);let j=N===f[w]&&N!==d[w]&&C;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),y.protectedKeys={...p},!y.isActive&&S===null||!N&&!y.prevProp||av(N)||typeof N=="boolean")continue;let $=Fpe(y.prevProp,N)||w===u&&y.isActive&&!j&&C||x>g&&C,T=!1;const _=Array.isArray(N)?N:[N];let O=_.reduce(i,{});S===!1&&(O={});const{prevResolvedValues:G={}}=y,J={...G,...O},ue=ge=>{$=!0,m.has(ge)&&(T=!0,m.delete(ge)),y.needsAnimating[ge]=!0};for(const ge in J){const Y=O[ge],q=G[ge];if(p.hasOwnProperty(ge))continue;let K=!1;j0(Y)&&j0(q)?K=!FF(Y,q):K=Y!==q,K?Y!==void 0?ue(ge):m.add(ge):Y!==void 0&&m.has(ge)?ue(ge):y.protectedKeys[ge]=!0}y.prevProp=N,y.prevResolvedValues=O,y.isActive&&(p={...p,...O}),r&&e.blockInitialAnimation&&($=!1),$&&(!j||T)&&h.push(..._.map(ge=>({animation:ge,options:{type:w,...l}})))}if(m.size){const x={};m.forEach(w=>{const y=e.getBaseTarget(w);y!==void 0&&(x[w]=y)}),h.push({animation:x})}let b=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(h):Promise.resolve()}function o(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function Fpe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!FF(t,e):!1}function fc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Rpe(){return{animate:fc(!0),whileInView:fc(),whileHover:fc(),whileTap:fc(),whileDrag:fc(),whileFocus:fc(),exit:fc()}}class Bpe extends Jl{constructor(t){super(t),t.animationState||(t.animationState=$pe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),av(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let zpe=0;class Upe extends Jl{constructor(){super(...arguments),this.id=zpe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Vpe={animation:{Feature:Bpe},exit:{Feature:Upe}},XT=(e,t)=>Math.abs(e-t);function Wpe(e,t){const n=XT(e.x,t.x),r=XT(e.y,t.y);return Math.sqrt(n**2+r**2)}class gR{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ub(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Wpe(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:g}=Ti;this.history.push({...p,timestamp:g});const{onStart:b,onMove:x}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=zb(h,this.transformPagePoint),fr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ub(f.type==="pointercancel"?this.lastMoveEventInfo:zb(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,b),p&&p(f,b)},!OF(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=lv(t),o=zb(s,this.transformPagePoint),{point:l}=o,{timestamp:u}=Ti;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Ub(o,this.history)),this.removeListeners=Fl(To(this.contextWindow,"pointermove",this.handlePointerMove),To(this.contextWindow,"pointerup",this.handlePointerUp),To(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Wo(this.updatePoint)}}function zb(e,t){return t?{point:t(e.point)}:e}function QT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ub({point:e},t){return{point:e,delta:QT(e,xR(t)),offset:QT(e,Hpe(t)),velocity:qpe(t,.1)}}function Hpe(e){return e[0]}function xR(e){return e[e.length-1]}function qpe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=xR(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>$c(t)));)n--;if(!r)return{x:0,y:0};const a=Eo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ia(e){return e.max-e.min}function s1(e,t=0,n=.01){return Math.abs(e-t)<=n}function ZT(e,t,n,r=.5){e.origin=r,e.originPoint=vr(t.min,t.max,e.origin),e.scale=Ia(n)/Ia(t),(s1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=vr(n.min,n.max,e.origin)-e.originPoint,(s1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Wf(e,t,n,r){ZT(e.x,t.x,n.x,r?r.originX:void 0),ZT(e.y,t.y,n.y,r?r.originY:void 0)}function JT(e,t,n){e.min=n.min+t.min,e.max=e.min+Ia(t)}function Kpe(e,t,n){JT(e.x,t.x,n.x),JT(e.y,t.y,n.y)}function eE(e,t,n){e.min=t.min-n.min,e.max=e.min+Ia(t)}function Hf(e,t,n){eE(e.x,t.x,n.x),eE(e.y,t.y,n.y)}function Gpe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?vr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?vr(n,e,r.max):Math.min(e,n)),e}function tE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Ype(e,{top:t,left:n,bottom:r,right:i}){return{x:tE(e.x,n,i),y:tE(e.y,t,r)}}function nE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Xpe(e,t){return{x:nE(e.x,t.x),y:nE(e.y,t.y)}}function Qpe(e,t){let n=.5;const r=Ia(e),i=Ia(t);return i>r?n=Mm(t.min,t.max-r,e.min):r>i&&(n=Mm(e.min,e.max-i,t.min)),Vl(0,1,n)}function Zpe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const o1=.35;function Jpe(e=o1){return e===!1?e=0:e===!0&&(e=o1),{x:rE(e,"left","right"),y:rE(e,"top","bottom")}}function rE(e,t,n){return{min:iE(e,t),max:iE(e,n)}}function iE(e,t){return typeof e=="number"?e:e[t]||0}const aE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gu=()=>({x:aE(),y:aE()}),sE=()=>({min:0,max:0}),Fr=()=>({x:sE(),y:sE()});function qa(e){return[e("x"),e("y")]}function vR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function ege({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tge(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Vb(e){return e===void 0||e===1}function l1({scale:e,scaleX:t,scaleY:n}){return!Vb(e)||!Vb(t)||!Vb(n)}function bc(e){return l1(e)||bR(e)||e.z||e.rotate||e.rotateX||e.rotateY}function bR(e){return oE(e.x)||oE(e.y)}function oE(e){return e&&e!=="0%"}function E0(e,t,n){const r=e-n,i=t*r;return n+i}function lE(e,t,n,r,i){return i!==void 0&&(e=E0(e,i,r)),E0(e,n,r)+t}function c1(e,t=0,n=1,r,i){e.min=lE(e.min,t,n,r,i),e.max=lE(e.max,t,n,r,i)}function yR(e,{x:t,y:n}){c1(e.x,t.translate,t.scale,t.originPoint),c1(e.y,n.translate,n.scale,n.originPoint)}function nge(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Yu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,yR(e,s)),r&&bc(a.latestValues)&&Yu(e,a.latestValues))}t.x=cE(t.x),t.y=cE(t.y)}function cE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function bl(e,t){e.min=e.min+t,e.max=e.max+t}function uE(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=vr(e.min,e.max,a);c1(e,t[n],t[r],s,t.scale)}const rge=["x","scaleX","originX"],ige=["y","scaleY","originY"];function Yu(e,t){uE(e.x,t,rge),uE(e.y,t,ige)}function wR(e,t){return vR(tge(e.getBoundingClientRect(),t))}function age(e,t,n){const r=wR(e,n),{scroll:i}=t;return i&&(bl(r.x,i.offset.x),bl(r.y,i.offset.y)),r}const kR=({current:e})=>e?e.ownerDocument.defaultView:null,sge=new WeakMap;class oge{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(lv(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=_F(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qa(b=>{let x=this.getAxisMotionValue(b).get()||0;if(Js.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const y=w.layout.layoutBox[b];y&&(x=Ia(y)*(parseFloat(x)/100))}}this.originPoint[b]=x}),p&&fr.update(()=>p(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(m&&this.currentDirection===null){this.currentDirection=lge(b),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),g&&g(d,f)},o=(d,f)=>this.stop(d,f),l=()=>qa(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new gR(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:kR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&fr.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!jp(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Gpe(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&qu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Ype(i.layoutBox,n):this.constraints=!1,this.elastic=Jpe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qa(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Zpe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!qu(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=age(r,i.root,this.visualElement.getTransformPagePoint());let s=Xpe(i.layout.layoutBox,a);if(n){const o=n(ege(s));this.hasMutatedConstraints=!!o,o&&(s=vR(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=qa(d=>{if(!jp(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(aC(t,r,0,n))}stopAnimation(){qa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qa(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){qa(n=>{const{drag:r}=this.getProps();if(!jp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-vr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!qu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qa(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=Qpe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qa(s=>{if(!jp(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(vr(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;sge.set(this.visualElement,this);const t=this.visualElement.current,n=To(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();qu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=jo(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(qa(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=o1,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function jp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function lge(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class cge extends Jl{constructor(t){super(t),this.removeGroupControls=_r,this.removeListeners=_r,this.controls=new oge(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_r}unmount(){this.removeGroupControls(),this.removeListeners()}}const dE=e=>(t,n)=>{e&&fr.update(()=>e(t,n))};class uge extends Jl{constructor(){super(...arguments),this.removePointerDownListener=_r}onPointerDown(t){this.session=new gR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:dE(t),onStart:dE(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&fr.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=To(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function dge(){const e=v.useContext(UN);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=v.useId();return v.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Yp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const gf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Yt.test(e))e=parseFloat(e);else return e;const n=fE(e,t.target.x),r=fE(e,t.target.y);return`${n}% ${r}%`}},fge={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Wl.parse(e);if(i.length>5)return r;const a=Wl.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const u=vr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class mge extends O0.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;bme(hge),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Yp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||fr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SR(e){const[t,n]=dge(),r=v.useContext(vF);return O0.createElement(mge,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(bF),isPresent:t,safeToRemove:n})}const hge={borderRadius:{...gf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gf,borderTopRightRadius:gf,borderBottomLeftRadius:gf,borderBottomRightRadius:gf,boxShadow:fge},NR=["TopLeft","TopRight","BottomLeft","BottomRight"],pge=NR.length,mE=e=>typeof e=="string"?parseFloat(e):e,hE=e=>typeof e=="number"||Yt.test(e);function gge(e,t,n,r,i,a){i?(e.opacity=vr(0,n.opacity!==void 0?n.opacity:1,xge(r)),e.opacityExit=vr(t.opacity!==void 0?t.opacity:1,0,vge(r))):a&&(e.opacity=vr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<pge;s++){const o=`border${NR[s]}Radius`;let l=pE(t,o),u=pE(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||hE(l)===hE(u)?(e[o]=Math.max(vr(mE(l),mE(u),r),0),(Js.test(u)||Js.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=vr(t.rotate||0,n.rotate||0,r))}function pE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const xge=CR(0,.5,KF),vge=CR(.5,.95,_r);function CR(e,t,n){return r=>r<e?0:r>t?1:n(Mm(e,t,r))}function gE(e,t){e.min=t.min,e.max=t.max}function Va(e,t){gE(e.x,t.x),gE(e.y,t.y)}function xE(e,t,n,r,i){return e-=t,e=E0(e,1/n,r),i!==void 0&&(e=E0(e,1/i,r)),e}function bge(e,t=0,n=1,r=.5,i,a=e,s=e){if(Js.test(t)&&(t=parseFloat(t),t=vr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=vr(a.min,a.max,r);e===a&&(o-=t),e.min=xE(e.min,t,n,o,i),e.max=xE(e.max,t,n,o,i)}function vE(e,t,[n,r,i],a,s){bge(e,t[n],t[r],t[i],t.scale,a,s)}const yge=["x","scaleX","originX"],wge=["y","scaleY","originY"];function bE(e,t,n,r){vE(e.x,t,yge,n?n.x:void 0,r?r.x:void 0),vE(e.y,t,wge,n?n.y:void 0,r?r.y:void 0)}function yE(e){return e.translate===0&&e.scale===1}function jR(e){return yE(e.x)&&yE(e.y)}function kge(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function AR(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function wE(e){return Ia(e.x)/Ia(e.y)}class Sge{constructor(){this.members=[]}add(t){sC(this.members,t),t.scheduleRender()}remove(t){if(oC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kE(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const Nge=(e,t)=>e.depth-t.depth;class Cge{constructor(){this.children=[],this.isDirty=!1}add(t){sC(this.children,t),this.isDirty=!0}remove(t){oC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Nge),this.isDirty=!1,this.children.forEach(t)}}function jge(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Wo(r),e(a-t))};return fr.read(r,!0),()=>Wo(r)}function Age(e){window.MotionDebug&&window.MotionDebug.record(e)}function Pge(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Dge(e,t,n){const r=fa(e)?e:jd(e);return r.start(aC("",r,t,n)),r.animation}const SE=["","X","Y","Z"],Tge={visibility:"hidden"},NE=1e3;let Ege=0;const yc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function PR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=Ege++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,yc.totalNodes=yc.resolvedTargetDeltas=yc.recalculatedProjection=0,this.nodes.forEach(Ige),this.nodes.forEach(Rge),this.nodes.forEach(Bge),this.nodes.forEach(_ge),Age(yc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cge)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new lC),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Pge(s),this.instance=s;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=jge(h,250),Yp.hasAnimatedSinceResize&&(Yp.hasAnimatedSinceResize=!1,this.nodes.forEach(jE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Hge,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),w=!this.targetLayout||!AR(this.targetLayout,p)||m,y=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,y);const N={...iC(g,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||jE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zge),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CE);return}this.isUpdating||this.nodes.forEach($ge),this.isUpdating=!1,this.nodes.forEach(Fge),this.nodes.forEach(Mge),this.nodes.forEach(Oge),this.clearAllSnapshots();const o=performance.now();Ti.delta=Vl(0,1e3/60,o-Ti.timestamp),Ti.timestamp=o,Ti.isProcessing=!0,Ob.update.process(Ti),Ob.preRender.process(Ti),Ob.render.process(Ti),Ti.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Lge),this.sharedNodes.forEach(Uge)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!jR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(o||bc(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),qge(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Fr();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(bl(o.x,l.offset.x),bl(o.y,l.offset.y)),o}removeElementScroll(s){const o=Fr();Va(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Va(o,s);const{scroll:h}=this.root;h&&(bl(o.x,-h.offset.x),bl(o.y,-h.offset.y))}bl(o.x,d.offset.x),bl(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=Fr();Va(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Yu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),bc(d.latestValues)&&Yu(l,d.latestValues)}return bc(this.latestValues)&&Yu(l,this.latestValues),l}removeTransform(s){const o=Fr();Va(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!bc(u.latestValues))continue;l1(u.latestValues)&&u.updateSnapshot();const d=Fr(),f=u.measurePageBox();Va(d,f),bE(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return bc(this.latestValues)&&bE(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ti.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ti.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fr(),this.relativeTargetOrigin=Fr(),Hf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Va(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fr(),this.targetWithTransforms=Fr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kpe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Va(this.target,this.layout.layoutBox),yR(this.target,this.targetDelta)):Va(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fr(),this.relativeTargetOrigin=Fr(),Hf(this.relativeTargetOrigin,this.target,m.target),Va(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||l1(this.parent.latestValues)||bR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ti.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Va(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;nge(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=Gu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Gu(),this.projectionDeltaWithTransform=Gu());const g=this.projectionTransform;Wf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=kE(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),yc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Gu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Fr(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,b=this.getStack(),x=!b||b.members.length<=1,w=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(Wge));this.animationProgress=0;let y;this.mixTargetDelta=N=>{const C=N/1e3;AE(f.x,s.x,C),AE(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vge(this.relativeTarget,this.relativeTargetOrigin,h,C),y&&kge(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Fr()),Va(y,this.relativeTarget)),g&&(this.animationValues=d,gge(d,u,this.latestValues,C,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fr.update(()=>{Yp.hasAnimatedSinceResize=!0,this.currentAnimation=Dge(0,NE,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&DR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Fr();const f=Ia(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Ia(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Va(o,l),Yu(o,d),Wf(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Sge),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const u={};for(let d=0;d<SE.length;d++){const f="rotate"+SE[d];l[f]&&(u[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Tge;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Gp(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Gp(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!bc(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=kE(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:p}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in N0){if(h[g]===void 0)continue;const{correct:b,applyTo:x}=N0[g],w=u.transform==="none"?h[g]:b(h[g],f);if(x){const y=x.length;for(let N=0;N<y;N++)u[x[N]]=w}else u[g]=w}return this.options.layoutId&&(u.pointerEvents=f===this?Gp(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(CE),this.root.sharedNodes.clear()}}}function Mge(e){e.updateLayout()}function Oge(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?qa(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ia(h);h.min=r[f].min,h.max=h.min+m}):DR(a,n.layoutBox,r)&&qa(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ia(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=Gu();Wf(o,r,n.layoutBox);const l=Gu();s?Wf(l,e.applyTransform(i,!0),n.measuredBox):Wf(l,r,n.layoutBox);const u=!jR(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Fr();Hf(p,n.layoutBox,h.layoutBox);const g=Fr();Hf(g,r,m.layoutBox),AR(p,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Ige(e){yc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _ge(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Lge(e){e.clearSnapshot()}function CE(e){e.clearMeasurements()}function $ge(e){e.isLayoutDirty=!1}function Fge(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function jE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Rge(e){e.resolveTargetDelta()}function Bge(e){e.calcProjection()}function zge(e){e.resetRotation()}function Uge(e){e.removeLeadSnapshot()}function AE(e,t,n){e.translate=vr(t.translate,0,n),e.scale=vr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function PE(e,t,n,r){e.min=vr(t.min,n.min,r),e.max=vr(t.max,n.max,r)}function Vge(e,t,n,r){PE(e.x,t.x,n.x,r),PE(e.y,t.y,n.y,r)}function Wge(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Hge={duration:.45,ease:[.4,0,.1,1]},DE=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),TE=DE("applewebkit/")&&!DE("chrome/")?Math.round:_r;function EE(e){e.min=TE(e.min),e.max=TE(e.max)}function qge(e){EE(e.x),EE(e.y)}function DR(e,t,n){return e==="position"||e==="preserve-aspect"&&!s1(wE(t),wE(n),.2)}const Kge=PR({attachResizeListener:(e,t)=>jo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wb={current:void 0},TR=PR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Wb.current){const e=new Kge({});e.mount(window),e.setOptions({layoutScroll:!0}),Wb.current=e}return Wb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Gge={pan:{Feature:uge},drag:{Feature:cge,ProjectionNode:TR,MeasureLayout:SR}},Yge=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Xge(e){const t=Yge.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function u1(e,t,n=1){const[r,i]=Xge(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return fR(s)?parseFloat(s):s}else return Jw(i)?u1(i,t,n+1):i}function Qge(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!Jw(a))return;const s=u1(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!Jw(a))continue;const s=u1(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const Zge=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ER=e=>Zge.has(e),Jge=e=>Object.keys(e).some(ER),ME=e=>e===lu||e===Yt,OE=(e,t)=>parseFloat(e.split(", ")[t]),IE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return OE(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?OE(a[1],e):0}},e0e=new Set(["x","y","z"]),t0e=vh.filter(e=>!e0e.has(e));function n0e(e){const t=[];return t0e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ad={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:IE(4,13),y:IE(5,14)};Ad.translateX=Ad.x;Ad.translateY=Ad.y;const r0e=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{o[u]=Ad[u](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(o[u]),e[u]=Ad[u](l,a)}),e},i0e=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(ER);let a=[],s=!1;const o=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=pf(d);const h=t[l];let m;if(j0(h)){const p=h.length,g=h[0]===null?1:0;d=h[g],f=pf(d);for(let b=g;b<p&&h[b]!==null;b++)m?JN(pf(h[b])===m):m=pf(h[b])}else m=pf(h);if(f!==m)if(ME(f)&&ME(m)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Yt&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(h):(s||(a=n0e(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,u=r0e(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),iv&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function a0e(e,t,n,r){return Jge(t)?i0e(e,t,n,r):{target:t,transitionEnd:r}}const s0e=(e,t,n,r)=>{const i=Qge(e,t,r);return t=i.target,r=i.transitionEnd,a0e(e,t,n,r)},d1={current:null},MR={current:!1};function o0e(){if(MR.current=!0,!!iv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>d1.current=e.matches;e.addListener(t),t()}else d1.current=!1}function l0e(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(fa(a))e.addValue(i,a),T0(r)&&r.add(i);else if(fa(s))e.addValue(i,jd(a,{owner:e})),T0(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,jd(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const _E=new WeakMap,OR=Object.keys(Em),c0e=OR.length,LE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],u0e=HN.length;class d0e{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>fr.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=sv(n),this.isVariantNode=xF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&fa(h)&&(h.set(o[f],!1),T0(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,_E.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),MR.current||o0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:d1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_E.delete(this.current),this.projection&&this.projection.unmount(),Wo(this.notifyUpdate),Wo(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=ou.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&fr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<c0e;l++){const u=OR[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=Em[u];h&&(s=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&qu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LE.length;r++){const i=LE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=l0e(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<u0e;r++){const i=HN[r],a=this.props[i];(Tm(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=jd(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=ZN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!fa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new lC),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class IR extends d0e{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=Ppe(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){jpe(this,r,s);const o=s0e(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function f0e(e){return window.getComputedStyle(e)}class m0e extends IR{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(ou.has(n)){const r=rC(n);return r&&r.default||0}else{const r=f0e(t),i=(kF(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return wR(t,n)}build(t,n,r,i){KN(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return QN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;fa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){PF(t,n,r,i)}}class h0e extends IR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ou.has(n)){const r=rC(n);return r&&r.default||0}return n=DF.has(n)?n:VN(n),t.getAttribute(n)}measureInstanceViewportBox(){return Fr()}scrapeMotionValuesFromProps(t,n){return EF(t,n)}build(t,n,r,i){YN(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){TF(t,n,r,i)}mount(t){this.isSVGTag=XN(t.tagName),super.mount(t)}}const p0e=(e,t)=>qN(e)?new h0e(t,{enableHardwareAcceleration:!1}):new m0e(t,{enableHardwareAcceleration:!0}),g0e={layout:{ProjectionNode:TR,MeasureLayout:SR}},x0e={...Vpe,...che,...Gge,...g0e},Ws=xme((e,t)=>Xme(e,t,x0e,p0e));function v0e({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:u,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:g,children:b}){return e?c.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:x=>x.target===x.currentTarget&&t(),children:c.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[c.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),c.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),c.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",ref:f,children:[c.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),onFocus:s,onBlur:x=>o(x.relatedTarget),onKeyDown:x=>{x.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&c.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((x,w)=>c.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:y=>{y.preventDefault(),u(x)},children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:x.section}),c.jsx("div",{className:"truncate",children:d(x.text,n)})]},`${x.hitId}-${w}-${x.text}`))})]}),c.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:c.jsx(Ci,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"h-[65vh]",children:c.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[c.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[c.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),c.jsxs("div",{className:"space-y-1",children:[h.length===0&&c.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((x,w)=>{const y=x.id===m;return c.jsxs("button",{"data-toc-active":y?"true":"false",className:`proof-of-work-toc-item ${x.level===1?"proof-of-work-toc-item--l1":x.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${y?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":x.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(x),children:[c.jsx("span",{className:`proof-of-work-toc-dot ${y?"!bg-cyan-300":""}`,"aria-hidden":"true"}),c.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:x.text})]},`${x.id}-${x.level}-${w}`)})]})]}),c.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:g,id:"metrics-spec-content",children:c.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:b})})]})})]})}):null}const mc="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",f1="arcbridge_web_theme_override",$E="arcbridge_web_kinetic_font_override",FE="__default__",_R=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},RE=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},b0e=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},y0e=(e,t)=>{if(!e||!t)return e;try{const n=new URL(e,window.location.origin);return n.searchParams.set("themeId",t),/^https?:\/\//i.test(e)?n.toString():`${n.pathname}${n.search}${n.hash}`}catch{const n=e.includes("?")?"&":"?";return`${e}${n}themeId=${encodeURIComponent(t)}`}},w0e=(e,t,n)=>{const r=new URL(e);return r.searchParams.set("report",t||""),n&&r.searchParams.set("themeId",n),r.toString()},m1=e=>e?e===kN?!0:Cf.some(t=>t.id===e):!1,k0e=()=>{const e=new URLSearchParams(window.location.search),t=e.get("themeId")||e.get("theme");if(t&&m1(t))return t;const n=_R(f1);if(!n)return null;try{const r=JSON.parse(n),i=typeof(r==null?void 0:r.themeId)=="string"?r.themeId:null;return i&&m1(i)?i:null}catch{return null}},BE=(e,t)=>e?e===v0?"matte":e===b0||e===Ff?"kinetic":e===kN?"crt":t==="modern"||t==="classic"?t:"classic":t,zE=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},S0e=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},UE=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),N0e=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,u=`${l} ${n-l}`,d=n-i;return i+=l,c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:u,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},C0e=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),c.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function j0e(){var nl;const e=k0e(),[t,n]=v.useState(null),[r,i]=v.useState(null),[a,s]=v.useState(null),[o,l]=v.useState(null),[u,d]=v.useState(""),[f,h]=v.useState(null),[m,p]=v.useState(null),[g,b]=v.useState(!1),[x,w]=v.useState(!1),[y,N]=v.useState(()=>BE(e,"classic")),[C,S]=v.useState("classic"),[j,M]=v.useState(Hp.id),[$,T]=v.useState(e),_=v.useMemo(()=>{const te=new URLSearchParams(window.location.search),Ae=te.get("themeId")||te.get("theme");return Ae&&m1(Ae)?Ae:null},[]),[O,G]=v.useState("default"),[J,ue]=v.useState(!1),[ge,Y]=v.useState(!1),[q,K]=v.useState(!1),[E,D]=v.useState(""),[ie,k]=v.useState(""),[V,W]=v.useState([]),[re,ne]=v.useState(!1),[se,F]=v.useState("overview"),[U,H]=v.useState("kdr"),[ee,R]=v.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),ce=v.useRef(null),X=v.useRef(null),ae=v.useRef(null),ze=v.useRef(null),Ve=v.useRef(null),he=v.useRef(null),L=v.useRef(new Map),Pe=v.useRef(null),Ee=v.useRef(null),xt=v.useMemo(()=>{let te=window.location.pathname||"/";const Ae=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return te.endsWith("/index.html")&&(te=te.slice(0,-11)),te.includes("/reports/")&&(te=te.replace(/\/reports\/[^/]+\/?$/,"")),Ae&&(te=te.replace(/^\/web\/web(?=\/|$)/,"/web")),te.endsWith("/")||(te=`${te}/`),te},[]),zt=v.useMemo(()=>new URL(xt,window.location.origin).toString(),[xt]),pn=v.useMemo(()=>_?y0e(zt,_):zt,[_,zt]),ke=v.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),Qe=v.useMemo(()=>{const Ae=[xt,"./","/"],We=[];return Ae.forEach(bt=>{let Rt=bt||"/";Rt!=="./"&&!Rt.endsWith("/")&&(Rt=`${Rt}/`),We.includes(Rt)||We.push(Rt)}),We},[xt,ke]),[Tt,nn]=v.useState(Qe[0]||"/"),Xt=te=>{var Ae;return typeof te=="string"||typeof te=="number"?String(te):Array.isArray(te)?te.map(Xt).join(""):te&&typeof te=="object"&&"props"in te?Xt((Ae=te.props)==null?void 0:Ae.children):""},Nr=te=>{const Ae=UE(te||"section")||"section",We=L.current,bt=(We.get(Ae)??0)+1;return We.set(Ae,bt),bt===1?Ae:`${Ae}-${bt}`},Bn=v.useMemo(()=>{const te=Mb.split(`
`),Ae=new Map,We=[],bt=Rt=>{const qt=UE(Rt||"section")||"section",dn=(Ae.get(qt)??0)+1;return Ae.set(qt,dn),dn===1?qt:`${qt}-${dn}`};for(const Rt of te){const qt=/^(#{1,3})\s+(.*)\s*$/.exec(Rt);if(!qt)continue;const dn=qt[1].length,Pt=qt[2].trim();Pt&&We.push({level:dn,text:Pt,id:bt(Pt)})}return We},[Mb]),un=(te,Ae)=>{const We=te==="./"?"./":te.endsWith("/")?te:`${te}/`,bt=String(Ae||"").replace(/^\/+/,"");return`${We}${bt}`};v.useEffect(()=>{const te=_R($E);(te==="original"||te==="default")&&G(te)},[]),v.useEffect(()=>{const te=$||j,Ae=Cf.find(We=>We.id===te)||Hp;h(Ae)},[$,j]),v.useEffect(()=>{if(!$){N(C);return}N(BE($,C))},[$,C]),v.useEffect(()=>{nn(Qe[0]||"/");let te=!0;return(async()=>{for(const We of Qe)try{if((await fetch(un(We,"ui-theme.json"),{cache:"no-store"})).ok){te&&nn(We);return}}catch{}})(),()=>{te=!1}},[Qe]);const ss=(te,Ae)=>{const We=Ae.trim();if(!We)return te;const bt=te.toLowerCase(),Rt=We.toLowerCase(),qt=bt.indexOf(Rt);if(qt===-1)return te;const dn=te.slice(0,qt),Pt=te.slice(qt,qt+We.length),yt=te.slice(qt+We.length);return c.jsxs(c.Fragment,{children:[dn,c.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:Pt}),yt]})},gn=(te,Ae)=>{const We=X.current;if(!We)return;let bt=We.querySelector(`[data-search-hit="${te}"]`);if(!bt&&Ae){const Rt=Ae.trim().replace(/\s+/g," "),qt=Array.from(We.querySelectorAll("h1, h2, h3, p, li, code"));bt=qt.find(dn=>(dn.textContent||"").trim().replace(/\s+/g," ")===Rt)||null,bt||(bt=qt.find(dn=>(dn.textContent||"").toLowerCase().includes(Rt.toLowerCase()))||null)}bt&&requestAnimationFrame(()=>{const Rt=We.getBoundingClientRect(),qt=bt.getBoundingClientRect(),dn=Math.max(0,We.scrollTop+(qt.top-Rt.top)-12);We.scrollTop=dn,bt.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),he.current&&window.clearTimeout(he.current),he.current=window.setTimeout(()=>{bt.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},Cn=te=>{const Ae=X.current,We=te.trim().toLowerCase();if(!Ae||We.length<2){W([]);return}const bt=Array.from(Ae.querySelectorAll("h1, h2, h3, p, li, code"));bt.forEach(dn=>dn.removeAttribute("data-search-hit"));const Rt=[];let qt=0;bt.forEach((dn,Pt)=>{const yt=(dn.textContent||"").trim();if(yt&&yt.toLowerCase().includes(We)){let Rn="";for(let $r=Pt;$r>=0;$r-=1){const A=bt[$r];if(A&&["H1","H2","H3"].includes(A.tagName)){Rn=(A.textContent||"").trim();break}}dn.setAttribute("data-search-hit",String(qt)),Rt.push({index:Pt,text:yt,section:Rn||"Unlabeled Section",hitId:qt}),qt+=1}}),W(Rt.slice(0,12))};v.useEffect(()=>{var Ae;if(!q)return;D(((Ae=Bn[0])==null?void 0:Ae.id)||"");const te=We=>{var Rt;const bt=We.target;bt&&((Rt=ae.current)!=null&&Rt.contains(bt)||(ne(!1),W([])))};return window.addEventListener("mousedown",te),()=>{window.removeEventListener("mousedown",te)}},[q,Bn]),v.useEffect(()=>{if(!q){D("");return}const te=X.current;if(!te)return;let Ae=0;const We=()=>{var pe;const Rt=Array.from(te.querySelectorAll("[data-heading-id]"));if(Rt.length===0)return;const dn=te.getBoundingClientRect().top+18,Pt=Rt.map((le,Ge)=>({index:Ge,id:le.dataset.headingId||le.id||"",top:le.getBoundingClientRect().top})).filter(le=>!!le.id);if(Pt.length===0)return;let yt=0,Rn=!1;for(const le of Pt){if(le.top<=dn){yt=le.index,Rn=!0;continue}Rn||(yt=le.index);break}te.scrollTop+te.clientHeight>=te.scrollHeight-2&&(yt=Math.max(0,Pt.length-1));const A=Bn[yt],I=((pe=Pt[yt])==null?void 0:pe.id)||"",Q=(A==null?void 0:A.id)||I;Q&&D(Q)};We();const bt=()=>{Ae&&cancelAnimationFrame(Ae),Ae=requestAnimationFrame(We)};return te.addEventListener("scroll",bt,{passive:!0}),window.addEventListener("resize",bt),()=>{Ae&&cancelAnimationFrame(Ae),te.removeEventListener("scroll",bt),window.removeEventListener("resize",bt)}},[q,Bn]);const jn=v.useMemo(()=>[{id:"overview",label:"Overview",icon:OU,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:Oc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Cl},{id:"top-players",label:"Top Players",icon:Oc},{id:"top-skills-outgoing",label:"Top Skills",icon:lk},{id:"squad-composition",label:"Classes",icon:Pr},{id:"timeline",label:"Squad vs Enemy Size",icon:Pr},{id:"map-distribution",label:"Map Distribution",icon:mk}]},{id:"roster",label:"Roster Intel",icon:cm,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:cm},{id:"squad-comp-fight",label:"Squad Comp",icon:Pr},{id:"fight-comp",label:"Fight Comp",icon:Cl}]},{id:"offense",label:"Offensive Stats",icon:Cl,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:l$},{id:"player-breakdown",label:"Player Breakdown",icon:fk},{id:"damage-breakdown",label:"Damage Breakdown",icon:ck},{id:"spike-damage",label:"Spike Damage",icon:um},{id:"conditions-outgoing",label:"Conditions",icon:Y0}]},{id:"defense",label:"Defensive Stats",icon:md,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:md},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:um},{id:"defense-mitigation",label:"Damage Mitigation",icon:gk},{id:"boon-output",label:"Boon Output",icon:So},{id:"boon-timeline",label:"Boon Timeline",icon:So},{id:"support-detailed",label:"Support Detailed",icon:hk},{id:"healing-stats",label:"Healing Stats",icon:c5}]},{id:"other",label:"Other Metrics",icon:X0,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:uk},{id:"special-buffs",label:"Special Buffs",icon:wg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:xk},{id:"skill-usage",label:"Skill Usage",icon:dk},{id:"apm-stats",label:"APM Breakdown",icon:pk}]}],[]),ji=v.useMemo(()=>{const te=new Map;return jn.forEach(Ae=>{te.set(Ae.id.toLowerCase(),Ae.id),(Ae.sectionIds||[]).forEach(We=>te.set(String(We).toLowerCase(),Ae.id)),(Ae.items||[]).forEach(We=>te.set(String(We.id).toLowerCase(),Ae.id))}),te.set("report-top","overview"),te.set("overview","overview"),te.set("kdr","overview"),te},[jn]),Lr=v.useMemo(()=>jn.find(te=>te.id===se)||jn[0],[jn,se]),Dr=y==="kinetic",cu=v.useMemo(()=>{const Ae=((Lr==null?void 0:Lr.sectionIds)||((Lr==null?void 0:Lr.items)||[]).map(We=>We.id)).map(We=>We==="kdr"?"overview":We);return new Set(Ae)},[Lr]),ao=te=>{if(te==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const Ae=te==="kdr"?"overview":te,We=Ae==="overview"&&te!=="kdr"?"report-top":Ae,bt=document.getElementById(We);if(!bt||!(bt.getAttribute("data-section-visible")!=="false")||!bt.offsetParent)return!1;const qt=bt.getBoundingClientRect();if(qt.height<=0)return!1;let dn=0;if(We==="stats-view-top"){const yt=document.getElementById("report-top");yt&&(dn=yt.getBoundingClientRect().height+12)}const Pt=qt.top+window.scrollY-12-dn;return window.scrollTo({top:Math.max(0,Pt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${We}`),!0},el=(te,Ae=0)=>{ao(te)||Ae>=12||window.setTimeout(()=>{requestAnimationFrame(()=>el(te,Ae+1))},40)};v.useEffect(()=>{if(!t)return;const te=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(We=>{We.scrollHeight})});return()=>cancelAnimationFrame(te)},[t]),v.useEffect(()=>{const te=Pe.current;if(!te)return;let Ae=0;const We=()=>{if(ao(te)){Pe.current=null;return}if(Ae+=1,Ae>=20){Pe.current=null;return}window.setTimeout(()=>requestAnimationFrame(We),40)};requestAnimationFrame(We)},[se]),v.useEffect(()=>{const te=()=>{var qt,dn;const Ae=(window.location.hash||"").replace(/^#/,"").trim();if(!Ae)return;let We=Ae;try{We=decodeURIComponent(Ae)}catch{We=Ae}const bt=We.toLowerCase(),Rt=ji.get(bt);if(Rt){if(F(Rt),R(()=>{const Pt={};return jn.forEach(yt=>{Pt[yt.id]=yt.id===Rt}),Pt}),bt==="report-top")H("kdr");else{const Pt=jn.find(yt=>yt.id.toLowerCase()===bt);H(((dn=(qt=Pt==null?void 0:Pt.items)==null?void 0:qt[0])==null?void 0:dn.id)||bt)}Pe.current=bt==="report-top"?"kdr":bt}};return te(),window.addEventListener("hashchange",te),()=>{window.removeEventListener("hashchange",te)}},[ji,jn]);const ti=y==="matte",Ts=f??Hp,sr=Dr&&Ts.id===Ff,ga=Dr?sr?"142, 155, 214":"90, 80, 68":Ts.rgb,ni=ti?"#d8e1eb":Dr?sr?"#f0d8a9":"#24211d":"var(--accent)",$a={"--accent":`rgb(${ga})`,"--accent-rgb":ga,"--accent-soft":`rgba(${ga}, ${Dr?sr?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${ga}, ${Dr?sr?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${ga}, ${Dr?sr?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${ga}, ${Dr?sr?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${ga}, ${Dr?sr?"0.08":"0.04":"0.08"})`},Es=y==="modern"||y==="matte"||y==="kinetic",uu=Ts.pattern?ti||Dr?void 0:Es?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Ts.pattern}`:Ts.pattern:void 0,Qn=Dr?{backgroundImage:"none",backgroundColor:sr?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:sr?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:ti?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Es?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};v.useEffect(()=>{var dn;let te=!0;const We=new URLSearchParams(window.location.search).get("report")||((dn=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:dn[1])||null,bt=We?`${xt}reports/${We}/report.json`:`${xt}report.json`;We&&l(bt);const Rt=Pt=>{var $r,A,I;const yt=new Set(((($r=Pt==null?void 0:Pt.meta)==null?void 0:$r.commanders)||[]).map(Q=>String(Q)));if(yt.size===0)return Pt;const Rn=Pt.stats;return(A=Rn==null?void 0:Rn.leaderboards)!=null&&A.closestToTag&&(Rn.leaderboards.closestToTag=Rn.leaderboards.closestToTag.map(Q=>yt.has(String(Q==null?void 0:Q.account))?{...Q,value:0}:Q)),(I=Rn==null?void 0:Rn.closestToTag)!=null&&I.player&&yt.has(String(Rn.closestToTag.player))&&(Rn.closestToTag={...Rn.closestToTag,value:0}),Pt},qt=Pt=>{var I,Q,pe,le,Ge;const yt=Pt==null?void 0:Pt.stats;if(!yt||typeof yt!="object")return Pt;const Rn=Array.isArray((I=yt==null?void 0:yt.leaderboards)==null?void 0:I.downContrib)?yt.leaderboards.downContrib:[];if(!Rn.length)return Pt;const A=Rn.map(ve=>({...ve,value:Number((ve==null?void 0:ve.value)??0)})).filter(ve=>Number.isFinite(ve.value)).sort((ve,ut)=>ut.value-ve.value||String((ve==null?void 0:ve.account)||"").localeCompare(String((ut==null?void 0:ut.account)||"")))[0];return A&&(yt.maxDownContrib={...yt.maxDownContrib||{},value:Number(A.value||0),player:String(A.account||((Q=yt.maxDownContrib)==null?void 0:Q.player)||"-"),count:Number(A.count||((pe=yt.maxDownContrib)==null?void 0:pe.count)||0),profession:String(A.profession||((le=yt.maxDownContrib)==null?void 0:le.profession)||"Unknown"),professionList:Array.isArray(A.professionList)?A.professionList:((Ge=yt.maxDownContrib)==null?void 0:Ge.professionList)||[]}),Pt};return fetch(bt,{cache:"no-store"}).then(Pt=>Pt.ok?Pt.json():Promise.reject()).then(Pt=>{var Rn,$r,A,I,Q;if(!te)return;const yt=qt(Rt(Pt));if(n(yt),!$){const pe=(Rn=yt==null?void 0:yt.stats)==null?void 0:Rn.uiTheme;pe==="modern"||pe==="classic"||pe==="crt"||pe==="matte"||pe==="kinetic"?S(pe):(($r=yt==null?void 0:yt.stats)==null?void 0:$r.webThemeId)===v0?S("matte"):(((A=yt==null?void 0:yt.stats)==null?void 0:A.webThemeId)===b0||((I=yt==null?void 0:yt.stats)==null?void 0:I.webThemeId)===Ff)&&S("kinetic"),typeof((Q=yt==null?void 0:yt.stats)==null?void 0:Q.webThemeId)=="string"&&yt.stats.webThemeId&&M(yt.stats.webThemeId)}}).catch(()=>{if(We){if(!te)return;s("Report not found yet. It may still be deploying.")}fetch(`${xt}reports/index.json`,{cache:"no-store"}).then(Pt=>Pt.ok?Pt.json():Promise.reject()).then(Pt=>{te&&i(Array.isArray(Pt)?Pt:[])}).catch(()=>{te&&s("No report data found.")})}),()=>{te=!1}},[xt,$]),v.useEffect(()=>{if(t){const te=t.meta.dateLabel||zE(t.meta.dateStart,t.meta.dateEnd);document.title=te?`ArcBridge  ${t.meta.title}  ${te}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),v.useEffect(()=>{var Ae;if($)return;const te=(Ae=t==null?void 0:t.stats)==null?void 0:Ae.webThemeId;typeof te=="string"&&te&&M(te)},[t,$]),v.useEffect(()=>{const te=document.body;te.classList.add("web-report"),te.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),ti?te.classList.add("theme-matte"):y==="modern"?te.classList.add("theme-modern"):y==="crt"?te.classList.add("theme-crt"):y==="kinetic"?(te.classList.add("theme-kinetic"),sr&&te.classList.add("theme-kinetic-dark"),O==="original"&&te.classList.add("theme-kinetic-font-original")):te.classList.add("theme-classic")},[y,ti,sr,O]),v.useEffect(()=>{var Ae;if($||ke&&((Ae=t==null?void 0:t.stats)!=null&&Ae.webThemeId))return;let te=!0;return fetch(un(Tt,"theme.json"),{cache:"no-store"}).then(We=>We.ok?We.json():Promise.reject()).then(We=>{te&&typeof(We==null?void 0:We.id)=="string"&&We.id&&M(We.id)}).catch(()=>{}),()=>{te=!1}},[Tt,ke,t,$]),v.useEffect(()=>{var qt,dn;if($)return;const te=(qt=t==null?void 0:t.stats)==null?void 0:qt.webThemeId,Ae=(dn=t==null?void 0:t.stats)==null?void 0:dn.uiTheme;if((Ae==="modern"||Ae==="classic"||Ae==="crt"||Ae==="matte"||Ae==="kinetic")&&!(te===v0&&Ae!=="matte"||(te===b0||te===Ff)&&Ae!=="kinetic"||te==="CRT"&&Ae!=="crt"))return;let Rt=!0;return fetch(un(Tt,"ui-theme.json"),{cache:"no-store"}).then(Pt=>Pt.ok?Pt.json():Promise.reject()).then(Pt=>{if(!Rt)return;const yt=Pt==null?void 0:Pt.theme;(yt==="modern"||yt==="classic"||yt==="crt"||yt==="matte"||yt==="kinetic")&&S(yt)}).catch(()=>{}),()=>{Rt=!1}},[Tt,t,$]),v.useEffect(()=>{let te=!0;return fetch(un(Tt,"logo.json"),{cache:"no-store"}).then(Ae=>Ae.ok?Ae.json():Promise.reject()).then(Ae=>{if(!te)return;const We="svg/ArcBridge.svg",bt=Ae!=null&&Ae.path?String(Ae.path):We,Rt=Ae!=null&&Ae.updatedAt?String(Ae.updatedAt):"",qt=un(Tt,bt),dn=Rt?`${qt}?v=${encodeURIComponent(Rt)}`:qt;p(dn),b(!(Ae!=null&&Ae.path)||bt===We)}).catch(()=>{te&&(p(null),b(!1))}),()=>{te=!1}},[Tt]);const xa=v.useMemo(()=>r?[...r].sort((te,Ae)=>{const We=new Date(te.dateEnd||te.dateStart).getTime();return new Date(Ae.dateEnd||Ae.dateStart).getTime()-We}):[],[r]),Zi=v.useMemo(()=>{if(!xa.length)return[];const te=u.trim().toLowerCase();return te?xa.filter(Ae=>{var Rt;const We=((Rt=Ae.commanders)==null?void 0:Rt.join(" "))||"";return`${Ae.title} ${We} ${Ae.dateLabel}`.toLowerCase().includes(te)}):xa},[xa,u]),du=te=>{if(!te){b0e(f1);return}RE(f1,JSON.stringify({themeId:te}))},Ji=te=>{const Ae=te===FE?null:te;Ae&&!Cf.some(We=>We.id===Ae)||(T(Ae),du(Ae),ue(!1))},ec=te=>{G(te),RE($E,te),Y(!1)};v.useEffect(()=>{const te=We=>{if(!ze.current)return;const bt=We.target;ze.current.contains(bt)||Ve.current&&Ve.current.contains(bt)||(ue(!1),Y(!1))},Ae=We=>{We.key==="Escape"&&(ue(!1),Y(!1))};return window.addEventListener("mousedown",te),window.addEventListener("keydown",Ae),()=>{window.removeEventListener("mousedown",te),window.removeEventListener("keydown",Ae)}},[]),v.useEffect(()=>()=>{Ee.current!==null&&(cancelAnimationFrame(Ee.current),Ee.current=null)},[]);const tc=v.useMemo(()=>{if(!$)return"Default";const te=Cf.find(Ae=>Ae.id===$);return(te==null?void 0:te.label)||"Default"},[$]),Vd=c.jsxs("div",{className:"relative flex items-center gap-2",ref:ze,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),c.jsxs("button",{type:"button",onClick:()=>ue(te=>!te),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:tc}),c.jsx("span",{className:`transition-transform ${J?"rotate-180":""}`,children:""})]}),J&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>Ji(FE),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Cf.map(te=>c.jsx("button",{type:"button",onClick:()=>Ji(te.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${$===te.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:te.label},te.id))]})]}),va=Dr?c.jsxs("div",{className:"relative flex items-center gap-2",ref:Ve,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),c.jsxs("button",{type:"button",onClick:()=>Y(te=>!te),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:O==="original"?"Original App":"Kinetic Default"}),c.jsx("span",{className:`transition-transform ${ge?"rotate-180":""}`,children:""})]}),ge&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>ec("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${O==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),c.jsx("button",{type:"button",onClick:()=>ec("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${O==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,Ms=c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[c.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),c.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[c.jsx("div",{className:"min-w-[160px]",children:Vd}),va&&c.jsx("div",{className:"min-w-[160px]",children:va}),c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),c.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),c.jsx("a",{href:"#proof-of-work",onClick:te=>{te.preventDefault(),K(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),c.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),c.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",c.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),c.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),c.jsxs("p",{className:"mt-2",children:["See the"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),tl=c.jsxs(v0e,{isOpen:q,onClose:()=>K(!1),searchValue:ie,searchFocused:re,searchResults:V,onSearchChange:te=>{k(te),requestAnimationFrame(()=>Cn(te))},onSearchFocus:()=>{ne(!0),requestAnimationFrame(()=>Cn(ie))},onSearchBlur:te=>{var Ae;te&&((Ae=ae.current)!=null&&Ae.contains(te))||ne(!1)},onSearchEnter:()=>{V.length>0&&gn(V[0].hitId,V[0].text)},onSearchResultMouseDown:te=>{ne(!0),gn(te.hitId,te.text)},renderHighlightedMatch:ss,searchRef:ae,tocItems:Bn,activeTocId:E,onTocClick:te=>{const Ae=X.current;if(!Ae)return;let We=Ae.querySelector(`[data-heading-id="${te.id}"]`);if(!We){const bt=te.text.trim().replace(/\s+/g," ");We=Array.from(Ae.querySelectorAll("h1, h2, h3")).find(qt=>(qt.textContent||"").trim().replace(/\s+/g," ")===bt)||null}We&&(D(te.id),requestAnimationFrame(()=>{const bt=Ae.getBoundingClientRect(),Rt=We.getBoundingClientRect(),qt=Ae.scrollTop+(Rt.top-bt.top)-12;Ae.scrollTop=Math.max(0,qt)}))},contentRef:X,children:[(L.current=new Map,null),c.jsx(Kue,{remarkPlugins:[sme],components:{h1:({children:te})=>{const Ae=Xt(te),We=Nr(Ae);return c.jsx("h1",{id:We,"data-heading-id":We,className:"text-2xl font-bold text-white scroll-mt-6",children:te})},h2:({children:te})=>{const Ae=Xt(te),We=Nr(Ae);return c.jsx("h2",{id:We,"data-heading-id":We,className:"text-xl font-semibold text-white scroll-mt-6",children:te})},h3:({children:te})=>{const Ae=Xt(te),We=Nr(Ae);return c.jsx("h3",{id:We,"data-heading-id":We,className:"text-lg font-semibold text-white scroll-mt-6",children:te})},p:({children:te})=>c.jsx("p",{className:"leading-6 text-gray-200",children:te}),ul:({children:te})=>c.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:te}),ol:({children:te})=>c.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:te}),li:({children:te})=>c.jsx("li",{className:"leading-6",children:te}),blockquote:({children:te})=>c.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:te}),a:({href:te,children:Ae})=>c.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:te,target:"_blank",rel:"noreferrer",children:Ae}),table:({children:te})=>c.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:c.jsx("table",{className:"w-full border-collapse text-left text-sm",children:te})}),th:({children:te})=>c.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:te}),td:({children:te})=>c.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:te}),pre:({children:te})=>c.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:te}),code:te=>{const{inline:Ae,children:We}=te;return Ae===!0?c.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:We}):c.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:We})}},children:Mb})]});if(t){const te=un(Tt,"svg/ArcBridge.svg"),Ae=()=>{Ee.current!==null&&(cancelAnimationFrame(Ee.current),Ee.current=null);const A=window.scrollY||window.pageYOffset||0;if(A<=1){window.scrollTo({top:0,behavior:"auto"});return}const I=320,Q=performance.now(),pe=le=>{const Ge=le-Q,ve=Math.min(1,Ge/I),ut=1-Math.pow(1-ve,3),ht=Math.max(0,Math.round(A*(1-ut)));window.scrollTo({top:ht,behavior:"auto"}),ve<1?Ee.current=requestAnimationFrame(pe):(Ee.current=null,window.scrollTo({top:0,behavior:"auto"}))};Ee.current=requestAnimationFrame(pe)},We=A=>{R(()=>{const I={};return jn.forEach(Q=>{I[Q.id]=Q.id===A}),I})},bt=A=>{var Q,pe;Pe.current=null,F(A);const I=jn.find(le=>le.id===A);H(((pe=(Q=I==null?void 0:I.items)==null?void 0:Q[0])==null?void 0:pe.id)||"kdr"),Ae()},Rt=A=>{if(!!!ee[A]){We(A),bt(A);return}if(A!==se){bt(A);return}R(Q=>({...Q,[A]:!1}))},qt=(A,I)=>{ee[A]||We(A),H(I);const Q=A===se;Q||(Pe.current=I,F(A),requestAnimationFrame(()=>el(I))),Q&&requestAnimationFrame(()=>el(I))},dn=A=>{const I=A.currentTarget;if(!(I.scrollHeight>I.clientHeight)){window.scrollBy({top:A.deltaY,behavior:"auto"}),A.preventDefault();return}const pe=I.scrollTop<=0,le=I.scrollTop+I.clientHeight>=I.scrollHeight-1;(pe&&A.deltaY<0||le&&A.deltaY>0)&&(window.scrollBy({top:A.deltaY,behavior:"auto"}),A.preventDefault())},Pt=A=>{const I=ce.current;if(!I)return;const Q=A.target;if(!Q||!I.contains(Q))return;let pe=Q;for(;pe&&pe!==I;){const Ge=window.getComputedStyle(pe).overflowY;if((Ge==="auto"||Ge==="scroll")&&pe.scrollHeight>pe.clientHeight+1){const ut=pe.scrollTop<=0,ht=pe.scrollTop+pe.clientHeight>=pe.scrollHeight-1;(A.deltaY<0&&ut||A.deltaY>0&&ht)&&(window.scrollBy({top:A.deltaY,behavior:"auto"}),A.preventDefault());return}pe=pe.parentElement}},yt=A=>{const I=Math.max(0,6-A);return{accordionDuration:.5+I*.07,itemDuration:.34+I*.035,stagger:.05+I*.01,delayChildren:.06+I*.015}},Rn=A=>{const I=yt(A);return{open:{transition:{staggerChildren:I.stagger,delayChildren:I.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,I.stagger*.7),staggerDirection:-1}}}},$r={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:ti?"var(--bg-base)":Dr?sr?"#2b3048":"#d8d1c5":Es?"#0f141c":"#0f172a",backgroundImage:ti?"none":uu,...$a},children:[!ti&&!Dr&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${x?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>w(!1)}),c.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${x?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[c.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),c.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),c.jsx("div",{className:"px-5 pb-4",children:c.jsxs("a",{href:pn,className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),c.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:dn,children:jn.map(A=>{const I=A.icon,Q=A.id===se,pe=!!ee[A.id],le=yt(A.items.length),Ge=Rn(A.items.length);return c.jsxs(Ws.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[c.jsxs("button",{onClick:()=>Rt(A.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${Q?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(I,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:A.label}),c.jsx(Ws.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:pe?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Fy,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Ws.div,{initial:!1,animate:pe?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:le.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Ws.div,{variants:Ge,initial:!1,animate:pe?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:A.items.map(ve=>{const ut=ve.icon;return c.jsxs(Ws.button,{variants:$r,transition:{duration:le.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{qt(A.id,ve.id),w(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${U===ve.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(ut,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),ve.label]},ve.id)})})},`${A.id}-submenu-mobile`)]},A.id)})})]})}),c.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("div",{className:"px-6 pt-6 pb-5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:ni,maskImage:`url(${te})`,WebkitMaskImage:`url(${te})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),c.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),c.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:dn,children:jn.map(A=>{const I=A.icon,Q=A.id===se,pe=!!ee[A.id],le=yt(A.items.length),Ge=Rn(A.items.length);return c.jsxs(Ws.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[c.jsxs("button",{onClick:()=>Rt(A.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${Q?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(I,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:A.label}),c.jsx(Ws.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:pe?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Fy,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Ws.div,{initial:!1,animate:pe?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:le.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Ws.div,{variants:Ge,initial:!1,animate:pe?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:A.items.map(ve=>{const ut=ve.icon;return c.jsxs(Ws.button,{variants:$r,transition:{duration:le.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>qt(A.id,ve.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${U===ve.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(ut,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),ve.label]},ve.id)})})},`${A.id}-submenu-desktop`)]},A.id)})}),c.jsx("div",{className:"border-t border-white/10",children:c.jsxs("a",{href:pn,className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),c.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[c.jsx("div",{className:`${mc} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:Qn,children:c.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(g?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ni,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||zE(t.meta.dateStart,t.meta.dateEnd)})]})]}),c.jsxs("button",{onClick:()=>w(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[c.jsx(L2,{className:"w-4 h-4"}),"Contents"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[c.jsx(NU,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(Pr,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(u5,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),c.jsxs("div",{className:"sm:hidden mb-4",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((Lr==null?void 0:Lr.items)||[]).map(A=>{const I=A.icon;return c.jsxs("button",{onClick:()=>qt((Lr==null?void 0:Lr.id)||"overview",A.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${U===A.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[c.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:c.jsx(I,{className:"w-3 h-3 text-[color:var(--accent)]"})}),A.label]},`chip-${A.id}`)})})]}),c.jsx("div",{ref:ce,onWheelCapture:Pt,className:"flex-1 min-w-0",children:c.jsx("div",{id:"stats-view-top",children:c.jsx(cse,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:(nl=t.stats)==null?void 0:nl.statsViewSettings,embedded:!0,uiTheme:y,sectionVisibility:A=>cu.has(A),dashboardTitle:`Statistics Dashboard - ${(Lr==null?void 0:Lr.label)||"Overview"}`})})}),c.jsx("div",{className:"mt-10",children:Ms})]}),c.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:c.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[c.jsxs("a",{href:pn,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(o5,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),c.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(L2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),c.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(SU,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),tl]})}return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:ti?"var(--bg-base)":Dr?sr?"#2b3048":"#d8d1c5":Es?"#0f141c":"#0f172a",backgroundImage:ti?"none":uu,...$a},children:[!ti&&!Dr&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[c.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[c.jsxs("div",{id:"report-top",className:`${mc} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:Qn,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(g?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ni,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Zi.length," Reports"]})})]}),c.jsxs("div",{className:`${mc} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:Qn,children:[c.jsx("input",{type:"search",value:u,onChange:te=>d(te.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),c.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",c.jsx("span",{className:"text-[color:var(--accent)]",children:Zi.length})," of"," ",c.jsx("span",{className:"text-[color:var(--accent)]",children:xa.length})]})]}),a&&c.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:Qn,children:[c.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),c.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:a}),o&&c.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",c.jsx("span",{className:"text-amber-50",children:o})]})]}),!a&&!r&&c.jsx("div",{className:`${mc} p-6 text-gray-300`,style:Qn,children:"Loading reports..."}),Zi.length>0&&c.jsx("div",{className:"flex flex-col gap-3",children:Zi.map(te=>{var Ae,We,bt,Rt;return c.jsx("a",{href:w0e(zt,te.id,_),className:`${mc} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:Qn,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[c.jsxs("div",{className:"min-w-0 block text-left",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:te.dateLabel}),c.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:S0e(te.dateStart)}),c.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[c.jsx(Pr,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:te.commanders.length?te.commanders.join(", "):"No Commanders"})]})]}),c.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[c.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(Ae=te.summary)!=null&&Ae.mapSlices&&te.summary.mapSlices.length>0?c.jsxs(c.Fragment,{children:[c.jsx(N0e,{slices:te.summary.mapSlices}),c.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):c.jsxs(c.Fragment,{children:[c.jsx(C0e,{value:(We=te.summary)==null?void 0:We.borderlandsPct}),c.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),c.jsxs("div",{className:"flex flex-col items-end gap-1",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),c.jsxs("div",{className:"text-sm text-white font-semibold",children:[((bt=te.summary)==null?void 0:bt.avgSquadSize)??"--"," / ",((Rt=te.summary)==null?void 0:Rt.avgEnemySize)??"--"]})]}),c.jsx(DU,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},te.id)})}),!a&&r&&xa.length===0&&c.jsx("div",{className:`${mc} p-6 text-gray-300`,style:Qn,children:"No reports uploaded yet."}),!a&&r&&xa.length>0&&Zi.length===0&&c.jsx("div",{className:`${mc} p-6 text-gray-300`,style:Qn,children:"No reports match your search."})]}),c.jsx("div",{className:"mt-8",children:Ms})]}),tl]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");Hb.createRoot(document.getElementById("root")).render(c.jsx(O0.StrictMode,{children:c.jsx(j0e,{})}));
