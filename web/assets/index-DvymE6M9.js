var hF=Object.defineProperty;var pF=(e,t,n)=>t in e?hF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xv=(e,t,n)=>pF(e,typeof t!="symbol"?t+"":t,n);function gF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RT={exports:{}},Rg={},FT={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=Symbol.for("react.element"),vF=Symbol.for("react.portal"),yF=Symbol.for("react.fragment"),xF=Symbol.for("react.strict_mode"),bF=Symbol.for("react.profiler"),wF=Symbol.for("react.provider"),kF=Symbol.for("react.context"),SF=Symbol.for("react.forward_ref"),NF=Symbol.for("react.suspense"),CF=Symbol.for("react.memo"),jF=Symbol.for("react.lazy"),IN=Symbol.iterator;function PF(e){return e===null||typeof e!="object"?null:(e=IN&&e[IN]||e["@@iterator"],typeof e=="function"?e:null)}var BT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zT=Object.assign,UT={};function Uu(e,t,n){this.props=e,this.context=t,this.refs=UT,this.updater=n||BT}Uu.prototype.isReactComponent={};Uu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function VT(){}VT.prototype=Uu.prototype;function pw(e,t,n){this.props=e,this.context=t,this.refs=UT,this.updater=n||BT}var gw=pw.prototype=new VT;gw.constructor=pw;zT(gw,Uu.prototype);gw.isPureReactComponent=!0;var _N=Array.isArray,WT=Object.prototype.hasOwnProperty,vw={current:null},HT={key:!0,ref:!0,__self:!0,__source:!0};function qT(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)WT.call(t,r)&&!HT.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:qf,type:e,key:a,ref:s,props:i,_owner:vw.current}}function AF(e,t){return{$$typeof:qf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yw(e){return typeof e=="object"&&e!==null&&e.$$typeof===qf}function EF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var LN=/\/+/g;function bv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?EF(""+e.key):t.toString(36)}function Oh(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case qf:case vF:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+bv(s,0):r,_N(i)?(n="",e!=null&&(n=e.replace(LN,"$&/")+"/"),Oh(i,t,n,"",function(c){return c})):i!=null&&(yw(i)&&(i=AF(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(LN,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",_N(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+bv(a,o);s+=Oh(a,t,n,l,i)}else if(l=PF(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+bv(a,o++),s+=Oh(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Hm(e,t,n){if(e==null)return e;var r=[],i=0;return Oh(e,r,"","",function(a){return t.call(n,a,i++)}),r}function TF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vi={current:null},Ih={transition:null},DF={ReactCurrentDispatcher:Vi,ReactCurrentBatchConfig:Ih,ReactCurrentOwner:vw};function KT(){throw Error("act(...) is not supported in production builds of React.")}fn.Children={map:Hm,forEach:function(e,t,n){Hm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hm(e,function(){t++}),t},toArray:function(e){return Hm(e,function(t){return t})||[]},only:function(e){if(!yw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fn.Component=Uu;fn.Fragment=yF;fn.Profiler=bF;fn.PureComponent=pw;fn.StrictMode=xF;fn.Suspense=NF;fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DF;fn.act=KT;fn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zT({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=vw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)WT.call(t,l)&&!HT.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:qf,type:e.type,key:i,ref:a,props:r,_owner:s}};fn.createContext=function(e){return e={$$typeof:kF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wF,_context:e},e.Consumer=e};fn.createElement=qT;fn.createFactory=function(e){var t=qT.bind(null,e);return t.type=e,t};fn.createRef=function(){return{current:null}};fn.forwardRef=function(e){return{$$typeof:SF,render:e}};fn.isValidElement=yw;fn.lazy=function(e){return{$$typeof:jF,_payload:{_status:-1,_result:e},_init:TF}};fn.memo=function(e,t){return{$$typeof:CF,type:e,compare:t===void 0?null:t}};fn.startTransition=function(e){var t=Ih.transition;Ih.transition={};try{e()}finally{Ih.transition=t}};fn.unstable_act=KT;fn.useCallback=function(e,t){return Vi.current.useCallback(e,t)};fn.useContext=function(e){return Vi.current.useContext(e)};fn.useDebugValue=function(){};fn.useDeferredValue=function(e){return Vi.current.useDeferredValue(e)};fn.useEffect=function(e,t){return Vi.current.useEffect(e,t)};fn.useId=function(){return Vi.current.useId()};fn.useImperativeHandle=function(e,t,n){return Vi.current.useImperativeHandle(e,t,n)};fn.useInsertionEffect=function(e,t){return Vi.current.useInsertionEffect(e,t)};fn.useLayoutEffect=function(e,t){return Vi.current.useLayoutEffect(e,t)};fn.useMemo=function(e,t){return Vi.current.useMemo(e,t)};fn.useReducer=function(e,t,n){return Vi.current.useReducer(e,t,n)};fn.useRef=function(e){return Vi.current.useRef(e)};fn.useState=function(e){return Vi.current.useState(e)};fn.useSyncExternalStore=function(e,t,n){return Vi.current.useSyncExternalStore(e,t,n)};fn.useTransition=function(){return Vi.current.useTransition()};fn.version="18.3.1";FT.exports=fn;var y=FT.exports;const Fg=vs(y),MF=gF({__proto__:null,default:Fg},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OF=y,IF=Symbol.for("react.element"),_F=Symbol.for("react.fragment"),LF=Object.prototype.hasOwnProperty,$F=OF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RF={key:!0,ref:!0,__self:!0,__source:!0};function GT(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)LF.call(t,r)&&!RF.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:IF,type:e,key:a,ref:s,props:i,_owner:$F.current}}Rg.Fragment=_F;Rg.jsx=GT;Rg.jsxs=GT;RT.exports=Rg;var d=RT.exports,Xy={},YT={exports:{}},ja={},XT={exports:{}},QT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,ae){var E=G.length;G.push(ae);e:for(;0<E;){var j=E-1>>>1,U=G[j];if(0<i(U,ae))G[j]=ae,G[E]=U,E=j;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ae=G[0],E=G.pop();if(E!==ae){G[0]=E;e:for(var j=0,U=G.length,k=U>>>1;j<k;){var O=2*(j+1)-1,re=G[O],Q=O+1,F=G[Q];if(0>i(re,E))Q<U&&0>i(F,re)?(G[j]=F,G[Q]=E,j=Q):(G[j]=re,G[O]=E,j=O);else if(Q<U&&0>i(F,E))G[j]=F,G[Q]=E,j=Q;else break e}}return ae}function i(G,ae){var E=G.sortIndex-ae.sortIndex;return E!==0?E:G.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,m=3,h=!1,p=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var ae=n(c);ae!==null;){if(ae.callback===null)r(c);else if(ae.startTime<=G)r(c),ae.sortIndex=ae.expirationTime,t(l,ae);else break;ae=n(c)}}function S(G){if(v=!1,w(G),!p)if(n(l)!==null)p=!0,H(C);else{var ae=n(c);ae!==null&&J(S,ae.startTime-G)}}function C(G,ae){p=!1,v&&(v=!1,g(T),T=-1),h=!0;var E=m;try{for(w(ae),f=n(l);f!==null&&(!(f.expirationTime>ae)||G&&!$());){var j=f.callback;if(typeof j=="function"){f.callback=null,m=f.priorityLevel;var U=j(f.expirationTime<=ae);ae=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(l)&&r(l),w(ae)}else r(l);f=n(l)}if(f!==null)var k=!0;else{var O=n(c);O!==null&&J(S,O.startTime-ae),k=!1}return k}finally{f=null,m=E,h=!1}}var N=!1,P=null,T=-1,_=5,A=-1;function $(){return!(e.unstable_now()-A<_)}function D(){if(P!==null){var G=e.unstable_now();A=G;var ae=!0;try{ae=P(!0,G)}finally{ae?te():(N=!1,P=null)}}else N=!1}var te;if(typeof b=="function")te=function(){b(D)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ie=K.port2;K.port1.onmessage=D,te=function(){ie.postMessage(null)}}else te=function(){x(D,0)};function H(G){P=G,N||(N=!0,te())}function J(G,ae){T=x(function(){G(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,H(C))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(G){switch(m){case 1:case 2:case 3:var ae=3;break;default:ae=m}var E=m;m=ae;try{return G()}finally{m=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var E=m;m=G;try{return ae()}finally{m=E}},e.unstable_scheduleCallback=function(G,ae,E){var j=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?j+E:j):E=j,G){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=E+U,G={id:u++,callback:ae,priorityLevel:G,startTime:E,expirationTime:U,sortIndex:-1},E>j?(G.sortIndex=E,t(c,G),n(l)===null&&G===n(c)&&(v?(g(T),T=-1):v=!0,J(S,E-j))):(G.sortIndex=U,t(l,G),p||h||(p=!0,H(C))),G},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(G){var ae=m;return function(){var E=m;m=ae;try{return G.apply(this,arguments)}finally{m=E}}}})(QT);XT.exports=QT;var FF=XT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BF=y,Sa=FF;function Be(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZT=new Set,ef={};function wc(e,t){wu(e,t),wu(e+"Capture",t)}function wu(e,t){for(ef[e]=t,e=0;e<t.length;e++)ZT.add(t[e])}var ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qy=Object.prototype.hasOwnProperty,zF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$N={},RN={};function UF(e){return Qy.call(RN,e)?!0:Qy.call($N,e)?!1:zF.test(e)?RN[e]=!0:($N[e]=!0,!1)}function VF(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WF(e,t,n,r){if(t===null||typeof t>"u"||VF(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wi(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var hi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hi[e]=new Wi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hi[t]=new Wi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hi[e]=new Wi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hi[e]=new Wi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hi[e]=new Wi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hi[e]=new Wi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hi[e]=new Wi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hi[e]=new Wi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hi[e]=new Wi(e,5,!1,e.toLowerCase(),null,!1,!1)});var xw=/[\-:]([a-z])/g;function bw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xw,bw);hi[t]=new Wi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xw,bw);hi[t]=new Wi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xw,bw);hi[t]=new Wi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hi[e]=new Wi(e,1,!1,e.toLowerCase(),null,!1,!1)});hi.xlinkHref=new Wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hi[e]=new Wi(e,1,!1,e.toLowerCase(),null,!0,!0)});function ww(e,t,n,r){var i=hi.hasOwnProperty(t)?hi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WF(t,n,i,r)&&(n=null),r||i===null?UF(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Co=BF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qm=Symbol.for("react.element"),qc=Symbol.for("react.portal"),Kc=Symbol.for("react.fragment"),kw=Symbol.for("react.strict_mode"),Zy=Symbol.for("react.profiler"),JT=Symbol.for("react.provider"),eD=Symbol.for("react.context"),Sw=Symbol.for("react.forward_ref"),Jy=Symbol.for("react.suspense"),ex=Symbol.for("react.suspense_list"),Nw=Symbol.for("react.memo"),Uo=Symbol.for("react.lazy"),tD=Symbol.for("react.offscreen"),FN=Symbol.iterator;function ld(e){return e===null||typeof e!="object"?null:(e=FN&&e[FN]||e["@@iterator"],typeof e=="function"?e:null)}var mr=Object.assign,wv;function Ed(e){if(wv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wv=t&&t[1]||""}return`
`+wv+e}var kv=!1;function Sv(e,t){if(!e||kv)return"";kv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{kv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ed(e):""}function HF(e){switch(e.tag){case 5:return Ed(e.type);case 16:return Ed("Lazy");case 13:return Ed("Suspense");case 19:return Ed("SuspenseList");case 0:case 2:case 15:return e=Sv(e.type,!1),e;case 11:return e=Sv(e.type.render,!1),e;case 1:return e=Sv(e.type,!0),e;default:return""}}function tx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kc:return"Fragment";case qc:return"Portal";case Zy:return"Profiler";case kw:return"StrictMode";case Jy:return"Suspense";case ex:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eD:return(e.displayName||"Context")+".Consumer";case JT:return(e._context.displayName||"Context")+".Provider";case Sw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nw:return t=e.displayName||null,t!==null?t:tx(e.type)||"Memo";case Uo:t=e._payload,e=e._init;try{return tx(e(t))}catch{}}return null}function qF(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tx(t);case 8:return t===kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ul(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KF(e){var t=nD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Km(e){e._valueTracker||(e._valueTracker=KF(e))}function rD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ip(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nx(e,t){var n=t.checked;return mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function BN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ul(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iD(e,t){t=t.checked,t!=null&&ww(e,"checked",t,!1)}function rx(e,t){iD(e,t);var n=ul(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ix(e,t.type,n):t.hasOwnProperty("defaultValue")&&ix(e,t.type,ul(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ix(e,t,n){(t!=="number"||ip(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Td=Array.isArray;function uu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ul(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ax(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Be(91));return mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function UN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Be(92));if(Td(n)){if(1<n.length)throw Error(Be(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ul(n)}}function aD(e,t){var n=ul(t.value),r=ul(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function VN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gm,oD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gm=Gm||document.createElement("div"),Gm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ld={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GF=["Webkit","ms","Moz","O"];Object.keys(Ld).forEach(function(e){GF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ld[t]=Ld[e]})});function lD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ld.hasOwnProperty(e)&&Ld[e]?(""+t).trim():t+"px"}function cD(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var YF=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ox(e,t){if(t){if(YF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Be(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Be(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Be(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Be(62))}}function lx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cx=null;function Cw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ux=null,du=null,fu=null;function WN(e){if(e=Yf(e)){if(typeof ux!="function")throw Error(Be(280));var t=e.stateNode;t&&(t=Wg(t),ux(e.stateNode,e.type,t))}}function uD(e){du?fu?fu.push(e):fu=[e]:du=e}function dD(){if(du){var e=du,t=fu;if(fu=du=null,WN(e),t)for(e=0;e<t.length;e++)WN(t[e])}}function fD(e,t){return e(t)}function mD(){}var Nv=!1;function hD(e,t,n){if(Nv)return e(t,n);Nv=!0;try{return fD(e,t,n)}finally{Nv=!1,(du!==null||fu!==null)&&(mD(),dD())}}function nf(e,t){var n=e.stateNode;if(n===null)return null;var r=Wg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Be(231,t,typeof n));return n}var dx=!1;if(ho)try{var cd={};Object.defineProperty(cd,"passive",{get:function(){dx=!0}}),window.addEventListener("test",cd,cd),window.removeEventListener("test",cd,cd)}catch{dx=!1}function XF(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var $d=!1,ap=null,sp=!1,fx=null,QF={onError:function(e){$d=!0,ap=e}};function ZF(e,t,n,r,i,a,s,o,l){$d=!1,ap=null,XF.apply(QF,arguments)}function JF(e,t,n,r,i,a,s,o,l){if(ZF.apply(this,arguments),$d){if($d){var c=ap;$d=!1,ap=null}else throw Error(Be(198));sp||(sp=!0,fx=c)}}function kc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function HN(e){if(kc(e)!==e)throw Error(Be(188))}function eB(e){var t=e.alternate;if(!t){if(t=kc(e),t===null)throw Error(Be(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return HN(i),e;if(a===r)return HN(i),t;a=a.sibling}throw Error(Be(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Be(189))}}if(n.alternate!==r)throw Error(Be(190))}if(n.tag!==3)throw Error(Be(188));return n.stateNode.current===n?e:t}function gD(e){return e=eB(e),e!==null?vD(e):null}function vD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vD(e);if(t!==null)return t;e=e.sibling}return null}var yD=Sa.unstable_scheduleCallback,qN=Sa.unstable_cancelCallback,tB=Sa.unstable_shouldYield,nB=Sa.unstable_requestPaint,Ar=Sa.unstable_now,rB=Sa.unstable_getCurrentPriorityLevel,jw=Sa.unstable_ImmediatePriority,xD=Sa.unstable_UserBlockingPriority,op=Sa.unstable_NormalPriority,iB=Sa.unstable_LowPriority,bD=Sa.unstable_IdlePriority,Bg=null,Is=null;function aB(e){if(Is&&typeof Is.onCommitFiberRoot=="function")try{Is.onCommitFiberRoot(Bg,e,void 0,(e.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:lB,sB=Math.log,oB=Math.LN2;function lB(e){return e>>>=0,e===0?32:31-(sB(e)/oB|0)|0}var Ym=64,Xm=4194304;function Dd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Dd(o):(a&=s,a!==0&&(r=Dd(a)))}else s=n&~i,s!==0?r=Dd(s):a!==0&&(r=Dd(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ls(t),i=1<<n,r|=e[n],t&=~i;return r}function cB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ls(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=cB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function mx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wD(){var e=Ym;return Ym<<=1,!(Ym&4194240)&&(Ym=64),e}function Cv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ls(t),e[t]=n}function dB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ls(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Pw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ls(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Tn=0;function kD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var SD,Aw,ND,CD,jD,hx=!1,Qm=[],Jo=null,el=null,tl=null,rf=new Map,af=new Map,Ko=[],fB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KN(e,t){switch(e){case"focusin":case"focusout":Jo=null;break;case"dragenter":case"dragleave":el=null;break;case"mouseover":case"mouseout":tl=null;break;case"pointerover":case"pointerout":rf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":af.delete(t.pointerId)}}function ud(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Yf(t),t!==null&&Aw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function mB(e,t,n,r,i){switch(t){case"focusin":return Jo=ud(Jo,e,t,n,r,i),!0;case"dragenter":return el=ud(el,e,t,n,r,i),!0;case"mouseover":return tl=ud(tl,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return rf.set(a,ud(rf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,af.set(a,ud(af.get(a)||null,e,t,n,r,i)),!0}return!1}function PD(e){var t=Wl(e.target);if(t!==null){var n=kc(t);if(n!==null){if(t=n.tag,t===13){if(t=pD(n),t!==null){e.blockedOn=t,jD(e.priority,function(){ND(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _h(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=px(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);cx=r,n.target.dispatchEvent(r),cx=null}else return t=Yf(n),t!==null&&Aw(t),e.blockedOn=n,!1;t.shift()}return!0}function GN(e,t,n){_h(e)&&n.delete(t)}function hB(){hx=!1,Jo!==null&&_h(Jo)&&(Jo=null),el!==null&&_h(el)&&(el=null),tl!==null&&_h(tl)&&(tl=null),rf.forEach(GN),af.forEach(GN)}function dd(e,t){e.blockedOn===t&&(e.blockedOn=null,hx||(hx=!0,Sa.unstable_scheduleCallback(Sa.unstable_NormalPriority,hB)))}function sf(e){function t(i){return dd(i,e)}if(0<Qm.length){dd(Qm[0],e);for(var n=1;n<Qm.length;n++){var r=Qm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jo!==null&&dd(Jo,e),el!==null&&dd(el,e),tl!==null&&dd(tl,e),rf.forEach(t),af.forEach(t),n=0;n<Ko.length;n++)r=Ko[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ko.length&&(n=Ko[0],n.blockedOn===null);)PD(n),n.blockedOn===null&&Ko.shift()}var mu=Co.ReactCurrentBatchConfig,cp=!0;function pB(e,t,n,r){var i=Tn,a=mu.transition;mu.transition=null;try{Tn=1,Ew(e,t,n,r)}finally{Tn=i,mu.transition=a}}function gB(e,t,n,r){var i=Tn,a=mu.transition;mu.transition=null;try{Tn=4,Ew(e,t,n,r)}finally{Tn=i,mu.transition=a}}function Ew(e,t,n,r){if(cp){var i=px(e,t,n,r);if(i===null)_v(e,t,r,up,n),KN(e,r);else if(mB(i,e,t,n,r))r.stopPropagation();else if(KN(e,r),t&4&&-1<fB.indexOf(e)){for(;i!==null;){var a=Yf(i);if(a!==null&&SD(a),a=px(e,t,n,r),a===null&&_v(e,t,r,up,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else _v(e,t,r,null,n)}}var up=null;function px(e,t,n,r){if(up=null,e=Cw(r),e=Wl(e),e!==null)if(t=kc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pD(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return up=e,null}function AD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rB()){case jw:return 1;case xD:return 4;case op:case iB:return 16;case bD:return 536870912;default:return 16}default:return 16}}var Xo=null,Tw=null,Lh=null;function ED(){if(Lh)return Lh;var e,t=Tw,n=t.length,r,i="value"in Xo?Xo.value:Xo.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Lh=i.slice(e,1<r?1-r:void 0)}function $h(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zm(){return!0}function YN(){return!1}function Pa(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Zm:YN,this.isPropagationStopped=YN,this}return mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zm)},persist:function(){},isPersistent:Zm}),t}var Vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dw=Pa(Vu),Gf=mr({},Vu,{view:0,detail:0}),vB=Pa(Gf),jv,Pv,fd,zg=mr({},Gf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fd&&(fd&&e.type==="mousemove"?(jv=e.screenX-fd.screenX,Pv=e.screenY-fd.screenY):Pv=jv=0,fd=e),jv)},movementY:function(e){return"movementY"in e?e.movementY:Pv}}),XN=Pa(zg),yB=mr({},zg,{dataTransfer:0}),xB=Pa(yB),bB=mr({},Gf,{relatedTarget:0}),Av=Pa(bB),wB=mr({},Vu,{animationName:0,elapsedTime:0,pseudoElement:0}),kB=Pa(wB),SB=mr({},Vu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NB=Pa(SB),CB=mr({},Vu,{data:0}),QN=Pa(CB),jB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AB[e])?!!t[e]:!1}function Mw(){return EB}var TB=mr({},Gf,{key:function(e){if(e.key){var t=jB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$h(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mw,charCode:function(e){return e.type==="keypress"?$h(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$h(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DB=Pa(TB),MB=mr({},zg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZN=Pa(MB),OB=mr({},Gf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mw}),IB=Pa(OB),_B=mr({},Vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),LB=Pa(_B),$B=mr({},zg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RB=Pa($B),FB=[9,13,27,32],Ow=ho&&"CompositionEvent"in window,Rd=null;ho&&"documentMode"in document&&(Rd=document.documentMode);var BB=ho&&"TextEvent"in window&&!Rd,TD=ho&&(!Ow||Rd&&8<Rd&&11>=Rd),JN=" ",eC=!1;function DD(e,t){switch(e){case"keyup":return FB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gc=!1;function zB(e,t){switch(e){case"compositionend":return MD(t);case"keypress":return t.which!==32?null:(eC=!0,JN);case"textInput":return e=t.data,e===JN&&eC?null:e;default:return null}}function UB(e,t){if(Gc)return e==="compositionend"||!Ow&&DD(e,t)?(e=ED(),Lh=Tw=Xo=null,Gc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return TD&&t.locale!=="ko"?null:t.data;default:return null}}var VB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VB[e.type]:t==="textarea"}function OD(e,t,n,r){uD(r),t=dp(t,"onChange"),0<t.length&&(n=new Dw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fd=null,of=null;function WB(e){WD(e,0)}function Ug(e){var t=Qc(e);if(rD(t))return e}function HB(e,t){if(e==="change")return t}var ID=!1;if(ho){var Ev;if(ho){var Tv="oninput"in document;if(!Tv){var nC=document.createElement("div");nC.setAttribute("oninput","return;"),Tv=typeof nC.oninput=="function"}Ev=Tv}else Ev=!1;ID=Ev&&(!document.documentMode||9<document.documentMode)}function rC(){Fd&&(Fd.detachEvent("onpropertychange",_D),of=Fd=null)}function _D(e){if(e.propertyName==="value"&&Ug(of)){var t=[];OD(t,of,e,Cw(e)),hD(WB,t)}}function qB(e,t,n){e==="focusin"?(rC(),Fd=t,of=n,Fd.attachEvent("onpropertychange",_D)):e==="focusout"&&rC()}function KB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ug(of)}function GB(e,t){if(e==="click")return Ug(t)}function YB(e,t){if(e==="input"||e==="change")return Ug(t)}function XB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fs=typeof Object.is=="function"?Object.is:XB;function lf(e,t){if(fs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qy.call(t,i)||!fs(e[i],t[i]))return!1}return!0}function iC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aC(e,t){var n=iC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iC(n)}}function LD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?LD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $D(){for(var e=window,t=ip();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ip(e.document)}return t}function Iw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function QB(e){var t=$D(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&LD(n.ownerDocument.documentElement,n)){if(r!==null&&Iw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=aC(n,a);var s=aC(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZB=ho&&"documentMode"in document&&11>=document.documentMode,Yc=null,gx=null,Bd=null,vx=!1;function sC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vx||Yc==null||Yc!==ip(r)||(r=Yc,"selectionStart"in r&&Iw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bd&&lf(Bd,r)||(Bd=r,r=dp(gx,"onSelect"),0<r.length&&(t=new Dw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yc)))}function Jm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xc={animationend:Jm("Animation","AnimationEnd"),animationiteration:Jm("Animation","AnimationIteration"),animationstart:Jm("Animation","AnimationStart"),transitionend:Jm("Transition","TransitionEnd")},Dv={},RD={};ho&&(RD=document.createElement("div").style,"AnimationEvent"in window||(delete Xc.animationend.animation,delete Xc.animationiteration.animation,delete Xc.animationstart.animation),"TransitionEvent"in window||delete Xc.transitionend.transition);function Vg(e){if(Dv[e])return Dv[e];if(!Xc[e])return e;var t=Xc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in RD)return Dv[e]=t[n];return e}var FD=Vg("animationend"),BD=Vg("animationiteration"),zD=Vg("animationstart"),UD=Vg("transitionend"),VD=new Map,oC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gl(e,t){VD.set(e,t),wc(t,[e])}for(var Mv=0;Mv<oC.length;Mv++){var Ov=oC[Mv],JB=Ov.toLowerCase(),ez=Ov[0].toUpperCase()+Ov.slice(1);gl(JB,"on"+ez)}gl(FD,"onAnimationEnd");gl(BD,"onAnimationIteration");gl(zD,"onAnimationStart");gl("dblclick","onDoubleClick");gl("focusin","onFocus");gl("focusout","onBlur");gl(UD,"onTransitionEnd");wu("onMouseEnter",["mouseout","mouseover"]);wu("onMouseLeave",["mouseout","mouseover"]);wu("onPointerEnter",["pointerout","pointerover"]);wu("onPointerLeave",["pointerout","pointerover"]);wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Md));function lC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,JF(r,t,void 0,e),e.currentTarget=null}function WD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;lC(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;lC(i,o,c),a=l}}}if(sp)throw e=fx,sp=!1,fx=null,e}function Yn(e,t){var n=t[kx];n===void 0&&(n=t[kx]=new Set);var r=e+"__bubble";n.has(r)||(HD(t,e,2,!1),n.add(r))}function Iv(e,t,n){var r=0;t&&(r|=4),HD(n,e,r,t)}var eh="_reactListening"+Math.random().toString(36).slice(2);function cf(e){if(!e[eh]){e[eh]=!0,ZT.forEach(function(n){n!=="selectionchange"&&(tz.has(n)||Iv(n,!1,e),Iv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eh]||(t[eh]=!0,Iv("selectionchange",!1,t))}}function HD(e,t,n,r){switch(AD(t)){case 1:var i=pB;break;case 4:i=gB;break;default:i=Ew}n=i.bind(null,t,n,e),i=void 0,!dx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function _v(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Wl(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}hD(function(){var c=a,u=Cw(n),f=[];e:{var m=VD.get(e);if(m!==void 0){var h=Dw,p=e;switch(e){case"keypress":if($h(n)===0)break e;case"keydown":case"keyup":h=DB;break;case"focusin":p="focus",h=Av;break;case"focusout":p="blur",h=Av;break;case"beforeblur":case"afterblur":h=Av;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=XN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=xB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=IB;break;case FD:case BD:case zD:h=kB;break;case UD:h=LB;break;case"scroll":h=vB;break;case"wheel":h=RB;break;case"copy":case"cut":case"paste":h=NB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=ZN}var v=(t&4)!==0,x=!v&&e==="scroll",g=v?m!==null?m+"Capture":null:m;v=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=nf(b,g),S!=null&&v.push(uf(b,S,w)))),x)break;b=b.return}0<v.length&&(m=new h(m,p,null,n,u),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==cx&&(p=n.relatedTarget||n.fromElement)&&(Wl(p)||p[po]))break e;if((h||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?Wl(p):null,p!==null&&(x=kc(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(v=XN,S="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=ZN,S="onPointerLeave",g="onPointerEnter",b="pointer"),x=h==null?m:Qc(h),w=p==null?m:Qc(p),m=new v(S,b+"leave",h,n,u),m.target=x,m.relatedTarget=w,S=null,Wl(u)===c&&(v=new v(g,b+"enter",p,n,u),v.target=w,v.relatedTarget=x,S=v),x=S,h&&p)t:{for(v=h,g=p,b=0,w=v;w;w=Lc(w))b++;for(w=0,S=g;S;S=Lc(S))w++;for(;0<b-w;)v=Lc(v),b--;for(;0<w-b;)g=Lc(g),w--;for(;b--;){if(v===g||g!==null&&v===g.alternate)break t;v=Lc(v),g=Lc(g)}v=null}else v=null;h!==null&&cC(f,m,h,v,!1),p!==null&&x!==null&&cC(f,x,p,v,!0)}}e:{if(m=c?Qc(c):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var C=HB;else if(tC(m))if(ID)C=YB;else{C=KB;var N=qB}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=GB);if(C&&(C=C(e,c))){OD(f,C,n,u);break e}N&&N(e,m,c),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&ix(m,"number",m.value)}switch(N=c?Qc(c):window,e){case"focusin":(tC(N)||N.contentEditable==="true")&&(Yc=N,gx=c,Bd=null);break;case"focusout":Bd=gx=Yc=null;break;case"mousedown":vx=!0;break;case"contextmenu":case"mouseup":case"dragend":vx=!1,sC(f,n,u);break;case"selectionchange":if(ZB)break;case"keydown":case"keyup":sC(f,n,u)}var P;if(Ow)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Gc?DD(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(TD&&n.locale!=="ko"&&(Gc||T!=="onCompositionStart"?T==="onCompositionEnd"&&Gc&&(P=ED()):(Xo=u,Tw="value"in Xo?Xo.value:Xo.textContent,Gc=!0)),N=dp(c,T),0<N.length&&(T=new QN(T,e,null,n,u),f.push({event:T,listeners:N}),P?T.data=P:(P=MD(n),P!==null&&(T.data=P)))),(P=BB?zB(e,n):UB(e,n))&&(c=dp(c,"onBeforeInput"),0<c.length&&(u=new QN("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=P))}WD(f,t)})}function uf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=nf(e,n),a!=null&&r.unshift(uf(e,a,i)),a=nf(e,t),a!=null&&r.push(uf(e,a,i))),e=e.return}return r}function Lc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cC(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=nf(n,a),l!=null&&s.unshift(uf(n,l,o))):i||(l=nf(n,a),l!=null&&s.push(uf(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var nz=/\r\n?/g,rz=/\u0000|\uFFFD/g;function uC(e){return(typeof e=="string"?e:""+e).replace(nz,`
`).replace(rz,"")}function th(e,t,n){if(t=uC(t),uC(e)!==t&&n)throw Error(Be(425))}function fp(){}var yx=null,xx=null;function bx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wx=typeof setTimeout=="function"?setTimeout:void 0,iz=typeof clearTimeout=="function"?clearTimeout:void 0,dC=typeof Promise=="function"?Promise:void 0,az=typeof queueMicrotask=="function"?queueMicrotask:typeof dC<"u"?function(e){return dC.resolve(null).then(e).catch(sz)}:wx;function sz(e){setTimeout(function(){throw e})}function Lv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),sf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sf(t)}function nl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wu=Math.random().toString(36).slice(2),Ms="__reactFiber$"+Wu,df="__reactProps$"+Wu,po="__reactContainer$"+Wu,kx="__reactEvents$"+Wu,oz="__reactListeners$"+Wu,lz="__reactHandles$"+Wu;function Wl(e){var t=e[Ms];if(t)return t;for(var n=e.parentNode;n;){if(t=n[po]||n[Ms]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fC(e);e!==null;){if(n=e[Ms])return n;e=fC(e)}return t}e=n,n=e.parentNode}return null}function Yf(e){return e=e[Ms]||e[po],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Be(33))}function Wg(e){return e[df]||null}var Sx=[],Zc=-1;function vl(e){return{current:e}}function Qn(e){0>Zc||(e.current=Sx[Zc],Sx[Zc]=null,Zc--)}function Vn(e,t){Zc++,Sx[Zc]=e.current,e.current=t}var dl={},Ei=vl(dl),ea=vl(!1),ac=dl;function ku(e,t){var n=e.type.contextTypes;if(!n)return dl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ta(e){return e=e.childContextTypes,e!=null}function mp(){Qn(ea),Qn(Ei)}function mC(e,t,n){if(Ei.current!==dl)throw Error(Be(168));Vn(Ei,t),Vn(ea,n)}function qD(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Be(108,qF(e)||"Unknown",i));return mr({},n,r)}function hp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dl,ac=Ei.current,Vn(Ei,e),Vn(ea,ea.current),!0}function hC(e,t,n){var r=e.stateNode;if(!r)throw Error(Be(169));n?(e=qD(e,t,ac),r.__reactInternalMemoizedMergedChildContext=e,Qn(ea),Qn(Ei),Vn(Ei,e)):Qn(ea),Vn(ea,n)}var Zs=null,Hg=!1,$v=!1;function KD(e){Zs===null?Zs=[e]:Zs.push(e)}function cz(e){Hg=!0,KD(e)}function yl(){if(!$v&&Zs!==null){$v=!0;var e=0,t=Tn;try{var n=Zs;for(Tn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zs=null,Hg=!1}catch(i){throw Zs!==null&&(Zs=Zs.slice(e+1)),yD(jw,yl),i}finally{Tn=t,$v=!1}}return null}var Jc=[],eu=0,pp=null,gp=0,Ba=[],za=0,sc=null,ro=1,io="";function Ll(e,t){Jc[eu++]=gp,Jc[eu++]=pp,pp=e,gp=t}function GD(e,t,n){Ba[za++]=ro,Ba[za++]=io,Ba[za++]=sc,sc=e;var r=ro;e=io;var i=32-ls(r)-1;r&=~(1<<i),n+=1;var a=32-ls(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ro=1<<32-ls(t)+i|n<<i|r,io=a+e}else ro=1<<a|n<<i|r,io=e}function _w(e){e.return!==null&&(Ll(e,1),GD(e,1,0))}function Lw(e){for(;e===pp;)pp=Jc[--eu],Jc[eu]=null,gp=Jc[--eu],Jc[eu]=null;for(;e===sc;)sc=Ba[--za],Ba[za]=null,io=Ba[--za],Ba[za]=null,ro=Ba[--za],Ba[za]=null}var xa=null,va=null,nr=!1,is=null;function YD(e,t){var n=Va(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xa=e,va=nl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xa=e,va=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sc!==null?{id:ro,overflow:io}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Va(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xa=e,va=null,!0):!1;default:return!1}}function Nx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cx(e){if(nr){var t=va;if(t){var n=t;if(!pC(e,t)){if(Nx(e))throw Error(Be(418));t=nl(n.nextSibling);var r=xa;t&&pC(e,t)?YD(r,n):(e.flags=e.flags&-4097|2,nr=!1,xa=e)}}else{if(Nx(e))throw Error(Be(418));e.flags=e.flags&-4097|2,nr=!1,xa=e}}}function gC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xa=e}function nh(e){if(e!==xa)return!1;if(!nr)return gC(e),nr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bx(e.type,e.memoizedProps)),t&&(t=va)){if(Nx(e))throw XD(),Error(Be(418));for(;t;)YD(e,t),t=nl(t.nextSibling)}if(gC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Be(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){va=nl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}va=null}}else va=xa?nl(e.stateNode.nextSibling):null;return!0}function XD(){for(var e=va;e;)e=nl(e.nextSibling)}function Su(){va=xa=null,nr=!1}function $w(e){is===null?is=[e]:is.push(e)}var uz=Co.ReactCurrentBatchConfig;function md(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Be(309));var r=n.stateNode}if(!r)throw Error(Be(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Be(284));if(!n._owner)throw Error(Be(290,e))}return e}function rh(e,t){throw e=Object.prototype.toString.call(t),Error(Be(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vC(e){var t=e._init;return t(e._payload)}function QD(e){function t(g,b){if(e){var w=g.deletions;w===null?(g.deletions=[b],g.flags|=16):w.push(b)}}function n(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function i(g,b){return g=sl(g,b),g.index=0,g.sibling=null,g}function a(g,b,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<b?(g.flags|=2,b):w):(g.flags|=2,b)):(g.flags|=1048576,b)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,b,w,S){return b===null||b.tag!==6?(b=Wv(w,g.mode,S),b.return=g,b):(b=i(b,w),b.return=g,b)}function l(g,b,w,S){var C=w.type;return C===Kc?u(g,b,w.props.children,S,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Uo&&vC(C)===b.type)?(S=i(b,w.props),S.ref=md(g,b,w),S.return=g,S):(S=Wh(w.type,w.key,w.props,null,g.mode,S),S.ref=md(g,b,w),S.return=g,S)}function c(g,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Hv(w,g.mode,S),b.return=g,b):(b=i(b,w.children||[]),b.return=g,b)}function u(g,b,w,S,C){return b===null||b.tag!==7?(b=Jl(w,g.mode,S,C),b.return=g,b):(b=i(b,w),b.return=g,b)}function f(g,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Wv(""+b,g.mode,w),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qm:return w=Wh(b.type,b.key,b.props,null,g.mode,w),w.ref=md(g,null,b),w.return=g,w;case qc:return b=Hv(b,g.mode,w),b.return=g,b;case Uo:var S=b._init;return f(g,S(b._payload),w)}if(Td(b)||ld(b))return b=Jl(b,g.mode,w,null),b.return=g,b;rh(g,b)}return null}function m(g,b,w,S){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(g,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qm:return w.key===C?l(g,b,w,S):null;case qc:return w.key===C?c(g,b,w,S):null;case Uo:return C=w._init,m(g,b,C(w._payload),S)}if(Td(w)||ld(w))return C!==null?null:u(g,b,w,S,null);rh(g,w)}return null}function h(g,b,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,o(b,g,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qm:return g=g.get(S.key===null?w:S.key)||null,l(b,g,S,C);case qc:return g=g.get(S.key===null?w:S.key)||null,c(b,g,S,C);case Uo:var N=S._init;return h(g,b,w,N(S._payload),C)}if(Td(S)||ld(S))return g=g.get(w)||null,u(b,g,S,C,null);rh(b,S)}return null}function p(g,b,w,S){for(var C=null,N=null,P=b,T=b=0,_=null;P!==null&&T<w.length;T++){P.index>T?(_=P,P=null):_=P.sibling;var A=m(g,P,w[T],S);if(A===null){P===null&&(P=_);break}e&&P&&A.alternate===null&&t(g,P),b=a(A,b,T),N===null?C=A:N.sibling=A,N=A,P=_}if(T===w.length)return n(g,P),nr&&Ll(g,T),C;if(P===null){for(;T<w.length;T++)P=f(g,w[T],S),P!==null&&(b=a(P,b,T),N===null?C=P:N.sibling=P,N=P);return nr&&Ll(g,T),C}for(P=r(g,P);T<w.length;T++)_=h(P,g,T,w[T],S),_!==null&&(e&&_.alternate!==null&&P.delete(_.key===null?T:_.key),b=a(_,b,T),N===null?C=_:N.sibling=_,N=_);return e&&P.forEach(function($){return t(g,$)}),nr&&Ll(g,T),C}function v(g,b,w,S){var C=ld(w);if(typeof C!="function")throw Error(Be(150));if(w=C.call(w),w==null)throw Error(Be(151));for(var N=C=null,P=b,T=b=0,_=null,A=w.next();P!==null&&!A.done;T++,A=w.next()){P.index>T?(_=P,P=null):_=P.sibling;var $=m(g,P,A.value,S);if($===null){P===null&&(P=_);break}e&&P&&$.alternate===null&&t(g,P),b=a($,b,T),N===null?C=$:N.sibling=$,N=$,P=_}if(A.done)return n(g,P),nr&&Ll(g,T),C;if(P===null){for(;!A.done;T++,A=w.next())A=f(g,A.value,S),A!==null&&(b=a(A,b,T),N===null?C=A:N.sibling=A,N=A);return nr&&Ll(g,T),C}for(P=r(g,P);!A.done;T++,A=w.next())A=h(P,g,T,A.value,S),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?T:A.key),b=a(A,b,T),N===null?C=A:N.sibling=A,N=A);return e&&P.forEach(function(D){return t(g,D)}),nr&&Ll(g,T),C}function x(g,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Kc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case qm:e:{for(var C=w.key,N=b;N!==null;){if(N.key===C){if(C=w.type,C===Kc){if(N.tag===7){n(g,N.sibling),b=i(N,w.props.children),b.return=g,g=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Uo&&vC(C)===N.type){n(g,N.sibling),b=i(N,w.props),b.ref=md(g,N,w),b.return=g,g=b;break e}n(g,N);break}else t(g,N);N=N.sibling}w.type===Kc?(b=Jl(w.props.children,g.mode,S,w.key),b.return=g,g=b):(S=Wh(w.type,w.key,w.props,null,g.mode,S),S.ref=md(g,b,w),S.return=g,g=S)}return s(g);case qc:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(g,b.sibling),b=i(b,w.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else t(g,b);b=b.sibling}b=Hv(w,g.mode,S),b.return=g,g=b}return s(g);case Uo:return N=w._init,x(g,b,N(w._payload),S)}if(Td(w))return p(g,b,w,S);if(ld(w))return v(g,b,w,S);rh(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(g,b.sibling),b=i(b,w),b.return=g,g=b):(n(g,b),b=Wv(w,g.mode,S),b.return=g,g=b),s(g)):n(g,b)}return x}var Nu=QD(!0),ZD=QD(!1),vp=vl(null),yp=null,tu=null,Rw=null;function Fw(){Rw=tu=yp=null}function Bw(e){var t=vp.current;Qn(vp),e._currentValue=t}function jx(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hu(e,t){yp=e,Rw=tu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zi=!0),e.firstContext=null)}function qa(e){var t=e._currentValue;if(Rw!==e)if(e={context:e,memoizedValue:t,next:null},tu===null){if(yp===null)throw Error(Be(308));tu=e,yp.dependencies={lanes:0,firstContext:e}}else tu=tu.next=e;return t}var Hl=null;function zw(e){Hl===null?Hl=[e]:Hl.push(e)}function JD(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,zw(t)):(n.next=i.next,i.next=n),t.interleaved=n,go(e,r)}function go(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vo=!1;function Uw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,go(e,n)}return i=r.interleaved,i===null?(t.next=t,zw(r)):(t.next=i.next,i.next=t),r.interleaved=t,go(e,n)}function Rh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pw(e,n)}}function yC(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xp(e,t,n,r){var i=e.updateQueue;Vo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var m=o.lane,h=o.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(m=t,h=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(h,f,m);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,m=typeof p=="function"?p.call(h,f,m):p,m==null)break e;f=mr({},f,m);break e;case 2:Vo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else h={eventTime:h,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);lc|=s,e.lanes=s,e.memoizedState=f}}function xC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Be(191,i));i.call(r)}}}var Xf={},_s=vl(Xf),ff=vl(Xf),mf=vl(Xf);function ql(e){if(e===Xf)throw Error(Be(174));return e}function Vw(e,t){switch(Vn(mf,t),Vn(ff,e),Vn(_s,Xf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sx(t,e)}Qn(_s),Vn(_s,t)}function Cu(){Qn(_s),Qn(ff),Qn(mf)}function tM(e){ql(mf.current);var t=ql(_s.current),n=sx(t,e.type);t!==n&&(Vn(ff,e),Vn(_s,n))}function Ww(e){ff.current===e&&(Qn(_s),Qn(ff))}var cr=vl(0);function bp(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rv=[];function Hw(){for(var e=0;e<Rv.length;e++)Rv[e]._workInProgressVersionPrimary=null;Rv.length=0}var Fh=Co.ReactCurrentDispatcher,Fv=Co.ReactCurrentBatchConfig,oc=0,fr=null,Wr=null,ri=null,wp=!1,zd=!1,hf=0,dz=0;function bi(){throw Error(Be(321))}function qw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fs(e[n],t[n]))return!1;return!0}function Kw(e,t,n,r,i,a){if(oc=a,fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fh.current=e===null||e.memoizedState===null?pz:gz,e=n(r,i),zd){a=0;do{if(zd=!1,hf=0,25<=a)throw Error(Be(301));a+=1,ri=Wr=null,t.updateQueue=null,Fh.current=vz,e=n(r,i)}while(zd)}if(Fh.current=kp,t=Wr!==null&&Wr.next!==null,oc=0,ri=Wr=fr=null,wp=!1,t)throw Error(Be(300));return e}function Gw(){var e=hf!==0;return hf=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?fr.memoizedState=ri=e:ri=ri.next=e,ri}function Ka(){if(Wr===null){var e=fr.alternate;e=e!==null?e.memoizedState:null}else e=Wr.next;var t=ri===null?fr.memoizedState:ri.next;if(t!==null)ri=t,Wr=e;else{if(e===null)throw Error(Be(310));Wr=e,e={memoizedState:Wr.memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},ri===null?fr.memoizedState=ri=e:ri=ri.next=e}return ri}function pf(e,t){return typeof t=="function"?t(e):t}function Bv(e){var t=Ka(),n=t.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=e;var r=Wr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((oc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,fr.lanes|=u,lc|=u}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,fs(r,t.memoizedState)||(Zi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,fr.lanes|=a,lc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zv(e){var t=Ka(),n=t.queue;if(n===null)throw Error(Be(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);fs(a,t.memoizedState)||(Zi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function nM(){}function rM(e,t){var n=fr,r=Ka(),i=t(),a=!fs(r.memoizedState,i);if(a&&(r.memoizedState=i,Zi=!0),r=r.queue,Yw(sM.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ri!==null&&ri.memoizedState.tag&1){if(n.flags|=2048,gf(9,aM.bind(null,n,r,i,t),void 0,null),ai===null)throw Error(Be(349));oc&30||iM(n,t,i)}return i}function iM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function aM(e,t,n,r){t.value=n,t.getSnapshot=r,oM(t)&&lM(e)}function sM(e,t,n){return n(function(){oM(t)&&lM(e)})}function oM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fs(e,n)}catch{return!0}}function lM(e){var t=go(e,1);t!==null&&cs(t,e,1,-1)}function bC(e){var t=Es();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:e},t.queue=e,e=e.dispatch=hz.bind(null,fr,e),[t.memoizedState,e]}function gf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function cM(){return Ka().memoizedState}function Bh(e,t,n,r){var i=Es();fr.flags|=e,i.memoizedState=gf(1|t,n,void 0,r===void 0?null:r)}function qg(e,t,n,r){var i=Ka();r=r===void 0?null:r;var a=void 0;if(Wr!==null){var s=Wr.memoizedState;if(a=s.destroy,r!==null&&qw(r,s.deps)){i.memoizedState=gf(t,n,a,r);return}}fr.flags|=e,i.memoizedState=gf(1|t,n,a,r)}function wC(e,t){return Bh(8390656,8,e,t)}function Yw(e,t){return qg(2048,8,e,t)}function uM(e,t){return qg(4,2,e,t)}function dM(e,t){return qg(4,4,e,t)}function fM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mM(e,t,n){return n=n!=null?n.concat([e]):null,qg(4,4,fM.bind(null,t,e),n)}function Xw(){}function hM(e,t){var n=Ka();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pM(e,t){var n=Ka();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gM(e,t,n){return oc&21?(fs(n,t)||(n=wD(),fr.lanes|=n,lc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zi=!0),e.memoizedState=n)}function fz(e,t){var n=Tn;Tn=n!==0&&4>n?n:4,e(!0);var r=Fv.transition;Fv.transition={};try{e(!1),t()}finally{Tn=n,Fv.transition=r}}function vM(){return Ka().memoizedState}function mz(e,t,n){var r=al(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yM(e))xM(t,n);else if(n=JD(e,t,n,r),n!==null){var i=Bi();cs(n,e,r,i),bM(n,t,r)}}function hz(e,t,n){var r=al(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yM(e))xM(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,fs(o,s)){var l=t.interleaved;l===null?(i.next=i,zw(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=JD(e,t,i,r),n!==null&&(i=Bi(),cs(n,e,r,i),bM(n,t,r))}}function yM(e){var t=e.alternate;return e===fr||t!==null&&t===fr}function xM(e,t){zd=wp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bM(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pw(e,n)}}var kp={readContext:qa,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useInsertionEffect:bi,useLayoutEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useMutableSource:bi,useSyncExternalStore:bi,useId:bi,unstable_isNewReconciler:!1},pz={readContext:qa,useCallback:function(e,t){return Es().memoizedState=[e,t===void 0?null:t],e},useContext:qa,useEffect:wC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bh(4194308,4,fM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bh(4,2,e,t)},useMemo:function(e,t){var n=Es();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Es();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=mz.bind(null,fr,e),[r.memoizedState,e]},useRef:function(e){var t=Es();return e={current:e},t.memoizedState=e},useState:bC,useDebugValue:Xw,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=bC(!1),t=e[0];return e=fz.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fr,i=Es();if(nr){if(n===void 0)throw Error(Be(407));n=n()}else{if(n=t(),ai===null)throw Error(Be(349));oc&30||iM(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,wC(sM.bind(null,r,a,e),[e]),r.flags|=2048,gf(9,aM.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Es(),t=ai.identifierPrefix;if(nr){var n=io,r=ro;n=(r&~(1<<32-ls(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gz={readContext:qa,useCallback:hM,useContext:qa,useEffect:Yw,useImperativeHandle:mM,useInsertionEffect:uM,useLayoutEffect:dM,useMemo:pM,useReducer:Bv,useRef:cM,useState:function(){return Bv(pf)},useDebugValue:Xw,useDeferredValue:function(e){var t=Ka();return gM(t,Wr.memoizedState,e)},useTransition:function(){var e=Bv(pf)[0],t=Ka().memoizedState;return[e,t]},useMutableSource:nM,useSyncExternalStore:rM,useId:vM,unstable_isNewReconciler:!1},vz={readContext:qa,useCallback:hM,useContext:qa,useEffect:Yw,useImperativeHandle:mM,useInsertionEffect:uM,useLayoutEffect:dM,useMemo:pM,useReducer:zv,useRef:cM,useState:function(){return zv(pf)},useDebugValue:Xw,useDeferredValue:function(e){var t=Ka();return Wr===null?t.memoizedState=e:gM(t,Wr.memoizedState,e)},useTransition:function(){var e=zv(pf)[0],t=Ka().memoizedState;return[e,t]},useMutableSource:nM,useSyncExternalStore:rM,useId:vM,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){t=mr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Px(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:mr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Kg={isMounted:function(e){return(e=e._reactInternals)?kc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bi(),i=al(e),a=lo(r,i);a.payload=t,n!=null&&(a.callback=n),t=rl(e,a,i),t!==null&&(cs(t,e,i,r),Rh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bi(),i=al(e),a=lo(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=rl(e,a,i),t!==null&&(cs(t,e,i,r),Rh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bi(),r=al(e),i=lo(n,r);i.tag=2,t!=null&&(i.callback=t),t=rl(e,i,r),t!==null&&(cs(t,e,r,n),Rh(t,e,r))}};function kC(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!lf(n,r)||!lf(i,a):!0}function wM(e,t,n){var r=!1,i=dl,a=t.contextType;return typeof a=="object"&&a!==null?a=qa(a):(i=ta(t)?ac:Ei.current,r=t.contextTypes,a=(r=r!=null)?ku(e,i):dl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function SC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Kg.enqueueReplaceState(t,t.state,null)}function Ax(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Uw(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=qa(a):(a=ta(t)?ac:Ei.current,i.context=ku(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Px(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Kg.enqueueReplaceState(i,i.state,null),xp(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ju(e,t){try{var n="",r=t;do n+=HF(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Uv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ex(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yz=typeof WeakMap=="function"?WeakMap:Map;function kM(e,t,n){n=lo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Np||(Np=!0,Fx=r),Ex(e,t)},n}function SM(e,t,n){n=lo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ex(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ex(e,t),typeof r!="function"&&(il===null?il=new Set([this]):il.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function NC(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yz;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Mz.bind(null,e,t,n),t.then(e,e))}function CC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jC(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=lo(-1,1),t.tag=2,rl(n,t,1))),n.lanes|=1),e)}var xz=Co.ReactCurrentOwner,Zi=!1;function $i(e,t,n,r){t.child=e===null?ZD(t,null,n,r):Nu(t,e.child,n,r)}function PC(e,t,n,r,i){n=n.render;var a=t.ref;return hu(t,i),r=Kw(e,t,n,r,a,i),n=Gw(),e!==null&&!Zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vo(e,t,i)):(nr&&n&&_w(t),t.flags|=1,$i(e,t,r,i),t.child)}function AC(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!i1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,NM(e,t,a,r,i)):(e=Wh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:lf,n(s,r)&&e.ref===t.ref)return vo(e,t,i)}return t.flags|=1,e=sl(a,r),e.ref=t.ref,e.return=t,t.child=e}function NM(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(lf(a,r)&&e.ref===t.ref)if(Zi=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Zi=!0);else return t.lanes=e.lanes,vo(e,t,i)}return Tx(e,t,n,r,i)}function CM(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vn(ru,ha),ha|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vn(ru,ha),ha|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Vn(ru,ha),ha|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Vn(ru,ha),ha|=r;return $i(e,t,i,n),t.child}function jM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tx(e,t,n,r,i){var a=ta(n)?ac:Ei.current;return a=ku(t,a),hu(t,i),n=Kw(e,t,n,r,a,i),r=Gw(),e!==null&&!Zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vo(e,t,i)):(nr&&r&&_w(t),t.flags|=1,$i(e,t,n,i),t.child)}function EC(e,t,n,r,i){if(ta(n)){var a=!0;hp(t)}else a=!1;if(hu(t,i),t.stateNode===null)zh(e,t),wM(t,n,r),Ax(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=qa(c):(c=ta(n)?ac:Ei.current,c=ku(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&SC(t,s,r,c),Vo=!1;var m=t.memoizedState;s.state=m,xp(t,r,s,i),l=t.memoizedState,o!==r||m!==l||ea.current||Vo?(typeof u=="function"&&(Px(t,n,u,r),l=t.memoizedState),(o=Vo||kC(t,n,o,r,m,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,eM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ns(t.type,o),s.props=c,f=t.pendingProps,m=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=qa(l):(l=ta(n)?ac:Ei.current,l=ku(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||m!==l)&&SC(t,s,r,l),Vo=!1,m=t.memoizedState,s.state=m,xp(t,r,s,i);var p=t.memoizedState;o!==f||m!==p||ea.current||Vo?(typeof h=="function"&&(Px(t,n,h,r),p=t.memoizedState),(c=Vo||kC(t,n,c,r,m,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Dx(e,t,n,r,a,i)}function Dx(e,t,n,r,i,a){jM(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&hC(t,n,!1),vo(e,t,a);r=t.stateNode,xz.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Nu(t,e.child,null,a),t.child=Nu(t,null,o,a)):$i(e,t,o,a),t.memoizedState=r.state,i&&hC(t,n,!0),t.child}function PM(e){var t=e.stateNode;t.pendingContext?mC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mC(e,t.context,!1),Vw(e,t.containerInfo)}function TC(e,t,n,r,i){return Su(),$w(i),t.flags|=256,$i(e,t,n,r),t.child}var Mx={dehydrated:null,treeContext:null,retryLane:0};function Ox(e){return{baseLanes:e,cachePool:null,transitions:null}}function AM(e,t,n){var r=t.pendingProps,i=cr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Vn(cr,i&1),e===null)return Cx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Xg(s,r,0,null),e=Jl(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ox(n),t.memoizedState=Mx,e):Qw(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return bz(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=sl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=sl(o,a):(a=Jl(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Ox(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Mx,r}return a=e.child,e=a.sibling,r=sl(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qw(e,t){return t=Xg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ih(e,t,n,r){return r!==null&&$w(r),Nu(t,e.child,null,n),e=Qw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bz(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Uv(Error(Be(422))),ih(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Xg({mode:"visible",children:r.children},i,0,null),a=Jl(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Nu(t,e.child,null,s),t.child.memoizedState=Ox(s),t.memoizedState=Mx,a);if(!(t.mode&1))return ih(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Be(419)),r=Uv(a,r,void 0),ih(e,t,s,r)}if(o=(s&e.childLanes)!==0,Zi||o){if(r=ai,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,go(e,i),cs(r,e,i,-1))}return r1(),r=Uv(Error(Be(421))),ih(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Oz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,va=nl(i.nextSibling),xa=t,nr=!0,is=null,e!==null&&(Ba[za++]=ro,Ba[za++]=io,Ba[za++]=sc,ro=e.id,io=e.overflow,sc=t),t=Qw(t,r.children),t.flags|=4096,t)}function DC(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jx(e.return,t,n)}function Vv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function EM(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if($i(e,t,r.children,n),r=cr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&DC(e,n,t);else if(e.tag===19)DC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Vn(cr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&bp(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bp(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vv(t,!0,n,null,a);break;case"together":Vv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),lc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Be(153));if(t.child!==null){for(e=t.child,n=sl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wz(e,t,n){switch(t.tag){case 3:PM(t),Su();break;case 5:tM(t);break;case 1:ta(t.type)&&hp(t);break;case 4:Vw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Vn(vp,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Vn(cr,cr.current&1),t.flags|=128,null):n&t.child.childLanes?AM(e,t,n):(Vn(cr,cr.current&1),e=vo(e,t,n),e!==null?e.sibling:null);Vn(cr,cr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return EM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vn(cr,cr.current),r)break;return null;case 22:case 23:return t.lanes=0,CM(e,t,n)}return vo(e,t,n)}var TM,Ix,DM,MM;TM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ix=function(){};DM=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ql(_s.current);var a=null;switch(n){case"input":i=nx(e,i),r=nx(e,r),a=[];break;case"select":i=mr({},i,{value:void 0}),r=mr({},r,{value:void 0}),a=[];break;case"textarea":i=ax(e,i),r=ax(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fp)}ox(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ef.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ef.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Yn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};MM=function(e,t,n,r){n!==r&&(t.flags|=4)};function hd(e,t){if(!nr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kz(e,t,n){var r=t.pendingProps;switch(Lw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(t),null;case 1:return ta(t.type)&&mp(),wi(t),null;case 3:return r=t.stateNode,Cu(),Qn(ea),Qn(Ei),Hw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(nh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,is!==null&&(Ux(is),is=null))),Ix(e,t),wi(t),null;case 5:Ww(t);var i=ql(mf.current);if(n=t.type,e!==null&&t.stateNode!=null)DM(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Be(166));return wi(t),null}if(e=ql(_s.current),nh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ms]=t,r[df]=a,e=(t.mode&1)!==0,n){case"dialog":Yn("cancel",r),Yn("close",r);break;case"iframe":case"object":case"embed":Yn("load",r);break;case"video":case"audio":for(i=0;i<Md.length;i++)Yn(Md[i],r);break;case"source":Yn("error",r);break;case"img":case"image":case"link":Yn("error",r),Yn("load",r);break;case"details":Yn("toggle",r);break;case"input":BN(r,a),Yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Yn("invalid",r);break;case"textarea":UN(r,a),Yn("invalid",r)}ox(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&th(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&th(r.textContent,o,e),i=["children",""+o]):ef.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Yn("scroll",r)}switch(n){case"input":Km(r),zN(r,a,!0);break;case"textarea":Km(r),VN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=fp)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ms]=t,e[df]=r,TM(e,t,!1,!1),t.stateNode=e;e:{switch(s=lx(n,r),n){case"dialog":Yn("cancel",e),Yn("close",e),i=r;break;case"iframe":case"object":case"embed":Yn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Md.length;i++)Yn(Md[i],e);i=r;break;case"source":Yn("error",e),i=r;break;case"img":case"image":case"link":Yn("error",e),Yn("load",e),i=r;break;case"details":Yn("toggle",e),i=r;break;case"input":BN(e,r),i=nx(e,r),Yn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=mr({},r,{value:void 0}),Yn("invalid",e);break;case"textarea":UN(e,r),i=ax(e,r),Yn("invalid",e);break;default:i=r}ox(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?cD(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oD(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&tf(e,l):typeof l=="number"&&tf(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ef.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Yn("scroll",e):l!=null&&ww(e,a,l,s))}switch(n){case"input":Km(e),zN(e,r,!1);break;case"textarea":Km(e),VN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ul(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?uu(e,!!r.multiple,a,!1):r.defaultValue!=null&&uu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wi(t),null;case 6:if(e&&t.stateNode!=null)MM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Be(166));if(n=ql(mf.current),ql(_s.current),nh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ms]=t,(a=r.nodeValue!==n)&&(e=xa,e!==null))switch(e.tag){case 3:th(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&th(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ms]=t,t.stateNode=r}return wi(t),null;case 13:if(Qn(cr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nr&&va!==null&&t.mode&1&&!(t.flags&128))XD(),Su(),t.flags|=98560,a=!1;else if(a=nh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Be(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Be(317));a[Ms]=t}else Su(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wi(t),a=!1}else is!==null&&(Ux(is),is=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||cr.current&1?qr===0&&(qr=3):r1())),t.updateQueue!==null&&(t.flags|=4),wi(t),null);case 4:return Cu(),Ix(e,t),e===null&&cf(t.stateNode.containerInfo),wi(t),null;case 10:return Bw(t.type._context),wi(t),null;case 17:return ta(t.type)&&mp(),wi(t),null;case 19:if(Qn(cr),a=t.memoizedState,a===null)return wi(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)hd(a,!1);else{if(qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=bp(e),s!==null){for(t.flags|=128,hd(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Vn(cr,cr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ar()>Pu&&(t.flags|=128,r=!0,hd(a,!1),t.lanes=4194304)}else{if(!r)if(e=bp(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!nr)return wi(t),null}else 2*Ar()-a.renderingStartTime>Pu&&n!==1073741824&&(t.flags|=128,r=!0,hd(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ar(),t.sibling=null,n=cr.current,Vn(cr,r?n&1|2:n&1),t):(wi(t),null);case 22:case 23:return n1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ha&1073741824&&(wi(t),t.subtreeFlags&6&&(t.flags|=8192)):wi(t),null;case 24:return null;case 25:return null}throw Error(Be(156,t.tag))}function Sz(e,t){switch(Lw(t),t.tag){case 1:return ta(t.type)&&mp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cu(),Qn(ea),Qn(Ei),Hw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ww(t),null;case 13:if(Qn(cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Be(340));Su()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qn(cr),null;case 4:return Cu(),null;case 10:return Bw(t.type._context),null;case 22:case 23:return n1(),null;case 24:return null;default:return null}}var ah=!1,Ni=!1,Nz=typeof WeakSet=="function"?WeakSet:Set,lt=null;function nu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){br(e,t,r)}else n.current=null}function _x(e,t,n){try{n()}catch(r){br(e,t,r)}}var MC=!1;function Cz(e,t){if(yx=cp,e=$D(),Iw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,m=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===n&&++c===i&&(o=s),m===a&&++u===r&&(l=s),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xx={focusedElem:e,selectionRange:n},cp=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){t=lt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,x=p.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:ns(t.type,v),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(S){br(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}return p=MC,MC=!1,p}function Ud(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&_x(t,n,a)}i=i.next}while(i!==r)}}function Gg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Lx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function OM(e){var t=e.alternate;t!==null&&(e.alternate=null,OM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ms],delete t[df],delete t[kx],delete t[oz],delete t[lz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function IM(e){return e.tag===5||e.tag===3||e.tag===4}function OC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||IM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $x(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fp));else if(r!==4&&(e=e.child,e!==null))for($x(e,t,n),e=e.sibling;e!==null;)$x(e,t,n),e=e.sibling}function Rx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rx(e,t,n),e=e.sibling;e!==null;)Rx(e,t,n),e=e.sibling}var ui=null,rs=!1;function Ro(e,t,n){for(n=n.child;n!==null;)_M(e,t,n),n=n.sibling}function _M(e,t,n){if(Is&&typeof Is.onCommitFiberUnmount=="function")try{Is.onCommitFiberUnmount(Bg,n)}catch{}switch(n.tag){case 5:Ni||nu(n,t);case 6:var r=ui,i=rs;ui=null,Ro(e,t,n),ui=r,rs=i,ui!==null&&(rs?(e=ui,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ui.removeChild(n.stateNode));break;case 18:ui!==null&&(rs?(e=ui,n=n.stateNode,e.nodeType===8?Lv(e.parentNode,n):e.nodeType===1&&Lv(e,n),sf(e)):Lv(ui,n.stateNode));break;case 4:r=ui,i=rs,ui=n.stateNode.containerInfo,rs=!0,Ro(e,t,n),ui=r,rs=i;break;case 0:case 11:case 14:case 15:if(!Ni&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&_x(n,t,s),i=i.next}while(i!==r)}Ro(e,t,n);break;case 1:if(!Ni&&(nu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){br(n,t,o)}Ro(e,t,n);break;case 21:Ro(e,t,n);break;case 22:n.mode&1?(Ni=(r=Ni)||n.memoizedState!==null,Ro(e,t,n),Ni=r):Ro(e,t,n);break;default:Ro(e,t,n)}}function IC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Nz),t.forEach(function(r){var i=Iz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ts(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:ui=o.stateNode,rs=!1;break e;case 3:ui=o.stateNode.containerInfo,rs=!0;break e;case 4:ui=o.stateNode.containerInfo,rs=!0;break e}o=o.return}if(ui===null)throw Error(Be(160));_M(a,s,i),ui=null,rs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){br(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)LM(t,e),t=t.sibling}function LM(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ts(t,e),Ns(e),r&4){try{Ud(3,e,e.return),Gg(3,e)}catch(v){br(e,e.return,v)}try{Ud(5,e,e.return)}catch(v){br(e,e.return,v)}}break;case 1:ts(t,e),Ns(e),r&512&&n!==null&&nu(n,n.return);break;case 5:if(ts(t,e),Ns(e),r&512&&n!==null&&nu(n,n.return),e.flags&32){var i=e.stateNode;try{tf(i,"")}catch(v){br(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&iD(i,a),lx(o,s);var c=lx(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?cD(i,f):u==="dangerouslySetInnerHTML"?oD(i,f):u==="children"?tf(i,f):ww(i,u,f,c)}switch(o){case"input":rx(i,a);break;case"textarea":aD(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?uu(i,!!a.multiple,h,!1):m!==!!a.multiple&&(a.defaultValue!=null?uu(i,!!a.multiple,a.defaultValue,!0):uu(i,!!a.multiple,a.multiple?[]:"",!1))}i[df]=a}catch(v){br(e,e.return,v)}}break;case 6:if(ts(t,e),Ns(e),r&4){if(e.stateNode===null)throw Error(Be(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){br(e,e.return,v)}}break;case 3:if(ts(t,e),Ns(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sf(t.containerInfo)}catch(v){br(e,e.return,v)}break;case 4:ts(t,e),Ns(e);break;case 13:ts(t,e),Ns(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(e1=Ar())),r&4&&IC(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ni=(c=Ni)||u,ts(t,e),Ni=c):ts(t,e),Ns(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(lt=e,u=e.child;u!==null;){for(f=lt=u;lt!==null;){switch(m=lt,h=m.child,m.tag){case 0:case 11:case 14:case 15:Ud(4,m,m.return);break;case 1:nu(m,m.return);var p=m.stateNode;if(typeof p.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){br(r,n,v)}}break;case 5:nu(m,m.return);break;case 22:if(m.memoizedState!==null){LC(f);continue}}h!==null?(h.return=m,lt=h):LC(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=lD("display",s))}catch(v){br(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){br(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ts(t,e),Ns(e),r&4&&IC(e);break;case 21:break;default:ts(t,e),Ns(e)}}function Ns(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(IM(n)){var r=n;break e}n=n.return}throw Error(Be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tf(i,""),r.flags&=-33);var a=OC(e);Rx(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=OC(e);$x(e,o,s);break;default:throw Error(Be(161))}}catch(l){br(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jz(e,t,n){lt=e,$M(e)}function $M(e,t,n){for(var r=(e.mode&1)!==0;lt!==null;){var i=lt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ah;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ni;o=ah;var c=Ni;if(ah=s,(Ni=l)&&!c)for(lt=i;lt!==null;)s=lt,l=s.child,s.tag===22&&s.memoizedState!==null?$C(i):l!==null?(l.return=s,lt=l):$C(i);for(;a!==null;)lt=a,$M(a),a=a.sibling;lt=i,ah=o,Ni=c}_C(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,lt=a):_C(e)}}function _C(e){for(;lt!==null;){var t=lt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ni||Gg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ni)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&xC(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xC(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&sf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}Ni||t.flags&512&&Lx(t)}catch(m){br(t,t.return,m)}}if(t===e){lt=null;break}if(n=t.sibling,n!==null){n.return=t.return,lt=n;break}lt=t.return}}function LC(e){for(;lt!==null;){var t=lt;if(t===e){lt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,lt=n;break}lt=t.return}}function $C(e){for(;lt!==null;){var t=lt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gg(4,t)}catch(l){br(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){br(t,i,l)}}var a=t.return;try{Lx(t)}catch(l){br(t,a,l)}break;case 5:var s=t.return;try{Lx(t)}catch(l){br(t,s,l)}}}catch(l){br(t,t.return,l)}if(t===e){lt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,lt=o;break}lt=t.return}}var Pz=Math.ceil,Sp=Co.ReactCurrentDispatcher,Zw=Co.ReactCurrentOwner,Ha=Co.ReactCurrentBatchConfig,xn=0,ai=null,_r=null,mi=0,ha=0,ru=vl(0),qr=0,vf=null,lc=0,Yg=0,Jw=0,Vd=null,Qi=null,e1=0,Pu=1/0,Qs=null,Np=!1,Fx=null,il=null,sh=!1,Qo=null,Cp=0,Wd=0,Bx=null,Uh=-1,Vh=0;function Bi(){return xn&6?Ar():Uh!==-1?Uh:Uh=Ar()}function al(e){return e.mode&1?xn&2&&mi!==0?mi&-mi:uz.transition!==null?(Vh===0&&(Vh=wD()),Vh):(e=Tn,e!==0||(e=window.event,e=e===void 0?16:AD(e.type)),e):1}function cs(e,t,n,r){if(50<Wd)throw Wd=0,Bx=null,Error(Be(185));Kf(e,n,r),(!(xn&2)||e!==ai)&&(e===ai&&(!(xn&2)&&(Yg|=n),qr===4&&Go(e,mi)),na(e,r),n===1&&xn===0&&!(t.mode&1)&&(Pu=Ar()+500,Hg&&yl()))}function na(e,t){var n=e.callbackNode;uB(e,t);var r=lp(e,e===ai?mi:0);if(r===0)n!==null&&qN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qN(n),t===1)e.tag===0?cz(RC.bind(null,e)):KD(RC.bind(null,e)),az(function(){!(xn&6)&&yl()}),n=null;else{switch(kD(r)){case 1:n=jw;break;case 4:n=xD;break;case 16:n=op;break;case 536870912:n=bD;break;default:n=op}n=HM(n,RM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function RM(e,t){if(Uh=-1,Vh=0,xn&6)throw Error(Be(327));var n=e.callbackNode;if(pu()&&e.callbackNode!==n)return null;var r=lp(e,e===ai?mi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=jp(e,r);else{t=r;var i=xn;xn|=2;var a=BM();(ai!==e||mi!==t)&&(Qs=null,Pu=Ar()+500,Zl(e,t));do try{Tz();break}catch(o){FM(e,o)}while(!0);Fw(),Sp.current=a,xn=i,_r!==null?t=0:(ai=null,mi=0,t=qr)}if(t!==0){if(t===2&&(i=mx(e),i!==0&&(r=i,t=zx(e,i))),t===1)throw n=vf,Zl(e,0),Go(e,r),na(e,Ar()),n;if(t===6)Go(e,r);else{if(i=e.current.alternate,!(r&30)&&!Az(i)&&(t=jp(e,r),t===2&&(a=mx(e),a!==0&&(r=a,t=zx(e,a))),t===1))throw n=vf,Zl(e,0),Go(e,r),na(e,Ar()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Be(345));case 2:$l(e,Qi,Qs);break;case 3:if(Go(e,r),(r&130023424)===r&&(t=e1+500-Ar(),10<t)){if(lp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Bi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=wx($l.bind(null,e,Qi,Qs),t);break}$l(e,Qi,Qs);break;case 4:if(Go(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ls(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Ar()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pz(r/1960))-r,10<r){e.timeoutHandle=wx($l.bind(null,e,Qi,Qs),r);break}$l(e,Qi,Qs);break;case 5:$l(e,Qi,Qs);break;default:throw Error(Be(329))}}}return na(e,Ar()),e.callbackNode===n?RM.bind(null,e):null}function zx(e,t){var n=Vd;return e.current.memoizedState.isDehydrated&&(Zl(e,t).flags|=256),e=jp(e,t),e!==2&&(t=Qi,Qi=n,t!==null&&Ux(t)),e}function Ux(e){Qi===null?Qi=e:Qi.push.apply(Qi,e)}function Az(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!fs(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Go(e,t){for(t&=~Jw,t&=~Yg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ls(t),r=1<<n;e[n]=-1,t&=~r}}function RC(e){if(xn&6)throw Error(Be(327));pu();var t=lp(e,0);if(!(t&1))return na(e,Ar()),null;var n=jp(e,t);if(e.tag!==0&&n===2){var r=mx(e);r!==0&&(t=r,n=zx(e,r))}if(n===1)throw n=vf,Zl(e,0),Go(e,t),na(e,Ar()),n;if(n===6)throw Error(Be(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$l(e,Qi,Qs),na(e,Ar()),null}function t1(e,t){var n=xn;xn|=1;try{return e(t)}finally{xn=n,xn===0&&(Pu=Ar()+500,Hg&&yl())}}function cc(e){Qo!==null&&Qo.tag===0&&!(xn&6)&&pu();var t=xn;xn|=1;var n=Ha.transition,r=Tn;try{if(Ha.transition=null,Tn=1,e)return e()}finally{Tn=r,Ha.transition=n,xn=t,!(xn&6)&&yl()}}function n1(){ha=ru.current,Qn(ru)}function Zl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iz(n)),_r!==null)for(n=_r.return;n!==null;){var r=n;switch(Lw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mp();break;case 3:Cu(),Qn(ea),Qn(Ei),Hw();break;case 5:Ww(r);break;case 4:Cu();break;case 13:Qn(cr);break;case 19:Qn(cr);break;case 10:Bw(r.type._context);break;case 22:case 23:n1()}n=n.return}if(ai=e,_r=e=sl(e.current,null),mi=ha=t,qr=0,vf=null,Jw=Yg=lc=0,Qi=Vd=null,Hl!==null){for(t=0;t<Hl.length;t++)if(n=Hl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Hl=null}return e}function FM(e,t){do{var n=_r;try{if(Fw(),Fh.current=kp,wp){for(var r=fr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wp=!1}if(oc=0,ri=Wr=fr=null,zd=!1,hf=0,Zw.current=null,n===null||n.return===null){qr=1,vf=t,_r=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=mi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=CC(s);if(h!==null){h.flags&=-257,jC(h,s,o,a,t),h.mode&1&&NC(a,c,t),t=h,l=c;var p=t.updateQueue;if(p===null){var v=new Set;v.add(l),t.updateQueue=v}else p.add(l);break e}else{if(!(t&1)){NC(a,c,t),r1();break e}l=Error(Be(426))}}else if(nr&&o.mode&1){var x=CC(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),jC(x,s,o,a,t),$w(ju(l,o));break e}}a=l=ju(l,o),qr!==4&&(qr=2),Vd===null?Vd=[a]:Vd.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=kM(a,l,t);yC(a,g);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(il===null||!il.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=SM(a,o,t);yC(a,S);break e}}a=a.return}while(a!==null)}UM(n)}catch(C){t=C,_r===n&&n!==null&&(_r=n=n.return);continue}break}while(!0)}function BM(){var e=Sp.current;return Sp.current=kp,e===null?kp:e}function r1(){(qr===0||qr===3||qr===2)&&(qr=4),ai===null||!(lc&268435455)&&!(Yg&268435455)||Go(ai,mi)}function jp(e,t){var n=xn;xn|=2;var r=BM();(ai!==e||mi!==t)&&(Qs=null,Zl(e,t));do try{Ez();break}catch(i){FM(e,i)}while(!0);if(Fw(),xn=n,Sp.current=r,_r!==null)throw Error(Be(261));return ai=null,mi=0,qr}function Ez(){for(;_r!==null;)zM(_r)}function Tz(){for(;_r!==null&&!tB();)zM(_r)}function zM(e){var t=WM(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?UM(e):_r=t,Zw.current=null}function UM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Sz(n,t),n!==null){n.flags&=32767,_r=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qr=6,_r=null;return}}else if(n=kz(n,t,ha),n!==null){_r=n;return}if(t=t.sibling,t!==null){_r=t;return}_r=t=e}while(t!==null);qr===0&&(qr=5)}function $l(e,t,n){var r=Tn,i=Ha.transition;try{Ha.transition=null,Tn=1,Dz(e,t,n,r)}finally{Ha.transition=i,Tn=r}return null}function Dz(e,t,n,r){do pu();while(Qo!==null);if(xn&6)throw Error(Be(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Be(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(dB(e,a),e===ai&&(_r=ai=null,mi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sh||(sh=!0,HM(op,function(){return pu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ha.transition,Ha.transition=null;var s=Tn;Tn=1;var o=xn;xn|=4,Zw.current=null,Cz(e,n),LM(n,e),QB(xx),cp=!!yx,xx=yx=null,e.current=n,jz(n),nB(),xn=o,Tn=s,Ha.transition=a}else e.current=n;if(sh&&(sh=!1,Qo=e,Cp=i),a=e.pendingLanes,a===0&&(il=null),aB(n.stateNode),na(e,Ar()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Np)throw Np=!1,e=Fx,Fx=null,e;return Cp&1&&e.tag!==0&&pu(),a=e.pendingLanes,a&1?e===Bx?Wd++:(Wd=0,Bx=e):Wd=0,yl(),null}function pu(){if(Qo!==null){var e=kD(Cp),t=Ha.transition,n=Tn;try{if(Ha.transition=null,Tn=16>e?16:e,Qo===null)var r=!1;else{if(e=Qo,Qo=null,Cp=0,xn&6)throw Error(Be(331));var i=xn;for(xn|=4,lt=e.current;lt!==null;){var a=lt,s=a.child;if(lt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(lt=c;lt!==null;){var u=lt;switch(u.tag){case 0:case 11:case 15:Ud(8,u,a)}var f=u.child;if(f!==null)f.return=u,lt=f;else for(;lt!==null;){u=lt;var m=u.sibling,h=u.return;if(OM(u),u===c){lt=null;break}if(m!==null){m.return=h,lt=m;break}lt=h}}}var p=a.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}lt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,lt=s;else e:for(;lt!==null;){if(a=lt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ud(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,lt=g;break e}lt=a.return}}var b=e.current;for(lt=b;lt!==null;){s=lt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,lt=w;else e:for(s=b;lt!==null;){if(o=lt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Gg(9,o)}}catch(C){br(o,o.return,C)}if(o===s){lt=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,lt=S;break e}lt=o.return}}if(xn=i,yl(),Is&&typeof Is.onPostCommitFiberRoot=="function")try{Is.onPostCommitFiberRoot(Bg,e)}catch{}r=!0}return r}finally{Tn=n,Ha.transition=t}}return!1}function FC(e,t,n){t=ju(n,t),t=kM(e,t,1),e=rl(e,t,1),t=Bi(),e!==null&&(Kf(e,1,t),na(e,t))}function br(e,t,n){if(e.tag===3)FC(e,e,n);else for(;t!==null;){if(t.tag===3){FC(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(il===null||!il.has(r))){e=ju(n,e),e=SM(t,e,1),t=rl(t,e,1),e=Bi(),t!==null&&(Kf(t,1,e),na(t,e));break}}t=t.return}}function Mz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Bi(),e.pingedLanes|=e.suspendedLanes&n,ai===e&&(mi&n)===n&&(qr===4||qr===3&&(mi&130023424)===mi&&500>Ar()-e1?Zl(e,0):Jw|=n),na(e,t)}function VM(e,t){t===0&&(e.mode&1?(t=Xm,Xm<<=1,!(Xm&130023424)&&(Xm=4194304)):t=1);var n=Bi();e=go(e,t),e!==null&&(Kf(e,t,n),na(e,n))}function Oz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),VM(e,n)}function Iz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Be(314))}r!==null&&r.delete(t),VM(e,n)}var WM;WM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ea.current)Zi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Zi=!1,wz(e,t,n);Zi=!!(e.flags&131072)}else Zi=!1,nr&&t.flags&1048576&&GD(t,gp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zh(e,t),e=t.pendingProps;var i=ku(t,Ei.current);hu(t,n),i=Kw(null,t,r,e,i,n);var a=Gw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ta(r)?(a=!0,hp(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uw(t),i.updater=Kg,t.stateNode=i,i._reactInternals=t,Ax(t,r,e,n),t=Dx(null,t,r,!0,a,n)):(t.tag=0,nr&&a&&_w(t),$i(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Lz(r),e=ns(r,e),i){case 0:t=Tx(null,t,r,e,n);break e;case 1:t=EC(null,t,r,e,n);break e;case 11:t=PC(null,t,r,e,n);break e;case 14:t=AC(null,t,r,ns(r.type,e),n);break e}throw Error(Be(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Tx(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),EC(e,t,r,i,n);case 3:e:{if(PM(t),e===null)throw Error(Be(387));r=t.pendingProps,a=t.memoizedState,i=a.element,eM(e,t),xp(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ju(Error(Be(423)),t),t=TC(e,t,r,n,i);break e}else if(r!==i){i=ju(Error(Be(424)),t),t=TC(e,t,r,n,i);break e}else for(va=nl(t.stateNode.containerInfo.firstChild),xa=t,nr=!0,is=null,n=ZD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Su(),r===i){t=vo(e,t,n);break e}$i(e,t,r,n)}t=t.child}return t;case 5:return tM(t),e===null&&Cx(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,bx(r,i)?s=null:a!==null&&bx(r,a)&&(t.flags|=32),jM(e,t),$i(e,t,s,n),t.child;case 6:return e===null&&Cx(t),null;case 13:return AM(e,t,n);case 4:return Vw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Nu(t,null,r,n):$i(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),PC(e,t,r,i,n);case 7:return $i(e,t,t.pendingProps,n),t.child;case 8:return $i(e,t,t.pendingProps.children,n),t.child;case 12:return $i(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Vn(vp,r._currentValue),r._currentValue=s,a!==null)if(fs(a.value,s)){if(a.children===i.children&&!ea.current){t=vo(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=lo(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),jx(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Be(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),jx(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}$i(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,hu(t,n),i=qa(i),r=r(i),t.flags|=1,$i(e,t,r,n),t.child;case 14:return r=t.type,i=ns(r,t.pendingProps),i=ns(r.type,i),AC(e,t,r,i,n);case 15:return NM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),zh(e,t),t.tag=1,ta(r)?(e=!0,hp(t)):e=!1,hu(t,n),wM(t,r,i),Ax(t,r,i,n),Dx(null,t,r,!0,e,n);case 19:return EM(e,t,n);case 22:return CM(e,t,n)}throw Error(Be(156,t.tag))};function HM(e,t){return yD(e,t)}function _z(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Va(e,t,n,r){return new _z(e,t,n,r)}function i1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lz(e){if(typeof e=="function")return i1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sw)return 11;if(e===Nw)return 14}return 2}function sl(e,t){var n=e.alternate;return n===null?(n=Va(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wh(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")i1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Kc:return Jl(n.children,i,a,t);case kw:s=8,i|=8;break;case Zy:return e=Va(12,n,t,i|2),e.elementType=Zy,e.lanes=a,e;case Jy:return e=Va(13,n,t,i),e.elementType=Jy,e.lanes=a,e;case ex:return e=Va(19,n,t,i),e.elementType=ex,e.lanes=a,e;case tD:return Xg(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case JT:s=10;break e;case eD:s=9;break e;case Sw:s=11;break e;case Nw:s=14;break e;case Uo:s=16,r=null;break e}throw Error(Be(130,e==null?e:typeof e,""))}return t=Va(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Jl(e,t,n,r){return e=Va(7,e,r,t),e.lanes=n,e}function Xg(e,t,n,r){return e=Va(22,e,r,t),e.elementType=tD,e.lanes=n,e.stateNode={isHidden:!1},e}function Wv(e,t,n){return e=Va(6,e,null,t),e.lanes=n,e}function Hv(e,t,n){return t=Va(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $z(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cv(0),this.expirationTimes=Cv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function a1(e,t,n,r,i,a,s,o,l){return e=new $z(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Va(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uw(a),e}function Rz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function qM(e){if(!e)return dl;e=e._reactInternals;e:{if(kc(e)!==e||e.tag!==1)throw Error(Be(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Be(171))}if(e.tag===1){var n=e.type;if(ta(n))return qD(e,n,t)}return t}function KM(e,t,n,r,i,a,s,o,l){return e=a1(n,r,!0,e,i,a,s,o,l),e.context=qM(null),n=e.current,r=Bi(),i=al(n),a=lo(r,i),a.callback=t??null,rl(n,a,i),e.current.lanes=i,Kf(e,i,r),na(e,r),e}function Qg(e,t,n,r){var i=t.current,a=Bi(),s=al(i);return n=qM(n),t.context===null?t.context=n:t.pendingContext=n,t=lo(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rl(i,t,s),e!==null&&(cs(e,i,s,a),Rh(e,i,s)),s}function Pp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function BC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function s1(e,t){BC(e,t),(e=e.alternate)&&BC(e,t)}function Fz(){return null}var GM=typeof reportError=="function"?reportError:function(e){console.error(e)};function o1(e){this._internalRoot=e}Zg.prototype.render=o1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Be(409));Qg(e,t,null,null)};Zg.prototype.unmount=o1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cc(function(){Qg(null,e,null,null)}),t[po]=null}};function Zg(e){this._internalRoot=e}Zg.prototype.unstable_scheduleHydration=function(e){if(e){var t=CD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ko.length&&t!==0&&t<Ko[n].priority;n++);Ko.splice(n,0,e),n===0&&PD(e)}};function l1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zC(){}function Bz(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Pp(s);a.call(c)}}var s=KM(t,r,e,0,null,!1,!1,"",zC);return e._reactRootContainer=s,e[po]=s.current,cf(e.nodeType===8?e.parentNode:e),cc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Pp(l);o.call(c)}}var l=a1(e,0,!1,null,null,!1,!1,"",zC);return e._reactRootContainer=l,e[po]=l.current,cf(e.nodeType===8?e.parentNode:e),cc(function(){Qg(t,l,n,r)}),l}function e0(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Pp(s);o.call(l)}}Qg(t,s,e,i)}else s=Bz(n,t,e,i,r);return Pp(s)}SD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Dd(t.pendingLanes);n!==0&&(Pw(t,n|1),na(t,Ar()),!(xn&6)&&(Pu=Ar()+500,yl()))}break;case 13:cc(function(){var r=go(e,1);if(r!==null){var i=Bi();cs(r,e,1,i)}}),s1(e,1)}};Aw=function(e){if(e.tag===13){var t=go(e,134217728);if(t!==null){var n=Bi();cs(t,e,134217728,n)}s1(e,134217728)}};ND=function(e){if(e.tag===13){var t=al(e),n=go(e,t);if(n!==null){var r=Bi();cs(n,e,t,r)}s1(e,t)}};CD=function(){return Tn};jD=function(e,t){var n=Tn;try{return Tn=e,t()}finally{Tn=n}};ux=function(e,t,n){switch(t){case"input":if(rx(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Wg(r);if(!i)throw Error(Be(90));rD(r),rx(r,i)}}}break;case"textarea":aD(e,n);break;case"select":t=n.value,t!=null&&uu(e,!!n.multiple,t,!1)}};fD=t1;mD=cc;var zz={usingClientEntryPoint:!1,Events:[Yf,Qc,Wg,uD,dD,t1]},pd={findFiberByHostInstance:Wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uz={bundleType:pd.bundleType,version:pd.version,rendererPackageName:pd.rendererPackageName,rendererConfig:pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Co.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gD(e),e===null?null:e.stateNode},findFiberByHostInstance:pd.findFiberByHostInstance||Fz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{Bg=oh.inject(Uz),Is=oh}catch{}}ja.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zz;ja.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l1(t))throw Error(Be(200));return Rz(e,t,null,n)};ja.createRoot=function(e,t){if(!l1(e))throw Error(Be(299));var n=!1,r="",i=GM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=a1(e,1,!1,null,null,n,!1,r,i),e[po]=t.current,cf(e.nodeType===8?e.parentNode:e),new o1(t)};ja.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Be(188)):(e=Object.keys(e).join(","),Error(Be(268,e)));return e=gD(t),e=e===null?null:e.stateNode,e};ja.flushSync=function(e){return cc(e)};ja.hydrate=function(e,t,n){if(!Jg(t))throw Error(Be(200));return e0(null,e,t,!0,n)};ja.hydrateRoot=function(e,t,n){if(!l1(e))throw Error(Be(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=GM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=KM(t,null,e,1,n??null,i,!1,a,s),e[po]=t.current,cf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zg(t)};ja.render=function(e,t,n){if(!Jg(t))throw Error(Be(200));return e0(null,e,t,!1,n)};ja.unmountComponentAtNode=function(e){if(!Jg(e))throw Error(Be(40));return e._reactRootContainer?(cc(function(){e0(null,null,e,!1,function(){e._reactRootContainer=null,e[po]=null})}),!0):!1};ja.unstable_batchedUpdates=t1;ja.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jg(n))throw Error(Be(200));if(e==null||e._reactInternals===void 0)throw Error(Be(38));return e0(e,t,n,!1,r)};ja.version="18.3.1-next-f1338f8080-20240426";function YM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YM)}catch(e){console.error(e)}}YM(),YT.exports=ja;var Hu=YT.exports,UC=Hu;Xy.createRoot=UC.createRoot,Xy.hydrateRoot=UC.hydrateRoot;const Vz=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),XM=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],QM=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],Wz=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],ZM=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],Hz=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],qz=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],Kz=new Set([10244]),Gz=(e,t)=>{var i;if(Kz.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return qz.some(a=>r.includes(a))},Yz=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},Xz=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},JM=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,eO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},$a=(e,t=2)=>Number.isFinite(e)?JM()&&Math.abs(e)>=1e4?eO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",Bo=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return JM()&&t>=1e4?eO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var Qz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Zz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),an=(e,t)=>{const n=y.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},c)=>y.createElement("svg",{ref:c,...Qz,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${Zz(e)}`,...l},[...t.map(([u,f])=>y.createElement(u,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},tO=an("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Jz=an("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),c1=an("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),nO=an("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),e6=an("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),t6=an("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),rO=an("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),gu=an("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),n6=an("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ms=an("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),r6=an("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),i6=an("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),a6=an("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),s6=an("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),o6=an("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),iO=an("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),l6=an("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),u1=an("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),c6=an("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),d1=an("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),u6=an("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),f1=an("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Aa=an("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),VC=an("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),d6=an("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),f6=an("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),m6=an("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),aO=an("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),yf=an("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),t0=an("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),n0=an("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),m1=an("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),h6=an("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),WC=an("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Au=an("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),p6=an("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),ii=an("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),g6=an("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),sO=an("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Hi=an("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xf=an("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),h1=({className:e})=>d.jsx(d6,{className:e,strokeWidth:3.2}),p1=({className:e})=>d.jsx(h6,{className:e,style:{transform:"rotate(45deg)"}}),r0=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},g1=({className:e=""})=>{const t=r0("svg/custom-icons/mouse.svg");return d.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},v1=({className:e=""})=>{const t=r0("svg/custom-icons/gw2_boon.svg");return d.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},y1=({className:e=""})=>{const t=r0("svg/custom-icons/dam_mit.svg");return d.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},x1=({className:e=""})=>{const t=r0("svg/custom-icons/gw2_sigil.svg");return d.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},v6=e=>{const[t,n]=y.useState(!1),[r,i]=y.useState("overview"),a=y.useRef(null),s=y.useRef(null),o=y.useRef(0),l=y.useMemo(()=>[{id:"overview",label:"Overview",icon:Au},{id:"top-players",label:"Top Players",icon:Au},{id:"top-skills-outgoing",label:"Top Skills",icon:c1},{id:"timeline",label:"Squad vs Enemy",icon:ii},{id:"map-distribution",label:"Map Distribution",icon:f1},{id:"boon-output",label:"Boon Output",icon:v1},{id:"offense-detailed",label:"Offense Detailed",icon:p1},{id:"player-breakdown",label:"Player Breakdown",icon:d1},{id:"spike-damage",label:"Spike Damage",icon:xf},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:m6},{id:"conditions-outgoing",label:"Conditions",icon:t0},{id:"defense-detailed",label:"Defense Detailed",icon:yf},{id:"defense-mitigation",label:"Damage Mitigation",icon:y1},{id:"support-detailed",label:"Support Detailed",icon:h1},{id:"healing-stats",label:"Healing Stats",icon:iO},{id:"special-buffs",label:"Special Buffs",icon:m1},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:x1},{id:"skill-usage",label:"Skill Usage",icon:u1},{id:"apm-stats",label:"APM Breakdown",icon:g1}],[]),c=f=>{const m=f==="kdr"?"overview":f,h=a.current,p=document.getElementById(m);if(h&&p){const v=h.getBoundingClientRect(),g=p.getBoundingClientRect().top-v.top+h.scrollTop,b=Math.max(0,h.scrollHeight-h.clientHeight),w=Math.min(Math.max(g-16,0),b);h.scrollTo({top:w,behavior:"smooth"}),i(m)}else p&&(p.scrollIntoView({behavior:"smooth",block:"start"}),i(m));n(!1)};y.useEffect(()=>{if(e)return;const f=m=>{const h=a.current;if(!h)return;const p=m.target;if(!(p instanceof Element&&p.closest("[data-stats-mobile-nav]"))&&!(p instanceof Node&&h.contains(p))&&m.deltaY!==0&&!(h.scrollHeight<=h.clientHeight)){if(o.current+=m.deltaY,s.current===null){const v=()=>{const x=o.current;if(Math.abs(x)<.5){o.current=0,s.current=null;return}const g=x*.2;o.current=x-g,h.scrollBy({top:g,behavior:"auto"}),s.current=requestAnimationFrame(v)};s.current=requestAnimationFrame(v)}m.preventDefault()}};return window.addEventListener("wheel",f,{passive:!1}),()=>{window.removeEventListener("wheel",f),s.current!==null&&(cancelAnimationFrame(s.current),s.current=null),o.current=0}},[e]);const u=f=>{var v;const m=Math.max(0,l.findIndex(x=>x.id===r)),h=Math.min(Math.max(m+f,0),l.length-1),p=(v=l[h])==null?void 0:v.id;p&&c(p)};return y.useEffect(()=>{const f=a.current;if(!f)return;let m=0;const h=()=>{var g;const v=f.getBoundingClientRect().top;let x=((g=l[0])==null?void 0:g.id)||"overview";l.forEach(b=>{const w=document.getElementById(b.id);if(!w)return;w.getBoundingClientRect().top-v<=24&&(x=b.id)}),i(b=>b===x?b:x)},p=()=>{m&&cancelAnimationFrame(m),m=requestAnimationFrame(h)};return h(),f.addEventListener("scroll",p,{passive:!0}),window.addEventListener("resize",p),()=>{m&&cancelAnimationFrame(m),f.removeEventListener("scroll",p),window.removeEventListener("resize",p)}},[l]),{mobileNavOpen:t,setMobileNavOpen:n,activeNavId:r,setActiveNavId:i,scrollContainerRef:a,tocItems:l,scrollToSection:c,stepSection:u}},y6=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=y.useState({uploading:!1,message:null,url:null}),[c,u]=y.useState("idle"),f=()=>{const p=new Set;let v=null,x=null;e.forEach(_=>{const A=_.details;if(!A)return;const $=A.timeStartStd||A.timeStart||A.uploadTime||_.uploadTime,D=A.timeEndStd||A.timeEnd||A.uploadTime||_.uploadTime,te=$?new Date($):null,K=D?new Date(D):null;te&&!Number.isNaN(te.getTime())&&(!v||te<v)&&(v=te),K&&!Number.isNaN(K.getTime())&&(!x||K>x)&&(x=K),(A.players||[]).forEach(H=>{if(!(H!=null&&H.notInSquad)&&H!=null&&H.hasCommanderTag){const J=(H==null?void 0:H.name)||(H==null?void 0:H.account)||"Unknown";p.add(J)}})});const g=Array.from(p).sort((_,A)=>_.localeCompare(A)),b=v||new Date,w=x||b,S=b.toISOString(),C=w.toISOString(),N=`${b.toLocaleString()} - ${w.toLocaleString()}`,P=_=>String(_).padStart(2,"0");return{id:`${b.getFullYear()}${P(b.getMonth()+1)}${P(b.getDate())}-${P(b.getHours())}${P(b.getMinutes())}${P(b.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:g.length?g.join(", "):"Unknown Commander",commanders:g,dateStart:S,dateEnd:C,dateLabel:N,generatedAt:new Date().toISOString()}};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:u,handleWebUpload:async()=>{if(!a&&s)try{const p=f();await s({meta:p,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:i||"classic"}})}catch(p){console.error("[StatsView] Web upload failed:",p)}},handleDevMockUpload:async()=>{var p;if(!(a||!((p=window.electronAPI)!=null&&p.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const v=f(),x=await window.electronAPI.mockWebReport({meta:v,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:i||"classic"}});x!=null&&x.success?l({uploading:!1,message:"Local report ready.",url:x.url||null}):l({uploading:!1,message:(x==null?void 0:x.error)||"Local report failed.",url:null})}catch(v){l({uploading:!1,message:(v==null?void 0:v.message)||"Local report failed.",url:null})}}}}};function x6(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const b6=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function ol(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let $c=null;function oO(e={}){return $c||(e.includeStyleProperties?($c=e.includeStyleProperties,$c):($c=ol(window.getComputedStyle(document.documentElement)),$c))}function Ap(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function w6(e){const t=Ap(e,"border-left-width"),n=Ap(e,"border-right-width");return e.clientWidth+t+n}function k6(e){const t=Ap(e,"border-top-width"),n=Ap(e,"border-bottom-width");return e.clientHeight+t+n}function lO(e,t={}){const n=t.width||w6(e),r=t.height||k6(e);return{width:n,height:r}}function S6(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const fa=16384;function N6(e){(e.width>fa||e.height>fa)&&(e.width>fa&&e.height>fa?e.width>e.height?(e.height*=fa/e.width,e.width=fa):(e.width*=fa/e.height,e.height=fa):e.width>fa?(e.height*=fa/e.width,e.width=fa):(e.width*=fa/e.height,e.height=fa))}function Ep(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function C6(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function j6(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),C6(i)}const ra=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ra(n,t)};function P6(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function A6(e,t){return oO(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function E6(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?P6(n):A6(n,r);return document.createTextNode(`${i}{${a}}`)}function HC(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=b6();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(E6(s,n,i,r)),t.appendChild(o)}function T6(e,t,n){HC(e,t,":before",n),HC(e,t,":after",n)}const qC="application/font-woff",KC="image/jpeg",D6={woff:qC,woff2:qC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:KC,jpeg:KC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function M6(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function b1(e){const t=M6(e).toLowerCase();return D6[t]||""}function O6(e){return e.split(/,/)[1]}function Vx(e){return e.search(/^(data:)/)!==-1}function I6(e,t){return`data:${t};base64,${e}`}async function cO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const qv={};function _6(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function w1(e,t,n){const r=_6(e,t,n.includeQueryParams);if(qv[r]!=null)return qv[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await cO(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),O6(o)));i=I6(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return qv[r]=i,i}async function L6(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Ep(t)}async function $6(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return Ep(o)}const n=e.poster,r=b1(n),i=await w1(n,r,t);return Ep(i)}async function R6(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await i0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function F6(e,t){return ra(e,HTMLCanvasElement)?L6(e):ra(e,HTMLVideoElement)?$6(e,t):ra(e,HTMLIFrameElement)?R6(e,t):e.cloneNode(uO(e))}const B6=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",uO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function z6(e,t,n){var r,i;if(uO(t))return t;let a=[];return B6(e)&&e.assignedNodes?a=ol(e.assignedNodes()):ra(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=ol(e.contentDocument.body.childNodes):a=ol(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||ra(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>i0(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function U6(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):oO(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),ra(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function V6(e,t){ra(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ra(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function W6(e,t){if(ra(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function H6(e,t,n){return ra(t,Element)&&(U6(e,t,n),T6(e,t,n),V6(e,t),W6(e,t)),t}async function q6(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),c=document.querySelector(o);!l&&c&&!r[o]&&(r[o]=await i0(c,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function i0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>F6(r,t)).then(r=>z6(e,r,t)).then(r=>H6(e,r,t)).then(r=>q6(r,t))}const dO=/url\((['"]?)([^'"]+?)\1\)/g,K6=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,G6=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Y6(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function X6(e){const t=[];return e.replace(dO,(n,r,i)=>(t.push(i),n)),t.filter(n=>!Vx(n))}async function Q6(e,t,n,r,i){try{const a=n?x6(t,n):t,s=b1(t);let o;return i||(o=await w1(a,s,r)),e.replace(Y6(t),`$1${o}$3`)}catch{}return e}function Z6(e,{preferredFontFormat:t}){return t?e.replace(G6,n=>{for(;;){const[r,,i]=K6.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function fO(e){return e.search(dO)!==-1}async function mO(e,t,n){if(!fO(e))return e;const r=Z6(e,n);return X6(r).reduce((a,s)=>a.then(o=>Q6(o,s,t,n)),Promise.resolve(r))}async function Rc(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await mO(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function J6(e,t){await Rc("background",e,t)||await Rc("background-image",e,t),await Rc("mask",e,t)||await Rc("-webkit-mask",e,t)||await Rc("mask-image",e,t)||await Rc("-webkit-mask-image",e,t)}async function eU(e,t){const n=ra(e,HTMLImageElement);if(!(n&&!Vx(e.src))&&!(ra(e,SVGImageElement)&&!Vx(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await w1(r,b1(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(c){s(c)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function tU(e,t){const r=ol(e.childNodes).map(i=>hO(i,t));await Promise.all(r).then(()=>e)}async function hO(e,t){ra(e,Element)&&(await J6(e,t),await eU(e,t),await tU(e,t))}function nU(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const GC={};async function YC(e){let t=GC[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},GC[e]=t,t}async function XC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),cO(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function QC(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function rU(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{ol(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,c=YC(l).then(u=>XC(u,t)).then(u=>QC(u).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(m){console.error("Error inserting rule from remote css",{rule:f,error:m})}})).catch(u=>{console.error("Error loading remote css",u.toString())});r.push(c)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(YC(i.href).then(o=>XC(o,t)).then(o=>QC(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{ol(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function iU(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>fO(t.style.getPropertyValue("src")))}async function aU(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=ol(e.ownerDocument.styleSheets),r=await rU(n,t);return iU(r)}function pO(e){return e.trim().replace(/["']/g,"")}function sU(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(pO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function oU(e,t){const n=await aU(e,t),r=sU(e);return(await Promise.all(n.filter(a=>r.has(pO(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return mO(a.cssText,s,t)}))).join(`
`)}async function lU(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await oU(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function cU(e,t={}){const{width:n,height:r}=lO(e,t),i=await i0(e,t,!0);return await lU(i,t),await hO(i,t),nU(i,t),await j6(i,n,r)}async function uU(e,t={}){const{width:n,height:r}=lO(e,t),i=await cU(e,t),a=await Ep(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||S6(),c=t.canvasWidth||n,u=t.canvasHeight||r;return s.width=c*l,s.height=u*l,t.skipAutoScale||N6(s),s.style.width=`${c}`,s.style.height=`${u}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function dU(e,t={}){return(await uU(e,t)).toDataURL()}const fU=e=>{const[t,n]=y.useState(!1),r=async s=>{var u;if(!((u=window.electronAPI)!=null&&u.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(f,m)=>{const h=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(h)){const p=await window.electronAPI.fetchImageAsDataUrl(h);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,m)};window.fetch=c,globalThis.fetch=c;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var m;if(!((m=window.electronAPI)!=null&&m.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],c=async h=>{if(o.has(h))return o.get(h)||null;const p=await window.electronAPI.fetchImageAsDataUrl(h);return p!=null&&p.success&&p.dataUrl?(o.set(h,p.dataUrl),p.dataUrl):(o.set(h,""),null)},u=Array.from(s.querySelectorAll("img"));await Promise.all(u.map(async h=>{var b;const p=h.currentSrc||h.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const v=await c(p);if(!v)return;const x=h.src,g=h.srcset;h.src=v,h.srcset="",l.push(()=>{h.src=x,h.srcset=g});try{await((b=h.decode)==null?void 0:b.call(h))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async h=>{const v=window.getComputedStyle(h).backgroundImage;if(!v||v==="none"||!v.includes("url("))return;const x=Array.from(v.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!x.length)return;let g=v,b=!1;for(const S of x){const C=S[1];if(!C)continue;const N=await c(C);N&&(g=g.replace(S[0],`url("${N}")`),b=!0)}if(!b)return;const w=h.style.backgroundImage;h.style.backgroundImage=g,l.push(()=>{h.style.backgroundImage=w})})),()=>{l.forEach(h=>h())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(v=>setTimeout(v,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(v=>{v.dataset.prevDisplay=v.style.display,v.style.display="none"});let c;const u=await i(s);try{const v=s.scrollWidth,x=s.scrollHeight;c=await r(()=>dU(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:v,height:x,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{u(),s.classList.remove("stats-share-mode"),l.forEach(v=>{v.style.display=v.dataset.prevDisplay||"",delete v.dataset.prevDisplay})}const h=await(await(await fetch(c)).blob()).arrayBuffer(),p=new Uint8Array(h);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},ZC=["selfBuffs","groupBuffs","squadBuffs"],Xs=(e,t,n=0)=>t?e/t:n,JC=e=>e!=null&&e.classification?e.classification==="Boon":!0,gO=e=>`b${e}`,mU=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},vO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},hU=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],u=c.generationMs,f=c.wastedMs;let m=1;t==="groupBuffs"?m=Xs(a-i,i,1):t==="squadBuffs"?m=Xs(s-i,i,1):t==="totalBuffs"&&(m=s);let h=0,p=0;if(t==="selfBuffs")h=n?Xs(u,r):Xs(u,r)*100,p=n?Xs(f,r):Xs(f,r)*100;else{const v=Xs(u,r)/(m||1),x=Xs(f,r)/(m||1);h=n?v:v*100,p=n?x:x*100}return{generationMs:u,wastedMs:f,uptimeRaw:h,wastedRaw:p}},yO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=hU(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?Xs(i,s):a},pU=(e,t,n,r,i)=>{const a=yO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,c=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${c}%`:c},gU=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([h,p])=>{if(!t.has(h)){t.set(h,p);return}const v=t.get(h)||{},x={name:v.name||p.name,stacking:v.stacking??p.stacking,icon:v.icon||p.icon,classification:v.classification||p.classification};t.set(h,x)});const u=(s.players||[]).filter(h=>!h.notInSquad),f=u.length,m=new Map;u.forEach(h=>{const p=h.group??0;m.set(p,(m.get(p)||0)+1)}),u.forEach(h=>{const p=h.account||h.name||h.character_name||"Unknown",v=h.profession||"Unknown",x=h.group??0,g=m.get(x)||1,b=mU(h,o);n.has(p)||n.set(p,{account:p,profession:v,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const w=n.get(p);w.profession=v,v!=="Unknown"&&(w.professions.add(v),w.professionTimeMs[v]=(w.professionTimeMs[v]||0)+b),w.activeTimeMs+=b,w.numFights+=1,w.groupSupported+=g,w.squadSupported+=f,ZC.forEach(S=>{(h[S]||[]).forEach(N=>{var K,ie,H,J;if(typeof(N==null?void 0:N.id)!="number")return;const P=gO(N.id),T=l[P];if(!JC(T))return;const _=(T==null?void 0:T.stacking)??!1,A=((ie=(K=N.buffData)==null?void 0:K[0])==null?void 0:ie.generation)??0,$=((J=(H=N.buffData)==null?void 0:H[0])==null?void 0:J.wasted)??0,{generationMs:D,wastedMs:te}=vO(S,_,A,$,o,g,f);!D&&!te||(t.has(P)||t.set(P,T||{}),w.boons[P]||(w.boons[P]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),w.boons[P][S].generationMs+=D,w.boons[P][S].wastedMs+=te)})})})}),{boonTables:Array.from(t.keys()).filter(a=>JC(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var h;const c=l.boons[a];if(!c||!ZC.some(p=>c[p].generationMs>0||c[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let m=l.profession;if(f.length>0){m=f[0];let p=((h=l.professionTimeMs)==null?void 0:h[m])||0;f.forEach(v=>{var g;const x=((g=l.professionTimeMs)==null?void 0:g[v])||0;x>p&&(p=x,m=v)})}o.push({account:l.account,profession:m||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...c.selfBuffs},groupBuffs:{...c.groupBuffs},squadBuffs:{...c.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},e2=(e,t,n,r,i,a,s={})=>{var h,p,v,x;const l=((e==null?void 0:e[t])||[]).find(g=>g.id===n);if(!l)return{generationMs:0,wastedMs:0};const c=s[gO(n)],u=(c==null?void 0:c.stacking)??!1,f=((p=(h=l.buffData)==null?void 0:h[0])==null?void 0:p.generation)??0,m=((x=(v=l.buffData)==null?void 0:v[0])==null?void 0:x.wasted)??0;return vO(t,u,f,m,r,i,a)},vU={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},yU={methods:vU},xU=yU,k1="count",bU=e=>(e||0)/1e3,wU=(e,t)=>{var i;if(!e)return 0;const n=(i=xU.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},xO=(e,t,n)=>n==="duration"?bU(t):n==="tiered"?wU(e,t):e;function kU(e,t=k1){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return xO(r,i,t)}function SU(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,c=e2(o,"selfBuffs",1122,n,l,a,r),u=e2(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(c.generationMs+u.generationMs)/1e3})}function NU(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function CU(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function jU(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const PU=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},AU=(e,t=k1)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return xO(r,i,t)},EU=e=>NU(e),TU=e=>jU(e),DU=e=>CU(e),MU=(e,t=k1)=>kU(e,t),OU=(e,t)=>SU(e,t),IU="count",bO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Wx={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},_U={uploading:!1,message:null,url:null,buildStatus:"idle"},t2=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),wO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},lh=e=>{if(e)return wO[e]},bf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=t2.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=t2.get(i);if(a)return a}return null},Vc=e=>bf(e),kO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=bf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(wO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Hh=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=bf(i);if(a)return a}return e?bf(e):null},LU=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},$U=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},RU=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},FU=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||LU,s=kO(i),o={},l={};t.forEach(h=>{if(h!=null&&h.notInSquad)return;const p=a(h);p&&(o[p]||(o[p]={}),h!=null&&h.totalDamageDist&&h.totalDamageDist.forEach(v=>{v&&v.forEach(x=>{if(!x.id)return;let g=`Skill ${x.id}`,b;r&&(r[`s${x.id}`]?(g=r[`s${x.id}`].name||g,b=r[`s${x.id}`].icon||b):r[`${x.id}`]&&(g=r[`${x.id}`].name||g,b=r[`${x.id}`].icon||b));const w=Hh(g,x.id,i);if(!w)return;const S=i==null?void 0:i[`b${x.id}`],C=S==null?void 0:S.name,N=s.get(w)||(S==null?void 0:S.icon),P=g.startsWith("Skill ")?C||w:g,T=b||(S==null?void 0:S.icon),_=Number(x.connectedHits??0),A=Number(x.hits??0),$=_>0?_:A,D=Number(x.totalDamage??0);if(!Number.isFinite($)&&!Number.isFinite(D))return;const te=l[w]||{name:w,icon:N,applications:0,damage:0};te.applications+=Number.isFinite($)?$:0,te.damage+=Number.isFinite(D)?D:0,!te.icon&&N&&(te.icon=N),l[w]=te;const K=o[p][w]||{icon:N,applications:0,damage:0,skills:{}};K.applications+=Number.isFinite($)?$:0,K.damage+=Number.isFinite(D)?D:0;const ie=K.skills[P]||{name:P,hits:0,damage:0,icon:T};ie.hits+=Number.isFinite($)?$:0,ie.damage+=Number.isFinite(D)?D:0,!ie.icon&&T&&(ie.icon=T),K.skills[P]=ie,!K.icon&&N&&(K.icon=N),o[p][w]=K})}))});const c=new Map;t.forEach(h=>{if(h!=null&&h.notInSquad)return;const p=a(h);p&&h!=null&&h.name&&c.set(h.name,p)});let u=0,f=0,m=0;return n.forEach(h=>{h!=null&&h.buffs&&h.buffs.forEach(p=>{const v=Number(p==null?void 0:p.id);if(!Number.isFinite(v))return;const x=i==null?void 0:i[`b${v}`],g=bf(x==null?void 0:x.name);if(!g||x!=null&&x.classification&&x.classification!=="Condition")return;const b=g;if(!b)return;const w=p.statesPerSource||{};m+=1,Object.entries(w).forEach(([S,C])=>{var $;const N=c.get(S);if(!N)return;f+=1;const P=$U(C),T=RU(C);u+=P;const _=(($=o[N])==null?void 0:$[b])||{applications:0,damage:0,skills:{}};_.applicationsFromBuffs=(_.applicationsFromBuffs||0)+P,_.applicationsFromBuffsActive=(_.applicationsFromBuffsActive||0)+T,o[N]=o[N]||{},o[N][b]=_;const A=l[b]||{name:b,applications:0,damage:0};A.applicationsFromBuffs=(A.applicationsFromBuffs||0)+P,A.applicationsFromBuffsActive=(A.applicationsFromBuffsActive||0)+T,l[b]=A})})}),Object.values(o).forEach(h=>{Object.values(h).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(h=>{typeof h.applicationsFromBuffs=="number"&&(h.applications=h.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:u,targetBuffEntriesSeen:m,buffStateSourcesSeen:f}}},wf={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},BU={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function ec(e){return wf[e]||wf.Unknown}function zU(e){return e?BU[e]||e:"Unknown"}function Tp(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=wf[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=zU(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const UU=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},Cs=(e,t)=>UU((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),Kv=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const a=(()=>{const f=e.filter(m=>m.details&&m.details.players&&m.details.players.length>0);return console.log("[useStatsAggregation] Filtering logs:",{total:e.length,passed:f.length,statuses:e.map(m=>m.status),hasDetails:e.map(m=>!!m.details)}),f})(),s=r||Wx,o=n||bO,l=f=>{if(!f||typeof f!="object")return f;const m=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!m||m.length===0)return f;const h=g=>Array.isArray(g)&&g.some(b=>b&&Number(b.count)>0),p=new Map,v=new Map;e.forEach(g=>{var S;const b=(g==null?void 0:g.filePath)||(g==null?void 0:g.id);b&&p.set(String(b),g);const w=(g==null?void 0:g.permalink)||((S=g==null?void 0:g.details)==null?void 0:S.permalink);typeof w=="string"&&w.trim()&&v.set(w.trim(),g)});const x=m.map(g=>{var P;if(!g||typeof g!="object")return g;const b=g.id?String(g.id):"",w=typeof g.permalink=="string"?g.permalink.trim():"",S=(b?p.get(b):void 0)||(w?v.get(w):void 0);if(!S)return g;let C=g;if(Number(g.timestamp)<=0){const T=Cs(S==null?void 0:S.details,S);T&&(C={...C,timestamp:T})}const N=(P=S==null?void 0:S.details)==null?void 0:P.teamBreakdown;return h(N)&&(C={...C,teamBreakdown:N}),C});return{...f,fightBreakdown:x}},c=(()=>{if(t)return l(t);const f=i||IU,m=s.topSkillDamageSource||"target",h=s.topSkillsMetric||"damage",p=a.length;let v=0,x=0,g=0,b=0,w=0,S=0,C=0,N=0;const P=M=>{const ee=((M==null?void 0:M.players)||[]).filter(Pt=>!Pt.notInSquad);let De=0,pe=0,Ve=0,Xe=0;return ee.forEach(Pt=>{var tn;const At=(tn=Pt.defenses)==null?void 0:tn[0];if(!At)return;const Ot=Number(At.downCount||0),ln=Number(At.deadCount||0);De+=Ot+ln,Ve+=ln}),ee.forEach(Pt=>{!Pt.statsTargets||Pt.statsTargets.length===0||Pt.statsTargets.forEach(At=>{const Ot=At==null?void 0:At[0];if(!Ot)return;const ln=Number(Ot.downed||0),tn=Number(Ot.killed||0);pe+=ln+tn,Xe+=tn})}),{squadDownsDeaths:De,enemyDownsDeaths:pe,squadDeaths:Ve,enemyDeaths:Xe}},T=M=>{const{squadDownsDeaths:V,enemyDownsDeaths:ee}=P(M);return V>0||ee>0?ee>V:typeof(M==null?void 0:M.success)=="boolean"?M.success:!1},_=new Map,A=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),$={},D={},te=new Map,K={},ie={},H={},J=new Map,G=new Map,ae=new Set(Object.keys(wf)),E=Object.keys(wf).filter(M=>M&&M!=="Unknown").sort((M,V)=>V.length-M.length),j=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],U=M=>{if(!M)return"Unknown";const V=String(M).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(ae.has(V))return V;const ee=V.toLowerCase();for(const pe of E)if(ee.includes(pe.toLowerCase()))return pe;return j.find(pe=>ee.includes(pe.toLowerCase()))||V||"Unknown"},k=M=>M!=null&&M.classification?M.classification==="Boon":!0,O=new Map,re=new Map,Q=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),F=M=>{const V=Number(M);return Number.isFinite(V)?V:0},Z=M=>{const V=String(M).split("|"),ee=V[0]||"Unknown",De=U(V[1]||"Unknown"),pe=V[2]||ee||"Unknown";return{name:ee,profession:De,account:pe}},L=(M,V,ee)=>{let De=M.get(V);return De?ee.profession&&!De.professionList.includes(ee.profession)&&De.professionList.push(ee.profession):(De={account:ee.account,name:ee.name,profession:ee.profession,professionList:ee.profession?[ee.profession]:[],activeMs:0,mitigationTotals:Q()},M.set(V,De)),De},W=(M,V,ee)=>{let De=M.get(V);return De?ee.profession&&!De.professionList.includes(ee.profession)&&De.professionList.push(ee.profession):(De={account:ee.account,name:ee.name,profession:ee.profession,professionList:ee.profession?[ee.profession]:[],activeMs:0,mitigationTotals:Q(),minion:ee.minion},M.set(V,De)),De},le=(M,V)=>{M.totalHits+=F((V==null?void 0:V.skill_hits)??(V==null?void 0:V.skillHits)),M.blocked+=F(V==null?void 0:V.blocked),M.evaded+=F(V==null?void 0:V.evaded),M.glanced+=F(V==null?void 0:V.glanced),M.missed+=F(V==null?void 0:V.missed),M.invulned+=F(V==null?void 0:V.invulned),M.interrupted+=F(V==null?void 0:V.interrupted),M.totalMitigation+=F((V==null?void 0:V.avoided_damage)??(V==null?void 0:V.avoidedDamage)),M.minMitigation+=F((V==null?void 0:V.min_avoided_damage)??(V==null?void 0:V.minAvoidedDamage))},ne=M=>Object.values(M).some(V=>V>0);console.log("[useStatsAggregation] Starting aggregation loop",{validLogsCount:a.length});const z=(M,V,ee)=>{var Ve,Xe,Pt,At;const De=`s${M}`;if((Ve=V==null?void 0:V[De])!=null&&Ve.name)return V[De].name;if((Xe=V==null?void 0:V[String(M)])!=null&&Xe.name)return V[String(M)].name;const pe=`b${M}`;return(Pt=ee==null?void 0:ee[pe])!=null&&Pt.name?ee[pe].name:(At=ee==null?void 0:ee[String(M)])!=null&&At.name?ee[String(M)].name:`Unknown Skill ${M}`},B=new Map,I=M=>{const V=B.get(M);if(!V)return{hasSkill:!1,avg:1,min:1,hits:0};const ee=V.connectedHits||0,De=ee>0?V.totalDamage/ee:0,pe=V.minCount>0?V.minTotal/V.minCount:0;return{hasSkill:!0,avg:De,min:pe,hits:ee}},X="Ashtonlightstone.9145",Ne="Illusionary Warden",Me=[],se=[],Fe=[],Te=[],vt=new Map,on=new Map,bn=(M,V,ee)=>{const De=M.get(V)||Q();return De.totalHits+=ee.totalHits,De.blocked+=ee.blocked,De.evaded+=ee.evaded,De.glanced+=ee.glanced,De.missed+=ee.missed,De.invulned+=ee.invulned,De.interrupted+=ee.interrupted,M.set(V,De),De};a.forEach(M=>{const V=M.details;if(!V)return;(V.targets||[]).forEach(De=>{const pe=(De==null?void 0:De.totalDamageDist)||[],Ve=Array.isArray(pe)?pe[0]:null;Ve==null||Ve.forEach(Xe=>{if(!(Xe!=null&&Xe.id))return;const Pt=Number(Xe.id),At=B.get(Pt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};At.totalDamage+=Number(Xe.totalDamage||0),At.connectedHits+=Number(Xe.connectedHits||0);const Ot=Number.isFinite(Number(Xe.min))?Number(Xe.min):0;At.minTotal+=Ot,At.minCount+=1,B.set(Pt,At)})})}),a.forEach((M,V)=>{var ht,Fn;const ee=M.details;if(!ee)return;const De=ee.players;console.log(`[useStatsAggregation] Processing log ${V}:`,{playerCount:De==null?void 0:De.length,hasTargets:!!ee.targets,firstPlayer:De!=null&&De[0]?{account:De[0].account,notInSquad:De[0].notInSquad}:"none"});const pe=ee.targets||[],Ve=ee.skillMap||{},Xe=ee.buffMap||{},Pt=new Map,At=new Map;pe.forEach(oe=>{const _e=(oe==null?void 0:oe.totalDamageDist)||[],Ge=Array.isArray(_e)?_e[0]:null;Ge==null||Ge.forEach(Ft=>{var Ct;if(!(Ft!=null&&Ft.id))return;const Nt=Number(Ft.id),fe=((Ct=Ve==null?void 0:Ve[Nt])==null?void 0:Ct.name)||Ft.name||Ft.skillName||String(Nt),Ae=Pt.get(Nt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Ae.totalDamage+=Number(Ft.totalDamage||0),Ae.connectedHits+=Number(Ft.connectedHits||0);const We=Number.isFinite(Number(Ft.min))?Number(Ft.min):0;Ae.minTotal+=We,Ae.minCount+=1,Pt.set(Nt,Ae);const qe=At.get(fe)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};qe.totalDamage+=Number(Ft.totalDamage||0),qe.connectedHits+=Number(Ft.connectedHits||0);const Bt=Number.isFinite(Number(Ft.min))?Number(Ft.min):0;qe.minTotal+=Bt,qe.minCount+=1,At.set(fe,qe)})});const Ot=oe=>{const _e=Pt.get(oe);if(!_e||_e.connectedHits<=0)return{avg:1,min:1};const Ge=_e.connectedHits>0?_e.totalDamage/_e.connectedHits:0,Ft=_e.minCount>0?_e.minTotal/_e.minCount:Ge;return{avg:Ge||1,min:Ft||1}},ln=oe=>{const _e=At.get(oe);if(!_e||_e.connectedHits<=0)return{avg:1,min:1};const Ge=_e.connectedHits>0?_e.totalDamage/_e.connectedHits:0,Ft=_e.minCount>0?_e.minTotal/_e.minCount:Ge;return{avg:Ge||1,min:Ft||1}},tn=ee.combatReplayMetaData||{},Rn=(tn==null?void 0:tn.inchToPixel)>0?tn.inchToPixel:1,Ze=(tn==null?void 0:tn.pollingRate)>0?tn.pollingRate:1,Qe=5e3,ut=oe=>Array.isArray(oe)?oe.map(_e=>Array.isArray(_e)?[Number(_e[0]),Number(_e[1])]:null).filter(_e=>!!_e&&Number.isFinite(_e[0])):[];let Rt=[],Kt=ee.durationMS||0,ve=!1;const ke=De.find(oe=>(oe==null?void 0:oe.hasCommanderTag)&&!(oe!=null&&oe.notInSquad));(ht=ke==null?void 0:ke.combatReplayData)!=null&&ht.positions&&(Rt=ke.combatReplayData.positions,ut(ke.combatReplayData.dead).forEach(([_e])=>{_e>0&&(ve=!0,Kt=Math.min(Kt,_e))}));const $e=oe=>{var qe;const _e=(qe=oe.statsAll)==null?void 0:qe[0];if((_e==null?void 0:_e.distToCom)!==void 0&&(_e==null?void 0:_e.distToCom)!=="Infinity")return Math.round(Number(_e.distToCom));if((_e==null?void 0:_e.stackDist)!==void 0)return Math.round(Number(_e.stackDist))||0;if(oe.hasCommanderTag)return 0;const Ge=oe.combatReplayData;if(!(Ge!=null&&Ge.positions)||!Rt.length)return 0;const Ft=Ge.positions,Nt=ut(Ge.dead),fe=ut(Ge.down),Ae=Math.floor((Ge.start||0)/Ze);let We=0;if(Nt.length&&fe.length)for(const[Bt]of Nt){if(Bt<0)continue;const Ct=Math.max(0,Math.floor(Bt/Ze))-Ae;for(const[pt,Tt]of fe){if(Bt!==Tt)continue;const Et=ve&&pt>Kt?Math.max(1,Math.floor(Kt/Ze)):Ct,Ut=Math.max(0,Math.min(Et,Ft.length,Rt.length));if(Ut<=0)continue;let zt=0;for(let Dt=0;Dt<Ut;Dt++){const[Oe,et]=Ft[Dt],[gt,dt]=Rt[Dt];zt+=Math.hypot(Oe-gt,et-dt)}We=Math.round(zt/Ut/Rn)}}return We},Le=De.filter(oe=>!oe.notInSquad);g+=Le.length,b+=pe.filter(oe=>!oe.isFake).length,OU(De,{durationMS:ee.durationMS,buffMap:ee.buffMap});const{squadDeaths:Ke,enemyDeaths:he}=P(ee);w+=Ke,S+=he,N+=Ke,C+=he,T(ee)?v++:x++;const Je=ee.skillMap?Number((Fn=Object.keys(ee.skillMap).find(oe=>{var _e,Ge;return((Ge=(_e=ee.skillMap)==null?void 0:_e[oe])==null?void 0:Ge.name)==="Battle Standard"}))==null?void 0:Fn.replace(/^s/,"")):null;De.forEach((oe,_e)=>{var pi,sr,Za,Hs,Ac,ua,qs,Im,id,Ea,Pl,_m,Lm;if(oe.notInSquad)return;const Ge=oe.account||"Unknown",Ft=Ge!=="Unknown"?Ge:oe.name||"Unknown",Nt=oe.name||"Unknown";_.has(Ft)||_.set(Ft,{name:Nt,account:Ft,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:oe.profession||"Unknown",professions:new Set,professionTimeMs:{},isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const fe=_.get(Ft);if(oe.hasCommanderTag&&(fe.isCommander=!0),oe.profession&&oe.profession!=="Unknown"){fe.profession=oe.profession,fe.professions.add(oe.profession);const Pe=Array.isArray(oe.activeTimes)&&typeof oe.activeTimes[0]=="number"?oe.activeTimes[0]:ee.durationMS||0;fe.professionTimeMs[oe.profession]=(fe.professionTimeMs[oe.profession]||0)+Pe}fe.logsJoined++,fe.downContrib+=EU(oe),fe.cleanses+=PU(oe),fe.strips+=AU(oe,f),fe.healing+=TU(oe),fe.barrier+=DU(oe),fe.cc+=MU(oe,f),fe.stab+=oe.stabGeneration||0;const Ae=$e(oe);Ae<=Qe&&(fe.totalDist+=Ae,fe.distCount++),(pi=oe.defenses)!=null&&pi[0]&&(fe.dodges+=oe.defenses[0].dodgeCount||0,fe.downs+=oe.defenses[0].downCount||0,fe.deaths+=oe.defenses[0].deadCount||0),ee.durationMS&&(fe.totalFightMs+=ee.durationMS);const We=Array.isArray(oe.activeTimes)&&typeof oe.activeTimes[0]=="number"?oe.activeTimes[0]:ee.durationMS||0;fe.defenseActiveMs+=We,fe.supportActiveMs+=We,fe.healingActiveMs+=We,Array.isArray(oe.buffUptimes)&&oe.buffUptimes.length>0&&oe.buffUptimes.forEach(Pe=>{var gi,Lo,$m,Rm,da,Fm;if(typeof(Pe==null?void 0:Pe.id)!="number")return;const He=`b${Pe.id}`,ze=((gi=ee.buffMap)==null?void 0:gi[He])||((Lo=ee.buffMap)==null?void 0:Lo[String(Pe.id)]);if(!ze||k(ze))return;const at=Number(((Rm=($m=Pe.buffData)==null?void 0:$m[0])==null?void 0:Rm.uptime)??0),Ht=Number(((Fm=(da=Pe.buffData)==null?void 0:da[0])==null?void 0:Fm.presence)??0);if((!Number.isFinite(at)||at<=0)&&(!Number.isFinite(Ht)||Ht<=0))return;const er=(ze==null?void 0:ze.stacking)??!1,zr=(er?Number.isFinite(at)?at:0:Number.isFinite(at)?at/100:0)*We,Ur=er?Ht:at,ks=Math.min(Math.max(Number.isFinite(Ur)?Ur:0,0),100)/100*We,Ta=Number.isFinite(zr)&&zr>0,qi=Number.isFinite(ks)&&ks>0;if(!Ta&&!qi)return;const Ki=Vc(ze==null?void 0:ze.name);if(Ki&&Vz.has(Ki)&&(!(ze!=null&&ze.classification)||ze.classification==="Condition")){const Ks=zr/1e3,vi=ze==null?void 0:ze.icon,Al=K[Ki]||{name:Ki,icon:vi,applications:0,damage:0};Al.applicationsFromUptime=(Al.applicationsFromUptime||0)+Ks,!Al.icon&&vi&&(Al.icon=vi),K[Ki]=Al;const El=fe.outgoingConditions[Ki]||{applications:0,damage:0,skills:{},icon:vi};El.applicationsFromUptime=(El.applicationsFromUptime||0)+Ks,!El.icon&&vi&&(El.icon=vi),fe.outgoingConditions[Ki]=El;const yi=ie[Ki]||{name:Ki,icon:vi,applications:0,damage:0};yi.applicationsFromUptime=(yi.applicationsFromUptime||0)+Ks,!yi.icon&&vi&&(yi.icon=vi),ie[Ki]=yi;const Tl=fe.incomingConditions[Ki]||{applications:0,damage:0,skills:{},icon:vi};Tl.applicationsFromUptime=(Tl.applicationsFromUptime||0)+Ks,!Tl.icon&&vi&&(Tl.icon=vi),fe.incomingConditions[Ki]=Tl}J.has(He)||J.set(He,{name:ze==null?void 0:ze.name,stacking:er,icon:ze==null?void 0:ze.icon}),G.has(He)||G.set(He,new Map);const Ec=G.get(He),Da=fe.account||oe.account||oe.name||"Unknown";let Ma=Ec.get(Da);Ma||(Ma={account:Da,profession:fe.profession||oe.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Ec.set(Da,Ma));const Dr=oe.profession||fe.profession;Dr&&Dr!=="Unknown"&&(Ma.professions.add(Dr),Ma.professionTimeMs[Dr]=(Ma.professionTimeMs[Dr]||0)+We,Ma.profession=Dr),Ma.totalMs+=Ta?zr:0,Ma.uptimeMs+=qi?ks:0,Ma.durationMs+=We}),(sr=oe.defenses)!=null&&sr[0]&&QM.forEach(Pe=>{const He=Number(oe.defenses[0][Pe.field]??0);Number.isFinite(He)&&(fe.defenseTotals[Pe.id]=(fe.defenseTotals[Pe.id]||0)+He)}),(Za=oe.support)!=null&&Za[0]&&ZM.forEach(Pe=>{let He=Number(oe.support[0][Pe.field]??0);Number.isFinite(He)&&(A.has(Pe.field)&&He>999999&&(He=0),fe.supportTotals[Pe.id]=(fe.supportTotals[Pe.id]||0)+He)});const qe=(Pe,He)=>{Number.isFinite(He)&&(fe.healingTotals[Pe]=(fe.healingTotals[Pe]||0)+He)},Bt=(Pe,He)=>Array.isArray(Pe)?Pe.reduce((ze,at)=>ze+Number((at==null?void 0:at[He])??0),0):0,Ct=(Pe,He,ze)=>{if(!Number.isFinite(ze)||ze<=0)return;const at=De[He],Ht=He===_e,er=at==null?void 0:at.notInSquad,Bn=!er,zr=Bn&&(at==null?void 0:at.group)!=null&&at.group===oe.group;qe(Pe,ze),Bn&&qe(`squad${Pe[0].toUpperCase()}${Pe.slice(1)}`,ze),zr&&qe(`group${Pe[0].toUpperCase()}${Pe.slice(1)}`,ze),Ht&&qe(`self${Pe[0].toUpperCase()}${Pe.slice(1)}`,ze),er&&qe(`offSquad${Pe[0].toUpperCase()}${Pe.slice(1)}`,ze)};if(Array.isArray(oe.rotation)){let Pe=0;oe.rotation.forEach(He=>{var at;if(!(He!=null&&He.id)||!Gz(He.id,ee.skillMap))return;const ze=((at=He.skills)==null?void 0:at.length)||0;ze>0&&(Pe+=ze,qe(`resUtility_s${He.id}`,ze))}),Pe>0&&qe("resUtility",Pe)}const pt=(Hs=oe.extHealingStats)==null?void 0:Hs.outgoingHealingAllies;Array.isArray(pt)&&pt.forEach((Pe,He)=>{const ze=Bt(Pe,"healing"),at=Bt(Pe,"downedHealing");Ct("healing",He,ze),Ct("downedHealing",He,at)});const Tt=(Ac=oe.extBarrierStats)==null?void 0:Ac.outgoingBarrierAllies;Array.isArray(Tt)&&Tt.forEach((Pe,He)=>{const ze=Bt(Pe,"barrier");Ct("barrier",He,ze)});const Et=(ua=oe.statsAll)==null?void 0:ua[0],Ut=(qs=oe.dpsAll)==null?void 0:qs[0],zt=(Im=oe.support)==null?void 0:Im[0];if(XM.forEach(Pe=>{if(Pe.id==="downContributionPercent"||!Pe.field)return;let He=0,ze=0;Pe.source==="dpsAll"&&Ut?He=Number(Ut[Pe.field]??0):Pe.source==="statsAll"&&Et?(He=Number(Et[Pe.field]??0),ze=Number(Et[Pe.denomField||Pe.weightField||"connectedDamageCount"]??0)):Pe.source==="support"&&zt?He=Number(zt[Pe.field]??0):oe.statsTargets&&oe.statsTargets.forEach(at=>{at!=null&&at[0]&&(He+=Number(at[0][Pe.field]??0),ze+=Number(at[0][Pe.denomField||Pe.weightField||"connectedDamageCount"]??0))}),Number.isFinite(He)&&(fe.offenseTotals[Pe.id]=(fe.offenseTotals[Pe.id]||0)+He,Pe.isRate&&ze>0&&(fe.offenseRateWeights[Pe.id]=(fe.offenseRateWeights[Pe.id]||0)+ze))}),oe.targetDamageDist&&Number.isFinite(Je)){const Pe=oe.targetDamageDist.flatMap(He=>He||[]).flatMap(He=>He||[]).reduce((He,ze)=>ze!=null&&ze.id&&ze.id===Je?He+((ze==null?void 0:ze.connectedHits)||0):He,0);fe.offenseTotals.battleStandardHits=(fe.offenseTotals.battleStandardHits||0)+Pe}fe.revives+=((Ea=(id=oe.support)==null?void 0:id[0])==null?void 0:Ea.resurrects)||0,Ut&&(fe.damage+=Ut.damage||0,fe.dps+=Ut.dps||0);const Dt=Pe=>{var Ht,er,Bn,zr;let He=`Skill ${Pe.id}`;const ze=((Ht=ee.skillMap)==null?void 0:Ht[`s${Pe.id}`])||((er=ee.skillMap)==null?void 0:er[`${Pe.id}`]);let at=ze==null?void 0:ze.icon;if(ze!=null&&ze.name&&(He=ze.name),He.startsWith("Skill ")){const Ur=Hh(He,Pe.id,ee.buffMap);Ur&&(He=Ur,at=((zr=(Bn=ee.buffMap)==null?void 0:Bn[`b${Pe.id}`])==null?void 0:zr.icon)||at)}return{name:He,icon:at}},Oe=Pe=>{if(!(Pe!=null&&Pe.id))return;const{name:He,icon:ze}=Dt(Pe);$[Pe.id]||($[Pe.id]={name:He,icon:ze,damage:0,hits:0,downContribution:0}),$[Pe.id].name.startsWith("Skill ")&&!He.startsWith("Skill ")&&($[Pe.id].name=He),!$[Pe.id].icon&&ze&&($[Pe.id].icon=ze),$[Pe.id].damage+=Pe.totalDamage,$[Pe.id].hits+=Pe.connectedHits,$[Pe.id].downContribution+=Number(Pe.downContribution||0)},et=oe.account||oe.name||"Unknown",gt=oe.profession||"Unknown",dt=`${et}|${gt}`;let Qt=te.get(dt);Qt||(Qt={key:dt,account:et,displayName:et,profession:gt,professionList:[gt],totalFightMs:0,skills:new Map},te.set(dt,Qt)),Qt.professionList.includes(gt)||Qt.professionList.push(gt),Qt.totalFightMs+=ee.durationMS||0;const yn=Pe=>{if(!(Pe!=null&&Pe.id))return;const{name:He,icon:ze}=Dt(Pe),at=`s${Pe.id}`;let Ht=Qt.skills.get(at);Ht||(Ht={id:at,name:He,icon:ze,damage:0,downContribution:0},Qt.skills.set(at,Ht)),Ht.name.startsWith("Skill ")&&!He.startsWith("Skill ")&&(Ht.name=He),!Ht.icon&&ze&&(Ht.icon=ze),Ht.damage+=Number(Pe.totalDamage||0),Ht.downContribution+=Number(Pe.downContribution||0)};if(m==="total")(Pl=oe.totalDamageDist)==null||Pl.forEach(Pe=>{Pe==null||Pe.forEach(He=>{Oe(He),yn(He)})});else{const Pe=new Map;(_m=oe.targetDamageDist)==null||_m.forEach(ze=>{ze==null||ze.forEach(at=>{at==null||at.forEach(Ht=>{const er=Number(Ht==null?void 0:Ht.id);if(Number.isFinite(er)){const Bn=Pe.get(er)||{damage:0,hits:0,downContribution:0};Bn.damage+=Number((Ht==null?void 0:Ht.totalDamage)||0),Bn.hits+=Number((Ht==null?void 0:Ht.connectedHits)||0),Bn.downContribution+=Number((Ht==null?void 0:Ht.downContribution)||0),Pe.set(er,Bn)}Oe(Ht),yn(Ht)})})}),!(ee!=null&&ee.detailedWvW)&&((Lm=oe.totalDamageDist)==null||Lm.forEach(ze=>{ze==null||ze.forEach(at=>{const Ht=Number(at==null?void 0:at.id);if(!Number.isFinite(Ht))return;const er=Pe.get(Ht);if(!er){Oe(at),yn(at);return}const Bn=Number((at==null?void 0:at.totalDamage)||0),zr=Number((at==null?void 0:at.connectedHits)||0),Ur=Number((at==null?void 0:at.downContribution)||0),Oi=Bn-Number(er.damage||0),ks=zr-Number(er.hits||0),Ta=Ur-Number(er.downContribution||0);if(Oi<=0&&ks<=0&&Ta<=0)return;const qi={...at,totalDamage:Math.max(0,Oi),connectedHits:Math.max(0,ks),downContribution:Math.max(0,Ta)};Oe(qi),yn(qi)})}))}oe.totalDamageTaken&&oe.totalDamageTaken.forEach(Pe=>{Pe==null||Pe.forEach(He=>{var er,Bn,zr,Ur;if(!(He!=null&&He.id))return;let ze=`Skill ${He.id}`;const at=((er=ee.skillMap)==null?void 0:er[`s${He.id}`])||((Bn=ee.skillMap)==null?void 0:Bn[`${He.id}`]);let Ht=at==null?void 0:at.icon;if(at!=null&&at.name&&(ze=at.name),ze.startsWith("Skill ")){const Oi=Hh(ze,He.id,ee.buffMap);Oi&&(ze=Oi,Ht=((Ur=(zr=ee.buffMap)==null?void 0:zr[`b${He.id}`])==null?void 0:Ur.icon)||Ht)}D[He.id]||(D[He.id]={name:ze,icon:Ht,damage:0,hits:0}),(!D[He.id].name.startsWith("Skill ")||ze.startsWith("Skill "))&&(D[He.id].name=ze),!D[He.id].icon&&Ht&&(D[He.id].icon=Ht),D[He.id].damage+=He.totalDamage,D[He.id].hits+=He.hits})})}),pe.forEach(oe=>{if(oe!=null&&oe.isFake)return;const _e=U((oe==null?void 0:oe.profession)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.id));_e&&(H[_e]=(H[_e]||0)+1)});const xe=FU({players:De,targets:pe,skillMap:ee.skillMap,buffMap:ee.buffMap,getPlayerKey:oe=>oe.account&&oe.account!=="Unknown"?oe.account:oe.name||null}),it=kO(ee.buffMap);Object.entries(xe.playerConditions).forEach(([oe,_e])=>{const Ge=_.get(oe);Ge&&Object.entries(_e).forEach(([Ft,Nt])=>{const fe=Ge.outgoingConditions[Ft]||{applications:0,damage:0,skills:{},icon:Nt.icon};fe.applications+=Number(Nt.applications||0),fe.damage+=Number(Nt.damage||0),Nt.applicationsFromBuffs&&(fe.applicationsFromBuffs=(fe.applicationsFromBuffs||0)+Nt.applicationsFromBuffs),Nt.applicationsFromBuffsActive&&(fe.applicationsFromBuffsActive=(fe.applicationsFromBuffsActive||0)+Nt.applicationsFromBuffsActive),Object.entries(Nt.skills||{}).forEach(([Ae,We])=>{const qe=fe.skills[Ae]||{name:We.name,hits:0,damage:0,icon:We.icon};qe.hits+=Number(We.hits||0),qe.damage+=Number(We.damage||0),!qe.icon&&We.icon&&(qe.icon=We.icon),fe.skills[Ae]=qe}),!fe.icon&&Nt.icon&&(fe.icon=Nt.icon),Ge.outgoingConditions[Ft]=fe})}),Object.entries(xe.summary).forEach(([oe,_e])=>{const Ge=K[oe]||{name:_e.name||oe,icon:_e.icon,applications:0,damage:0};Ge.applications+=Number(_e.applications||0),Ge.damage+=Number(_e.damage||0),_e.applicationsFromBuffs&&(Ge.applicationsFromBuffs=(Ge.applicationsFromBuffs||0)+_e.applicationsFromBuffs),_e.applicationsFromBuffsActive&&(Ge.applicationsFromBuffsActive=(Ge.applicationsFromBuffsActive||0)+_e.applicationsFromBuffsActive),!Ge.icon&&_e.icon&&(Ge.icon=_e.icon),K[oe]=Ge}),Le.forEach(oe=>{const _e=oe.account&&oe.account!=="Unknown"?oe.account:oe.name||"Unknown",Ge=_.get(_e);!Ge||!oe.totalDamageTaken||oe.totalDamageTaken.forEach(Ft=>Ft==null?void 0:Ft.forEach(Nt=>{var Dt,Oe,et,gt,dt,Qt;if(!(Nt!=null&&Nt.id))return;let fe=`Skill ${Nt.id}`;const Ae=((Dt=ee.skillMap)==null?void 0:Dt[`s${Nt.id}`])||((Oe=ee.skillMap)==null?void 0:Oe[`${Nt.id}`]);Ae!=null&&Ae.name&&(fe=Ae.name);const We=Hh(fe,Nt.id,ee.buffMap);if(!We)return;const qe=(gt=(et=ee.buffMap)==null?void 0:et[`b${Nt.id}`])==null?void 0:gt.name,Bt=it.get(We)||((Qt=(dt=ee.buffMap)==null?void 0:dt[`b${Nt.id}`])==null?void 0:Qt.icon),Ct=(Ae==null?void 0:Ae.icon)||Bt;fe.startsWith("Skill ")&&(qe||We)&&(fe=qe||We);const pt=Number(Nt.hits??0),Tt=Number(Nt.totalDamage??0),Et=ie[We]||{name:We,icon:Bt,applications:0,damage:0};Et.applications+=Number.isFinite(pt)?pt:0,Et.damage+=Number.isFinite(Tt)?Tt:0,!Et.icon&&Bt&&(Et.icon=Bt),ie[We]=Et;const Ut=Ge.incomingConditions[We]||{applications:0,damage:0,skills:{},icon:Bt};Ut.applications+=Number.isFinite(pt)?pt:0,Ut.damage+=Number.isFinite(Tt)?Tt:0;const zt=Ut.skills[fe]||{name:fe,hits:0,damage:0,icon:Ct};zt.hits+=Number.isFinite(pt)?pt:0,zt.damage+=Number.isFinite(Tt)?Tt:0,!zt.icon&&Ct&&(zt.icon=Ct),Ut.skills[fe]=zt,!Ut.icon&&Bt&&(Ut.icon=Bt),Ge.incomingConditions[We]=Ut}))});const It=ee.player_damage_mitigation||ee.playerDamageMitigation,Pn=It&&typeof It=="object"&&Object.keys(It).length>0;Pn&&Object.entries(It).forEach(([oe,_e])=>{if(!_e||typeof _e!="object")return;const Ge=Z(oe),Ft=L(O,Ge.account,Ge);Object.values(_e).forEach(Nt=>{F((Nt==null?void 0:Nt.avoided_damage)??(Nt==null?void 0:Nt.avoidedDamage))<=0||le(Ft.mitigationTotals,Nt)})});const Xt=ee.player_minion_damage_mitigation||ee.playerMinionDamageMitigation,Tr=Xt&&typeof Xt=="object"&&Object.keys(Xt).length>0;Tr&&Object.entries(Xt).forEach(([oe,_e])=>{if(!_e||typeof _e!="object")return;const Ge=Z(oe);Object.entries(_e).forEach(([Ft,Nt])=>{if(!Nt||typeof Nt!="object")return;const fe=`${Ge.account}::${Ft}`,Ae=W(re,fe,{...Ge,minion:String(Ft||"Unknown")});Object.values(Nt).forEach(We=>{le(Ae.mitigationTotals,We)})})}),(!Pn||!Tr)&&(Pn||Le.forEach(oe=>{const _e=(oe==null?void 0:oe.totalDamageTaken)||[];if(!Array.isArray(_e)||_e.length===0)return;const Ge=oe.account||oe.name||"Unknown",Ft={account:Ge,name:oe.name||Ge,profession:U(oe.profession||"Unknown")};L(O,Ge,Ft);const Nt=ee.skillMap||{},fe=ee.buffMap||{},Ae=Array.isArray(_e)?_e[0]:null;if(Ae==null||Ae.forEach(We=>{if(!(We!=null&&We.id))return;const qe=F(We.blocked),Bt=F(We.evaded),Ct=F(We.glance??We.glanced),pt=F(We.missed),Tt=F(We.invulned),Et=F(We.interrupted),Ut=F(We.hits??We.connectedHits),zt=Number(We.id),Dt=z(zt,Nt,fe);if(bn(vt,`${Ge}::${zt}`,{totalHits:Ut,blocked:qe,evaded:Bt,glanced:Ct,missed:pt,invulned:Tt,interrupted:Et}),Ge===X){const Oe=B.get(zt),et=I(zt),gt=et.hasSkill?et.hits>0?et.avg:0:1,dt=et.hasSkill?et.min||0:1,Qt=et.hits>0?Ct*gt/2+(qe+Bt+pt+Tt+Et)*gt:0,yn=et.hits>0?Ct*dt/2+(qe+Bt+pt+Tt+Et)*dt:0;Fe.push({logId:M.filePath||M.id||V,skillId:We.id,skillName:Dt,blocked:qe,evaded:Bt,glanced:Ct,missed:pt,invulned:Tt,interrupted:Et,totalAvoids:qe+Bt+Ct+pt+Tt+Et,avg:gt,min:dt,enemyHits:(Oe==null?void 0:Oe.connectedHits)??0,enemyTotalDmg:(Oe==null?void 0:Oe.totalDamage)??0,avoidDmg:Qt,avoidMinDmg:yn})}}),Ge===X){const We=(qe,Bt)=>{let Ct=0,pt=0,Tt=0;if(!Array.isArray(qe))return{total:Ct,minTotal:pt,hits:Tt};for(const Et of qe){if(!(Et!=null&&Et.id))continue;const Ut=F(Et.blocked),zt=F(Et.evaded),Dt=F(Et.glance??Et.glanced),Oe=F(Et.missed),et=F(Et.invulned),gt=F(Et.interrupted),dt=z(Number(Et.id),Ve,Xe),Qt=Bt(Number(Et.id),dt);(Qt.hits??0)>0&&(Ct+=Dt*Qt.avg/2+(Ut+zt+Oe+et+gt)*Qt.avg,pt+=Dt*Qt.min/2+(Ut+zt+Oe+et+gt)*Qt.min),Tt+=F(Et.hits??Et.connectedHits)}return{total:Ct,minTotal:pt,hits:Tt}};Te.push({logId:M.filePath||M.id||V,variant:"current_global_name_taken0",...We(Ae,(qe,Bt)=>{const Ct=I(qe),pt=Ct.hasSkill?Ct.hits>0?Ct.avg:0:1,Tt=Ct.hasSkill?Ct.min||0:1;return{avg:pt,min:Tt,hits:Ct.hits}})})}}),Tr||Le.forEach(oe=>{const _e=(oe==null?void 0:oe.minions)||[];if(!Array.isArray(_e)||_e.length===0)return;const Ge=oe.account||oe.name||"Unknown",Ft={account:Ge,name:oe.name||Ge,profession:U(oe.profession||"Unknown")},Nt=ee.skillMap||{},fe=ee.buffMap||{};_e.forEach(Ae=>{const We=(Ae==null?void 0:Ae.totalDamageTakenDist)||[];if(!Array.isArray(We)||We.length===0)return;let qe=String((Ae==null?void 0:Ae.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";qe.toUpperCase().includes("UNKNOWN")&&(qe="Unknown");const Bt=`${Ge}::${qe}`;W(re,Bt,{...Ft,minion:qe});const Ct=Array.isArray(We)?We[0]:null;if(Ct==null||Ct.forEach(pt=>{if(!(pt!=null&&pt.id))return;const Tt=F(pt.blocked),Et=F(pt.evaded),Ut=F(pt.glance??pt.glanced),zt=F(pt.missed),Dt=F(pt.invulned),Oe=F(pt.interrupted),et=F(pt.hits??pt.connectedHits),gt=Number(pt.id),dt=z(gt,Nt,fe);if(bn(on,`${Bt}::${gt}`,{totalHits:et,blocked:Tt,evaded:Et,glanced:Ut,missed:zt,invulned:Dt,interrupted:Oe}),Ge===X&&qe===Ne){const Qt=B.get(gt),yn=I(gt),pi=yn.hasSkill?yn.hits>0?yn.avg:0:1,sr=yn.hasSkill?yn.min||0:1,Za=yn.hits>0?Ut*pi/2+(Tt+Et+zt+Dt+Oe)*pi:0,Hs=yn.hits>0?Ut*sr/2+(Tt+Et+zt+Dt+Oe)*sr:0;Me.push({logId:M.filePath||M.id||V,skillId:pt.id,skillName:dt,blocked:Tt,evaded:Et,glanced:Ut,missed:zt,invulned:Dt,interrupted:Oe,totalAvoids:Tt+Et+Ut+zt+Dt+Oe,avg:pi,min:sr,enemyHits:(Qt==null?void 0:Qt.connectedHits)??0,enemyTotalDmg:(Qt==null?void 0:Qt.totalDamage)??0,avoidDmg:Za,avoidMinDmg:Hs})}}),Ge===X&&qe===Ne){const pt=(zt,Dt)=>{let Oe=0,et=0,gt=0;if(!Array.isArray(zt))return{total:Oe,minTotal:et,hits:gt};for(const dt of zt){if(!(dt!=null&&dt.id))continue;const Qt=F(dt.blocked),yn=F(dt.evaded),pi=F(dt.glance??dt.glanced),sr=F(dt.missed),Za=F(dt.invulned),Hs=F(dt.interrupted),Ac=z(Number(dt.id),Ve,Xe),{avg:ua,min:qs}=Dt(Number(dt.id),Ac);F(dt.hits??dt.connectedHits)>0&&(Oe+=pi*ua/2+(Qt+yn+sr+Za+Hs)*ua,et+=pi*qs/2+(Qt+yn+sr+Za+Hs)*qs),gt+=F(dt.hits??dt.connectedHits)}return{total:Oe,minTotal:et,hits:gt}},Tt=Array.isArray(We)?We[0]||[]:[],Et=Array.isArray(We)?We.flat():[],Ut=Array.isArray(Ae==null?void 0:Ae.totalDamageTaken)?Ae.totalDamageTaken[0]||[]:[];se.push({logId:M.filePath||M.id||V,variant:"current_global_name_dist0",...pt(Tt,(zt,Dt)=>{const Oe=I(zt),et=Oe.hasSkill?Oe.hits>0?Oe.avg:0:1,gt=Oe.hasSkill&&Oe.min||0;return{avg:et,min:gt}})}),se.push({logId:M.filePath||M.id||V,variant:"local_name_dist0",...pt(Tt,(zt,Dt)=>ln(Dt))}),se.push({logId:M.filePath||M.id||V,variant:"local_id_dist0",...pt(Tt,zt=>Ot(zt))}),se.push({logId:M.filePath||M.id||V,variant:"global_name_alllists",...pt(Et,(zt,Dt)=>{const Oe=I(zt),et=Oe.hasSkill?Oe.hits>0?Oe.avg:0:1,gt=Oe.hasSkill&&Oe.min||0;return{avg:et,min:gt}})}),se.push({logId:M.filePath||M.id||V,variant:"global_name_taken0",...pt(Ut,(zt,Dt)=>{const Oe=I(zt),et=Oe.hasSkill?Oe.hits>0?Oe.avg:0:1,gt=Oe.hasSkill&&Oe.min||0;return{avg:et,min:gt}})})}})}))}),Me.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(Me),se.length>0&&console.table(se),console.groupEnd()),Fe.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(Fe),Te.length>0&&console.table(Te),console.groupEnd());const hn=(M,V)=>{const ee=new Map,De=pe=>{let Ve=ee.get(pe);return Ve||(Ve=Q(),ee.set(pe,Ve)),Ve};V.forEach((pe,Ve)=>{const Xe=Ve.lastIndexOf("::"),Pt=Xe>-1?Ve.slice(0,Xe):Ve,At=Xe>-1?Number(Ve.slice(Xe+2)):Number.NaN,Ot=Number.isFinite(At)?I(At):{hasSkill:!1,avg:0,min:0,hits:0};if(!Ot.hasSkill||Ot.hits<=0)return;const ln=Ot.avg,tn=Ot.min,Rn=pe.glanced*ln/2+(pe.blocked+pe.evaded+pe.missed+pe.invulned+pe.interrupted)*ln,Ze=pe.glanced*tn/2+(pe.blocked+pe.evaded+pe.missed+pe.invulned+pe.interrupted)*tn;if(Rn<=0)return;const Qe=De(Pt);Qe.totalHits+=pe.totalHits,Qe.blocked+=pe.blocked,Qe.evaded+=pe.evaded,Qe.glanced+=pe.glanced,Qe.missed+=pe.missed,Qe.invulned+=pe.invulned,Qe.interrupted+=pe.interrupted,Qe.totalMitigation+=Rn,Qe.minMitigation+=Ze}),M.forEach((pe,Ve)=>{const Xe=ee.get(Ve)||Q();pe.mitigationTotals.totalHits=Xe.totalHits,pe.mitigationTotals.blocked=Xe.blocked,pe.mitigationTotals.evaded=Xe.evaded,pe.mitigationTotals.glanced=Xe.glanced,pe.mitigationTotals.missed=Xe.missed,pe.mitigationTotals.invulned=Xe.invulned,pe.mitigationTotals.interrupted=Xe.interrupted,pe.mitigationTotals.totalMitigation=Xe.totalMitigation,pe.mitigationTotals.minMitigation=Xe.minMitigation})};hn(O,vt),hn(re,on);const ue=p>0?Math.round(g/p):0,je=p>0?Math.round(b/p):0,Lt=w>0?(S/w).toFixed(2):S>0?"":"0.00",Gt=C>0?(N/C).toFixed(2):N>0?"":"0.00",Yt=(M,V)=>{const De=M.filter(Xe=>Number.isFinite(Xe.value)&&(V?Xe.value>0:Xe.value>=0)).sort((Xe,Pt)=>{const At=V?Pt.value-Xe.value:Xe.value-Pt.value;return At!==0?At:Xe.account.localeCompare(Pt.account)});let pe=null,Ve=0;return De.map((Xe,Pt)=>((pe===null||Xe.value!==pe)&&(Ve=Pt+1,pe=Xe.value),{rank:Ve,...Xe}))},kn=Array.from(_.values()).map(M=>{const V=Array.from(M.professions).filter(ee=>ee!=="Unknown");if(M.professionList=V,V.length>0){let ee=V[0],De=M.professionTimeMs[ee]||0;V.forEach(pe=>{const Ve=M.professionTimeMs[pe]||0;Ve>De&&(De=Ve,ee=pe)}),M.profession=ee}return{key:M.account,stat:M}}),Fr=M=>{const V=_.get(M.account);if(!V){const pe=M.professionList.length>0?M.professionList:M.profession?[M.profession]:[];return{...M,professionList:pe}}const ee=V.professionList&&V.professionList.length>0?V.professionList:Array.from(V.professions||[]).filter(pe=>pe&&pe!=="Unknown"),De=V.profession||M.profession;return{...M,profession:De,professionList:ee.length>0?ee:De?[De]:[],activeMs:V.defenseActiveMs||V.totalFightMs||M.activeMs}},Sr=Array.from(O.values()).map(Fr).filter(M=>ne(M.mitigationTotals)).sort((M,V)=>M.account.localeCompare(V.account)),ca=Array.from(re.values()).map(Fr).filter(M=>M.mitigationTotals.totalMitigation>0).sort((M,V)=>{const ee=M.account.localeCompare(V.account);return ee!==0?ee:String(M.minion||"").localeCompare(String(V.minion||""))}),Di=(M,V)=>{switch(V){case"downContrib":return M.downContrib;case"barrier":return M.barrier;case"healing":return M.healing;case"dodges":return M.dodges;case"strips":return M.strips;case"cleanses":return M.cleanses;case"cc":return M.cc;case"stability":return M.stab;case"revives":return M.revives;case"dps":return M.dps;case"damage":return M.damage;case"participation":return M.logsJoined;case"closestToTag":return!M.isCommander&&M.distCount>0?M.totalDist/M.distCount:Number.POSITIVE_INFINITY;default:return 0}},pn=(M,V)=>Yt(kn.map(({stat:ee})=>({account:ee.account,profession:ee.profession,professionList:ee.professionList,value:Di(ee,M),count:ee.logsJoined})),V),gn={downContrib:pn("downContrib",!0),barrier:pn("barrier",!0),healing:pn("healing",!0),dodges:pn("dodges",!0),strips:pn("strips",!0),cleanses:pn("cleanses",!0),cc:pn("cc",!0),stability:pn("stability",!0),revives:pn("revives",!0),participation:pn("participation",!0),dps:pn("dps",!0),damage:pn("damage",!0),closestToTag:pn("closestToTag",!1).filter(M=>Number.isFinite(M.value))},pr={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},un=M=>{const V=M==null?void 0:M[0];return{value:(V==null?void 0:V.value)??0,player:(V==null?void 0:V.account)??"-",count:(V==null?void 0:V.count)??0,profession:(V==null?void 0:V.profession)??"Unknown",professionList:(V==null?void 0:V.professionList)??[]}},Zr={maxDownContrib:un([]),maxBarrier:un([]),maxHealing:un([]),maxDodges:un([]),maxStrips:un([]),maxCleanses:un([]),maxCC:un([]),maxStab:un([]),closestToTag:un([])},Mi={},_o=(M,V)=>{if(V==="closestToTag")return Di(M,V);const ee=Math.max(1,(M.totalFightMs||0)/1e3);return Di(M,V)/ee};Object.values(pr).forEach(M=>{const V=M!=="closestToTag";Mi[M]=Yt(kn.map(({stat:ee})=>({account:ee.account,profession:ee.profession,professionList:ee.professionList,value:_o(ee,M),count:ee.logsJoined})),V)}),Zr.maxDownContrib=un(Mi.downContrib),Zr.maxBarrier=un(Mi.barrier),Zr.maxHealing=un(Mi.healing),Zr.maxDodges=un(Mi.dodges),Zr.maxStrips=un(Mi.strips),Zr.maxCleanses=un(Mi.cleanses),Zr.maxCC=un(Mi.cc),Zr.maxStab=un(Mi.stability),Zr.closestToTag=un(Mi.closestToTag);const rd={maxDownContrib:un(gn.downContrib),maxBarrier:un(gn.barrier),maxHealing:un(gn.healing),maxDodges:un(gn.dodges),maxStrips:un(gn.strips),maxCleanses:un(gn.cleanses),maxCC:un(gn.cc),maxStab:un(gn.stability),closestToTag:un(gn.closestToTag)};let Vs={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Cl,Ws,jl=0;if(s!=null&&s.showMvp){const M={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},V=Ve=>{const Xe=M[Ve];return Xe?Number(o[Xe]||0)>0:!1},ee=[],De=Ve=>[...Ve||[]].filter(Xe=>V(Xe==null?void 0:Xe.name)).sort((Xe,Pt)=>Pt.ratio-Xe.ratio||Xe.rank-Pt.rank||Xe.name.localeCompare(Pt.name)).slice(0,3),pe=Ve=>{var Pt;if(!Ve)return;const Xe=De(Ve.contribs);return{...Ve,player:Ve.name,reason:((Pt=Xe[0])==null?void 0:Pt.name)||"Top Performance",topStats:Xe}};kn.forEach(({stat:Ve})=>{let Xe=0;const Pt=[],At=(Ot,ln,tn,Rn,Ze=!0)=>{var ut,Rt;if(tn<=0)return;const Qe=((ut=ln[0])==null?void 0:ut.value)||0;if(Qe&&Number.isFinite(Ot)&&(Ze?Ot>0:Ot<Number.POSITIVE_INFINITY)){const Kt=Ze?Ot/Qe:Qe/Ot;Xe+=Kt*tn;const ve=((Rt=ln.find(ke=>ke.account===Ve.account))==null?void 0:Rt.rank)||0;Pt.push({name:Rn,ratio:Kt,val:Ot.toLocaleString(),rank:ve})}};At(Ve.downContrib,gn.downContrib,o.downContribution,"Down Contribution"),At(Ve.healing,gn.healing,o.healing,"Healing"),At(Ve.cleanses,gn.cleanses,o.cleanses,"Cleanses"),At(Ve.strips,gn.strips,o.strips,"Strips"),At(Ve.stab,gn.stability,o.stability,"Stability"),At(Ve.cc,gn.cc,o.cc,"CC"),At(Ve.revives,gn.revives,o.revives,"Revives"),At(Di(Ve,"closestToTag"),gn.closestToTag,o.distanceToTag,"Distance to Tag",!1),At(Ve.logsJoined,gn.participation,o.participation,"Participation"),At(Ve.dodges,gn.dodges,o.dodging,"Dodging"),At(Ve.dps,gn.dps,o.dps,"DPS"),At(Ve.damage,gn.damage,o.damage,"Damage"),ee.push({...Ve,score:Xe,contribs:Pt.filter(Ot=>V(Ot.name))})}),ee.sort((Ve,Xe)=>Xe.score-Ve.score),ee[0]&&ee[0].score>0&&(Vs=pe(ee[0])||Vs),Cl=pe(ee[1]),Ws=pe(ee[2]),jl=ee.length>0?ee.reduce((Ve,Xe)=>Ve+Xe.score,0)/ee.length:0}const q=Object.values($).sort((M,V)=>{const ee=h==="downContribution"?M.downContribution:M.damage;return(h==="downContribution"?V.downContribution:V.damage)-ee}).slice(0,25),me=Object.values(D).sort((M,V)=>V.damage-M.damage).slice(0,25),we=M=>{const V=String(M).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),ee=V.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return ee?`${ee[1]} Borderlands`:V||"Unknown"},nt=(M,V)=>we((M==null?void 0:M.zone)||(M==null?void 0:M.mapName)||(M==null?void 0:M.map)||(M==null?void 0:M.location)||(M==null?void 0:M.fightName)||(V==null?void 0:V.fightName)||(V==null?void 0:V.encounterName)||"Unknown"),kt=(M,V)=>{const ee=(V==null?void 0:V.permalink)||(M==null?void 0:M.permalink);if(typeof ee=="string"&&ee.trim().length>0)return ee.trim();const De=M==null?void 0:M.uploadLinks;if(!Array.isArray(De))return"";for(const pe of De){if(typeof pe=="string"&&pe.trim().length>0)return pe.trim();if(pe&&typeof pe=="object"){const Ve=pe.permalink||pe.link||pe.url||pe.reportLink;if(typeof Ve=="string"&&Ve.trim().length>0)return Ve.trim()}}return""},$t={};a.forEach(M=>{const V=nt(M==null?void 0:M.details,M);$t[V]=($t[V]||0)+1});const sn=Object.entries($t).map(([M,V])=>{const ee=String(M).trim(),De=/eternal battlegrounds|^ebg$/i.test(ee);let pe="#64748b";return De?pe="#ffffff":/red/i.test(ee)?pe="#ef4444":/blue/i.test(ee)?pe="#3b82f6":/green/i.test(ee)&&(pe="#22c55e"),{name:M,value:V,color:pe}}).sort((M,V)=>V.value-M.value),{boonTables:St}=gU(a),mt=a.map((M,V)=>{var De,pe;const ee=((De=M.details)==null?void 0:De.players)||[];return{index:V+1,label:`Log ${V+1}`,timestamp:Cs(M.details,M),squadCount:ee.filter(Ve=>!Ve.notInSquad).length,friendlyCount:ee.length,enemies:((pe=M.details)==null?void 0:pe.targets).filter(Ve=>!Ve.isFake).length}}).sort((M,V)=>M.timestamp-V.timestamp),cn={};Array.from(_.values()).forEach(M=>{M.profession&&M.profession!=="Unknown"&&(cn[M.profession]=(cn[M.profession]||0)+1)});const Ye=Object.entries(cn).map(([M,V])=>({name:M,value:V,color:ec(M)})).sort((M,V)=>V.value-M.value),yt={};Object.keys(H).length===0&&a.forEach(M=>{var V,ee;(ee=(V=M.details)==null?void 0:V.targets)==null||ee.forEach(De=>{if(De.isFake)return;const pe=De.profession&&De.profession!=="Unknown"?De.profession:De.name||De.id||"Unknown",Ve=U(pe);yt[Ve]=(yt[Ve]||0)+1})});const Cn=Object.keys(H).length>0?H:yt,en=Object.entries(Cn).map(([M,V])=>({name:M,value:V,color:ec(M)})).sort((M,V)=>V.value-M.value),Jr=a.map((M,V)=>({log:M,originalIndex:V})).sort((M,V)=>Cs(M.log.details,M.log)-Cs(V.log.details,V.log)).map(({log:M},V)=>{const ee=M.details;if(!ee)return null;const De=ee.players||[],pe=De.filter(he=>!he.notInSquad),Ve=De.filter(he=>he.notInSquad),Pt=(ee.targets||[]).filter(he=>!he.isFake),At=pe.reduce((he,Ie)=>{var Je,xe;return he+(((xe=(Je=Ie.dpsAll)==null?void 0:Je[0])==null?void 0:xe.damage)||0)},0),Ot=pe.reduce((he,Ie)=>{var Je,xe;return he+(((xe=(Je=Ie.defenses)==null?void 0:Je[0])==null?void 0:xe.damageTaken)||0)},0),{enemyDeaths:ln,enemyDownsDeaths:tn}=P(ee),Rn=T(ee),Ze=Cs(ee,M),Qe=nt(ee,M),ut=he=>{if(!he||typeof he!="object")return;const Ie=he.teamID??he.teamId??he.team??he.teamColor??he.team_color;if(Ie!=null)return Ie;const Je=Object.keys(he).find(xe=>/^team/i.test(xe));return Je?he[Je]:void 0},Rt=(he,Ie)=>{const Je={};return he.forEach(xe=>{const it=Ie(xe),It=U(it);It&&(Je[It]=(Je[It]||0)+1)}),Je},Kt=Rt(pe,he=>(he==null?void 0:he.profession)||(he==null?void 0:he.name)),ve=Rt(Ve,he=>(he==null?void 0:he.profession)||(he==null?void 0:he.name)),ke=Rt(Pt,he=>(he==null?void 0:he.profession)||(he==null?void 0:he.name)||(he==null?void 0:he.id)),$e=new Set;pe.forEach(he=>{const Ie=ut(he);Ie!=null&&$e.add(String(Ie))});const Le=new Map;Pt.forEach(he=>{if((he==null?void 0:he.enemyPlayer)===!1)return;const Ie=ut(he);if(Ie==null)return;const Je=String(Ie);$e.has(Je)||Le.set(Je,(Le.get(Je)||0)+1)});const Ke=Array.from(Le.entries()).sort((he,Ie)=>{const Je=Ie[1]-he[1];return Je!==0?Je:he[0].localeCompare(Ie[0],void 0,{numeric:!0})}).slice(0,3).map(([he,Ie])=>({teamId:he,count:Ie}));return{id:M.filePath||`fight-${V}`,label:M.encounterName||`Fight ${V+1}`,permalink:kt(ee,M),timestamp:Ze,mapName:Qe,duration:Xz(ee.durationMS),isWin:Rn,squadCount:pe.length,allyCount:Ve.length,enemyCount:Pt.length,teamBreakdown:Ke,alliesDown:pe.reduce((he,Ie)=>{var Je,xe;return he+(((xe=(Je=Ie.defenses)==null?void 0:Je[0])==null?void 0:xe.downCount)||0)},0),alliesDead:pe.reduce((he,Ie)=>{var Je,xe;return he+(((xe=(Je=Ie.defenses)==null?void 0:Je[0])==null?void 0:xe.deadCount)||0)},0),alliesRevived:pe.reduce((he,Ie)=>{var Je,xe;return Number(((xe=(Je=Ie.statsAll)==null?void 0:Je[0])==null?void 0:xe.saved)||0)>0?he+1:he},0),rallies:0,enemyDeaths:ln,enemyDowns:Math.max(0,tn-ln),totalOutgoingDamage:At,totalIncomingDamage:Ot,incomingBarrierAbsorbed:pe.reduce((he,Ie)=>{var Je,xe;return he+(((xe=(Je=Ie.defenses)==null?void 0:Je[0])==null?void 0:xe.damageBarrier)||0)},0),outgoingBarrierAbsorbed:pe.reduce((he,Ie)=>{var it;const Je=(it=Ie.extBarrierStats)==null?void 0:it.outgoingBarrier;if(!Array.isArray(Je))return he;let xe=0;return Je.forEach(It=>{if(Array.isArray(It)){It.forEach(Pn=>{xe+=Number((Pn==null?void 0:Pn.barrier)||0)});return}xe+=Number((It==null?void 0:It.barrier)||0)}),he+xe},0),squadClassCountsFight:Kt,allyClassCountsFight:ve,enemyClassCounts:ke}}).filter(Boolean),ar=(M,V)=>{const ee=(V==null?void 0:V.skillMap)||{},De=(V==null?void 0:V.buffMap)||{};let pe=0,Ve="";const Xe=Ot=>{const ln=Number(Ot);if(!Number.isFinite(ln))return String(Ot||"Unknown Skill");const tn=(ee==null?void 0:ee[`s${ln}`])||(ee==null?void 0:ee[`${ln}`]);if(tn!=null&&tn.name)return String(tn.name);const Rn=(De==null?void 0:De[`b${ln}`])||(De==null?void 0:De[`${ln}`]);return Rn!=null&&Rn.name?String(Rn.name):`Skill ${ln}`},Pt=Ot=>{if(!Ot||typeof Ot!="object")return;const ln=[Number(Ot.max),Number(Ot.maxDamage),Number(Ot.maxHit)].filter(Rn=>Number.isFinite(Rn)),tn=ln.length>0?Math.max(...ln):0;tn>pe&&(pe=tn,Ve=Xe(Ot.id))};let At=!1;return Array.isArray(M==null?void 0:M.targetDamageDist)&&M.targetDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(ln=>{Array.isArray(ln)&&ln.forEach(tn=>{At=!0,Pt(tn)})})}),(!At||pe<=0)&&Array.isArray(M==null?void 0:M.totalDamageDist)&&M.totalDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(ln=>Pt(ln))}),{peak:pe,skillName:Ve||"Unknown Skill"}},Br=(()=>{const M=Ze=>String(Ze||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=Ze=>M(Ze).toLowerCase().split(/[^a-z0-9]+/i).map(Qe=>Qe.trim()).filter(Boolean).map(Qe=>Qe.length>3&&Qe.endsWith("s")?Qe.slice(0,-1):Qe),ee=(Ze,Qe)=>{const ut=M(Ze),Rt=M(Qe);if(!Rt)return ut;if(!ut)return Rt;const Kt=V(ut),ve=V(Rt),ke=new Set(Kt),$e=new Set(ve),Le=ve.length>0&&ve.every(he=>ke.has(he)),Ke=Kt.length>0&&Kt.every(he=>$e.has(he));return Le||Ke?ut:`${ut} - ${Rt}`},De=[],pe=new Map,Ve=Ze=>{const Qe=Le=>{if(!Array.isArray(Le)||Le.length===0)return[];const Ke=[];for(let he=0;he<Le.length;he+=1){const Ie=Number(Le[he]||0),Je=he>0?Number(Le[he-1]||0):0;Ke.push(Math.max(0,Ie-Je))}return Ke},ut=Le=>{if(!Array.isArray(Le))return[];const Ke=Le.reduce((Ie,Je)=>Math.max(Ie,Array.isArray(Je)?Je.length:0),0);if(Ke<=0)return[];const he=new Array(Ke).fill(0);return Le.forEach(Ie=>{if(Array.isArray(Ie))for(let Je=0;Je<Ke;Je+=1)he[Je]+=Number(Ie[Je]||0)}),he},Rt=Le=>Array.isArray(Le)?Le.map(Ke=>Number(Ke||0)):null,ve=(Le=>{if(!Array.isArray(Le)||Le.length===0)return null;const Ke=Le[0];if(!Array.isArray(Ke))return null;if(Array.isArray(Ke[0])&&Array.isArray(Ke[0][0]))return ut(Ke);if(Array.isArray(Ke[0])&&!Array.isArray(Ke[0][0])){const he=Le.map(Ie=>Rt(Array.isArray(Ie)?Ie[0]:null)).filter(Ie=>Array.isArray(Ie)&&Ie.length>0);if(he.length>0)return ut(he)}return null})(Ze==null?void 0:Ze.targetDamage1S),ke=Array.isArray(Ze==null?void 0:Ze.damage1S)&&Array.isArray(Ze.damage1S[0])?Ze.damage1S[0]:null,$e=ve||(Array.isArray(ke)?ke.map(Le=>Number(Le||0)):[]);return Qe($e)},Xe=(Ze,Qe)=>{if(!Array.isArray(Ze)||Ze.length===0||Qe<=0)return 0;let ut=0,Rt=0;for(let Kt=0;Kt<Ze.length;Kt+=1)ut+=Number(Ze[Kt]||0),Kt>=Qe&&(ut-=Number(Ze[Kt-Qe]||0)),Kt>=Qe-1&&ut>Rt&&(Rt=ut);return Math.max(0,Rt)},Pt=(Ze,Qe)=>{if(!Array.isArray(Ze)||Ze.length===0||Qe<=0)return[];const ut=[];for(let Rt=0;Rt<Ze.length;Rt+=Qe){const Kt=Math.min(Rt+Qe,Ze.length),ve=Ze.slice(Rt,Kt).reduce((ke,$e)=>ke+Number($e||0),0);ut.push(ve)}return ut},At=(Ze,Qe)=>{const ut=Number(Ze);if(!Number.isFinite(ut))return{name:String(Ze||"Unknown Skill"),icon:void 0};const Rt=(Qe==null?void 0:Qe.skillMap)||{},Kt=(Qe==null?void 0:Qe.buffMap)||{},ve=(Rt==null?void 0:Rt[`s${ut}`])||(Rt==null?void 0:Rt[`${ut}`]);if(ve!=null&&ve.name)return{name:String(ve.name),icon:ve==null?void 0:ve.icon};const ke=(Kt==null?void 0:Kt[`b${ut}`])||(Kt==null?void 0:Kt[`${ut}`]);return ke!=null&&ke.name?{name:String(ke.name),icon:ke==null?void 0:ke.icon}:{name:`Skill ${ut}`,icon:void 0}},Ot=Ze=>Array.isArray(Ze)?Ze.map(Qe=>Array.isArray(Qe)?[Number(Qe[0]),Number(Qe[1])]:Qe&&typeof Qe=="object"?[Number(Qe.time),Number(Qe.value)]:null).filter(Qe=>!!Qe&&Number.isFinite(Qe[0])&&Qe[0]>=0):[],ln=(Ze,Qe,ut,Rt,Kt)=>{if(!Ze.length||Rt<=0)return[];const ve=Math.max(Rt*5e3,Kt||0),ke=it=>it.reduce((It,Pn)=>Pn>=0&&Pn<=ve+2e3?It+1:It,0),$e=Ze.map(it=>Number(it||0)).filter(it=>Number.isFinite(it)&&it>=0);if(!$e.length)return[];const Le=[$e],Ke=$e.reduce((it,It)=>Math.max(it,It),0),he=$e.reduce((it,It)=>Math.min(it,It),Number.POSITIVE_INFINITY);Ke>ve*20&&Le.push($e.map(it=>it/1e3)),Ke<=ve*2&&he>=0&&Ke>0&&Ke<Math.max(120,Rt*5+10)&&Le.push($e.map(it=>it*1e3));let Ie=$e,Je=0,xe=-1;return Le.forEach(it=>{const It=it.reduce((Xt,Tr)=>Math.min(Xt,Tr),Number.POSITIVE_INFINITY),Pn=new Set([0,...Qe,...ut]);if(Number.isFinite(It)&&ve>0&&It>ve){const Xt=Math.floor(It/ve)*ve;Pn.add(Xt),Pn.add(Math.max(0,Xt-ve))}Pn.forEach(Xt=>{const Tr=it.map(Fn=>Fn-Xt),ht=ke(Tr);ht>xe&&(xe=ht,Je=Xt,Ie=it)})}),Ie.map(it=>it-Je).filter(it=>Number.isFinite(it)&&it>=0)},tn=(Ze,Qe,ut,Rt,Kt)=>{const ve=ln(Ze,Qe,ut,Rt,Kt);return Array.from(new Set(ve.map(ke=>Math.floor(ke/5e3)).filter(ke=>Number.isFinite(ke)&&ke>=0&&ke<Rt)))};a.map(Ze=>({log:Ze,ts:Cs(Ze==null?void 0:Ze.details,Ze)})).sort((Ze,Qe)=>Ze.ts-Qe.ts).forEach(({log:Ze},Qe)=>{const ut=Ze==null?void 0:Ze.details;if(!ut)return;const Rt=M(ut.fightName||Ze.fightName||`Fight ${Qe+1}`),Kt=nt(ut,Ze),ve=ee(Rt,String(Kt||"")),ke={},$e=Array.isArray(ut.players)?ut.players:[],Le=$e.flatMap(xe=>{const it=xe==null?void 0:xe.combatReplayData;return Array.isArray(it)?it.map(It=>Number(It==null?void 0:It.start)):[Number(it==null?void 0:it.start)]}).filter(xe=>Number.isFinite(xe)&&xe>=0);$e.forEach(xe=>{if(xe!=null&&xe.notInSquad)return;const it=String((xe==null?void 0:xe.account)||(xe==null?void 0:xe.name)||"Unknown"),It=String((xe==null?void 0:xe.character_name)||(xe==null?void 0:xe.display_name)||(xe==null?void 0:xe.name)||""),Pn=String((xe==null?void 0:xe.profession)||"Unknown"),Xt=`${it}|${Pn}`,Tr=ar(xe,ut),ht=Number(Tr.peak||0),Fn=Ve(xe),oe=Number(Xe(Fn,1)||0),_e=Number(Xe(Fn,5)||0),Ge=Number(Xe(Fn,30)||0),Ft=Math.max(0,Math.ceil(Number((ut==null?void 0:ut.durationMS)||0)/5e3)),Nt=Math.max(0,Math.ceil(Fn.length/5)),fe=Math.max(Ft,Nt),Ae=Pt(Fn,5),We=Array.from({length:fe},(Oe,et)=>Number(Ae[et]||0)),qe=new Map,Bt=Oe=>{if(!Oe||typeof Oe!="object"||Oe.indirectDamage)return;const et=Number(Oe.totalDamage||0);if(!Number.isFinite(et)||et<=0)return;const gt=Number(Oe.connectedHits||Oe.hits||0),dt=At(Oe.id,ut),Qt=dt.name,yn=qe.get(Qt)||{skillName:Qt,damage:0,hits:0,icon:dt.icon};yn.damage+=et,yn.hits+=Number.isFinite(gt)?gt:0,!yn.icon&&dt.icon&&(yn.icon=dt.icon),qe.set(Qt,yn)},Ct=new Map;Array.isArray(xe==null?void 0:xe.targetDamageDist)&&xe.targetDamageDist.forEach(Oe=>{Array.isArray(Oe)&&Oe.forEach(et=>{Array.isArray(et)&&et.forEach(gt=>{const dt=Number(gt==null?void 0:gt.id),Qt=Number((gt==null?void 0:gt.totalDamage)||0);if(Number.isFinite(dt)){const yn=Ct.get(dt)||{damage:0,hits:0};yn.damage+=Number.isFinite(Qt)?Qt:0,yn.hits+=Number((gt==null?void 0:gt.connectedHits)||(gt==null?void 0:gt.hits)||0),Ct.set(dt,yn)}Bt(gt)})})}),!(ut!=null&&ut.detailedWvW)&&Array.isArray(xe==null?void 0:xe.totalDamageDist)&&xe.totalDamageDist.forEach(Oe=>{Array.isArray(Oe)&&Oe.forEach(et=>{const gt=Number(et==null?void 0:et.id);if(!Number.isFinite(gt)){Bt(et);return}const dt=Ct.get(gt);if(!dt){Bt(et);return}const Qt=Number((et==null?void 0:et.totalDamage)||0),yn=Number((et==null?void 0:et.connectedHits)||(et==null?void 0:et.hits)||0),pi=Qt-Number(dt.damage||0),sr=yn-Number(dt.hits||0);pi<=0&&sr<=0||Bt({...et,totalDamage:Math.max(0,pi),connectedHits:Math.max(0,sr),hits:Math.max(0,sr)})})});const Tt=(()=>{const Oe=xe==null?void 0:xe.combatReplayData;return Array.isArray(Oe)?Oe.filter(et=>et&&typeof et=="object"):Oe&&typeof Oe=="object"?[Oe]:[]})(),Et=Tt.map(Oe=>Number(Oe==null?void 0:Oe.start)).filter(Oe=>Number.isFinite(Oe)&&Oe>=0),Ut=Tt.flatMap(Oe=>Ot(Oe==null?void 0:Oe.down).map(([et])=>Number(et||0))),zt=Tt.flatMap(Oe=>Ot(Oe==null?void 0:Oe.dead).map(([et])=>Number(et||0)));ke[Xt]={hit:ht,burst1s:oe,burst5s:_e,burst30s:Ge,skillName:Tr.skillName,buckets5s:We,downIndices5s:tn(Ut,Et,Le,fe,Number((ut==null?void 0:ut.durationMS)||0)),deathIndices5s:tn(zt,Et,Le,fe,Number((ut==null?void 0:ut.durationMS)||0)),skillRows:Array.from(qe.values()).sort((Oe,et)=>et.damage-Oe.damage).slice(0,50)};const Dt=pe.get(Xt)||{key:Xt,account:it,displayName:it,characterName:It,profession:Pn,professionList:[Pn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Dt.logs+=1,Dt.professionList.includes(Pn)||Dt.professionList.push(Pn),!Dt.characterName&&It&&(Dt.characterName=It),ht>Dt.peakHit&&(Dt.peakHit=ht,Dt.peakFightLabel=ve,Dt.peakSkillName=Tr.skillName),oe>Dt.peak1s&&(Dt.peak1s=oe),_e>Dt.peak5s&&(Dt.peak5s=_e),Ge>Dt.peak30s&&(Dt.peak30s=Ge),pe.set(Xt,Dt)});const Ke=Object.values(ke).reduce((xe,it)=>Math.max(xe,Number((it==null?void 0:it.hit)||0)),0),he=Object.values(ke).reduce((xe,it)=>Math.max(xe,Number((it==null?void 0:it.burst1s)||0)),0),Ie=Object.values(ke).reduce((xe,it)=>Math.max(xe,Number((it==null?void 0:it.burst5s)||0)),0),Je=Object.values(ke).reduce((xe,it)=>Math.max(xe,Number((it==null?void 0:it.burst30s)||0)),0);De.push({id:Ze.filePath||Ze.id||`fight-${Qe+1}`,shortLabel:`F${Qe+1}`,fullLabel:ve,timestamp:Cs(ut,Ze),values:ke,maxHit:Ke,max1s:he,max5s:Ie,max30s:Je})});const Rn=Array.from(pe.values()).sort((Ze,Qe)=>Qe.peakHit!==Ze.peakHit?Qe.peakHit-Ze.peakHit:Ze.displayName.localeCompare(Qe.displayName));return{fights:De,players:Rn}})(),Nr=(()=>{const M=ve=>String(ve||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=ve=>M(ve).toLowerCase().split(/[^a-z0-9]+/i).map(ke=>ke.trim()).filter(Boolean).map(ke=>ke.length>3&&ke.endsWith("s")?ke.slice(0,-1):ke),ee=(ve,ke)=>{const $e=M(ve),Le=M(ke);if(!Le)return $e;if(!$e)return Le;const Ke=V($e),he=V(Le),Ie=new Set(Ke),Je=new Set(he),xe=he.length>0&&he.every(It=>Ie.has(It)),it=Ke.length>0&&Ke.every(It=>Je.has(It));return xe||it?$e:`${$e} - ${Le}`},De=[],pe=new Map,Ve=(ve,ke)=>{const $e=Number(ve);if(!Number.isFinite($e))return{name:String(ve||"Unknown Skill"),icon:void 0};const Le=(ke==null?void 0:ke.skillMap)||{},Ke=(ke==null?void 0:ke.buffMap)||{},he=(Le==null?void 0:Le[`s${$e}`])||(Le==null?void 0:Le[`${$e}`]);if(he!=null&&he.name)return{name:String(he.name),icon:he==null?void 0:he.icon};const Ie=(Ke==null?void 0:Ke[`b${$e}`])||(Ke==null?void 0:Ke[`${$e}`]);return Ie!=null&&Ie.name?{name:String(Ie.name),icon:Ie==null?void 0:Ie.icon}:{name:`Skill ${$e}`,icon:void 0}},Xe=(ve,ke)=>{let $e=0,Le="";const Ke=he=>{if(!he||typeof he!="object"||he.indirectDamage)return;const Ie=[Number(he.max),Number(he.maxDamage),Number(he.maxHit)].filter(xe=>Number.isFinite(xe)),Je=Ie.length>0?Math.max(...Ie):0;Je>$e&&($e=Je,Le=Ve(he.id,ke).name)};return Array.isArray(ve==null?void 0:ve.totalDamageDist)&&ve.totalDamageDist.forEach(he=>{Array.isArray(he)&&he.forEach(Ie=>Ke(Ie))}),Array.isArray(ve==null?void 0:ve.targetDamageDist)&&ve.targetDamageDist.forEach(he=>{Array.isArray(he)&&he.forEach(Ie=>{Array.isArray(Ie)&&Ie.forEach(Je=>Ke(Je))})}),{peak:$e,skillName:Le||"Unknown Skill"}},Pt=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ke=[];for(let $e=0;$e<ve.length;$e+=1){const Le=Number(ve[$e]||0),Ke=$e>0?Number(ve[$e-1]||0):0;ke.push(Math.max(0,Le-Ke))}return ke},At=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ke=ve.reduce((Le,Ke)=>Math.max(Le,Array.isArray(Ke)?Ke.length:0),0);if(ke<=0)return[];const $e=new Array(ke).fill(0);return ve.forEach(Le=>{if(Array.isArray(Le))for(let Ke=0;Ke<ke;Ke+=1)$e[Ke]+=Number(Le[Ke]||0)}),$e},Ot=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ke=ve[0];if(typeof ke=="number")return ve.map($e=>Number($e||0));if(Array.isArray(ke)&&ke.length>0){if(typeof ke[0]=="number")return ke.map($e=>Number($e||0));if(Array.isArray(ke[0])){const $e=ke.map(Le=>Array.isArray(Le)?Le.map(Ke=>Number(Ke||0)):null).filter(Le=>Array.isArray(Le)&&Le.length>0);if($e.length>0)return At($e)}}return[]},ln=ve=>{const ke=Ot(ve==null?void 0:ve.powerDamage1S),$e=Ot(ve==null?void 0:ve.damage1S),Le=ke.length>0?ke:$e;return Pt(Le)},tn=(ve,ke)=>{const $e=ve==null?void 0:ve.targetPowerDamage1S;if(!Array.isArray($e)||!Array.isArray($e[ke]))return[];const Le=$e[ke];if(!Array.isArray(Le)||Le.length===0)return[];if(typeof Le[0]=="number")return Le.map(Ke=>Number(Ke||0));if(Array.isArray(Le[0])&&!Array.isArray(Le[0][0]))return Le[0].map(Ke=>Number(Ke||0));if(Array.isArray(Le[0])&&Array.isArray(Le[0][0])){const he=Le[0].map(Ie=>Array.isArray(Ie)?Ie.map(Je=>Number(Je||0)):null).filter(Ie=>Array.isArray(Ie)&&Ie.length>0);return At(he)}return[]},Rn=(ve,ke)=>{if(!Array.isArray(ve)||ve.length===0||ke<=0)return 0;let $e=0,Le=0;for(let Ke=0;Ke<ve.length;Ke+=1)$e+=Number(ve[Ke]||0),Ke>=ke&&($e-=Number(ve[Ke-ke]||0)),Ke>=ke-1&&$e>Le&&(Le=$e);return Math.max(0,Le)},Ze=(ve,ke)=>{if(!Array.isArray(ve)||ve.length===0||ke<=0)return[];const $e=[];for(let Le=0;Le<ve.length;Le+=ke){const Ke=Math.min(Le+ke,ve.length),he=ve.slice(Le,Ke).reduce((Ie,Je)=>Ie+Number(Je||0),0);$e.push(he)}return $e},Qe=ve=>Array.isArray(ve)?ve.map(ke=>Array.isArray(ke)?[Number(ke[0]),Number(ke[1])]:ke&&typeof ke=="object"?[Number(ke.time),Number(ke.value)]:null).filter(ke=>!!ke&&Number.isFinite(ke[0])&&ke[0]>=0):[],ut=(ve,ke,$e,Le,Ke)=>{if(!ve.length||Le<=0)return[];const he=Math.max(Le*5e3,Ke||0),Ie=ht=>ht.reduce((Fn,oe)=>oe>=0&&oe<=he+2e3?Fn+1:Fn,0),Je=ve.map(ht=>Number(ht||0)).filter(ht=>Number.isFinite(ht)&&ht>=0);if(!Je.length)return[];const xe=[Je],it=Je.reduce((ht,Fn)=>Math.max(ht,Fn),0),It=Je.reduce((ht,Fn)=>Math.min(ht,Fn),Number.POSITIVE_INFINITY);it>he*20&&xe.push(Je.map(ht=>ht/1e3)),it<=he*2&&It>=0&&it>0&&it<Math.max(120,Le*5+10)&&xe.push(Je.map(ht=>ht*1e3));let Pn=Je,Xt=0,Tr=-1;return xe.forEach(ht=>{const Fn=ht.reduce((_e,Ge)=>Math.min(_e,Ge),Number.POSITIVE_INFINITY),oe=new Set([0,...ke,...$e]);if(Number.isFinite(Fn)&&he>0&&Fn>he){const _e=Math.floor(Fn/he)*he;oe.add(_e),oe.add(Math.max(0,_e-he))}oe.forEach(_e=>{const Ge=ht.map(Nt=>Nt-_e),Ft=Ie(Ge);Ft>Tr&&(Tr=Ft,Xt=_e,Pn=ht)})}),Pn.map(ht=>ht-Xt).filter(ht=>Number.isFinite(ht)&&ht>=0)},Rt=(ve,ke,$e,Le,Ke)=>{const he=ut(ve,ke,$e,Le,Ke);return Array.from(new Set(he.map(Ie=>Math.floor(Ie/5e3)).filter(Ie=>Number.isFinite(Ie)&&Ie>=0&&Ie<Le)))};a.map(ve=>({log:ve,ts:Cs(ve==null?void 0:ve.details,ve)})).sort((ve,ke)=>ve.ts-ke.ts).forEach(({log:ve},ke)=>{const $e=ve==null?void 0:ve.details;if(!$e)return;const Le=M($e.fightName||ve.fightName||`Fight ${ke+1}`),Ke=nt($e,ve),he=ee(Le,String(Ke||"")),Ie={},xe=(Array.isArray($e.players)?$e.players:[]).filter(fe=>!(fe!=null&&fe.notInSquad)),it=xe.flatMap(fe=>{const Ae=fe==null?void 0:fe.combatReplayData;return Array.isArray(Ae)?Ae.map(We=>Number(We==null?void 0:We.start)):[Number(Ae==null?void 0:Ae.start)]}).filter(fe=>Number.isFinite(fe)&&fe>=0),It=xe.flatMap(fe=>{const Ae=fe==null?void 0:fe.combatReplayData;return(Array.isArray(Ae)?Ae:Ae?[Ae]:[]).flatMap(qe=>Qe(qe==null?void 0:qe.down).map(([Bt])=>Number(Bt||0)))}),Pn=xe.flatMap(fe=>{const Ae=fe==null?void 0:fe.combatReplayData;return(Array.isArray(Ae)?Ae:Ae?[Ae]:[]).flatMap(qe=>Qe(qe==null?void 0:qe.dead).map(([Bt])=>Number(Bt||0)))}),Xt=new Map,Tr=new Map,ht=new Map;(Array.isArray($e.targets)?$e.targets:[]).forEach((fe,Ae)=>{if(!fe||fe.isFake||!fe.enemyPlayer)return;const We=U((fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)||(fe==null?void 0:fe.id))||"Unknown";ht.set(We,(ht.get(We)||0)+1);const qe=Tr.get(We)||new Map;Array.isArray(fe==null?void 0:fe.totalDamageDist)&&fe.totalDamageDist.forEach(Ut=>{Array.isArray(Ut)&&Ut.forEach(zt=>{if(!zt||typeof zt!="object"||zt.indirectDamage)return;const Dt=Number(zt.totalDamage||0);if(!Number.isFinite(Dt)||Dt<=0)return;const Oe=Number(zt.connectedHits||zt.hits||0),et=Ve(zt.id,$e),gt=et.name,dt=qe.get(gt)||{skillName:gt,damage:0,hits:0,icon:et.icon};dt.damage+=Dt,dt.hits+=Number.isFinite(Oe)?Oe:0,!dt.icon&&et.icon&&(dt.icon=et.icon),qe.set(gt,dt)})}),Tr.set(We,qe);const Bt=At(xe.map(Ut=>tn(Ut,Ae))),Ct=Bt.length>0?Pt(Bt):ln(fe),pt=Xe(fe,$e);let Tt=Xt.get(We);Tt||(Tt={perSecond:[],hit:0,skillName:""},Xt.set(We,Tt)),Ct.length>Tt.perSecond.length&&(Tt.perSecond.length=Ct.length);for(let Ut=0;Ut<Ct.length;Ut+=1)Tt.perSecond[Ut]=Number(Tt.perSecond[Ut]||0)+Number(Ct[Ut]||0);const Et=Number(pt.peak||0);Et>Tt.hit&&(Tt.hit=Et,Tt.skillName=pt.skillName||"Unknown Skill")});const oe=Array.from(Xt.values()).some(fe=>Array.isArray(fe.perSecond)&&fe.perSecond.some(Ae=>Number(Ae||0)>0));if(Xt.size===0||!oe){const fe=At(xe.map(We=>{const qe=Ot(We==null?void 0:We.powerDamageTaken1S);return Pt(qe)})),Ae=Array.from(ht.values()).reduce((We,qe)=>We+Number(qe||0),0);fe.length>0&&Ae>0&&ht.forEach((We,qe)=>{const Bt=Number(We||0)/Ae,Ct=fe.map(Tt=>Number(Tt||0)*Bt),pt=Xt.get(qe);Xt.set(qe,{perSecond:Ct,hit:Number((pt==null?void 0:pt.hit)||0),skillName:String((pt==null?void 0:pt.skillName)||"")})})}Xt.forEach((fe,Ae)=>{var et;const We=Ae,qe=Number(fe.hit||0),Bt=Number(Rn(fe.perSecond,1)||0),Ct=Number(Rn(fe.perSecond,5)||0),pt=Number(Rn(fe.perSecond,30)||0),Tt=Math.max(0,Math.ceil(Number(($e==null?void 0:$e.durationMS)||0)/5e3)),Et=Math.max(0,Math.ceil(fe.perSecond.length/5)),Ut=Math.max(Tt,Et),zt=Ze(fe.perSecond,5),Dt=Array.from({length:Ut},(gt,dt)=>Number(zt[dt]||0));Ie[We]={hit:qe,burst1s:Bt,burst5s:Ct,burst30s:pt,skillName:fe.skillName||"Unknown Skill",buckets5s:Dt,downIndices5s:Rt(It,[],it,Ut,Number(($e==null?void 0:$e.durationMS)||0)),deathIndices5s:Rt(Pn,[],it,Ut,Number(($e==null?void 0:$e.durationMS)||0)),skillRows:Array.from(((et=Tr.get(Ae))==null?void 0:et.values())||[]).sort((gt,dt)=>dt.damage-gt.damage).slice(0,50)};const Oe=pe.get(We)||{key:We,account:Ae,displayName:Ae,characterName:"",profession:Ae,professionList:[Ae],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Oe.logs+=1,qe>Oe.peakHit&&(Oe.peakHit=qe,Oe.peakFightLabel=he,Oe.peakSkillName=fe.skillName||"Unknown Skill"),Bt>Oe.peak1s&&(Oe.peak1s=Bt),Ct>Oe.peak5s&&(Oe.peak5s=Ct),pt>Oe.peak30s&&(Oe.peak30s=pt),pe.set(We,Oe)});const _e=Object.values(Ie).reduce((fe,Ae)=>Math.max(fe,Number((Ae==null?void 0:Ae.hit)||0)),0),Ge=Object.values(Ie).reduce((fe,Ae)=>Math.max(fe,Number((Ae==null?void 0:Ae.burst1s)||0)),0),Ft=Object.values(Ie).reduce((fe,Ae)=>Math.max(fe,Number((Ae==null?void 0:Ae.burst5s)||0)),0),Nt=Object.values(Ie).reduce((fe,Ae)=>Math.max(fe,Number((Ae==null?void 0:Ae.burst30s)||0)),0);De.push({id:ve.filePath||ve.id||`fight-${ke+1}`,shortLabel:`F${ke+1}`,fullLabel:he,timestamp:Cs($e,ve),values:Ie,maxHit:_e,max1s:Ge,max5s:Ft,max30s:Nt})});const Kt=Array.from(pe.values()).sort((ve,ke)=>ke.peakHit!==ve.peakHit?ke.peakHit-ve.peakHit:ve.displayName.localeCompare(ke.displayName));return{fights:De,players:Kt}})(),ws=Array.from(G.entries()).map(([M,V])=>{const ee=J.get(M)||{},De=Array.from(V.values()).map(pe=>{var Rn,Ze;const Ve=Array.from(pe.professions||[]).filter(Qe=>Qe&&Qe!=="Unknown");let Xe=pe.profession||"Unknown";if(Ve.length>0){Xe=Ve[0];let Qe=((Rn=pe.professionTimeMs)==null?void 0:Rn[Xe])||0;Ve.forEach(ut=>{var Kt;const Rt=((Kt=pe.professionTimeMs)==null?void 0:Kt[ut])||0;Rt>Qe&&(Qe=Rt,Xe=ut)})}const Pt=pe.durationMs||0,At=pe.totalMs/1e3,Ot=Pt>0?pe.totalMs/Pt:0,ln=((Ze=_.get(pe.account))==null?void 0:Ze.supportActiveMs)||Pt,tn=ln>0?pe.uptimeMs/ln:0;return{account:pe.account,profession:Xe,professionList:Ve,total:At,perSecond:Ot,uptimePerSecond:tn,duration:Pt/1e3}}).filter(pe=>pe.total>0||pe.perSecond>0);return{id:M,name:ee.name||M,icon:ee.icon,rows:De}}).filter(M=>M.rows.length>0),vv=Array.from(te.values()).map(M=>{const V=Array.from(M.skills.values()).sort((De,pe)=>pe.damage-De.damage),ee=V.reduce((De,pe)=>(De[pe.id]=pe,De),{});return{key:M.key,account:M.account,displayName:M.displayName,profession:M.profession,professionList:M.professionList,totalFightMs:M.totalFightMs,skills:V,skillMap:ee}}).sort((M,V)=>M.displayName.localeCompare(V.displayName));return{total:p,wins:v,losses:x,avgSquadSize:ue,avgEnemies:je,squadKDR:Lt,enemyKDR:Gt,totalSquadKills:S,totalSquadDeaths:w,totalEnemyKills:N,totalEnemyDeaths:C,leaderboards:gn,...rd,outgoingConditionSummary:Object.values(K).sort((M,V)=>V.damage-M.damage),incomingConditionSummary:Object.values(ie).sort((M,V)=>V.damage-M.damage),outgoingConditionPlayers:Array.from(_.values()).map(M=>({account:M.account,profession:M.profession,professionList:M.professionList,conditions:M.outgoingConditions})),incomingConditionPlayers:Array.from(_.values()).map(M=>({account:M.account,profession:M.profession,professionList:M.professionList,conditions:M.incomingConditions})),topSkills:q,topIncomingSkills:me,playerSkillBreakdowns:vv,topSkillsMetric:h,mapData:sn,timelineData:mt,boonTables:St,offensePlayers:Array.from(_.values()).map(M=>({account:M.account,profession:M.profession,professionList:M.professionList,offenseTotals:M.offenseTotals,offenseRateWeights:M.offenseRateWeights,totalFightMs:M.totalFightMs})),defensePlayers:Array.from(_.values()).map(M=>({account:M.account,profession:M.profession,professionList:M.professionList,defenseTotals:M.defenseTotals,activeMs:M.defenseActiveMs})),damageMitigationPlayers:Sr,damageMitigationMinions:ca,supportPlayers:Array.from(_.values()).map(M=>({account:M.account,profession:M.profession,professionList:M.professionList,supportTotals:M.supportTotals,activeMs:M.supportActiveMs})),healingPlayers:Array.from(_.values()).map(M=>({account:M.account,profession:M.profession,professionList:M.professionList,healingTotals:M.healingTotals,activeMs:M.healingActiveMs})),mvp:Vs,silver:Cl,bronze:Ws,squadClassData:Ye,enemyClassData:en,fightBreakdown:Jr,spikeDamage:Br,incomingStrikeDamage:Nr,specialTables:ws,topStatsPerSecond:Zr,topStatsLeaderboardsPerSecond:Mi,avgMvpScore:jl}})(),u=(()=>{const f=new Map,m=new Map,h=[],p=new Map,v=new Map;a.forEach(g=>{const b=g.details;if(!b)return;const w=b.skillMap||{},S=b.fightName||"Log",C=Cs(b,g)||Date.now(),N={id:g.filePath||g.id||S,label:S,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(T=>{if(T.notInSquad)return;const _=T.account||T.name||"Unknown",A=T.profession||"Unknown",$=`${_}|${A}`;let D=m.get($);D||(D={key:$,account:_,displayName:_,profession:A,professionList:[A],logs:0,totalActiveSeconds:0,skillTotals:{}},m.set($,D)),D.logs++;const te=(Array.isArray(T.activeTimes)?T.activeTimes[0]:0)/1e3;D.totalActiveSeconds=(D.totalActiveSeconds||0)+te,N.playerActiveSeconds[$]=te,(T.rotation||[]).forEach(K=>{var ae,E,j;if(!(K!=null&&K.id))return;const ie=((ae=K.skills)==null?void 0:ae.length)||0;if(ie<=0)return;const H=`s${K.id}`,J=((E=w[H])==null?void 0:E.name)||`Skill ${K.id}`,G=(j=w[H])==null?void 0:j.icon;D.skillTotals[H]=(D.skillTotals[H]||0)+ie,f.set(H,(f.get(H)||0)+ie),p.set(H,J),G&&!v.has(H)&&v.set(H,G),N.skillEntries[H]||(N.skillEntries[H]={name:J,icon:G,players:{}}),!N.skillEntries[H].icon&&G&&(N.skillEntries[H].icon=G),N.skillEntries[H].players[$]=(N.skillEntries[H].players[$]||0)+ie})}),h.push(N)});const x=Array.from(f.entries()).map(([g,b])=>({id:g,name:p.get(g)||g,total:b,icon:v.get(g)})).sort((g,b)=>b.total-g.total);return{logRecords:h,players:Array.from(m.values()),skillOptions:x,resUtilitySkills:[]}})();return{validLogs:a,stats:c,skillUsageData:u}},VU=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const[a,s]=y.useState(()=>Kv({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[o,l]=y.useState(0),[c,u]=y.useState(0),[f,m]=y.useState(0),[h,p]=y.useState(0),[v,x]=y.useState(null),g=y.useRef(0),[b,w]=y.useState(0),S=y.useRef(null),C=y.useRef(null),[N,P]=y.useState(!1),T=y.useRef(null),A=e.length<=8,$=y.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}),[e,t,n,r,i]);y.useEffect(()=>{if(!(typeof Worker>"u")&&!N&&A)return C.current||(C.current=new Worker(new URL(""+new URL("statsWorker-DO_uDud_.js",import.meta.url).href,import.meta.url),{type:"module"}),C.current.onmessage=K=>{var ie;((ie=K.data)==null?void 0:ie.type)==="result"&&(s(K.data.result),typeof K.data.computeId=="number"?l(K.data.computeId):l(H=>H+1),typeof K.data.logCount=="number"&&u(K.data.logCount),typeof K.data.token=="number"&&m(K.data.token),typeof K.data.completedAt=="number"&&p(K.data.completedAt),typeof K.data.flushId=="number"&&x(K.data.flushId))},C.current.onerror=K=>{var ie;console.warn("[StatsWorker] Worker error. Falling back to main thread.",K),(ie=C.current)==null||ie.terminate(),C.current=null,P(!0)},C.current.onmessageerror=K=>{var ie;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",K),(ie=C.current)==null||ie.terminate(),C.current=null,P(!0)},S.current!==null&&C.current.postMessage({type:"flush",flushId:S.current})),()=>{var K;(K=C.current)==null||K.terminate(),C.current=null}},[N,A]),y.useEffect(()=>{var K;if(!(!C.current||N||!A))try{g.current+=1,w(g.current),C.current.postMessage({type:"reset",token:g.current}),C.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}}),T.current&&(window.clearTimeout(T.current),T.current=null);let ie=0;const H=()=>{if(!C.current)return;const J=5;for(let G=0;G<J&&ie<e.length;G+=1,ie+=1)C.current.postMessage({type:"log",payload:e[ie]});ie<e.length?T.current=window.setTimeout(H,0):(T.current=null,C.current.postMessage({type:"flush"}))};H()}catch(ie){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",ie),(K=C.current)==null||K.terminate(),C.current=null,P(!0)}},[$,e,t,n,r,i,A]);const D=y.useMemo(()=>!N&&typeof Worker<"u"&&A?null:Kv({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}),[N,e,t,n,r,i,A]);return y.useEffect(()=>{!N&&typeof Worker<"u"&&A||(l(K=>K+1),u(e.length),m(g.current),p(Date.now()))},[D,N,e.length,A]),{result:N||typeof Worker>"u"||!A?D??Kv({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}):a,computeTick:o,lastComputedLogCount:c,lastComputedToken:f,activeToken:b,lastComputedAt:h,lastComputedFlushId:v,requestFlush:()=>{const K=Date.now();return S.current=K,C.current&&!N&&C.current.postMessage({type:"flush",flushId:K}),K}}},WU=e=>({apmSpecBuckets:y.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let c=!1;return l&&typeof l.autoAttack=="boolean"?c=l.autoAttack:c=Yz(s),i.set(o,c),c};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const c=Number((s==null?void 0:s.totalActiveSeconds)||0),u=Number.isFinite(c)&&c>0?c:0;l.totalActiveSeconds+=u;let f=0,m=0;const h=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(h).forEach(([C,N])=>{const P=Number(N);if(!Number.isFinite(P)||P<=0)return;const T=r.get(C),_=(T==null?void 0:T.name)||C,A=T==null?void 0:T.icon,$=a(_,C);f+=P,$&&(m+=P);let D=l.skillMap.get(C);D||(D={id:C,name:_,icon:A,totalCasts:0,playerCounts:new Map},l.skillMap.set(C,D)),!D.icon&&A&&(D.icon=A),D.totalCasts+=P;const te=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;D.playerCounts.set(te,P)}),l.totalCasts+=f,l.totalAutoCasts+=m;const p=u/60,v=p>0?f/p:0,x=Math.max(0,f-m),g=p>0?x/p:0,b=u>0?f/u:0,w=u>0?x/u:0,S={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:u,totalCasts:f,totalAutoCasts:m,apm:v,apmNoAuto:g,aps:b,apsNoAuto:w};l.playerRows.push(S)}),n.forEach(s=>{s.playerRows.sort((u,f)=>f.apm-u.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,c=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?c/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?c/o:0,s.skills=Array.from(s.skillMap.values()).map(u=>{const f=s.playerRows.map(v=>{var S;const x=Number(((S=u.playerCounts)==null?void 0:S.get(v.key))||0);if(!Number.isFinite(x)||x<=0)return null;const g=Number(v.totalActiveSeconds||0),b=g>0?x/(g/60):0,w=g>0?x/g:0;return{...v,count:x,apm:b,aps:w}}).filter(Boolean).sort((v,x)=>x.apm-v.apm||String(v.displayName||"").localeCompare(String(x.displayName||""))),m=Number(u.totalCasts||0),h=o>0?m/o:0,p=l>0?m/l:0;return{...u,playerRows:f,totalCasts:m,totalCastsPerSecond:h,totalApm:p}}).sort((u,f)=>f.totalCasts-u.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),HU=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=y.useMemo(()=>{const u=new Map;return e.players.forEach(f=>u.set(f.key,f)),u},[e.players]),a=y.useMemo(()=>{const u=new Map;if(!t)return u;const f=r==="perSecond";return e.players.forEach(m=>{const h=m.skillTotals[t]||0;if(h===0)return;let p=h;if(f){const v=m.totalActiveSeconds||1;p=v>0?h/v:0}u.set(m.key,p)}),u},[e.players,t,r]),s=y.useMemo(()=>t?Array.from(a.entries()).map(([u,f])=>{const m=i.get(u);return{key:u,name:(m==null?void 0:m.displayName)||u,profession:(m==null?void 0:m.profession)||"Unknown",value:f}}).sort((u,f)=>f.value-u.value):[],[a,i,t]),{chartData:o,maxY:l}=y.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let u=0;const f=r==="perSecond";return{chartData:e.logRecords.map((h,p)=>{const v=h.skillEntries[t];if(!v)return null;const x={index:p,name:h.label,shortLabel:h.label,fullLabel:h.label,timestamp:h.timestamp};let g=!1,b=!1;if(Object.entries(v.players).forEach(([w,S])=>{var N;if(n.size>0&&!n.has(w))return;let C=S;if(f){const P=((N=h.playerActiveSeconds)==null?void 0:N[w])||0;C=P>0?S/P:0}x[w]=C,C>u&&(u=C),g=!0,b=!0}),n.size>0){if(!b)return null}else if(!g)return null;return n.forEach(w=>{x[w]===void 0&&(x[w]=0)}),x}).filter(h=>h!==null),maxY:u}},[e.logRecords,t,n,r]),c=y.useMemo(()=>{const u={};return e.players.forEach(f=>{const m=f.profession||"Unknown";u[m]||(u[m]=[]),u[m].push(f)}),Object.entries(u).map(([f,m])=>({profession:f,players:m.sort((h,p)=>h.displayName.localeCompare(p.displayName))})).sort((f,m)=>f.profession.localeCompare(m.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function SO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=SO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Nn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=SO(e))&&(r&&(r+=" "),r+=t);return r}var qU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function S1(e){if(typeof e!="string")return!1;var t=qU;return t.includes(e)}var KU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GU=new Set(KU);function NO(e){return typeof e!="string"?!1:GU.has(e)}function CO(e){return typeof e=="string"&&e.startsWith("data-")}function Ga(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(NO(n)||CO(n))&&(t[n]=e[n]);return t}function Eu(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ga(t)}return typeof e=="object"&&!Array.isArray(e)?Ga(e):null}function zi(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(NO(n)||CO(n)||S1(n))&&(t[n]=e[n]);return t}function YU(e){return e==null?null:y.isValidElement(e)?zi(e.props):typeof e=="object"&&!Array.isArray(e)?zi(e):null}var XU=["children","width","height","viewBox","className","style","title","desc"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(null,arguments)}function QU(e,t){if(e==null)return{};var n,r,i=ZU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var N1=y.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,u=QU(e,XU),f=a||{width:r,height:i,x:0,y:0},m=Nn("recharts-surface",s);return y.createElement("svg",Hx({},zi(u),{className:m,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,l),y.createElement("desc",null,c),n)}),JU=["children","className"];function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qx.apply(null,arguments)}function e8(e,t){if(e==null)return{};var n,r,i=t8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function t8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ia=y.forwardRef((e,t)=>{var{children:n,className:r}=e,i=e8(e,JU),a=Nn("recharts-layer",r);return y.createElement("g",qx({className:a},zi(i),{ref:t}),n)}),jO=y.createContext(null),n8=()=>y.useContext(jO);function Un(e){return function(){return e}}const PO=Math.cos,Dp=Math.sin,ys=Math.sqrt,Mp=Math.PI,a0=2*Mp,Kx=Math.PI,Gx=2*Kx,Rl=1e-6,r8=Gx-Rl;function AO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function i8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return AO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class a8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?AO:i8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,c=i-n,u=s-t,f=o-n,m=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>Rl)if(!(Math.abs(f*l-c*u)>Rl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,p=i-o,v=l*l+c*c,x=h*h+p*p,g=Math.sqrt(v),b=Math.sqrt(m),w=a*Math.tan((Kx-Math.acos((v+m-x)/(2*g*b)))/2),S=w/b,C=w/g;Math.abs(S-1)>Rl&&this._append`L${t+S*u},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*h>u*p)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,u=n+l,f=1^s,m=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Rl||Math.abs(this._y1-u)>Rl)&&this._append`L${c},${u}`,r&&(m<0&&(m=m%Gx+Gx),m>r8?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:m>Rl&&this._append`A${r},${r},0,${+(m>=Kx)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function C1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new a8(t)}function j1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EO(e){this._context=e}EO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function s0(e){return new EO(e)}function TO(e){return e[0]}function DO(e){return e[1]}function MO(e,t){var n=Un(!0),r=null,i=s0,a=null,s=C1(o);e=typeof e=="function"?e:e===void 0?TO:Un(e),t=typeof t=="function"?t:t===void 0?DO:Un(t);function o(l){var c,u=(l=j1(l)).length,f,m=!1,h;for(r==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(f,c,l),+t(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Un(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Un(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Un(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function ch(e,t,n){var r=null,i=Un(!0),a=null,s=s0,o=null,l=C1(c);e=typeof e=="function"?e:e===void 0?TO:Un(+e),t=typeof t=="function"?t:Un(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?DO:Un(+n);function c(f){var m,h,p,v=(f=j1(f)).length,x,g=!1,b,w=new Array(v),S=new Array(v);for(a==null&&(o=s(b=l())),m=0;m<=v;++m){if(!(m<v&&i(x=f[m],m,f))===g)if(g=!g)h=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=m-1;p>=h;--p)o.point(w[p],S[p]);o.lineEnd(),o.areaEnd()}g&&(w[m]=+e(x,m,f),S[m]=+t(x,m,f),o.point(r?+r(x,m,f):w[m],n?+n(x,m,f):S[m]))}if(b)return o=null,b+""||null}function u(){return MO().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Un(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Un(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Un(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Un(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Un(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Un(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Un(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class OO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function s8(e){return new OO(e,!0)}function o8(e){return new OO(e,!1)}const P1={draw(e,t){const n=ys(t/Mp);e.moveTo(n,0),e.arc(0,0,n,0,a0)}},l8={draw(e,t){const n=ys(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},IO=ys(1/3),c8=IO*2,u8={draw(e,t){const n=ys(t/c8),r=n*IO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},d8={draw(e,t){const n=ys(t),r=-n/2;e.rect(r,r,n,n)}},f8=.8908130915292852,_O=Dp(Mp/10)/Dp(7*Mp/10),m8=Dp(a0/10)*_O,h8=-PO(a0/10)*_O,p8={draw(e,t){const n=ys(t*f8),r=m8*n,i=h8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=a0*a/5,o=PO(s),l=Dp(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},Gv=ys(3),g8={draw(e,t){const n=-ys(t/(Gv*3));e.moveTo(0,n*2),e.lineTo(-Gv*n,-n),e.lineTo(Gv*n,-n),e.closePath()}},Oa=-.5,Ia=ys(3)/2,Yx=1/ys(12),v8=(Yx/2+1)*3,y8={draw(e,t){const n=ys(t/v8),r=n/2,i=n*Yx,a=r,s=n*Yx+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Oa*r-Ia*i,Ia*r+Oa*i),e.lineTo(Oa*a-Ia*s,Ia*a+Oa*s),e.lineTo(Oa*o-Ia*l,Ia*o+Oa*l),e.lineTo(Oa*r+Ia*i,Oa*i-Ia*r),e.lineTo(Oa*a+Ia*s,Oa*s-Ia*a),e.lineTo(Oa*o+Ia*l,Oa*l-Ia*o),e.closePath()}};function x8(e,t){let n=null,r=C1(i);e=typeof e=="function"?e:Un(e||P1),t=typeof t=="function"?t:Un(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Un(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Un(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Op(){}function Ip(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function LO(e){this._context=e}LO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ip(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ip(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b8(e){return new LO(e)}function $O(e){this._context=e}$O.prototype={areaStart:Op,areaEnd:Op,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ip(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w8(e){return new $O(e)}function RO(e){this._context=e}RO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ip(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k8(e){return new RO(e)}function FO(e){this._context=e}FO.prototype={areaStart:Op,areaEnd:Op,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function S8(e){return new FO(e)}function n2(e){return e<0?-1:1}function r2(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(n2(a)+n2(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function i2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Yv(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function _p(e){this._context=e}_p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yv(this,this._t0,i2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Yv(this,i2(this,n=r2(this,e,t)),n);break;default:Yv(this,this._t0,n=r2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function BO(e){this._context=new zO(e)}(BO.prototype=Object.create(_p.prototype)).point=function(e,t){_p.prototype.point.call(this,t,e)};function zO(e){this._context=e}zO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function N8(e){return new _p(e)}function C8(e){return new BO(e)}function UO(e){this._context=e}UO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=a2(e),i=a2(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function a2(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function j8(e){return new UO(e)}function o0(e,t){this._context=e,this._t=t}o0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function P8(e){return new o0(e,.5)}function A8(e){return new o0(e,0)}function E8(e){return new o0(e,1)}function uc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Xx(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function T8(e,t){return e[t]}function D8(e){const t=[];return t.key=e,t}function M8(){var e=Un([]),t=Xx,n=uc,r=T8;function i(a){var s=Array.from(e.apply(this,arguments),D8),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,u=j1(t(s));o<l;++o)s[u[o]].index=o;return n(s,u),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Un(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Un(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Xx:typeof a=="function"?a:Un(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??uc,i):n},i}function O8(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}uc(e,t)}}function I8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}uc(e,t)}}function _8(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[r][1]||0,m=u[r-1][1]||0,h=(f-m)/2,p=0;p<o;++p){var v=e[t[p]],x=v[r][1]||0,g=v[r-1][1]||0;h+=x-g}l+=f,c+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,uc(e,t)}}var l0={},VO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(VO);var A1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(A1);var c0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(c0);var u0={},WO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(WO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WO,n=c0;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",u=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:u?f==='"'||f==="'"?c=f:f==="]"?(u=!1,a.push(l),l=""):l+=f:f==="["?(u=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(u0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VO,n=A1,r=c0,i=u0;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function s(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||t.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}e.get=a})(l0);var L8=l0.get;const dc=vs(L8);var $8=4;function Zo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$8,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function xr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Zo(o)+a:i+a},"")}var Pi=e=>e===0?0:e>0?1:-1,Rs=e=>typeof e=="number"&&e!=+e,yo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,wt=e=>(typeof e=="number"||e instanceof Number)&&!Rs(e),Fs=e=>wt(e)||typeof e=="string",R8=0,kf=e=>{var t=++R8;return"".concat(e||"").concat(t)},ba=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!wt(t)&&typeof t!="string")return r;var a;if(yo(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return Rs(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},HO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function ji(e,t,n){return wt(e)&&wt(t)?Zo(e+n*(t-e)):t}function qO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):dc(r,t))===n)}var Kr=e=>e===null||typeof e>"u",Qf=e=>Kr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function F8(e){return e!=null}function Zf(){}var B8=["type","size","sizeType"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qx.apply(null,arguments)}function s2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function o2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(n),!0).forEach(function(r){z8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z8(e,t,n){return(t=U8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U8(e){var t=V8(e,"string");return typeof t=="symbol"?t:t+""}function V8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W8(e,t){if(e==null)return{};var n,r,i=H8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function H8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KO={symbolCircle:P1,symbolCross:l8,symbolDiamond:u8,symbolSquare:d8,symbolStar:p8,symbolTriangle:g8,symbolWye:y8},q8=Math.PI/180,K8=e=>{var t="symbol".concat(Qf(e));return KO[t]||P1},G8=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*q8;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Y8=(e,t)=>{KO["symbol".concat(Qf(e))]=t},E1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=W8(e,B8),a=o2(o2({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var m=K8(s),h=x8().type(m).size(G8(n,r,s)),p=h();if(p!==null)return p},{className:l,cx:c,cy:u}=a,f=zi(a);return wt(c)&&wt(u)&&wt(n)?y.createElement("path",Qx({},f,{className:Nn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};E1.registerSymbol=Y8;var GO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,T1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{S1(i)&&(r[i]=a=>n[i](n,a))}),r},X8=(e,t,n)=>r=>(e(t,n,r),null),D1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];S1(i)&&typeof a=="function"&&(r||(r={}),r[i]=X8(a,t,n))}),r};function l2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(n),!0).forEach(function(r){Z8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z8(e,t,n){return(t=J8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J8(e){var t=eV(e,"string");return typeof t=="symbol"?t:t+""}function eV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gr(e,t){var n=Q8({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lp.apply(null,arguments)}function c2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(n),!0).forEach(function(r){nV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nV(e,t,n){return(t=rV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rV(e){var t=iV(e,"string");return typeof t=="symbol"?t:t+""}function iV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ra=32,aV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function sV(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Ra/2,a=Ra/6,s=Ra/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return y.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:Ra,y2:i,className:"recharts-legend-icon"})}if(l==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ra,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return y.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ra/8,"h").concat(Ra,"v").concat(Ra*3/4,"h").concat(-Ra,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var u=tV({},t);return delete u.legendIcon,y.cloneElement(t.legendIcon,u)}return y.createElement(E1,{fill:o,cx:i,cy:i,size:Ra,sizeType:"diameter",type:l})}function oV(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Ra,height:Ra},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var m=u.formatter||i,h=Nn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?a:u.color,v=m?m(u.value,u,f):u.value;return y.createElement("li",Lp({className:h,style:l,key:"legend-item-".concat(f)},D1(e,u,f)),y.createElement(N1,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(v," legend icon")},y.createElement(sV,{data:u,iconType:s,inactiveColor:a})),y.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},v))})}var lV=e=>{var t=Gr(e,aV),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:a},y.createElement(oV,Lp({},t,{payload:n})))},YO={},XO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(XO);var QO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(QO);var M1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(M1);var ZO={},d0={},JO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(JO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JO;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(d0);var e5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(e5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d0,n=e5;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(ZO);var t5={},n5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(n5);var r5={},O1={},i5={},I1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(I1);var _1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(_1);var L1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(L1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I1,n=_1,r=L1;function i(u,f,m){return typeof m!="function"?i(u,f,()=>{}):a(u,f,function h(p,v,x,g,b,w){const S=m(p,v,x,g,b,w);return S!==void 0?!!S:a(p,v,h,w)},new Map)}function a(u,f,m,h){if(f===u)return!0;switch(typeof f){case"object":return s(u,f,m,h);case"function":return Object.keys(f).length>0?a(u,{...f},m,h):r.isEqualsSameValueZero(u,f);default:return t.isObject(u)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(u,f)}}function s(u,f,m,h){if(f==null)return!0;if(Array.isArray(f))return l(u,f,m,h);if(f instanceof Map)return o(u,f,m,h);if(f instanceof Set)return c(u,f,m,h);const p=Object.keys(f);if(u==null||n.isPrimitive(u))return p.length===0;if(p.length===0)return!0;if(h!=null&&h.has(f))return h.get(f)===u;h==null||h.set(f,u);try{for(let v=0;v<p.length;v++){const x=p[v];if(!n.isPrimitive(u)&&!(x in u)||f[x]===void 0&&u[x]!==void 0||f[x]===null&&u[x]!==null||!m(u[x],f[x],x,u,f,h))return!1}return!0}finally{h==null||h.delete(f)}}function o(u,f,m,h){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[p,v]of f.entries()){const x=u.get(p);if(m(x,v,p,u,f,h)===!1)return!1}return!0}function l(u,f,m,h){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const p=new Set;for(let v=0;v<f.length;v++){const x=f[v];let g=!1;for(let b=0;b<u.length;b++){if(p.has(b))continue;const w=u[b];let S=!1;if(m(w,x,v,u,f,h)&&(S=!0),S){p.add(b),g=!0;break}}if(!g)return!1}return!0}function c(u,f,m,h){return f.size===0?!0:u instanceof Set?l([...u],[...f],m,h):!1}e.isMatchWith=i,e.isSetMatch=c})(i5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i5;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(O1);var a5={},$1={},s5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(s5);var f0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(f0);var R1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",m="[object ArrayBuffer]",h="[object Object]",p="[object Error]",v="[object DataView]",x="[object Uint8Array]",g="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",T="[object BigInt64Array]",_="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=m,e.arrayTag=u,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=v,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=_,e.float64ArrayTag=A,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=P,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=h,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=g})(R1);var o5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(o5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s5,n=f0,r=R1,i=_1,a=o5;function s(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,m,h=new Map,p=void 0){const v=p==null?void 0:p(u,f,m,h);if(v!==void 0)return v;if(i.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const x=new Array(u.length);h.set(u,x);for(let g=0;g<u.length;g++)x[g]=o(u[g],g,m,h,p);return Object.hasOwn(u,"index")&&(x.index=u.index),Object.hasOwn(u,"input")&&(x.input=u.input),x}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const x=new RegExp(u.source,u.flags);return x.lastIndex=u.lastIndex,x}if(u instanceof Map){const x=new Map;h.set(u,x);for(const[g,b]of u)x.set(g,o(b,g,m,h,p));return x}if(u instanceof Set){const x=new Set;h.set(u,x);for(const g of u)x.add(o(g,void 0,m,h,p));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const x=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,x);for(let g=0;g<u.length;g++)x[g]=o(u[g],g,m,h,p);return x}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const x=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,x),l(x,u,m,h,p),x}if(typeof File<"u"&&u instanceof File){const x=new File([u],u.name,{type:u.type});return h.set(u,x),l(x,u,m,h,p),x}if(typeof Blob<"u"&&u instanceof Blob){const x=new Blob([u],{type:u.type});return h.set(u,x),l(x,u,m,h,p),x}if(u instanceof Error){const x=new u.constructor;return h.set(u,x),x.message=u.message,x.name=u.name,x.stack=u.stack,x.cause=u.cause,l(x,u,m,h,p),x}if(u instanceof Boolean){const x=new Boolean(u.valueOf());return h.set(u,x),l(x,u,m,h,p),x}if(u instanceof Number){const x=new Number(u.valueOf());return h.set(u,x),l(x,u,m,h,p),x}if(u instanceof String){const x=new String(u.valueOf());return h.set(u,x),l(x,u,m,h,p),x}if(typeof u=="object"&&c(u)){const x=Object.create(Object.getPrototypeOf(u));return h.set(u,x),l(x,u,m,h,p),x}return u}function l(u,f,m=u,h,p){const v=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<v.length;x++){const g=v[x],b=Object.getOwnPropertyDescriptor(u,g);(b==null||b.writable)&&(u[g]=o(f[g],g,m,h,p))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})($1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(a5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O1,n=a5;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(r5);var l5={},c5={},u5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1,n=f0,r=R1;function i(a,s){return t.cloneDeepWith(a,(o,l,c,u)=>{const f=s==null?void 0:s(o,l,c,u);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const m={};return u.set(a,m),t.copyProperties(m,a,c,u),m}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=i})(u5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u5;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(c5);var d5={},F1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(F1);var f5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(f5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A1,n=F1,r=f5,i=u0;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(d5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O1,n=c0,r=c5,i=l0,a=d5;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,o);return u===void 0?a.has(c,o):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=s})(l5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M1,n=n5,r=r5,i=l5;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(t5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XO,n=QO,r=M1,i=ZO,a=t5;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(YO);var cV=YO.uniqBy;const u2=vs(cV);function m5(e,t,n){return t===!0?u2(e,n):typeof t=="function"?u2(e,t):e}var h5={exports:{}},p5={},g5={exports:{}},v5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=y;function uV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dV=typeof Object.is=="function"?Object.is:uV,fV=Tu.useState,mV=Tu.useEffect,hV=Tu.useLayoutEffect,pV=Tu.useDebugValue;function gV(e,t){var n=t(),r=fV({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return hV(function(){i.value=n,i.getSnapshot=t,Xv(i)&&a({inst:i})},[e,n,t]),mV(function(){return Xv(i)&&a({inst:i}),e(function(){Xv(i)&&a({inst:i})})},[e]),pV(n),n}function Xv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dV(e,n)}catch{return!0}}function vV(e,t){return t()}var yV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vV:gV;v5.useSyncExternalStore=Tu.useSyncExternalStore!==void 0?Tu.useSyncExternalStore:yV;g5.exports=v5;var xV=g5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0=y,bV=xV;function wV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kV=typeof Object.is=="function"?Object.is:wV,SV=bV.useSyncExternalStore,NV=m0.useRef,CV=m0.useEffect,jV=m0.useMemo,PV=m0.useDebugValue;p5.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=NV(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=jV(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,kV(u,h))return p;var v=r(h);return i!==void 0&&i(p,v)?(u=h,p):(u=h,f=v)}var c=!1,u,f,m=n===void 0?null:n;return[function(){return l(t())},m===null?void 0:function(){return l(m())}]},[t,n,r,i]);var o=SV(e,a[0],a[1]);return CV(function(){s.hasValue=!0,s.value=o},[o]),PV(o),o};h5.exports=p5;var AV=h5.exports,B1=y.createContext(null),EV=e=>e,Wn=()=>{var e=y.useContext(B1);return e?e.store.dispatch:EV},qh=()=>{},TV=()=>qh,DV=(e,t)=>e===t;function xt(e){var t=y.useContext(B1);return AV.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:TV,t?t.store.getState:qh,t?t.store.getState:qh,t?e:qh,DV)}function MV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function OV(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function IV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var d2=e=>Array.isArray(e)?e:[e];function _V(e){const t=Array.isArray(e[0])?e[0]:e;return IV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function LV(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var $V=class{constructor(e){this.value=e}deref(){return this.value}},RV=typeof WeakRef<"u"?WeakRef:$V,FV=0,f2=1;function uh(){return{s:FV,v:void 0,o:null,p:null}}function y5(e,t={}){let n=uh();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let m=0,h=l;m<h;m++){const p=arguments[m];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const x=v.get(p);x===void 0?(o=uh(),v.set(p,o)):o=x}else{let v=o.p;v===null&&(o.p=v=new Map);const x=v.get(p);x===void 0?(o=uh(),v.set(p,o)):o=x}}const c=o;let u;if(o.s===f2)u=o.v;else if(u=e.apply(null,arguments),a++,r){const m=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;m!=null&&r(m,u)&&(u=m,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new RV(u):u}return c.s=f2,c.v=u,u}return s.clearCache=()=>{n=uh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function BV(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),MV(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:f,memoizeOptions:m=[],argsMemoize:h=y5,argsMemoizeOptions:p=[]}=u,v=d2(m),x=d2(p),g=_V(i),b=f(function(){return a++,c.apply(null,arguments)},...v),w=h(function(){s++;const C=LV(g,arguments);return o=b.apply(null,C),o},...x);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:g,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var de=BV(y5),zV=Object.assign((e,t=de)=>{OV(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>zV}),x5={},b5={},w5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(w5);var k5={},z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(z1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(k5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w5,n=k5,r=u0;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const c=(h,p)=>{let v=h;for(let x=0;x<p.length&&v!=null;++x)v=v[p[x]];return v},u=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:c(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?c(p,h):typeof p=="object"?p[h]:p,f=s.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||n.isKey(h)?h:{key:h,path:r.toPath(h)}));return a.map(h=>({original:h,criteria:f.map(p=>u(p,h))})).slice().sort((h,p)=>{for(let v=0;v<f.length;v++){const x=t.compareValues(h.criteria[v],p.criteria[v],o[v]);if(x!==0)return x}return 0}).map(h=>h.original)}e.orderBy=i})(b5);var S5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<a?s(u,l+1):i.push(u)}};return s(n,0),i}e.flatten=t})(S5);var U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F1,n=d0,r=I1,i=L1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(U1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b5,n=S5,r=U1;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(x5);var UV=x5.sortBy;const h0=vs(UV);var N5=e=>e.legend.settings,VV=e=>e.legend.size,WV=e=>e.legend.payload,HV=de([WV,N5],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?h0(r,n):r});function qV(){return xt(HV)}var dh=1;function C5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=y.useState({height:0,left:0,top:0,width:0}),r=y.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>dh||Math.abs(s.left-t.left)>dh||Math.abs(s.top-t.top)>dh||Math.abs(s.width-t.width)>dh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ci(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var KV=typeof Symbol=="function"&&Symbol.observable||"@@observable",m2=KV,Qv=()=>Math.random().toString(36).substring(7).split("").join("."),GV={INIT:`@@redux/INIT${Qv()}`,REPLACE:`@@redux/REPLACE${Qv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Qv()}`},$p=GV;function V1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function j5(e,t,n){if(typeof e!="function")throw new Error(ci(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ci(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ci(1));return n(j5)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((x,g)=>{s.set(g,x)}))}function u(){if(l)throw new Error(ci(3));return i}function f(x){if(typeof x!="function")throw new Error(ci(4));if(l)throw new Error(ci(5));let g=!0;c();const b=o++;return s.set(b,x),function(){if(g){if(l)throw new Error(ci(6));g=!1,c(),s.delete(b),a=null}}}function m(x){if(!V1(x))throw new Error(ci(7));if(typeof x.type>"u")throw new Error(ci(8));if(typeof x.type!="string")throw new Error(ci(17));if(l)throw new Error(ci(9));try{l=!0,i=r(i,x)}finally{l=!1}return(a=s).forEach(b=>{b()}),x}function h(x){if(typeof x!="function")throw new Error(ci(10));r=x,m({type:$p.REPLACE})}function p(){const x=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(ci(11));function b(){const S=g;S.next&&S.next(u())}return b(),{unsubscribe:x(b)}},[m2](){return this}}}return m({type:$p.INIT}),{dispatch:m,subscribe:f,getState:u,replaceReducer:h,[m2]:p}}function YV(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:$p.INIT})>"u")throw new Error(ci(12));if(typeof n(void 0,{type:$p.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ci(13))})}function P5(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{YV(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const f=r[u],m=n[f],h=s[f],p=m(h,o);if(typeof p>"u")throw o&&o.type,new Error(ci(14));c[f]=p,l=l||p!==h}return l=l||r.length!==Object.keys(s).length,l?c:s}}function Rp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function XV(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ci(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=Rp(...o)(i.dispatch),{...i,dispatch:a}}}function A5(e){return V1(e)&&"type"in e&&typeof e.type=="string"}var E5=Symbol.for("immer-nothing"),h2=Symbol.for("immer-draftable"),Ui=Symbol.for("immer-state");function as(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ya=Object,Du=ya.getPrototypeOf,Fp="constructor",p0="prototype",Zx="configurable",Bp="enumerable",Kh="writable",Sf="value",xo=e=>!!e&&!!e[Ui];function hs(e){var t;return e?T5(e)||v0(e)||!!e[h2]||!!((t=e[Fp])!=null&&t[h2])||y0(e)||x0(e):!1}var QV=ya[p0][Fp].toString(),p2=new WeakMap;function T5(e){if(!e||!W1(e))return!1;const t=Du(e);if(t===null||t===ya[p0])return!0;const n=ya.hasOwnProperty.call(t,Fp)&&t[Fp];if(n===Object)return!0;if(!Wc(n))return!1;let r=p2.get(n);return r===void 0&&(r=Function.toString.call(n),p2.set(n,r)),r===QV}function g0(e,t,n=!0){Jf(e)===0?(n?Reflect.ownKeys(e):ya.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Jf(e){const t=e[Ui];return t?t.type_:v0(e)?1:y0(e)?2:x0(e)?3:0}var g2=(e,t,n=Jf(e))=>n===2?e.has(t):ya[p0].hasOwnProperty.call(e,t),Jx=(e,t,n=Jf(e))=>n===2?e.get(t):e[t],zp=(e,t,n,r=Jf(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function ZV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var v0=Array.isArray,y0=e=>e instanceof Map,x0=e=>e instanceof Set,W1=e=>typeof e=="object",Wc=e=>typeof e=="function",Zv=e=>typeof e=="boolean";function JV(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Js=e=>e.copy_||e.base_,H1=e=>e.modified_?e.copy_:e.base_;function eb(e,t){if(y0(e))return new Map(e);if(x0(e))return new Set(e);if(v0(e))return Array[p0].slice.call(e);const n=T5(e);if(t===!0||t==="class_only"&&!n){const r=ya.getOwnPropertyDescriptors(e);delete r[Ui];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[Kh]===!1&&(o[Kh]=!0,o[Zx]=!0),(o.get||o.set)&&(r[s]={[Zx]:!0,[Kh]:!0,[Bp]:o[Bp],[Sf]:e[s]})}return ya.create(Du(e),r)}else{const r=Du(e);if(r!==null&&n)return{...e};const i=ya.create(r);return ya.assign(i,e)}}function q1(e,t=!1){return b0(e)||xo(e)||!hs(e)||(Jf(e)>1&&ya.defineProperties(e,{set:fh,add:fh,clear:fh,delete:fh}),ya.freeze(e),t&&g0(e,(n,r)=>{q1(r,!0)},!1)),e}function eW(){as(2)}var fh={[Sf]:eW};function b0(e){return e===null||!W1(e)?!0:ya.isFrozen(e)}var Up="MapSet",tb="Patches",v2="ArrayMethods",D5={};function fc(e){const t=D5[e];return t||as(0,e),t}var y2=e=>!!D5[e],Nf,M5=()=>Nf,tW=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:y2(Up)?fc(Up):void 0,arrayMethodsPlugin_:y2(v2)?fc(v2):void 0});function x2(e,t){t&&(e.patchPlugin_=fc(tb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nb(e){rb(e),e.drafts_.forEach(nW),e.drafts_=null}function rb(e){e===Nf&&(Nf=e.parent_)}var b2=e=>Nf=tW(Nf,e);function nW(e){const t=e[Ui];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function w2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ui].modified_&&(nb(t),as(4)),hs(e)&&(e=k2(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Ui].base_,e,t)}else e=k2(t,n);return rW(t,e,!0),nb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==E5?e:void 0}function k2(e,t){if(b0(t))return t;const n=t[Ui];if(!n)return Vp(t,e.handledSet_,e);if(!w0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);_5(n,e)}return n.copy_}function rW(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&q1(t,n)}function O5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var w0=(e,t)=>e.scope_===t,iW=[];function I5(e,t,n,r){const i=Js(e),a=e.type_;if(r!==void 0&&Jx(i,r,a)===t){zp(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;g0(i,(l,c)=>{if(xo(c)){const u=o.get(c)||[];u.push(l),o.set(c,u)}})}const s=e.draftLocations_.get(t)??iW;for(const o of s)zp(i,o,n,a)}function aW(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!w0(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=H1(a);I5(e,a.draft_??a,s,n),_5(a,i)})}function _5(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}O5(e)}}function sW(e,t,n){const{scope_:r}=e;if(xo(n)){const i=n[Ui];w0(i,r)&&i.callbacks_.push(function(){Gh(e);const s=H1(i);I5(e,n,s,t)})}else hs(n)&&e.callbacks_.push(function(){const a=Js(e);e.type_===3?a.has(n)&&Vp(n,r.handledSet_,r):Jx(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Vp(Jx(e.copy_,t,e.type_),r.handledSet_,r)})}function Vp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||xo(e)||t.has(e)||!hs(e)||b0(e)||(t.add(e),g0(e,(r,i)=>{if(xo(i)){const a=i[Ui];if(w0(a,n)){const s=H1(a);zp(e,r,s,e.type_),O5(a)}}else hs(i)&&Vp(i,t,n)})),e}function oW(e,t){const n=v0(e),r={type_:n?1:0,scope_:t?t.scope_:M5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Wp;n&&(i=[r],a=Cf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Wp={get(e,t){if(t===Ui)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Js(e);if(!g2(i,t,e.type_))return lW(e,i,t);const a=i[t];if(e.finalized_||!hs(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&JV(t))return a;if(a===Jv(e.base_,t)){Gh(e);const s=e.type_===1?+t:t,o=ab(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Js(e)},ownKeys(e){return Reflect.ownKeys(Js(e))},set(e,t,n){const r=L5(Js(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Jv(Js(e),t),a=i==null?void 0:i[Ui];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(ZV(n,i)&&(n!==void 0||g2(e.base_,t,e.type_)))return!0;Gh(e),ib(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),sW(e,t,n)),!0},deleteProperty(e,t){return Gh(e),Jv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ib(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Js(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Kh]:!0,[Zx]:e.type_!==1||t!=="length",[Bp]:r[Bp],[Sf]:n[t]}},defineProperty(){as(11)},getPrototypeOf(e){return Du(e.base_)},setPrototypeOf(){as(12)}},Cf={};for(let e in Wp){let t=Wp[e];Cf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Cf.deleteProperty=function(e,t){return Cf.set.call(this,e,t,void 0)};Cf.set=function(e,t,n){return Wp.set.call(this,e[0],t,n,e[0])};function Jv(e,t){const n=e[Ui];return(n?Js(n):e)[t]}function lW(e,t,n){var i;const r=L5(t,n);return r?Sf in r?r[Sf]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function L5(e,t){if(!(t in e))return;let n=Du(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Du(n)}}function ib(e){e.modified_||(e.modified_=!0,e.parent_&&ib(e.parent_))}function Gh(e){e.copy_||(e.assigned_=new Map,e.copy_=eb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Wc(n)&&!Wc(r)){const s=r;r=n;const o=this;return function(c=s,...u){return o.produce(c,f=>r.call(this,f,...u))}}Wc(r)||as(6),i!==void 0&&!Wc(i)&&as(7);let a;if(hs(n)){const s=b2(this),o=ab(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?nb(s):rb(s)}return x2(s,i),w2(a,s)}else if(!n||!W1(n)){if(a=r(n),a===void 0&&(a=n),a===E5&&(a=void 0),this.autoFreeze_&&q1(a,!0),i){const s=[],o=[];fc(tb).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else as(1,n)},this.produceWithPatches=(n,r)=>{if(Wc(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},Zv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Zv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Zv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){hs(t)||as(8),xo(t)&&(t=us(t));const n=b2(this),r=ab(n,t,void 0);return r[Ui].isManual_=!0,rb(n),r}finishDraft(t,n){const r=t&&t[Ui];(!r||!r.isManual_)&&as(9);const{scope_:i}=r;return x2(i,n),w2(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=fc(tb).applyPatches_;return xo(t)?i(t,n):this.produce(t,a=>i(a,n))}};function ab(e,t,n,r){const[i,a]=y0(t)?fc(Up).proxyMap_(t,n):x0(t)?fc(Up).proxySet_(t,n):oW(t,n);return((n==null?void 0:n.scope_)??M5()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?aW(n,a,r):a.callbacks_.push(function(l){var u;(u=l.mapSetPlugin_)==null||u.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function us(e){return xo(e)||as(10,e),$5(e)}function $5(e){if(!hs(e)||b0(e))return e;const t=e[Ui];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=eb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=eb(e,!0);return g0(n,(i,a)=>{zp(n,i,$5(a))},r),t&&(t.finalized_=!1),n}var uW=new cW,R5=uW.produce;function F5(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var dW=F5(),fW=F5,mW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rp:Rp.apply(null,arguments)};function Ya(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(wa(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>A5(r)&&r.type===e,n}var B5=class Od extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Od.prototype)}static get[Symbol.species](){return Od}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Od(...t[0].concat(this)):new Od(...t.concat(this))}};function S2(e){return hs(e)?R5(e,()=>{}):e}function mh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function hW(e){return typeof e=="boolean"}var pW=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new B5;return n&&(hW(n)?s.push(dW):s.push(fW(n.extraArgument))),s},z5="RTK_autoBatch",tr=()=>e=>({payload:e,meta:{[z5]:!0}}),N2=e=>t=>{setTimeout(t,e)},U5=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:N2(10):e.type==="callback"?e.queueNotification:N2(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const f=()=>i&&u(),m=r.subscribe(f);return o.add(u),()=>{m(),o.delete(u)}},dispatch(u){var f;try{return i=!((f=u==null?void 0:u.meta)!=null&&f[z5]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},gW=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new B5(e);return r&&i.push(U5(typeof r=="object"?r:void 0)),i};function vW(e){const t=pW(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(V1(n))o=P5(n);else throw new Error(wa(1));let l;typeof r=="function"?l=r(t):l=t();let c=Rp;i&&(c=mW({trace:!1,...typeof i=="object"&&i}));const u=XV(...l),f=gW(u);let m=typeof s=="function"?s(f):f();const h=c(...m);return j5(o,a,h)}function V5(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(wa(28));if(o in t)throw new Error(wa(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function yW(e){return typeof e=="function"}function xW(e,t){let[n,r,i]=V5(t),a;if(yW(e))a=()=>S2(e());else{const o=S2(e);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,f)=>{if(f)if(xo(u)){const h=f(u,l);return h===void 0?u:h}else{if(hs(u))return R5(u,m=>f(m,l));{const m=f(u,l);if(m===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return u},o)}return s.getInitialState=a,s}var bW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wW=(e=21)=>{let t="",n=e;for(;n--;)t+=bW[Math.random()*64|0];return t},kW=Symbol.for("rtk-slice-createasyncthunk");function SW(e,t){return`${e}/${t}`}function NW({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[kW];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(wa(11));const o=(typeof i.reducers=="function"?i.reducers(jW()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,C){const N=typeof S=="string"?S:S.type;if(!N)throw new Error(wa(12));if(N in c.sliceCaseReducersByType)throw new Error(wa(13));return c.sliceCaseReducersByType[N]=C,u},addMatcher(S,C){return c.sliceMatchers.push({matcher:S,reducer:C}),u},exposeAction(S,C){return c.actionCreators[S]=C,u},exposeCaseReducer(S,C){return c.sliceCaseReducersByName[S]=C,u}};l.forEach(S=>{const C=o[S],N={reducerName:S,type:SW(a,S),createNotation:typeof i.reducers=="function"};AW(C)?TW(N,C,u,t):PW(N,C,u)});function f(){const[S={},C=[],N=void 0]=typeof i.extraReducers=="function"?V5(i.extraReducers):[i.extraReducers],P={...S,...c.sliceCaseReducersByType};return xW(i.initialState,T=>{for(let _ in P)T.addCase(_,P[_]);for(let _ of c.sliceMatchers)T.addMatcher(_.matcher,_.reducer);for(let _ of C)T.addMatcher(_.matcher,_.reducer);N&&T.addDefaultCase(N)})}const m=S=>S,h=new Map,p=new WeakMap;let v;function x(S,C){return v||(v=f()),v(S,C)}function g(){return v||(v=f()),v.getInitialState()}function b(S,C=!1){function N(T){let _=T[S];return typeof _>"u"&&C&&(_=mh(p,N,g)),_}function P(T=m){const _=mh(h,C,()=>new WeakMap);return mh(_,T,()=>{const A={};for(const[$,D]of Object.entries(i.selectors??{}))A[$]=CW(D,T,()=>mh(p,T,g),C);return A})}return{reducerPath:S,getSelectors:P,get selectors(){return P(N)},selectSlice:N}}const w={name:a,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:g,...b(s),injectInto(S,{reducerPath:C,...N}={}){const P=C??s;return S.inject({reducerPath:P,reducer:x},N),{...w,...b(P,!0)}}};return w}}function CW(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var sa=NW();function jW(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function PW({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!EW(r))throw new Error(wa(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Ya(e,s):Ya(e))}function AW(e){return e._reducerDefinitionType==="asyncThunk"}function EW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function TW({type:e,reducerName:t},n,r,i){if(!i)throw new Error(wa(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=n,f=i(e,a,u);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:s||hh,pending:o||hh,rejected:l||hh,settled:c||hh})}function hh(){}var DW="task",W5="listener",H5="completed",K1="cancelled",MW=`task-${K1}`,OW=`task-${H5}`,sb=`${W5}-${K1}`,IW=`${W5}-${H5}`,k0=class{constructor(e){xv(this,"name","TaskAbortError");xv(this,"message");this.code=e,this.message=`${DW} ${K1} (reason: ${e})`}},G1=(e,t)=>{if(typeof e!="function")throw new TypeError(wa(32))},Hp=()=>{},q5=(e,t=Hp)=>(e.catch(t),e),K5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),tc=e=>{if(e.aborted)throw new k0(e.reason)};function G5(e,t){let n=Hp;return new Promise((r,i)=>{const a=()=>i(new k0(e.reason));if(e.aborted){a();return}n=K5(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Hp})}var _W=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof k0?"cancelled":"rejected",error:n}}finally{t==null||t()}},qp=e=>t=>q5(G5(e,t).then(n=>(tc(e),n))),Y5=e=>{const t=qp(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:vu}=Object,C2={},S0="listenerMiddleware",LW=(e,t)=>{const n=r=>K5(e,()=>r.abort(e.reason));return(r,i)=>{G1(r);const a=new AbortController;n(a);const s=_W(async()=>{tc(e),tc(a.signal);const o=await r({pause:qp(a.signal),delay:Y5(a.signal),signal:a.signal});return tc(a.signal),o},()=>a.abort(OW));return i!=null&&i.autoJoin&&t.push(s.catch(Hp)),{result:qp(e)(s),cancel(){a.abort(MW)}}}},$W=(e,t)=>{const n=async(r,i)=>{tc(t);let a=()=>{};const o=[new Promise((l,c)=>{let u=e({predicate:r,effect:(f,m)=>{m.unsubscribe(),l([f,m.getState(),m.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await G5(t,Promise.race(o));return tc(t),l}finally{a()}};return(r,i)=>q5(n(r,i))},X5=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ya(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(wa(21));return G1(a),{predicate:i,type:t,effect:a}},Q5=vu(e=>{const{type:t,predicate:n,effect:r}=X5(e);return{id:wW(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(wa(22))}}},{withTypes:()=>Q5}),j2=(e,t)=>{const{type:n,effect:r,predicate:i}=X5(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},ob=e=>{e.pending.forEach(t=>{t.abort(sb)})},RW=(e,t)=>()=>{for(const n of t.keys())ob(n);e.clear()},P2=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Z5=vu(Ya(`${S0}/add`),{withTypes:()=>Z5}),FW=Ya(`${S0}/removeAll`),J5=vu(Ya(`${S0}/remove`),{withTypes:()=>J5}),BW=(...e)=>{console.error(`${S0}/error`,...e)},em=(e={})=>{const t=new Map,n=new Map,r=h=>{const p=n.get(h)??0;n.set(h,p+1)},i=h=>{const p=n.get(h)??1;p===1?n.delete(h):n.set(h,p-1)},{extra:a,onError:s=BW}=e;G1(s);const o=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),p=>{h.unsubscribe(),p!=null&&p.cancelActive&&ob(h)}),l=h=>{const p=j2(t,h)??Q5(h);return o(p)};vu(l,{withTypes:()=>l});const c=h=>{const p=j2(t,h);return p&&(p.unsubscribe(),h.cancelActive&&ob(p)),!!p};vu(c,{withTypes:()=>c});const u=async(h,p,v,x)=>{const g=new AbortController,b=$W(l,g.signal),w=[];try{h.pending.add(g),r(h),await Promise.resolve(h.effect(p,vu({},v,{getOriginalState:x,condition:(S,C)=>b(S,C).then(Boolean),take:b,delay:Y5(g.signal),pause:qp(g.signal),extra:a,signal:g.signal,fork:LW(g.signal,w),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((S,C,N)=>{S!==g&&(S.abort(sb),N.delete(S))})},cancel:()=>{g.abort(sb),h.pending.delete(g)},throwIfCancelled:()=>{tc(g.signal)}})))}catch(S){S instanceof k0||P2(s,S,{raisedBy:"effect"})}finally{await Promise.all(w),g.abort(IW),i(h),h.pending.delete(g)}},f=RW(t,n);return{middleware:h=>p=>v=>{if(!A5(v))return p(v);if(Z5.match(v))return l(v.payload);if(FW.match(v)){f();return}if(J5.match(v))return c(v.payload);let x=h.getState();const g=()=>{if(x===C2)throw new Error(wa(23));return x};let b;try{if(b=p(v),t.size>0){const w=h.getState(),S=Array.from(t.values());for(const C of S){let N=!1;try{N=C.predicate(v,w,x)}catch(P){N=!1,P2(s,P,{raisedBy:"predicate"})}N&&u(C,v,h,g)}}}finally{x=C2}return b},startListening:l,stopListening:c,clearListeners:f}};function wa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var zW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},eI=sa({name:"chartLayout",initialState:zW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:UW,setLayout:VW,setChartSize:WW,setScale:HW}=eI.actions,qW=eI.reducer;function tI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Rr(e){return Number.isFinite(e)}function Bs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function A2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(n),!0).forEach(function(r){KW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KW(e,t,n){return(t=GW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=YW(e,"string");return typeof t=="symbol"?t:t+""}function YW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zn(e,t,n){return Kr(e)||Kr(t)?n:Fs(t)?dc(e,t,n):typeof t=="function"?t(e):n}var XW=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&wt(e[a]))return iu(iu({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&wt(e[s]))return iu(iu({},e),{},{[s]:e[s]+(i||0)})}return e},xl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",nI=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},rI=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:m,axisType:h}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(v=h==="angleAxis"&&a&&a.length>=2?Pi(a[0]-a[1])*2*v:v,f||m){var x=(f||m||[]).map((g,b)=>{var w=r?r.indexOf(g):g;return{coordinate:s(w)+v,value:g,offset:v,index:b}});return x.filter(g=>!Rs(g.coordinate))}return l&&c?c.map((g,b)=>({coordinate:s(g)+v,value:g,index:b,offset:v})):s.ticks&&u!=null?s.ticks(u).map((g,b)=>({coordinate:s(g)+v,value:g,offset:v,index:b})):s.domain().map((g,b)=>({coordinate:s(g)+v,value:r?r[g]:g,index:b,offset:v}))},E2=1e-4,QW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-E2,a=Math.max(r[0],r[1])+E2,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},ZW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var u=c[1],f=c[0],m=Rs(u)?f:u;m>=0?(c[0]=a,c[1]=a+m,a=u):(c[0]=s,c[1]=s+m,s=u)}}}},JW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var c=Rs(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}},e9={sign:ZW,expand:O8,none:uc,silhouette:I8,wiggle:_8,positive:JW},t9=(e,t,n)=>{var r,i=(r=e9[n])!==null&&r!==void 0?r:uc,a=M8().keys(t).value((o,l)=>Number(Zn(o,l,0))).order(Xx).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((c,u)=>{var f=Zn(e[u],t[l],0);Array.isArray(f)&&f.length===2&&wt(f[0])&&wt(f[1])&&(c[0]=f[0],c[1]=f[1])})}),s};function T2(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Kr(i[t.dataKey])){var o=qO(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=Zn(i,Kr(s)?t.dataKey:s);return Kr(l)?null:t.scale(l)}var n9=e=>{var t=e.flat(2).filter(wt);return[Math.min(...t),Math.max(...t)]},r9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],i9=(e,t,n)=>{if(e!=null)return r9(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,c)=>{var u=tI(c,t,n),f=n9(u);return!Rr(f[0])||!Rr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},D2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kp=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=h0(t,u=>u.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function O2(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return iu(iu({},t),{},{dataKey:n,payload:r,value:i,name:a})}function N0(e,t){if(e)return String(e);if(typeof t=="string")return t}var a9=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},s9=(e,t)=>t==="centric"?e.angle:e.radius,jo=e=>e.layout.width,Po=e=>e.layout.height,o9=e=>e.layout.scale,iI=e=>e.layout.margin,C0=de(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),j0=de(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),aI="data-recharts-item-index",sI="data-recharts-item-id",tm=60;function I2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(n),!0).forEach(function(r){l9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l9(e,t,n){return(t=c9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c9(e){var t=u9(e,"string");return typeof t=="symbol"?t:t+""}function u9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d9=e=>e.brush.height;function f9(e){var t=j0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:tm;return n+i}return n},0)}function m9(e){var t=j0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:tm;return n+i}return n},0)}function h9(e){var t=C0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function p9(e){var t=C0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var si=de([jo,Po,iI,d9,f9,m9,h9,p9,N5,VV],(e,t,n,r,i,a,s,o,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},m=ph(ph({},f),u),h=m.bottom;m.bottom+=r,m=XW(m,l,c);var p=e-m.left-m.right,v=t-m.top-m.bottom;return ph(ph({brushBottom:h},m),{},{width:Math.max(p,0),height:Math.max(v,0)})}),g9=de(si,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),oI=de(jo,Po,(e,t)=>({x:0,y:0,width:e,height:t})),v9=y.createContext(null),oa=()=>y.useContext(v9)!=null,P0=e=>e.brush,A0=de([P0,si,iI],(e,t,n)=>({height:e.height,x:wt(e.x)?e.x:t.left,y:wt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:wt(e.width)?e.width:t.width})),lI={},cI={},uI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{c&&u(),v()};let m=null;const h=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},r)},p=()=>{m!==null&&(clearTimeout(m),m=null)},v=()=>{p(),s=void 0,o=null},x=()=>{u()},g=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=m==null;h(),l&&w&&u()};return g.schedule=h,g.cancel=v,g.flush=x,i==null||i.addEventListener("abort",v,{once:!0}),g}e.debounce=t})(uI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uI;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let u,f=null;const m=t.debounce(function(...v){u=r.apply(this,v),f=null},i,{edges:c}),h=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=r.apply(this,v),f=Date.now(),m.cancel(),m.schedule(),u):(m.apply(this,v),u)},p=()=>(m.flush(),u);return h.cancel=m.cancel,h.flush=p,h}e.debounce=n})(cI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cI;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(lI);var y9=lI.throttle;const x9=vs(y9);var Gp=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},dI=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=yo(r)?e:Number(r),l=yo(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},b9={width:0,height:0,overflow:"visible"},w9={width:0,overflowX:"visible"},k9={height:0,overflowY:"visible"},S9={},N9=e=>{var{width:t,height:n}=e,r=yo(t),i=yo(n);return r&&i?b9:r?w9:i?k9:S9};function C9(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lb.apply(null,arguments)}function _2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(n),!0).forEach(function(r){j9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j9(e,t,n){return(t=P9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P9(e){var t=A9(e,"string");return typeof t=="symbol"?t:t+""}function A9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fI=y.createContext({width:-1,height:-1});function E9(e){return Bs(e.width)&&Bs(e.height)}function mI(e){var{children:t,width:n,height:r}=e,i=y.useMemo(()=>({width:n,height:r}),[n,r]);return E9(i)?y.createElement(fI.Provider,{value:i},t):null}var Y1=()=>y.useContext(fI),T9=y.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:m,onResize:h,style:p={}}=e,v=y.useRef(null),x=y.useRef();x.current=h,y.useImperativeHandle(t,()=>v.current);var[g,b]=y.useState({containerWidth:r.width,containerHeight:r.height}),w=y.useCallback((T,_)=>{b(A=>{var $=Math.round(T),D=Math.round(_);return A.containerWidth===$&&A.containerHeight===D?A:{containerWidth:$,containerHeight:D}})},[]);y.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Zf;var T=D=>{var te,{width:K,height:ie}=D[0].contentRect;w(K,ie),(te=x.current)===null||te===void 0||te.call(x,K,ie)};u>0&&(T=x9(T,u,{trailing:!0,leading:!1}));var _=new ResizeObserver(T),{width:A,height:$}=v.current.getBoundingClientRect();return w(A,$),_.observe(v.current),()=>{_.disconnect()}},[w,u]);var{containerWidth:S,containerHeight:C}=g;Gp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:P}=dI(S,C,{width:i,height:a,aspect:n,maxHeight:l});return Gp(N!=null&&N>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,P,i,a,s,o,n),y.createElement("div",{id:f?"".concat(f):void 0,className:Nn("recharts-responsive-container",m),style:L2(L2({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:v},y.createElement("div",{style:N9({width:i,height:a})},y.createElement(mI,{width:N,height:P},c)))}),mc=y.forwardRef((e,t)=>{var n=Y1();if(Bs(n.width)&&Bs(n.height))return e.children;var{width:r,height:i}=C9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=dI(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return wt(a)&&wt(s)?y.createElement(mI,{width:a,height:s},e.children):y.createElement(T9,lb({},e,{width:r,height:i,ref:t}))});function hI(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var E0=()=>{var e,t=oa(),n=xt(g9),r=xt(A0),i=(e=xt(P0))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},D9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},pI=()=>{var e;return(e=xt(si))!==null&&e!==void 0?e:D9},X1=()=>xt(jo),Q1=()=>xt(Po),M9=()=>xt(e=>e.layout.margin),Mn=e=>e.layout.layoutType,nm=()=>xt(Mn),O9=()=>{var e=nm();return e!==void 0},T0=e=>{var t=Wn(),n=oa(),{width:r,height:i}=e,a=Y1(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),y.useEffect(()=>{!n&&Bs(s)&&Bs(o)&&t(WW({width:s,height:o}))},[t,n,s,o]),null},gI=Symbol.for("immer-nothing"),$2=Symbol.for("immer-draftable"),Na=Symbol.for("immer-state");function ss(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jf=Object.getPrototypeOf;function Mu(e){return!!e&&!!e[Na]}function hc(e){var t;return e?vI(e)||Array.isArray(e)||!!e[$2]||!!((t=e.constructor)!=null&&t[$2])||rm(e)||M0(e):!1}var I9=Object.prototype.constructor.toString(),R2=new WeakMap;function vI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=R2.get(n);return r===void 0&&(r=Function.toString.call(n),R2.set(n,r)),r===I9}function Yp(e,t,n=!0){D0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function D0(e){const t=e[Na];return t?t.type_:Array.isArray(e)?1:rm(e)?2:M0(e)?3:0}function cb(e,t){return D0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yI(e,t,n){const r=D0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function _9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function rm(e){return e instanceof Map}function M0(e){return e instanceof Set}function Fl(e){return e.copy_||e.base_}function ub(e,t){if(rm(e))return new Map(e);if(M0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=vI(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Na];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(jf(e),r)}else{const r=jf(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Z1(e,t=!1){return O0(e)||Mu(e)||!hc(e)||(D0(e)>1&&Object.defineProperties(e,{set:gh,add:gh,clear:gh,delete:gh}),Object.freeze(e),t&&Object.values(e).forEach(n=>Z1(n,!0))),e}function L9(){ss(2)}var gh={value:L9};function O0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var $9={};function pc(e){const t=$9[e];return t||ss(0,e),t}var Pf;function xI(){return Pf}function R9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function F2(e,t){t&&(pc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function db(e){fb(e),e.drafts_.forEach(F9),e.drafts_=null}function fb(e){e===Pf&&(Pf=e.parent_)}function B2(e){return Pf=R9(Pf,e)}function F9(e){const t=e[Na];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function z2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Na].modified_&&(db(t),ss(4)),hc(e)&&(e=Xp(t,e),t.parent_||Qp(t,e)),t.patches_&&pc("Patches").generateReplacementPatches_(n[Na].base_,e,t.patches_,t.inversePatches_)):e=Xp(t,n,[]),db(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gI?e:void 0}function Xp(e,t,n){if(O0(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Na];if(!i)return Yp(t,(a,s)=>U2(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Qp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Yp(s,(l,c)=>U2(e,i,a,l,c,n,o),r),Qp(e,a,!1),n&&e.patches_&&pc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function U2(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=O0(i);if(!(o&&!s)){if(Mu(i)){const l=a&&t&&t.type_!==3&&!cb(t.assigned_,r)?a.concat(r):void 0,c=Xp(e,i,l);if(yI(n,r,c),Mu(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(hc(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;Xp(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(rm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Qp(e,i)}}}function Qp(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Z1(t,n)}function B9(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:xI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=J1;n&&(i=[r],a=Af);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var J1={get(e,t){if(t===Na)return e;const n=Fl(e);if(!cb(n,t))return z9(e,n,t);const r=n[t];return e.finalized_||!hc(r)?r:r===ey(e.base_,t)?(ty(e),e.copy_[t]=hb(r,e)):r},has(e,t){return t in Fl(e)},ownKeys(e){return Reflect.ownKeys(Fl(e))},set(e,t,n){const r=bI(Fl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ey(Fl(e),t),a=i==null?void 0:i[Na];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(_9(n,i)&&(n!==void 0||cb(e.base_,t)))return!0;ty(e),mb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ey(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ty(e),mb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Fl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ss(11)},getPrototypeOf(e){return jf(e.base_)},setPrototypeOf(){ss(12)}},Af={};Yp(J1,(e,t)=>{Af[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Af.deleteProperty=function(e,t){return Af.set.call(this,e,t,void 0)};Af.set=function(e,t,n){return J1.set.call(this,e[0],t,n,e[0])};function ey(e,t){const n=e[Na];return(n?Fl(n):e)[t]}function z9(e,t,n){var i;const r=bI(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function bI(e,t){if(!(t in e))return;let n=jf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=jf(n)}}function mb(e){e.modified_||(e.modified_=!0,e.parent_&&mb(e.parent_))}function ty(e){e.copy_||(e.copy_=ub(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var U9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...c){return s.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&ss(6),r!==void 0&&typeof r!="function"&&ss(7);let i;if(hc(t)){const a=B2(this),s=hb(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?db(a):fb(a)}return F2(a,r),z2(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===gI&&(i=void 0),this.autoFreeze_&&Z1(i,!0),r){const a=[],s=[];pc("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else ss(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){hc(e)||ss(8),Mu(e)&&(e=V9(e));const t=B2(this),n=hb(e,void 0);return n[Na].isManual_=!0,fb(t),n}finishDraft(e,t){const n=e&&e[Na];(!n||!n.isManual_)&&ss(9);const{scope_:r}=n;return F2(r,t),z2(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=pc("Patches").applyPatches_;return Mu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function hb(e,t){const n=rm(e)?pc("MapSet").proxyMap_(e,t):M0(e)?pc("MapSet").proxySet_(e,t):B9(e,t);return(t?t.scope_:xI()).drafts_.push(n),n}function V9(e){return Mu(e)||ss(10,e),wI(e)}function wI(e){if(!hc(e)||O0(e))return e;const t=e[Na];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ub(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ub(e,!0);return Yp(n,(i,a)=>{yI(n,i,wI(a))},r),t&&(t.finalized_=!1),n}var W9=new U9;W9.produce;var H9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},kI=sa({name:"legend",initialState:H9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:tr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=us(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:tr()},removeLegendPayload:{reducer(e,t){var n=us(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:tr()}}}),{setLegendSize:V2,setLegendSettings:q9,addLegendPayload:SI,replaceLegendPayload:NI,removeLegendPayload:CI}=kI.actions,K9=kI.reducer,G9=["contextPayload"];function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pb.apply(null,arguments)}function W2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ou(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(n),!0).forEach(function(r){Y9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y9(e,t,n){return(t=X9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X9(e){var t=Q9(e,"string");return typeof t=="symbol"?t:t+""}function Q9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z9(e,t){if(e==null)return{};var n,r,i=J9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function eH(e){return e.value}function tH(e){var{contextPayload:t}=e,n=Z9(e,G9),r=m5(t,e.payloadUniqBy,eH),i=Ou(Ou({},n),{},{payload:r});return y.isValidElement(e.content)?y.cloneElement(e.content,i):typeof e.content=="function"?y.createElement(e.content,i):y.createElement(lV,i)}function nH(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ou(Ou({},c),u)}function rH(e){var t=Wn();return y.useEffect(()=>{t(q9(e))},[t,e]),null}function iH(e){var t=Wn();return y.useEffect(()=>(t(V2(e)),()=>{t(V2({width:0,height:0}))}),[t,e]),null}function aH(e,t,n,r){return e==="vertical"&&wt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var sH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function jI(e){var t=Gr(e,sH),n=qV(),r=n8(),i=M9(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[c,u]=C5([n]),f=X1(),m=Q1();if(f==null||m==null)return null;var h=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=aH(t.layout,s,a,h),v=l?o:Ou(Ou({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},nH(o,t,i,f,m,c)),o),x=l??r;if(x==null||n==null)return null;var g=y.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:u},y.createElement(rH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&y.createElement(iH,{width:c.width,height:c.height}),y.createElement(tH,pb({},t,p,{margin:i,chartWidth:f,chartHeight:m,contextPayload:n})));return Hu.createPortal(g,x)}jI.displayName="Legend";function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gb.apply(null,arguments)}function H2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(n),!0).forEach(function(r){oH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oH(e,t,n){return(t=lH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lH(e){var t=cH(e,"string");return typeof t=="symbol"?t:t+""}function cH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uH(e){return Array.isArray(e)&&Fs(e[0])&&Fs(e[1])?e.join(" ~ "):e}var dH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:m=!1}=e,h=()=>{if(a&&a.length){var C={padding:0,margin:0},N=(o?h0(a,o):a).map((P,T)=>{if(P.type==="none")return null;var _=P.formatter||s||uH,{value:A,name:$}=P,D=A,te=$;if(_){var K=_(A,$,P,T,a);if(Array.isArray(K))[D,te]=K;else if(K!=null)D=K;else return null}var ie=ny({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:ie},Fs(te)?y.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Fs(te)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},D),y.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},p=ny({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=ny({margin:0},i),x=!Kr(u),g=x?u:"",b=Nn("recharts-default-tooltip",l),w=Nn("recharts-tooltip-label",c);x&&f&&a!==void 0&&a!==null&&(g=f(u,a));var S=m?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",gb({className:b,style:p},S),y.createElement("p",{className:w,style:v},y.isValidElement(g)?g:"".concat(g)),h())},gd="recharts-tooltip-wrapper",fH={visibility:"hidden"};function mH(e){var{coordinate:t,translateX:n,translateY:r}=e;return Nn(gd,{["".concat(gd,"-right")]:wt(n)&&t&&wt(t.x)&&n>=t.x,["".concat(gd,"-left")]:wt(n)&&t&&wt(t.x)&&n<t.x,["".concat(gd,"-bottom")]:wt(r)&&t&&wt(t.y)&&r>=t.y,["".concat(gd,"-top")]:wt(r)&&t&&wt(t.y)&&r<t.y})}function q2(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&wt(a[r]))return a[r];var u=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?u:f;var m=l[r];if(m==null)return 0;if(s[r]){var h=u,p=m;return h<p?Math.max(f,m):Math.max(u,m)}if(c==null)return 0;var v=f+o,x=m+c;return v>x?Math.max(u,m):Math.max(f,m)}function hH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function pH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,u,f;return s.height>0&&s.width>0&&n?(u=q2({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=q2({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=hH({translateX:u,translateY:f,useTranslate3d:o})):c=fH,{cssProperties:c,cssClasses:mH({translateX:u,translateY:f,coordinate:n})}}function K2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(n),!0).forEach(function(r){vb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vb(e,t,n){return(t=gH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gH(e){var t=vH(e,"string");return typeof t=="symbol"?t:t+""}function vH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yH extends y.PureComponent{constructor(){super(...arguments),vb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:m,viewBox:h,wrapperStyle:p,lastBoundingBox:v,innerRef:x,hasPortalFromProps:g}=this.props,{cssClasses:b,cssProperties:w}=pH({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:m,viewBox:h}),S=g?{}:vh(vh({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=vh(vh({},S),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:x},a)}}var PI=()=>{var e;return(e=xt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yb.apply(null,arguments)}function G2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(n),!0).forEach(function(r){xH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xH(e,t,n){return(t=bH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bH(e){var t=wH(e,"string");return typeof t=="symbol"?t:t+""}function wH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X2={curveBasisClosed:w8,curveBasisOpen:k8,curveBasis:b8,curveBumpX:s8,curveBumpY:o8,curveLinearClosed:S8,curveLinear:s0,curveMonotoneX:N8,curveMonotoneY:C8,curveNatural:j8,curveStep:P8,curveStepAfter:E8,curveStepBefore:A8},Zp=e=>Rr(e.x)&&Rr(e.y),Q2=e=>e.base!=null&&Zp(e.base)&&Zp(e),vd=e=>e.x,yd=e=>e.y,kH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Qf(e));return(n==="curveMonotone"||n==="curveBump")&&t?X2["".concat(n).concat(t==="vertical"?"Y":"X")]:X2[n]||s0},SH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=kH(t,i),o=a?n.filter(Zp):n,l;if(Array.isArray(r)){var c=n.map((h,p)=>Y2(Y2({},h),{},{base:r[p]}));i==="vertical"?l=ch().y(yd).x1(vd).x0(h=>h.base.x):l=ch().x(vd).y1(yd).y0(h=>h.base.y);var u=l.defined(Q2).curve(s),f=a?c.filter(Q2):c;return u(f)}i==="vertical"&&wt(r)?l=ch().y(yd).x1(vd).x0(r):wt(r)?l=ch().x(vd).y1(yd).y0(r):l=MO().x(vd).y(yd);var m=l.defined(Zp).curve(s);return m(o)},ek=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=nm();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?SH(s):r;return y.createElement("path",yb({},Ga(e),T1(e),{className:Nn("recharts-curve",t),d:o===null?void 0:o,ref:i}))},NH=["x","y","top","left","width","height","className"];function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xb.apply(null,arguments)}function Z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(n),!0).forEach(function(r){jH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jH(e,t,n){return(t=PH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EH(e,t){if(e==null)return{};var n,r,i=TH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var DH=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),MH=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=EH(e,NH),c=CH({x:t,y:n,top:r,left:i,width:a,height:s},l);return!wt(t)||!wt(n)||!wt(a)||!wt(s)||!wt(r)||!wt(i)?null:y.createElement("path",xb({},zi(c),{className:Nn("recharts-cross",o),d:DH(t,n,a,s,r,i)}))};function OH(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function J2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ej(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J2(Object(n),!0).forEach(function(r){IH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IH(e,t,n){return(t=_H(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _H(e){var t=LH(e,"string");return typeof t=="symbol"?t:t+""}function LH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $H=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),AI=(e,t,n)=>e.map(r=>"".concat($H(r)," ").concat(t,"ms ").concat(n)).join(","),RH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ef=(e,t)=>Object.keys(t).reduce((n,r)=>ej(ej({},n),{},{[r]:e(r,t[r])}),{});function tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(n),!0).forEach(function(r){FH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FH(e,t,n){return(t=BH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BH(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jp=(e,t,n)=>e+(t-e)*n,bb=e=>{var{from:t,to:n}=e;return t!==n},EI=(e,t,n)=>{var r=Ef((i,a)=>{if(bb(a)){var[s,o]=e(a.from,a.to,a.velocity);return Hr(Hr({},a),{},{from:s,velocity:o})}return a},t);return n<1?Ef((i,a)=>bb(a)&&r[i]!=null?Hr(Hr({},a),{},{velocity:Jp(a.velocity,r[i].velocity,n),from:Jp(a.from,r[i].from,n)}):a,t):EI(e,r,n-1)};function UH(e,t,n,r,i,a){var s,o=r.reduce((m,h)=>Hr(Hr({},m),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),l=()=>Ef((m,h)=>h.from,o),c=()=>!Object.values(o).filter(bb).length,u=null,f=m=>{s||(s=m);var h=m-s,p=h/n.dt;o=EI(n,o,p),i(Hr(Hr(Hr({},e),t),l())),s=m,c()||(u=a.setTimeout(f))};return()=>(u=a.setTimeout(f),()=>{var m;(m=u)===null||m===void 0||m()})}function VH(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,m)=>{var h=e[m],p=t[m];return h==null||p==null?f:Hr(Hr({},f),{},{[m]:[h,p]})},{}),c,u=f=>{c||(c=f);var m=(f-c)/r,h=Ef((v,x)=>Jp(...x,n(m)),l);if(a(Hr(Hr(Hr({},e),t),h)),m<1)o=s.setTimeout(u);else{var p=Ef((v,x)=>Jp(...x,n(1)),l);a(Hr(Hr(Hr({},e),t),p))}};return()=>(o=s.setTimeout(u),()=>{var f;(f=o)===null||f===void 0||f()})}const WH=(e,t,n,r,i,a)=>{var s=RH(e,t);return n==null?()=>(i(Hr(Hr({},e),t)),()=>{}):n.isStepper===!0?UH(e,t,n,s,i,a):VH(e,t,n,r,s,i,a)};var eg=1e-4,TI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],DI=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),nj=(e,t)=>n=>{var r=TI(e,t);return DI(r,n)},HH=(e,t)=>n=>{var r=TI(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return DI(i,n)},qH=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},KH=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=qH(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},GH=(e,t,n,r)=>{var i=nj(e,n),a=nj(t,r),s=HH(e,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var u=c>1?1:c,f=u,m=0;m<8;++m){var h=i(f)-u,p=s(f);if(Math.abs(h-u)<eg||p<eg)return a(f);f=o(f-h/p)}return a(f)};return l.isStepper=!1,l},rj=function(){return GH(...KH(...arguments))},YH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*n,u=l*r,f=l+(c-u)*i/1e3,m=l*i/1e3+s;return Math.abs(m-o)<eg&&Math.abs(f)<eg?[o,0]:[m,f]};return a.isStepper=!0,a.dt=i,a},XH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rj(e);case"spring":return YH();default:if(e.split("(")[0]==="cubic-bezier")return rj(e)}return typeof e=="function"?e:null};function QH(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class ZH{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function JH(){return QH(new ZH)}var e7=y.createContext(JH);function t7(e,t){var n=y.useContext(e7);return y.useMemo(()=>t??n(e),[e,t,n])}var n7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),I0={isSsr:n7()},r7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},ij={t:0},ry={t:1};function _0(e){var t=Gr(e,r7),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,u=n==="auto"?!I0.isSsr:n,f=t7(t.animationId,t.animationManager),[m,h]=y.useState(u?ij:ry),p=y.useRef(null);return y.useEffect(()=>{u||h(ry)},[u]),y.useEffect(()=>{if(!u||!r)return Zf;var v=WH(ij,ry,XH(a),i,h,f.getTimeoutController()),x=()=>{p.current=v()};return f.start([l,s,x,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[u,r,i,a,s,l,o,f]),c(m.t)}function L0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=y.useRef(kf(t)),r=y.useRef(e);return r.current!==e&&(n.current=kf(t),r.current=e),n.current}var i7=["radius"],a7=["radius"],aj,sj,oj,lj,cj,uj,dj,fj,mj,hj;function pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(n),!0).forEach(function(r){s7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s7(e,t,n){return(t=o7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o7(e){var t=l7(e,"string");return typeof t=="symbol"?t:t+""}function l7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tg.apply(null,arguments)}function vj(e,t){if(e==null)return{};var n,r,i=c7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function js(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var yj=(e,t,n,r,i)=>{var a=Zo(n),s=Zo(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,u=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],h=0,p=4;h<p;h++)m[h]=i[h]>o?o:i[h];f=xr(aj||(aj=js(["M",",",""])),e,t+l*m[0]),m[0]>0&&(f+=xr(sj||(sj=js(["A ",",",",0,0,",",",",",""])),m[0],m[0],u,e+c*m[0],t)),f+=xr(oj||(oj=js(["L ",",",""])),e+n-c*m[1],t),m[1]>0&&(f+=xr(lj||(lj=js(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],u,e+n,t+l*m[1])),f+=xr(cj||(cj=js(["L ",",",""])),e+n,t+r-l*m[2]),m[2]>0&&(f+=xr(uj||(uj=js(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],u,e+n-c*m[2],t+r)),f+=xr(dj||(dj=js(["L ",",",""])),e+c*m[3],t+r),m[3]>0&&(f+=xr(fj||(fj=js(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],u,e,t+r-l*m[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f=xr(mj||(mj=js(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*v,v,v,u,e+c*v,t,e+n-c*v,t,v,v,u,e+n,t+l*v,e+n,t+r-l*v,v,v,u,e+n-c*v,t+r,e+c*v,t+r,v,v,u,e,t+r-l*v)}else f=xr(hj||(hj=js(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},xj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MI=e=>{var t=Gr(e,xj),n=y.useRef(null),[r,i]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:u}=t,{animationEasing:f,animationDuration:m,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:v}=t,x=y.useRef(o),g=y.useRef(l),b=y.useRef(a),w=y.useRef(s),S=y.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),C=L0(S,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var N=Nn("recharts-rectangle",u);if(!v){var P=zi(t),{radius:T}=P,_=vj(P,i7);return y.createElement("path",tg({},_,{x:Zo(a),y:Zo(s),width:Zo(o),height:Zo(l),radius:typeof c=="number"?c:void 0,className:N,d:yj(a,s,o,l,c)}))}var A=x.current,$=g.current,D=b.current,te=w.current,K="0px ".concat(r===-1?1:r,"px"),ie="".concat(r,"px 0px"),H=AI(["strokeDasharray"],m,typeof f=="string"?f:xj.animationEasing);return y.createElement(_0,{animationId:C,key:C,canBegin:r>0,duration:m,easing:f,isActive:v,begin:h},J=>{var G=ji(A,o,J),ae=ji($,l,J),E=ji(D,a,J),j=ji(te,s,J);n.current&&(x.current=G,g.current=ae,b.current=E,w.current=j);var U;p?J>0?U={transition:H,strokeDasharray:ie}:U={strokeDasharray:K}:U={strokeDasharray:ie};var k=zi(t),{radius:O}=k,re=vj(k,a7);return y.createElement("path",tg({},re,{radius:typeof c=="number"?c:void 0,className:N,d:yj(E,j,G,ae,c),ref:n,style:gj(gj({},U),t.style)}))})};function bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(n),!0).forEach(function(r){u7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u7(e,t,n){return(t=d7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d7(e){var t=f7(e,"string");return typeof t=="symbol"?t:t+""}function f7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ng=Math.PI/180,m7=e=>e*180/Math.PI,Lr=(e,t,n,r)=>({x:e+Math.cos(-ng*r)*n,y:t+Math.sin(-ng*r)*n}),OI=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},h7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},p7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=h7({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:m7(l),angleInRadian:l}},g7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},v7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},y7=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=p7({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=g7(t),u=a,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?wj(wj({},t),{},{radius:i,angle:v7(u,t)}):null};function II(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Lr(t,n,r,i),o=Lr(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var kj,Sj,Nj,Cj,jj,Pj,Aj;function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wb.apply(null,arguments)}function Kl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var x7=(e,t)=>{var n=Pi(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},yh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,u=Math.asin(o/c)/ng,f=l?i:i+a*u,m=Lr(t,n,c,f),h=Lr(t,n,r,f),p=l?i-a*u:i,v=Lr(t,n,c*Math.cos(u*ng),p);return{center:m,circleTangency:h,lineTangency:v,theta:u}},_I=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=x7(a,s),l=a+o,c=Lr(t,n,i,a),u=Lr(t,n,i,l),f=xr(kj||(kj=Kl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),u.x,u.y);if(r>0){var m=Lr(t,n,r,a),h=Lr(t,n,r,l);f+=xr(Sj||(Sj=Kl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),h.x,h.y,r,r,+(Math.abs(o)>180),+(a<=l),m.x,m.y)}else f+=xr(Nj||(Nj=Kl(["L ",","," Z"])),t,n);return f},b7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=Pi(c-l),{circleTangency:f,lineTangency:m,theta:h}=yh({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:v,theta:x}=yh({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),g=o?Math.abs(l-c):Math.abs(l-c)-h-x;if(g<0)return s?xr(Cj||(Cj=Kl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,a,a,a*2,a,a,-a*2):_I({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b=xr(jj||(jj=Kl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,a,a,+(u<0),f.x,f.y,i,i,+(g>180),+(u<0),p.x,p.y,a,a,+(u<0),v.x,v.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=yh({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:N,lineTangency:P,theta:T}=yh({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),_=o?Math.abs(l-c):Math.abs(l-c)-C-T;if(_<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=xr(Pj||(Pj=Kl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,a,a,+(u<0),N.x,N.y,r,r,+(_>180),+(u>0),w.x,w.y,a,a,+(u<0),S.x,S.y)}else b+=xr(Aj||(Aj=Kl(["L",",","Z"])),t,n);return b},w7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LI=e=>{var t=Gr(e,w7),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=t;if(a<i||c===u)return null;var m=Nn("recharts-sector",f),h=a-i,p=ba(s,h,0,!0),v;return p>0&&Math.abs(c-u)<360?v=b7({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,h/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):v=_I({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),y.createElement("path",wb({},zi(t),{className:m,d:v}))};function k7(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(GO(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Lr(r,i,a,o),c=Lr(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return II(t)}}var $I={},RI={},FI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(FI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FI;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(RI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1,n=RI;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=r})($I);var S7=$I.range;const BI=vs(S7);function ll(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function N7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tk(e){let t,n,r;e.length!==2?(t=ll,n=(o,l)=>ll(e(o),l),r=(o,l)=>e(o)-l):(t=e===ll||e===N7?e:C7,n=e,r=e);function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function C7(){return 0}function zI(e){return e===null?NaN:+e}function*j7(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const P7=tk(ll),im=P7.right;tk(zI).center;class Ej extends Map{constructor(t,n=T7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Tj(this,t))}has(t){return super.has(Tj(this,t))}set(t,n){return super.set(A7(this,t),n)}delete(t){return super.delete(E7(this,t))}}function Tj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function A7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function E7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function T7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function D7(e=ll){if(e===ll)return UI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function UI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const M7=Math.sqrt(50),O7=Math.sqrt(10),I7=Math.sqrt(2);function rg(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=M7?10:a>=O7?5:a>=I7?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?rg(e,t,n*2):[o,l,c]}function kb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?rg(t,e,n):rg(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Sb(e,t,n){return t=+t,e=+e,n=+n,rg(e,t,n)[2]}function Nb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Sb(t,e,n):Sb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Dj(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Mj(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function VI(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?UI:D7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(t-c*f/l+m)),p=Math.min(r,Math.floor(t+(l-c)*f/l+m));VI(e,t,h,p,i)}const a=e[t];let s=n,o=r;for(xd(e,n,t),i(e[r],a)>0&&xd(e,n,r);s<o;){for(xd(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?xd(e,n,o):(++o,xd(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function xd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function _7(e,t,n){if(e=Float64Array.from(j7(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Mj(e);if(t>=1)return Dj(e);var r,i=(r-1)*t,a=Math.floor(i),s=Dj(VI(e,a).subarray(0,a+1)),o=Mj(e.subarray(a+1));return s+(o-s)*(i-a)}}function L7(e,t,n=zI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function $7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Qa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ao(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Cb=Symbol("implicit");function nk(){var e=new Ej,t=[],n=[],r=Cb;function i(a){let s=e.get(a);if(s===void 0){if(r!==Cb)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Ej;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return nk(t,n).unknown(r)},Qa.apply(i,arguments),i}function rk(){var e=nk().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var m=t().length,h=i<r,p=h?i:r,v=h?r:i;a=(v-p)/Math.max(1,m-l+c*2),o&&(a=Math.floor(a)),p+=(v-p-a*(m-l))*u,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var x=$7(m).map(function(g){return p+a*g});return n(h?x.reverse():x)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(m){return arguments.length?(o=!!m,f()):o},e.padding=function(m){return arguments.length?(l=Math.min(1,c=+m),f()):l},e.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),f()):l},e.paddingOuter=function(m){return arguments.length?(c=+m,f()):c},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),f()):u},e.copy=function(){return rk(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Qa.apply(f(),arguments)}function WI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return WI(t())},e}function R7(){return WI(rk.apply(null,arguments).paddingInner(1))}function ik(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function HI(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function am(){}var Tf=.7,ig=1/Tf,yu="\\s*([+-]?\\d+)\\s*",Df="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F7=/^#([0-9a-f]{3,8})$/,B7=new RegExp(`^rgb\\(${yu},${yu},${yu}\\)$`),z7=new RegExp(`^rgb\\(${Ls},${Ls},${Ls}\\)$`),U7=new RegExp(`^rgba\\(${yu},${yu},${yu},${Df}\\)$`),V7=new RegExp(`^rgba\\(${Ls},${Ls},${Ls},${Df}\\)$`),W7=new RegExp(`^hsl\\(${Df},${Ls},${Ls}\\)$`),H7=new RegExp(`^hsla\\(${Df},${Ls},${Ls},${Df}\\)$`),Oj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ik(am,Mf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ij,formatHex:Ij,formatHex8:q7,formatHsl:K7,formatRgb:_j,toString:_j});function Ij(){return this.rgb().formatHex()}function q7(){return this.rgb().formatHex8()}function K7(){return qI(this).formatHsl()}function _j(){return this.rgb().formatRgb()}function Mf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=F7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Lj(t):n===3?new Ji(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=B7.exec(e))?new Ji(t[1],t[2],t[3],1):(t=z7.exec(e))?new Ji(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=U7.exec(e))?xh(t[1],t[2],t[3],t[4]):(t=V7.exec(e))?xh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=W7.exec(e))?Fj(t[1],t[2]/100,t[3]/100,1):(t=H7.exec(e))?Fj(t[1],t[2]/100,t[3]/100,t[4]):Oj.hasOwnProperty(e)?Lj(Oj[e]):e==="transparent"?new Ji(NaN,NaN,NaN,0):null}function Lj(e){return new Ji(e>>16&255,e>>8&255,e&255,1)}function xh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ji(e,t,n,r)}function G7(e){return e instanceof am||(e=Mf(e)),e?(e=e.rgb(),new Ji(e.r,e.g,e.b,e.opacity)):new Ji}function jb(e,t,n,r){return arguments.length===1?G7(e):new Ji(e,t,n,r??1)}function Ji(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ik(Ji,jb,HI(am,{brighter(e){return e=e==null?ig:Math.pow(ig,e),new Ji(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tf:Math.pow(Tf,e),new Ji(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ji(nc(this.r),nc(this.g),nc(this.b),ag(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$j,formatHex:$j,formatHex8:Y7,formatRgb:Rj,toString:Rj}));function $j(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}`}function Y7(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}${Gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Rj(){const e=ag(this.opacity);return`${e===1?"rgb(":"rgba("}${nc(this.r)}, ${nc(this.g)}, ${nc(this.b)}${e===1?")":`, ${e})`}`}function ag(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function nc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gl(e){return e=nc(e),(e<16?"0":"")+e.toString(16)}function Fj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new os(e,t,n,r)}function qI(e){if(e instanceof os)return new os(e.h,e.s,e.l,e.opacity);if(e instanceof am||(e=Mf(e)),!e)return new os;if(e instanceof os)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new os(s,o,l,e.opacity)}function X7(e,t,n,r){return arguments.length===1?qI(e):new os(e,t,n,r??1)}function os(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ik(os,X7,HI(am,{brighter(e){return e=e==null?ig:Math.pow(ig,e),new os(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tf:Math.pow(Tf,e),new os(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ji(iy(e>=240?e-240:e+120,i,r),iy(e,i,r),iy(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new os(Bj(this.h),bh(this.s),bh(this.l),ag(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ag(this.opacity);return`${e===1?"hsl(":"hsla("}${Bj(this.h)}, ${bh(this.s)*100}%, ${bh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Bj(e){return e=(e||0)%360,e<0?e+360:e}function bh(e){return Math.max(0,Math.min(1,e||0))}function iy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ak=e=>()=>e;function Q7(e,t){return function(n){return e+n*t}}function Z7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function J7(e){return(e=+e)==1?KI:function(t,n){return n-t?Z7(t,n,e):ak(isNaN(t)?n:t)}}function KI(e,t){var n=t-e;return n?Q7(e,n):ak(isNaN(e)?t:e)}const zj=function e(t){var n=J7(t);function r(i,a){var s=n((i=jb(i)).r,(a=jb(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=KI(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function eq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function tq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=qu(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function rq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function sg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function iq(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=qu(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Pb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ay=new RegExp(Pb.source,"g");function aq(e){return function(){return e}}function sq(e){return function(t){return e(t)+""}}function oq(e,t){var n=Pb.lastIndex=ay.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Pb.exec(e))&&(i=ay.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:sg(r,i)})),n=ay.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?sq(l[0].x):aq(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function qu(e,t){var n=typeof t,r;return t==null||n==="boolean"?ak(t):(n==="number"?sg:n==="string"?(r=Mf(t))?(t=r,zj):oq:t instanceof Mf?zj:t instanceof Date?rq:tq(t)?eq:Array.isArray(t)?nq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?iq:sg)(e,t)}function sk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function lq(e,t){t===void 0&&(t=e,e=qu);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function cq(e){return function(){return e}}function og(e){return+e}var Uj=[0,1];function Fi(e){return e}function Ab(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cq(isNaN(t)?NaN:.5)}function uq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function dq(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Ab(i,r),a=n(s,a)):(r=Ab(r,i),a=n(a,s)),function(o){return a(r(o))}}function fq(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Ab(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=im(e,o,1,r)-1;return a[l](i[l](o))}}function sm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $0(){var e=Uj,t=Uj,n=qu,r,i,a,s=Fi,o,l,c;function u(){var m=Math.min(e.length,t.length);return s!==Fi&&(s=uq(e[0],e[m-1])),o=m>2?fq:dq,l=c=null,f}function f(m){return m==null||isNaN(m=+m)?a:(l||(l=o(e.map(r),t,n)))(r(s(m)))}return f.invert=function(m){return s(i((c||(c=o(t,e.map(r),sg)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,og),u()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),n=sk,u()},f.clamp=function(m){return arguments.length?(s=m?!0:Fi,u()):s!==Fi},f.interpolate=function(m){return arguments.length?(n=m,u()):n},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,h){return r=m,i=h,u()}}function ok(){return $0()(Fi,Fi)}function mq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Iu(e){return e=lg(Math.abs(e)),e?e[1]:NaN}function hq(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function pq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var gq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Of(e){if(!(t=gq.exec(e)))throw new Error("invalid format: "+e);var t;return new lk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Of.prototype=lk.prototype;function lk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vq(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var cg;function yq(e,t){var n=lg(e,t);if(!n)return cg=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(cg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+lg(e,Math.max(0,t+a-1))[0]}function Vj(e,t){var n=lg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Wj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vj(e*100,t),r:Vj,s:yq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Hj(e){return e}var qj=Array.prototype.map,Kj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xq(e){var t=e.grouping===void 0||e.thousands===void 0?Hj:hq(qj.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Hj:pq(qj.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,m){f=Of(f);var h=f.fill,p=f.align,v=f.sign,x=f.symbol,g=f.zero,b=f.width,w=f.comma,S=f.precision,C=f.trim,N=f.type;N==="n"?(w=!0,N="g"):Wj[N]||(S===void 0&&(S=12),C=!0,N="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var P=(m&&m.prefix!==void 0?m.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),T=(x==="$"?r:/[%p]/.test(N)?s:"")+(m&&m.suffix!==void 0?m.suffix:""),_=Wj[N],A=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function $(D){var te=P,K=T,ie,H,J;if(N==="c")K=_(D)+K,D="";else{D=+D;var G=D<0||1/D<0;if(D=isNaN(D)?l:_(Math.abs(D),S),C&&(D=vq(D)),G&&+D==0&&v!=="+"&&(G=!1),te=(G?v==="("?v:o:v==="-"||v==="("?"":v)+te,K=(N==="s"&&!isNaN(D)&&cg!==void 0?Kj[8+cg/3]:"")+K+(G&&v==="("?")":""),A){for(ie=-1,H=D.length;++ie<H;)if(J=D.charCodeAt(ie),48>J||J>57){K=(J===46?i+D.slice(ie+1):D.slice(ie))+K,D=D.slice(0,ie);break}}}w&&!g&&(D=t(D,1/0));var ae=te.length+D.length+K.length,E=ae<b?new Array(b-ae+1).join(h):"";switch(w&&g&&(D=t(E+D,E.length?b-K.length:1/0),E=""),p){case"<":D=te+D+K+E;break;case"=":D=te+E+D+K;break;case"^":D=E.slice(0,ae=E.length>>1)+te+D+K+E.slice(ae);break;default:D=E+te+D+K;break}return a(D)}return $.toString=function(){return f+""},$}function u(f,m){var h=Math.max(-8,Math.min(8,Math.floor(Iu(m)/3)))*3,p=Math.pow(10,-h),v=c((f=Of(f),f.type="f",f),{suffix:Kj[8+h/3]});return function(x){return v(p*x)}}return{format:c,formatPrefix:u}}var wh,ck,GI;bq({thousands:",",grouping:[3],currency:["$",""]});function bq(e){return wh=xq(e),ck=wh.format,GI=wh.formatPrefix,wh}function wq(e){return Math.max(0,-Iu(Math.abs(e)))}function kq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Iu(t)/3)))*3-Iu(Math.abs(e)))}function Sq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Iu(t)-Iu(e))+1}function YI(e,t,n,r){var i=Nb(e,t,n),a;switch(r=Of(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=kq(i,s))&&(r.precision=a),GI(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Sq(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=wq(i))&&(r.precision=a-(r.type==="%")*2);break}}return ck(r)}function bl(e){var t=e.domain;return e.ticks=function(n){var r=t();return kb(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return YI(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=Sb(s,o,n),c===l)return r[i]=s,r[a]=o,t(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function XI(){var e=ok();return e.copy=function(){return sm(e,XI())},Qa.apply(e,arguments),bl(e)}function QI(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,og),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return QI(e).unknown(t)},e=arguments.length?Array.from(e,og):[0,1],bl(n)}function ZI(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function Gj(e){return Math.log(e)}function Yj(e){return Math.exp(e)}function Nq(e){return-Math.log(-e)}function Cq(e){return-Math.exp(-e)}function jq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Pq(e){return e===10?jq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Aq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Xj(e){return(t,n)=>-e(-t,n)}function uk(e){const t=e(Gj,Yj),n=t.domain;let r=10,i,a;function s(){return i=Aq(r),a=Pq(r),n()[0]<0?(i=Xj(i),a=Xj(a),e(Nq,Cq)):e(Gj,Yj),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let m=i(c),h=i(u),p,v;const x=o==null?10:+o;let g=[];if(!(r%1)&&h-m<x){if(m=Math.floor(m),h=Math.ceil(h),c>0){for(;m<=h;++m)for(p=1;p<r;++p)if(v=m<0?p/a(-m):p*a(m),!(v<c)){if(v>u)break;g.push(v)}}else for(;m<=h;++m)for(p=r-1;p>=1;--p)if(v=m>0?p/a(-m):p*a(m),!(v<c)){if(v>u)break;g.push(v)}g.length*2<x&&(g=kb(c,u,x))}else g=kb(m,h,Math.min(h-m,x)).map(a);return f?g.reverse():g},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Of(l)).precision==null&&(l.trim=!0),l=ck(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},t.nice=()=>n(ZI(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function JI(){const e=uk($0()).domain([1,10]);return e.copy=()=>sm(e,JI()).base(e.base()),Qa.apply(e,arguments),e}function Qj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Zj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dk(e){var t=1,n=e(Qj(t),Zj(t));return n.constant=function(r){return arguments.length?e(Qj(t=+r),Zj(t)):t},bl(n)}function e_(){var e=dk($0());return e.copy=function(){return sm(e,e_()).constant(e.constant())},Qa.apply(e,arguments)}function Jj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Eq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Tq(e){return e<0?-e*e:e*e}function fk(e){var t=e(Fi,Fi),n=1;function r(){return n===1?e(Fi,Fi):n===.5?e(Eq,Tq):e(Jj(n),Jj(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},bl(t)}function mk(){var e=fk($0());return e.copy=function(){return sm(e,mk()).exponent(e.exponent())},Qa.apply(e,arguments),e}function Dq(){return mk.apply(null,arguments).exponent(.5)}function eP(e){return Math.sign(e)*e*e}function Mq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function t_(){var e=ok(),t=[0,1],n=!1,r;function i(a){var s=Mq(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(eP(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,og)).map(eP)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return t_(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Qa.apply(i,arguments),bl(i)}function n_(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=L7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[im(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ll),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return n_().domain(e).range(t).unknown(r)},Qa.apply(a,arguments)}function r_(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[im(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return r_().domain([e,t]).range(i).unknown(a)},Qa.apply(bl(s),arguments)}function i_(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[im(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return i_().domain(e).range(t).unknown(n)},Qa.apply(i,arguments)}const sy=new Date,oy=new Date;function Yr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>Yr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(sy.setTime(+a),oy.setTime(+s),e(sy),e(oy),Math.floor(n(sy,oy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ug=Yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ug.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ug);ug.range;const ao=1e3,Wa=ao*60,so=Wa*60,bo=so*24,hk=bo*7,tP=bo*30,ly=bo*365,Yl=Yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ao)},(e,t)=>(t-e)/ao,e=>e.getUTCSeconds());Yl.range;const pk=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ao)},(e,t)=>{e.setTime(+e+t*Wa)},(e,t)=>(t-e)/Wa,e=>e.getMinutes());pk.range;const gk=Yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wa)},(e,t)=>(t-e)/Wa,e=>e.getUTCMinutes());gk.range;const vk=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ao-e.getMinutes()*Wa)},(e,t)=>{e.setTime(+e+t*so)},(e,t)=>(t-e)/so,e=>e.getHours());vk.range;const yk=Yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*so)},(e,t)=>(t-e)/so,e=>e.getUTCHours());yk.range;const om=Yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wa)/bo,e=>e.getDate()-1);om.range;const R0=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bo,e=>e.getUTCDate()-1);R0.range;const a_=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bo,e=>Math.floor(e/bo));a_.range;function Sc(e){return Yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Wa)/hk)}const F0=Sc(0),dg=Sc(1),Oq=Sc(2),Iq=Sc(3),_u=Sc(4),_q=Sc(5),Lq=Sc(6);F0.range;dg.range;Oq.range;Iq.range;_u.range;_q.range;Lq.range;function Nc(e){return Yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/hk)}const B0=Nc(0),fg=Nc(1),$q=Nc(2),Rq=Nc(3),Lu=Nc(4),Fq=Nc(5),Bq=Nc(6);B0.range;fg.range;$q.range;Rq.range;Lu.range;Fq.range;Bq.range;const xk=Yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xk.range;const bk=Yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bk.range;const wo=Yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});wo.range;const ko=Yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ko.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ko.range;function s_(e,t,n,r,i,a){const s=[[Yl,1,ao],[Yl,5,5*ao],[Yl,15,15*ao],[Yl,30,30*ao],[a,1,Wa],[a,5,5*Wa],[a,15,15*Wa],[a,30,30*Wa],[i,1,so],[i,3,3*so],[i,6,6*so],[i,12,12*so],[r,1,bo],[r,2,2*bo],[n,1,hk],[t,1,tP],[t,3,3*tP],[e,1,ly]];function o(c,u,f){const m=u<c;m&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),p=h?h.range(c,+u+1):[];return m?p.reverse():p}function l(c,u,f){const m=Math.abs(u-c)/f,h=tk(([,,x])=>x).right(s,m);if(h===s.length)return e.every(Nb(c/ly,u/ly,f));if(h===0)return ug.every(Math.max(Nb(c,u,f),1));const[p,v]=s[m/s[h-1][2]<s[h][2]/m?h-1:h];return p.every(v)}return[o,l]}const[zq,Uq]=s_(ko,bk,B0,a_,yk,gk),[Vq,Wq]=s_(wo,xk,F0,om,vk,pk);function cy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function uy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Hq(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=wd(i),u=kd(i),f=wd(a),m=kd(a),h=wd(s),p=kd(s),v=wd(o),x=kd(o),g=wd(l),b=kd(l),w={a:J,A:G,b:ae,B:E,c:null,d:oP,e:oP,f:hK,g:NK,G:jK,H:dK,I:fK,j:mK,L:o_,m:pK,M:gK,p:j,q:U,Q:uP,s:dP,S:vK,u:yK,U:xK,V:bK,w:wK,W:kK,x:null,X:null,y:SK,Y:CK,Z:PK,"%":cP},S={a:k,A:O,b:re,B:Q,c:null,d:lP,e:lP,f:DK,g:zK,G:VK,H:AK,I:EK,j:TK,L:c_,m:MK,M:OK,p:F,q:Z,Q:uP,s:dP,S:IK,u:_K,U:LK,V:$K,w:RK,W:FK,x:null,X:null,y:BK,Y:UK,Z:WK,"%":cP},C={a:A,A:$,b:D,B:te,c:K,d:aP,e:aP,f:oK,g:iP,G:rP,H:sP,I:sP,j:rK,L:sK,m:nK,M:iK,p:_,q:tK,Q:cK,s:uK,S:aK,u:Xq,U:Qq,V:Zq,w:Yq,W:Jq,x:ie,X:H,y:iP,Y:rP,Z:eK,"%":lK};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N(L,W){return function(le){var ne=[],z=-1,B=0,I=L.length,X,Ne,Me;for(le instanceof Date||(le=new Date(+le));++z<I;)L.charCodeAt(z)===37&&(ne.push(L.slice(B,z)),(Ne=nP[X=L.charAt(++z)])!=null?X=L.charAt(++z):Ne=X==="e"?" ":"0",(Me=W[X])&&(X=Me(le,Ne)),ne.push(X),B=z+1);return ne.push(L.slice(B,z)),ne.join("")}}function P(L,W){return function(le){var ne=bd(1900,void 0,1),z=T(ne,L,le+="",0),B,I;if(z!=le.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(W&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(B=uy(bd(ne.y,0,1)),I=B.getUTCDay(),B=I>4||I===0?fg.ceil(B):fg(B),B=R0.offset(B,(ne.V-1)*7),ne.y=B.getUTCFullYear(),ne.m=B.getUTCMonth(),ne.d=B.getUTCDate()+(ne.w+6)%7):(B=cy(bd(ne.y,0,1)),I=B.getDay(),B=I>4||I===0?dg.ceil(B):dg(B),B=om.offset(B,(ne.V-1)*7),ne.y=B.getFullYear(),ne.m=B.getMonth(),ne.d=B.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),I="Z"in ne?uy(bd(ne.y,0,1)).getUTCDay():cy(bd(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(I+5)%7:ne.w+ne.U*7-(I+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,uy(ne)):cy(ne)}}function T(L,W,le,ne){for(var z=0,B=W.length,I=le.length,X,Ne;z<B;){if(ne>=I)return-1;if(X=W.charCodeAt(z++),X===37){if(X=W.charAt(z++),Ne=C[X in nP?W.charAt(z++):X],!Ne||(ne=Ne(L,le,ne))<0)return-1}else if(X!=le.charCodeAt(ne++))return-1}return ne}function _(L,W,le){var ne=c.exec(W.slice(le));return ne?(L.p=u.get(ne[0].toLowerCase()),le+ne[0].length):-1}function A(L,W,le){var ne=h.exec(W.slice(le));return ne?(L.w=p.get(ne[0].toLowerCase()),le+ne[0].length):-1}function $(L,W,le){var ne=f.exec(W.slice(le));return ne?(L.w=m.get(ne[0].toLowerCase()),le+ne[0].length):-1}function D(L,W,le){var ne=g.exec(W.slice(le));return ne?(L.m=b.get(ne[0].toLowerCase()),le+ne[0].length):-1}function te(L,W,le){var ne=v.exec(W.slice(le));return ne?(L.m=x.get(ne[0].toLowerCase()),le+ne[0].length):-1}function K(L,W,le){return T(L,t,W,le)}function ie(L,W,le){return T(L,n,W,le)}function H(L,W,le){return T(L,r,W,le)}function J(L){return s[L.getDay()]}function G(L){return a[L.getDay()]}function ae(L){return l[L.getMonth()]}function E(L){return o[L.getMonth()]}function j(L){return i[+(L.getHours()>=12)]}function U(L){return 1+~~(L.getMonth()/3)}function k(L){return s[L.getUTCDay()]}function O(L){return a[L.getUTCDay()]}function re(L){return l[L.getUTCMonth()]}function Q(L){return o[L.getUTCMonth()]}function F(L){return i[+(L.getUTCHours()>=12)]}function Z(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var W=N(L+="",w);return W.toString=function(){return L},W},parse:function(L){var W=P(L+="",!1);return W.toString=function(){return L},W},utcFormat:function(L){var W=N(L+="",S);return W.toString=function(){return L},W},utcParse:function(L){var W=P(L+="",!0);return W.toString=function(){return L},W}}}var nP={"-":"",_:" ",0:"0"},oi=/^\s*\d+/,qq=/^%/,Kq=/[\\^$*+?|[\]().{}]/g;function wn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Gq(e){return e.replace(Kq,"\\$&")}function wd(e){return new RegExp("^(?:"+e.map(Gq).join("|")+")","i")}function kd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Yq(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Xq(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Qq(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Zq(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Jq(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function rP(e,t,n){var r=oi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function iP(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tK(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function nK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function aP(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function rK(e,t,n){var r=oi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function sP(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function iK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function aK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function sK(e,t,n){var r=oi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function oK(e,t,n){var r=oi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lK(e,t,n){var r=qq.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function cK(e,t,n){var r=oi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=oi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function oP(e,t){return wn(e.getDate(),t,2)}function dK(e,t){return wn(e.getHours(),t,2)}function fK(e,t){return wn(e.getHours()%12||12,t,2)}function mK(e,t){return wn(1+om.count(wo(e),e),t,3)}function o_(e,t){return wn(e.getMilliseconds(),t,3)}function hK(e,t){return o_(e,t)+"000"}function pK(e,t){return wn(e.getMonth()+1,t,2)}function gK(e,t){return wn(e.getMinutes(),t,2)}function vK(e,t){return wn(e.getSeconds(),t,2)}function yK(e){var t=e.getDay();return t===0?7:t}function xK(e,t){return wn(F0.count(wo(e)-1,e),t,2)}function l_(e){var t=e.getDay();return t>=4||t===0?_u(e):_u.ceil(e)}function bK(e,t){return e=l_(e),wn(_u.count(wo(e),e)+(wo(e).getDay()===4),t,2)}function wK(e){return e.getDay()}function kK(e,t){return wn(dg.count(wo(e)-1,e),t,2)}function SK(e,t){return wn(e.getFullYear()%100,t,2)}function NK(e,t){return e=l_(e),wn(e.getFullYear()%100,t,2)}function CK(e,t){return wn(e.getFullYear()%1e4,t,4)}function jK(e,t){var n=e.getDay();return e=n>=4||n===0?_u(e):_u.ceil(e),wn(e.getFullYear()%1e4,t,4)}function PK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wn(t/60|0,"0",2)+wn(t%60,"0",2)}function lP(e,t){return wn(e.getUTCDate(),t,2)}function AK(e,t){return wn(e.getUTCHours(),t,2)}function EK(e,t){return wn(e.getUTCHours()%12||12,t,2)}function TK(e,t){return wn(1+R0.count(ko(e),e),t,3)}function c_(e,t){return wn(e.getUTCMilliseconds(),t,3)}function DK(e,t){return c_(e,t)+"000"}function MK(e,t){return wn(e.getUTCMonth()+1,t,2)}function OK(e,t){return wn(e.getUTCMinutes(),t,2)}function IK(e,t){return wn(e.getUTCSeconds(),t,2)}function _K(e){var t=e.getUTCDay();return t===0?7:t}function LK(e,t){return wn(B0.count(ko(e)-1,e),t,2)}function u_(e){var t=e.getUTCDay();return t>=4||t===0?Lu(e):Lu.ceil(e)}function $K(e,t){return e=u_(e),wn(Lu.count(ko(e),e)+(ko(e).getUTCDay()===4),t,2)}function RK(e){return e.getUTCDay()}function FK(e,t){return wn(fg.count(ko(e)-1,e),t,2)}function BK(e,t){return wn(e.getUTCFullYear()%100,t,2)}function zK(e,t){return e=u_(e),wn(e.getUTCFullYear()%100,t,2)}function UK(e,t){return wn(e.getUTCFullYear()%1e4,t,4)}function VK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Lu(e):Lu.ceil(e),wn(e.getUTCFullYear()%1e4,t,4)}function WK(){return"+0000"}function cP(){return"%"}function uP(e){return+e}function dP(e){return Math.floor(+e/1e3)}var Fc,d_,f_;HK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function HK(e){return Fc=Hq(e),d_=Fc.format,Fc.parse,f_=Fc.utcFormat,Fc.utcParse,Fc}function qK(e){return new Date(e)}function KK(e){return e instanceof Date?+e:+new Date(+e)}function wk(e,t,n,r,i,a,s,o,l,c){var u=ok(),f=u.invert,m=u.domain,h=c(".%L"),p=c(":%S"),v=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function C(N){return(l(N)<N?h:o(N)<N?p:s(N)<N?v:a(N)<N?x:r(N)<N?i(N)<N?g:b:n(N)<N?w:S)(N)}return u.invert=function(N){return new Date(f(N))},u.domain=function(N){return arguments.length?m(Array.from(N,KK)):m().map(qK)},u.ticks=function(N){var P=m();return e(P[0],P[P.length-1],N??10)},u.tickFormat=function(N,P){return P==null?C:c(P)},u.nice=function(N){var P=m();return(!N||typeof N.range!="function")&&(N=t(P[0],P[P.length-1],N??10)),N?m(ZI(P,N)):u},u.copy=function(){return sm(u,wk(e,t,n,r,i,a,s,o,l,c))},u}function GK(){return Qa.apply(wk(Vq,Wq,wo,xk,F0,om,vk,pk,Yl,d_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YK(){return Qa.apply(wk(zq,Uq,ko,bk,B0,R0,yk,gk,Yl,f_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function z0(){var e=0,t=1,n,r,i,a,s=Fi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(m){var h,p;return arguments.length?([h,p]=m,s=f(h,p),c):[s(0),s(1)]}}return c.range=u(qu),c.rangeRound=u(sk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function wl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function m_(){var e=bl(z0()(Fi));return e.copy=function(){return wl(e,m_())},Ao.apply(e,arguments)}function h_(){var e=uk(z0()).domain([1,10]);return e.copy=function(){return wl(e,h_()).base(e.base())},Ao.apply(e,arguments)}function p_(){var e=dk(z0());return e.copy=function(){return wl(e,p_()).constant(e.constant())},Ao.apply(e,arguments)}function kk(){var e=fk(z0());return e.copy=function(){return wl(e,kk()).exponent(e.exponent())},Ao.apply(e,arguments)}function XK(){return kk.apply(null,arguments).exponent(.5)}function g_(){var e=[],t=Fi;function n(r){if(r!=null&&!isNaN(r=+r))return t((im(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ll),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>_7(e,a/r))},n.copy=function(){return g_(t).domain(e)},Ao.apply(n,arguments)}function U0(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,c=Fi,u,f=!1,m;function h(v){return isNaN(v=+v)?m:(v=.5+((v=+u(v))-a)*(r*v<r*a?o:l),c(f?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([e,t,n]=v,i=u(e=+e),a=u(t=+t),s=u(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,h):[e,t,n]},h.clamp=function(v){return arguments.length?(f=!!v,h):f},h.interpolator=function(v){return arguments.length?(c=v,h):c};function p(v){return function(x){var g,b,w;return arguments.length?([g,b,w]=x,c=lq(v,[g,b,w]),h):[c(0),c(.5),c(1)]}}return h.range=p(qu),h.rangeRound=p(sk),h.unknown=function(v){return arguments.length?(m=v,h):m},function(v){return u=v,i=v(e),a=v(t),s=v(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,h}}function v_(){var e=bl(U0()(Fi));return e.copy=function(){return wl(e,v_())},Ao.apply(e,arguments)}function y_(){var e=uk(U0()).domain([.1,1,10]);return e.copy=function(){return wl(e,y_()).base(e.base())},Ao.apply(e,arguments)}function x_(){var e=dk(U0());return e.copy=function(){return wl(e,x_()).constant(e.constant())},Ao.apply(e,arguments)}function Sk(){var e=fk(U0());return e.copy=function(){return wl(e,Sk()).exponent(e.exponent())},Ao.apply(e,arguments)}function QK(){return Sk.apply(null,arguments).exponent(.5)}const Id=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rk,scaleDiverging:v_,scaleDivergingLog:y_,scaleDivergingPow:Sk,scaleDivergingSqrt:QK,scaleDivergingSymlog:x_,scaleIdentity:QI,scaleImplicit:Cb,scaleLinear:XI,scaleLog:JI,scaleOrdinal:nk,scalePoint:R7,scalePow:mk,scaleQuantile:n_,scaleQuantize:r_,scaleRadial:t_,scaleSequential:m_,scaleSequentialLog:h_,scaleSequentialPow:kk,scaleSequentialQuantile:g_,scaleSequentialSqrt:XK,scaleSequentialSymlog:p_,scaleSqrt:Dq,scaleSymlog:e_,scaleThreshold:i_,scaleTime:GK,scaleUtc:YK,tickFormat:YI},Symbol.toStringTag,{value:"Module"}));var kl=e=>e.chartData,Nk=de([kl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ck=(e,t,n,r)=>r?Nk(e):kl(e);function fl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Rr(t)&&Rr(n))return!0}return!1}function fP(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function b_(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Rr(n))i=n;else if(typeof n=="function")return;if(Rr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(fl(s))return s}}function ZK(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(fl(r))return fP(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(wt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&D2.test(i)){var l=D2.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(wt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&M2.test(a)){var u=M2.exec(a);if(u==null||u[1]==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t==null?void 0:t[1];var m=[s,o];if(fl(m))return t==null?m:fP(m,t,n)}}}var Ku=1e9,JK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Pk,rr=!0,Xa="[DecimalError] ",rc=Xa+"Invalid argument: ",jk=Xa+"Exponent out of range: ",Gu=Math.floor,Bl=Math.pow,eG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ga,ni=1e7,Xn=7,w_=9007199254740991,mg=Gu(w_/Xn),ct={};ct.absoluteValue=ct.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ct.comparedTo=ct.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ct.decimalPlaces=ct.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Xn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ct.dividedBy=ct.div=function(e){return co(this,new this.constructor(e))};ct.dividedToIntegerBy=ct.idiv=function(e){var t=this,n=t.constructor;return _n(co(t,new n(e),0,1),n.precision)};ct.equals=ct.eq=function(e){return!this.cmp(e)};ct.exponent=function(){return $r(this)};ct.greaterThan=ct.gt=function(e){return this.cmp(e)>0};ct.greaterThanOrEqualTo=ct.gte=function(e){return this.cmp(e)>=0};ct.isInteger=ct.isint=function(){return this.e>this.d.length-2};ct.isNegative=ct.isneg=function(){return this.s<0};ct.isPositive=ct.ispos=function(){return this.s>0};ct.isZero=function(){return this.s===0};ct.lessThan=ct.lt=function(e){return this.cmp(e)<0};ct.lessThanOrEqualTo=ct.lte=function(e){return this.cmp(e)<1};ct.logarithm=ct.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ga))throw Error(Xa+"NaN");if(n.s<1)throw Error(Xa+(n.s?"NaN":"-Infinity"));return n.eq(ga)?new r(0):(rr=!1,t=co(If(n,a),If(e,a),a),rr=!0,_n(t,i))};ct.minus=ct.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?N_(t,e):k_(t,(e.s=-e.s,e))};ct.modulo=ct.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Xa+"NaN");return n.s?(rr=!1,t=co(n,e,0,1).times(e),rr=!0,n.minus(t)):_n(new r(n),i)};ct.naturalExponential=ct.exp=function(){return S_(this)};ct.naturalLogarithm=ct.ln=function(){return If(this)};ct.negated=ct.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ct.plus=ct.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?k_(t,e):N_(t,(e.s=-e.s,e))};ct.precision=ct.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rc+e);if(t=$r(i)+1,r=i.d.length-1,n=r*Xn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ct.squareRoot=ct.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Xa+"NaN")}for(e=$r(o),rr=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Os(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Gu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(co(o,a,s+2)).times(.5),Os(a.d).slice(0,s)===(t=Os(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(_n(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return rr=!0,_n(r,n)};ct.times=ct.mul=function(e){var t,n,r,i,a,s,o,l,c,u=this,f=u.constructor,m=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,n=u.e+e.e,l=m.length,c=h.length,l<c&&(a=m,m=h,h=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+h[r]*m[i-r-1]+t,a[i--]=o%ni|0,t=o/ni|0;a[i]=(a[i]+t)%ni|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,rr?_n(e,f.precision):e};ct.toDecimalPlaces=ct.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(zs(e,0,Ku),t===void 0?t=r.rounding:zs(t,0,8),_n(n,e+$r(n)+1,t))};ct.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=gc(r,!0):(zs(e,0,Ku),t===void 0?t=i.rounding:zs(t,0,8),r=_n(new i(r),e+1,t),n=gc(r,!0,e+1)),n};ct.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?gc(i):(zs(e,0,Ku),t===void 0?t=a.rounding:zs(t,0,8),r=_n(new a(i),e+$r(i)+1,t),n=gc(r.abs(),!1,e+$r(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ct.toInteger=ct.toint=function(){var e=this,t=e.constructor;return _n(new t(e),$r(e)+1,t.rounding)};ct.toNumber=function(){return+this};ct.toPower=ct.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(ga);if(o=new l(o),!o.s){if(e.s<1)throw Error(Xa+"Infinity");return o}if(o.eq(ga))return o;if(r=l.precision,e.eq(ga))return _n(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=u<0?-u:u)<=w_){for(i=new l(ga),t=Math.ceil(r/Xn+4),rr=!1;n%2&&(i=i.times(o),hP(i.d,t)),n=Gu(n/2),n!==0;)o=o.times(o),hP(o.d,t);return rr=!0,e.s<0?new l(ga).div(i):_n(i,r)}}else if(a<0)throw Error(Xa+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,rr=!1,i=e.times(If(o,r+c)),rr=!0,i=S_(i),i.s=a,i};ct.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=$r(i),r=gc(i,n<=a.toExpNeg||n>=a.toExpPos)):(zs(e,1,Ku),t===void 0?t=a.rounding:zs(t,0,8),i=_n(new a(i),e,t),n=$r(i),r=gc(i,e<=n||n<=a.toExpNeg,e)),r};ct.toSignificantDigits=ct.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(zs(e,1,Ku),t===void 0?t=r.rounding:zs(t,0,8)),_n(new r(n),e,t)};ct.toString=ct.valueOf=ct.val=ct.toJSON=ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$r(e),n=e.constructor;return gc(e,t<=n.toExpNeg||t>=n.toExpPos)};function k_(e,t){var n,r,i,a,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),rr?_n(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/Xn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/ni|0,l[a]%=ni;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,rr?_n(t,f):t}function zs(e,t,n){if(e!==~~e||e<t||e>n)throw Error(rc+e)}function Os(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=Xn-r.length,n&&(a+=Wo(n)),a+=r;s=e[t],r=s+"",n=Xn-r.length,n&&(a+=Wo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var co=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ni|0,s=a/ni|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ni+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,u,f,m,h,p,v,x,g,b,w,S,C,N,P,T,_=r.constructor,A=r.s==i.s?1:-1,$=r.d,D=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(Xa+"Division by zero");for(l=r.e-i.e,P=D.length,C=$.length,h=new _(A),p=h.d=[],c=0;D[c]==($[c]||0);)++c;if(D[c]>($[c]||0)&&--l,a==null?b=a=_.precision:s?b=a+($r(r)-$r(i))+1:b=a,b<0)return new _(0);if(b=b/Xn+2|0,c=0,P==1)for(u=0,D=D[0],b++;(c<C||u)&&b--;c++)w=u*ni+($[c]||0),p[c]=w/D|0,u=w%D|0;else{for(u=ni/(D[0]+1)|0,u>1&&(D=e(D,u),$=e($,u),P=D.length,C=$.length),S=P,v=$.slice(0,P),x=v.length;x<P;)v[x++]=0;T=D.slice(),T.unshift(0),N=D[0],D[1]>=ni/2&&++N;do u=0,o=t(D,v,P,x),o<0?(g=v[0],P!=x&&(g=g*ni+(v[1]||0)),u=g/N|0,u>1?(u>=ni&&(u=ni-1),f=e(D,u),m=f.length,x=v.length,o=t(f,v,m,x),o==1&&(u--,n(f,P<m?T:D,m))):(u==0&&(o=u=1),f=D.slice()),m=f.length,m<x&&f.unshift(0),n(v,f,x),o==-1&&(x=v.length,o=t(D,v,P,x),o<1&&(u++,n(v,P<x?T:D,x))),x=v.length):o===0&&(u++,v=[0]),p[c++]=u,o&&v[0]?v[x++]=$[S]||0:(v=[$[S]],x=1);while((S++<C||v[0]!==void 0)&&b--)}return p[0]||p.shift(),h.e=l,_n(h,s?a+$r(h)+1:a)}}();function S_(e,t){var n,r,i,a,s,o,l=0,c=0,u=e.constructor,f=u.precision;if($r(e)>16)throw Error(jk+$r(e));if(!e.s)return new u(ga);for(rr=!1,o=f,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log(Bl(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new u(ga),u.precision=o;;){if(i=_n(i.times(e),o),n=n.times(++l),s=a.plus(co(i,n,o)),Os(s.d).slice(0,o)===Os(a.d).slice(0,o)){for(;c--;)a=_n(a.times(a),o);return u.precision=f,t==null?(rr=!0,_n(a,f)):a}a=s}}function $r(e){for(var t=e.e*Xn,n=e.d[0];n>=10;n/=10)t++;return t}function dy(e,t,n){if(t>e.LN10.sd())throw rr=!0,n&&(e.precision=n),Error(Xa+"LN10 precision limit exceeded");return _n(new e(e.LN10),t)}function Wo(e){for(var t="";e--;)t+="0";return t}function If(e,t){var n,r,i,a,s,o,l,c,u,f=1,m=10,h=e,p=h.d,v=h.constructor,x=v.precision;if(h.s<1)throw Error(Xa+(h.s?"NaN":"-Infinity"));if(h.eq(ga))return new v(0);if(t==null?(rr=!1,c=x):c=t,h.eq(10))return t==null&&(rr=!0),dy(v,c);if(c+=m,v.precision=c,n=Os(p),r=n.charAt(0),a=$r(h),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(e),n=Os(h.d),r=n.charAt(0),f++;a=$r(h),r>1?(h=new v("0."+n),a++):h=new v(r+"."+n.slice(1))}else return l=dy(v,c+2,x).times(a+""),h=If(new v(r+"."+n.slice(1)),c-m).plus(l),v.precision=x,t==null?(rr=!0,_n(h,x)):h;for(o=s=h=co(h.minus(ga),h.plus(ga),c),u=_n(h.times(h),c),i=3;;){if(s=_n(s.times(u),c),l=o.plus(co(s,new v(i),c)),Os(l.d).slice(0,c)===Os(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(dy(v,c+2,x).times(a+""))),o=co(o,new v(f),c),v.precision=x,t==null?(rr=!0,_n(o,x)):o;o=l,i+=2}}function mP(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Gu(n/Xn),e.d=[],r=(n+1)%Xn,n<0&&(r+=Xn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Xn;r<i;)e.d.push(+t.slice(r,r+=Xn));t=t.slice(r),r=Xn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),rr&&(e.e>mg||e.e<-mg))throw Error(jk+n)}else e.s=0,e.e=0,e.d=[0];return e}function _n(e,t,n){var r,i,a,s,o,l,c,u,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=Xn,i=t,c=f[u=0];else{if(u=Math.ceil((r+1)/Xn),a=f.length,u>=a)return e;for(c=a=f[u],s=1;a>=10;a/=10)s++;r%=Xn,i=r-Xn+s}if(n!==void 0&&(a=Bl(10,s-i-1),o=c/a%10|0,l=t<0||f[u+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Bl(10,s-i):0:f[u-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=$r(e),f.length=1,t=t-a-1,f[0]=Bl(10,(Xn-t%Xn)%Xn),e.e=Gu(-t/Xn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=u,a=1,u--):(f.length=u+1,a=Bl(10,Xn-r),f[u]=i>0?(c/Bl(10,s-i)%Bl(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==ni&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=ni)break;f[u--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(rr&&(e.e>mg||e.e<-mg))throw Error(jk+$r(e));return e}function N_(e,t){var n,r,i,a,s,o,l,c,u,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),rr?_n(t,h):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(h/Xn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ni-1;--l[a],l[i]+=ni}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,rr?_n(t,h):t):new m(0)}function gc(e,t,n){var r,i=$r(e),a=Os(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Wo(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Wo(-i-1)+a,n&&(r=n-s)>0&&(a+=Wo(r))):i>=s?(a+=Wo(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Wo(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Wo(r))),e.s<0?"-"+a:a}function hP(e,t){if(e.length>t)return e.length=t,!0}function C_(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(rc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return mP(s,a.toString())}else if(typeof a!="string")throw Error(rc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,eG.test(a))mP(s,a);else throw Error(rc+a)}if(i.prototype=ct,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=C_,i.config=i.set=tG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function tG(e){if(!e||typeof e!="object")throw Error(Xa+"Object expected");var t,n,r,i=["precision",1,Ku,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Gu(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(rc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(rc+n+": "+r);return this}var Pk=C_(JK);ga=new Pk(1);const An=Pk;var nG=e=>e,j_={},P_=e=>e===j_,pP=e=>function t(){return arguments.length===0||arguments.length===1&&P_(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},A_=(e,t)=>e===1?t:pP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==j_).length;return a>=e?t(...r):A_(e-a,pP(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(u=>P_(u)?o.shift():u);return t(...c,...o)}))}),rG=e=>A_(e.length,e),Eb=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},iG=rG((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),aG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return nG;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function E_(e){var t;return e===0?t=1:t=Math.floor(new An(e).abs().log(10).toNumber())+1,t}function T_(e,t,n){for(var r=new An(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var D_=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},M_=(e,t,n)=>{if(e.lte(0))return new An(0);var r=E_(e.toNumber()),i=new An(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new An(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new An(l.toNumber()):new An(Math.ceil(l.toNumber()))},sG=(e,t,n)=>{var r=new An(1),i=new An(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new An(10).pow(E_(e)-1),i=new An(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new An(Math.floor(e)))}else e===0?i=new An(Math.floor((t-1)/2)):n||(i=new An(Math.floor(e)));var s=Math.floor((t-1)/2),o=aG(iG(l=>i.add(new An(l-s).mul(r)).toNumber()),Eb);return o(0,t)},O_=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new An(0),tickMin:new An(0),tickMax:new An(0)};var s=M_(new An(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new An(0):(o=new An(t).add(n).div(2),o=o.sub(new An(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new An(n).sub(o).div(s).toNumber()),u=l+c+1;return u>r?O_(t,n,r,i,a+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:s,tickMin:o.sub(new An(l).mul(s)),tickMax:o.add(new An(c).mul(s))})},oG=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=D_([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Eb(0,i-1).map(()=>1/0)]:[...Eb(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(o===l)return sG(o,i,a);var{step:u,tickMin:f,tickMax:m}=O_(o,l,s,a,0),h=T_(f,m.add(new An(.1).mul(u)),u);return n>r?h.reverse():h},lG=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=D_([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),c=M_(new An(o).sub(s).div(l-1),a,0),u=[...T_(new An(s),new An(o),c),o];return a===!1&&(u=u.map(f=>Math.round(f))),r>i?u.reverse():u},cG=e=>e.rootProps.barCategoryGap,lm=e=>e.rootProps.stackOffset,I_=e=>e.rootProps.reverseStackOrder,Ak=e=>e.options.chartName,Ek=e=>e.rootProps.syncId,__=e=>e.rootProps.syncMethod,Tk=e=>e.options.eventEmitter,fi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},eo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},pa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},V0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},uG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:eo.angleAxisId,includeHidden:!1,name:void 0,reversed:eo.reversed,scale:eo.scale,tick:eo.tick,tickCount:void 0,ticks:void 0,type:eo.type,unit:void 0},dG={allowDataOverflow:pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pa.scale,tick:pa.tick,tickCount:pa.tickCount,ticks:void 0,type:pa.type,unit:void 0},fG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:eo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:eo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:eo.scale,tick:eo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},mG={allowDataOverflow:pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pa.scale,tick:pa.tick,tickCount:pa.tickCount,ticks:void 0,type:"category",unit:void 0},Dk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?fG:uG,Mk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?mG:dG,W0=e=>e.polarOptions,Ok=de([jo,Po,si],OI),L_=de([W0,Ok],(e,t)=>{if(e!=null)return ba(e.innerRadius,t,0)}),$_=de([W0,Ok],(e,t)=>{if(e!=null)return ba(e.outerRadius,t,t*.8)}),hG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},R_=de([W0],hG);de([Dk,R_],V0);var F_=de([Ok,L_,$_],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});de([Mk,F_],V0);var B_=de([Mn,W0,L_,$_,jo,Po],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:ba(s,i,i/2),cy:ba(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),ir=(e,t)=>t,cm=(e,t,n)=>n;function z_(e){return e==null?void 0:e.id}function U_(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var u=z_(o);c.forEach((f,m)=>{var h=a==null||i?m:String(Zn(f,a,null)),p=Zn(f,o.dataKey,0),v;s.has(h)?v=s.get(h):v={},Object.assign(v,{[u]:p}),s.set(h,v)})}}),Array.from(s.values())}function Ik(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var H0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function q0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function pG(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Xr=e=>{var t=Mn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Yu=e=>e.tooltip.settings.axisId;function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(n),!0).forEach(function(r){gG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gG(e,t,n){return(t=vG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vG(e){var t=yG(e,"string");return typeof t=="symbol"?t:t+""}function yG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tb=[0,"auto"],ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},V_=(e,t)=>e.cartesianAxis.xAxis[t],Eo=(e,t)=>{var n=V_(e,t);return n??ei},ti={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Tb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:tm},W_=(e,t)=>e.cartesianAxis.yAxis[t],To=(e,t)=>{var n=W_(e,t);return n??ti},xG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_k=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??xG},hr=(e,t,n)=>{switch(t){case"xAxis":return Eo(e,n);case"yAxis":return To(e,n);case"zAxis":return _k(e,n);case"angleAxis":return Dk(e,n);case"radiusAxis":return Mk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},bG=(e,t,n)=>{switch(t){case"xAxis":return Eo(e,n);case"yAxis":return To(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},um=(e,t,n)=>{switch(t){case"xAxis":return Eo(e,n);case"yAxis":return To(e,n);case"angleAxis":return Dk(e,n);case"radiusAxis":return Mk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},H_=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Lk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var q_=e=>e.graphicalItems.cartesianItems,wG=de([ir,cm],Lk),$k=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),dm=de([q_,hr,wG],$k,{memoizeOptions:{resultEqualityCheck:q0}}),K_=de([dm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ik)),G_=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),kG=de([dm],G_),Rk=e=>e.map(t=>t.data).filter(Boolean).flat(1),SG=de([dm],Rk,{memoizeOptions:{resultEqualityCheck:q0}}),Fk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Bk=de([SG,Ck],Fk),zk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Zn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Zn(i,r)}))):e.map(r=>({value:r})),K0=de([Bk,hr,dm],zk);function Y_(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Yh(e){if(Fs(e)||e instanceof Date){var t=Number(e);if(Rr(t))return t}}function vP(e){if(Array.isArray(e)){var t=[Yh(e[0]),Yh(e[1])];return fl(t)?t:void 0}var n=Yh(e);if(n!=null)return[n,n]}function So(e){return e.map(Yh).filter(F8)}function NG(e,t,n){return!n||typeof t!="number"||Rs(t)?[]:n.length?So(n.flatMap(r=>{var i=Zn(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Rr(a)||!Rr(s)))return[t-a,t+s]})):[]}var Qr=e=>{var t=Xr(e),n=Yu(e);return um(e,t,n)},fm=de([Qr],e=>e==null?void 0:e.dataKey),CG=de([K_,Ck,Qr],U_),X_=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=r?[...l].reverse():l,u=c.map(z_);return[o,{stackedData:t9(e,u,n),graphicalItems:c}]}))},jG=de([CG,K_,lm,I_],X_),Q_=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=i9(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},PG=de([hr],e=>e.allowDataOverflow),Uk=e=>{var t;if(e==null||!("domain"in e))return Tb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=So(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Tb},Vk=de([hr],Uk),Wk=de([Vk,PG],b_),AG=de([jG,kl,ir,Wk],Q_,{memoizeOptions:{resultEqualityCheck:H0}}),G0=e=>e.errorBars,EG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Y_(n,r)),pg=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},Hk=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var c,u,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(g=>Y_(i,g)),m=Zn(o,(u=t.dataKey)!==null&&u!==void 0?u:l.dataKey),h=NG(o,m,f);if(h.length>=2){var p=Math.min(...h),v=Math.max(...h);(a==null||p<a)&&(a=p),(s==null||v>s)&&(s=v)}var x=vP(m);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=vP(Zn(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Rr(a)&&Rr(s))return[a,s]},TG=de([Bk,hr,kG,G0,ir],Hk,{memoizeOptions:{resultEqualityCheck:H0}});function DG(e){var{value:t}=e;if(Fs(t)||t instanceof Date)return t}var MG=(e,t,n)=>{var r=e.map(DG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&HO(r))?BI(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Z_=e=>e.referenceElements.dots,Xu=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),OG=de([Z_,ir,cm],Xu),J_=e=>e.referenceElements.areas,IG=de([J_,ir,cm],Xu),eL=e=>e.referenceElements.lines,_G=de([eL,ir,cm],Xu),tL=(e,t)=>{if(e!=null){var n=So(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},LG=de(OG,ir,tL),nL=(e,t)=>{if(e!=null){var n=So(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},$G=de([IG,ir],nL);function RG(e){var t;if(e.x!=null)return So([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:So(n)}function FG(e){var t;if(e.y!=null)return So([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:So(n)}var rL=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?RG(r):FG(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},BG=de([_G,ir],rL),zG=de(LG,BG,$G,(e,t,n)=>pg(e,n,t)),qk=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?pg(r,a,i):pg(a,i);return ZK(t,c,e.allowDataOverflow)},UG=de([hr,Vk,Wk,AG,TG,zG,Mn,ir],qk,{memoizeOptions:{resultEqualityCheck:H0}}),VG=[0,1],Kk=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=xl(t,a);if(c&&o==null){var u;return BI(0,(u=n==null?void 0:n.length)!==null&&u!==void 0?u:0)}return l==="category"?MG(r,e,c):i==="expand"?VG:s}},Gk=de([hr,Mn,Bk,K0,lm,ir,UG],Kk),iL=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Qf(a));return o in Id?o:"point"}}},Qu=de([hr,Mn,H_,Ak,ir],iL);function WG(e){if(e!=null){if(e in Id)return Id[e]();var t="scale".concat(Qf(e));if(t in Id)return Id[t]()}}function Yk(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=WG(t);if(i!=null){var a=i.domain(n).range(r);return QW(a),a}}}var Xk=(e,t,n)=>{var r=Uk(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&fl(e))return oG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&fl(e))return lG(e,t.tickCount,t.allowDecimals)}},Qk=de([Gk,um,Qu],Xk),Zk=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},HG=de([hr,Gk,Qk,ir],Zk),qG=de(K0,hr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(So(e.map(f=>f.value))).sort((f,m)=>f-m),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var u=c-l;n=Math.min(n,u)}}return n/s}}),aL=de(qG,Mn,cG,si,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Rr(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=ba(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),KG=(e,t,n)=>{var r=Eo(e,t);return r==null||typeof r.padding!="string"?0:aL(e,"xAxis",t,n,r.padding)},GG=(e,t,n)=>{var r=To(e,t);return r==null||typeof r.padding!="string"?0:aL(e,"yAxis",t,n,r.padding)},YG=de(Eo,KG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),XG=de(To,GG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),QG=de([si,YG,A0,P0,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),ZG=de([si,Mn,XG,A0,P0,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),mm=(e,t,n,r)=>{var i;switch(t){case"xAxis":return QG(e,n,r);case"yAxis":return ZG(e,n,r);case"zAxis":return(i=_k(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return R_(e);case"radiusAxis":return F_(e,n);default:return}},sL=de([hr,mm],V0),Y0=de([hr,Qu,HG,sL],Yk);de([dm,G0,ir],EG);function oL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var X0=(e,t)=>t,Q0=(e,t,n)=>n,JG=de(C0,X0,Q0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(oL)),eY=de(j0,X0,Q0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(oL)),lL=(e,t)=>({width:e.width,height:t.height}),tY=(e,t)=>{var n=typeof t.width=="number"?t.width:tm;return{width:n,height:e.height}},nY=de(si,Eo,lL),rY=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},iY=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},aY=de(Po,si,JG,X0,Q0,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=lL(t,o);s==null&&(s=rY(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),sY=de(jo,si,eY,X0,Q0,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=tY(t,o);s==null&&(s=iY(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),oY=(e,t)=>{var n=Eo(e,t);if(n!=null)return aY(e,n.orientation,n.mirror)},lY=de([si,Eo,oY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),cY=(e,t)=>{var n=To(e,t);if(n!=null)return sY(e,n.orientation,n.mirror)},uY=de([si,To,cY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),dY=de(si,To,(e,t)=>{var n=typeof t.width=="number"?t.width:tm;return{width:n,height:e.height}}),cL=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=xl(e,r),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&HO(l))return l}},Jk=de([Mn,K0,hr,ir],cL),uL=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=xl(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},eS=de([Mn,K0,um,ir],uL),yP=de([Mn,bG,Qu,Y0,Jk,eS,mm,Qk,ir],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var c=xl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),fY=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var c=xl(e,l),{type:u,ticks:f,tickCount:m}=t,h=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;p=l==="angleAxis"&&a!=null&&a.length>=2?Pi(a[0]-a[1])*2*p:p;var v=f||i;if(v){var x=v.map((g,b)=>{var w=s?s.indexOf(g):g;return{index:b,coordinate:r(w)+p,value:g,offset:p}});return x.filter(g=>Rr(g.coordinate))}return c&&o?o.map((g,b)=>({coordinate:r(g)+p,value:g,index:b,offset:p})).filter(g=>Rr(g.coordinate)):r.ticks?r.ticks(m).map(g=>({coordinate:r(g)+p,value:g,offset:p})):r.domain().map((g,b)=>({coordinate:r(g)+p,value:s?s[g]:g,index:b,offset:p}))}},dL=de([Mn,um,Qu,Y0,Qk,mm,Jk,eS,ir],fY),mY=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=xl(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Pi(r[0]-r[1])*2*c:c,o&&a?a.map((u,f)=>({coordinate:n(u)+c,value:u,index:f,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,f)=>({coordinate:n(u)+c,value:i?i[u]:u,index:f,offset:c}))}},fL=de([Mn,um,Y0,mm,Jk,eS,ir],mY),mL=de(hr,Y0,(e,t)=>{if(!(e==null||t==null))return hg(hg({},e),{},{scale:t})}),hY=de([hr,Qu,Gk,sL],Yk);de((e,t,n)=>_k(e,n),hY,(e,t)=>{if(!(e==null||t==null))return hg(hg({},e),{},{scale:t})});var pY=de([Mn,C0,j0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),hL=e=>e.options.defaultTooltipEventType,pL=e=>e.options.validateTooltipEventTypes;function gL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function tS(e,t){var n=hL(e),r=pL(e);return gL(t,n,r)}function gY(e){return xt(t=>tS(t,e))}var vL=(e,t)=>{var n,r=Number(t);if(!(Rs(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},vY=e=>e.tooltip.settings,Yo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},yY={itemInteraction:{click:Yo,hover:Yo},axisInteraction:{click:Yo,hover:Yo},keyboardInteraction:Yo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},yL=sa({name:"tooltip",initialState:yY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:tr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=us(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:tr()},removeTooltipEntrySettings:{reducer(e,t){var n=us(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:tr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:xY,replaceTooltipEntrySettings:bY,removeTooltipEntrySettings:wY,setTooltipSettingsState:kY,setActiveMouseOverItemIndex:xL,mouseLeaveItem:SY,mouseLeaveChart:bL,setActiveClickItemIndex:NY,setMouseOverAxisIndex:wL,setMouseClickAxisIndex:CY,setSyncInteraction:Db,setKeyboardInteraction:Mb}=yL.actions,jY=yL.reducer;function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(n),!0).forEach(function(r){PY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PY(e,t,n){return(t=AY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AY(e){var t=EY(e,"string");return typeof t=="symbol"?t:t+""}function EY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TY(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function DY(e){return e.index!=null}var kL=(e,t,n,r)=>{if(t==null)return Yo;var i=TY(e,t,n);if(i==null)return Yo;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(DY(i)){if(a)return kh(kh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return kh(kh({},Yo),{},{coordinate:i.coordinate})};function MY(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function OY(e,t){var n=MY(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function IY(e,t,n){if(n==null||t==null)return!0;var r=Zn(e,t);return r==null||!fl(n)?!0:OY(r,n)}var nS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Rr(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||IY(c,n,r)?String(l):null},SL=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},NL=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},hm=e=>e.options.tooltipPayloadSearcher,Zu=e=>e.tooltip;function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(r){_Y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Y(e,t,n){return(t=LY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LY(e){var t=$Y(e,"string");return typeof t=="symbol"?t:t+""}function $Y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RY(e,t){return e??t}var CL=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,f=[];return e.reduce((m,h)=>{var p,{dataDefinedOnItem:v,settings:x}=h,g=RY(v,o),b=Array.isArray(g)?tI(g,c,u):g,w=(p=x==null?void 0:x.dataKey)!==null&&p!==void 0?p:r,S=x==null?void 0:x.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?C=qO(b,r,i):C=a(b,t,l,S),Array.isArray(C))C.forEach(P=>{var T=wP(wP({},x),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});m.push(O2({tooltipEntrySettings:T,dataKey:P.dataKey,payload:P.payload,value:Zn(P.payload,P.dataKey),name:P.name}))});else{var N;m.push(O2({tooltipEntrySettings:x,dataKey:w,payload:C,value:Zn(C,w),name:(N=Zn(C,S))!==null&&N!==void 0?N:x==null?void 0:x.name}))}return m},f)}},rS=de([Qr,Mn,H_,Ak,Xr],iL),FY=de([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),BY=de([Xr,Yu],Lk),Ju=de([FY,Qr,BY],$k,{memoizeOptions:{resultEqualityCheck:q0}}),zY=de([Ju],e=>e.filter(Ik)),UY=de([Ju],Rk,{memoizeOptions:{resultEqualityCheck:q0}}),ed=de([UY,kl],Fk),VY=de([zY,kl,Qr],U_),iS=de([ed,Qr,Ju],zk),jL=de([Qr],Uk),WY=de([Qr],e=>e.allowDataOverflow),PL=de([jL,WY],b_),HY=de([Ju],e=>e.filter(Ik)),qY=de([VY,HY,lm,I_],X_),KY=de([qY,kl,Xr,PL],Q_),GY=de([Ju],G_),YY=de([ed,Qr,GY,G0,Xr],Hk,{memoizeOptions:{resultEqualityCheck:H0}}),XY=de([Z_,Xr,Yu],Xu),QY=de([XY,Xr],tL),ZY=de([J_,Xr,Yu],Xu),JY=de([ZY,Xr],nL),eX=de([eL,Xr,Yu],Xu),tX=de([eX,Xr],rL),nX=de([QY,tX,JY],pg),rX=de([Qr,jL,PL,KY,YY,nX,Mn,Xr],qk),pm=de([Qr,Mn,ed,iS,lm,Xr,rX],Kk),iX=de([pm,Qr,rS],Xk),aX=de([Qr,pm,iX,Xr],Zk),AL=e=>{var t=Xr(e),n=Yu(e),r=!1;return mm(e,t,n,r)},EL=de([Qr,AL],V0),TL=de([Qr,rS,aX,EL],Yk),sX=de([Mn,iS,Qr,Xr],cL),oX=de([Mn,iS,Qr,Xr],uL),lX=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=xl(e,o);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Pi(i[0]-i[1])*2*f:f,c&&s?s.map((m,h)=>({coordinate:r(m)+f,value:m,index:h,offset:f})):r.domain().map((m,h)=>({coordinate:r(m)+f,value:a?a[m]:m,index:h,offset:f}))}}},Do=de([Mn,Qr,rS,TL,AL,sX,oX,Xr],lX),aS=de([hL,pL,vY],(e,t,n)=>gL(n.shared,e,t)),DL=e=>e.tooltip.settings.trigger,sS=e=>e.tooltip.settings.defaultIndex,gm=de([Zu,aS,DL,sS],kL),$u=de([gm,ed,fm,pm],nS),ML=de([Do,$u],vL),OL=de([gm],e=>{if(e)return e.dataKey}),cX=de([gm],e=>{if(e)return e.graphicalItemId}),IL=de([Zu,aS,DL,sS],NL),uX=de([jo,Po,Mn,si,Do,sS,IL,hm],SL),dX=de([gm,uX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),fX=de([gm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),mX=de([IL,$u,kl,fm,ML,hm,aS],CL),hX=de([mX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(n),!0).forEach(function(r){pX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pX(e,t,n){return(t=gX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yX=()=>xt(Qr),xX=()=>{var e=yX(),t=xt(Do),n=xt(TL);return Kp(!e||!n?void 0:SP(SP({},e),{},{scale:n}),t)};function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(n),!0).forEach(function(r){bX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bX(e,t,n){return(t=wX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wX(e){var t=kX(e,"string");return typeof t=="symbol"?t:t+""}function kX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SX=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},NX=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Bc(Bc(Bc({},r),Lr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Bc(Bc(Bc({},r),Lr(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function CX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var _L=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,u,f,m,h=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(c=n[s-1])===null||c===void 0?void 0:c.coordinate,p=(u=n[o])===null||u===void 0?void 0:u.coordinate,v=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(m=n[o+1])===null||m===void 0?void 0:m.coordinate,x=void 0;if(!(h==null||p==null||v==null))if(Pi(p-h)!==Pi(v-p)){var g=[];if(Pi(v-p)===Pi(i[1]-i[0])){x=v;var b=p+i[1]-i[0];g[0]=Math.min(b,(b+h)/2),g[1]=Math.max(b,(b+h)/2)}else{x=h;var w=v+i[1]-i[0];g[0]=Math.min(p,(w+p)/2),g[1]=Math.max(p,(w+p)/2)}var S=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(e>S[0]&&e<=S[1]||e>=g[0]&&e<=g[1]){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}else{var N=Math.min(h,v),P=Math.max(h,v);if(e>(N+p)/2&&e<=(P+p)/2){var T;return(T=n[o])===null||T===void 0?void 0:T.index}}}else if(t)for(var _=0;_<s;_++){var A=t[_];if(A!=null){var $=t[_+1],D=t[_-1];if(_===0&&$!=null&&e<=(A.coordinate+$.coordinate)/2||_===s-1&&D!=null&&e>(A.coordinate+D.coordinate)/2||_>0&&_<s-1&&D!=null&&$!=null&&e>(A.coordinate+D.coordinate)/2&&e<=(A.coordinate+$.coordinate)/2)return A.index}}return-1},jX=()=>xt(Ak),oS=(e,t)=>t,LL=(e,t,n)=>n,lS=(e,t,n,r)=>r,PX=de(Do,e=>h0(e,t=>t.coordinate)),cS=de([Zu,oS,LL,lS],kL),uS=de([cS,ed,fm,pm],nS),AX=(e,t,n)=>{if(t!=null){var r=Zu(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},$L=de([Zu,oS,LL,lS],NL),gg=de([jo,Po,Mn,si,Do,lS,$L,hm],SL),EX=de([cS,gg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),RL=de([Do,uS],vL),TX=de([$L,uS,kl,fm,RL,hm,oS],CL),DX=de([cS,uS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),MX=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&CX(e,s)){var o=a9(e,t),l=_L(o,a,i,n,r),c=SX(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},OX=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=y7(e,n);if(o){var l=s9(o,t),c=_L(l,s,a,r,i),u=NX(t,a,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},IX=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?MX(e,t,r,i,a,s,o):OX(e,t,n,r,i,a,s)},_X=de(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),LX=de(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(fi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:pG}});function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(n),!0).forEach(function(r){$X(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $X(e,t,n){return(t=RX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RX(e){var t=FX(e,"string");return typeof t=="symbol"?t:t+""}function FX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BX={},zX={zIndexMap:Object.values(fi).reduce((e,t)=>jP(jP({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),BX)},UX=new Set(Object.values(fi));function VX(e){return UX.has(e)}var FL=sa({name:"zIndex",initialState:zX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:tr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!VX(n)&&delete e.zIndexMap[n])},prepare:tr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:tr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:tr()}}}),{registerZIndexPortal:WX,unregisterZIndexPortal:HX,registerZIndexPortalElement:qX,unregisterZIndexPortalElement:KX}=FL.actions,GX=FL.reducer;function xs(e){var{zIndex:t,children:n}=e,r=O9(),i=r&&t!==void 0&&t!==0,a=oa(),s=Wn();y.useLayoutEffect(()=>i?(s(WX({zIndex:t})),()=>{s(HX({zIndex:t}))}):Zf,[s,t,i]);var o=xt(l=>_X(l,t,a));return i?o?Hu.createPortal(n,o):null:n}function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ob.apply(null,arguments)}function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(n),!0).forEach(function(r){YX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YX(e,t,n){return(t=XX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XX(e){var t=QX(e,"string");return typeof t=="symbol"?t:t+""}function QX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZX(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return y.isValidElement(t)?y.cloneElement(t,r):y.createElement(n,r)}function JX(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,f=n,m=r,h=i;if(!l||!f||u!=="ScatterChart"&&c!=="axis")return null;var p,v,x;if(u==="ScatterChart")p=f,v=MH,x=fi.cursorLine;else if(u==="BarChart")p=OH(o,f,a,s),v=MI,x=fi.cursorRectangle;else if(o==="radial"&&GO(f)){var{cx:g,cy:b,radius:w,startAngle:S,endAngle:C}=II(f);p={cx:g,cy:b,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},v=LI,x=fi.cursorLine}else p={points:k7(o,f,a)},v=ek,x=fi.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,P=Sh(Sh(Sh(Sh({stroke:"#ccc",pointerEvents:"none"},a),p),Eu(l)),{},{payload:m,payloadIndex:h,className:Nn("recharts-tooltip-cursor",N)});return y.createElement(xs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},y.createElement(ZX,{cursor:l,cursorComp:v,cursorProps:P}))}function eQ(e){var t=xX(),n=pI(),r=nm(),i=jX();return t==null||n==null||r==null||i==null?null:y.createElement(JX,Ob({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var BL=y.createContext(null),tQ=()=>y.useContext(BL),zL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,m),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,p=new Array(h);m<h;m++)p[m]=f[m].fn;return p},o.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,m,h,p){var v=n?n+c:c;if(!this._events[v])return!1;var x=this._events[v],g=arguments.length,b,w;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,m),!0;case 5:return x.fn.call(x.context,u,f,m,h),!0;case 6:return x.fn.call(x.context,u,f,m,h,p),!0}for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];x.fn.apply(x.context,b)}else{var S=x.length,C;for(w=0;w<S;w++)switch(x[w].once&&this.removeListener(c,x[w].fn,void 0,!0),g){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,u);break;case 3:x[w].fn.call(x[w].context,u,f);break;case 4:x[w].fn.call(x[w].context,u,f,m);break;default:if(!b)for(C=1,b=new Array(g-1);C<g;C++)b[C-1]=arguments[C];x[w].fn.apply(x[w].context,b)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,m){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!m||p.once)&&(!f||p.context===f)&&s(this,h);else{for(var v=0,x=[],g=p.length;v<g;v++)(p[v].fn!==u||m&&!p[v].once||f&&p[v].context!==f)&&x.push(p[v]);x.length?this._events[h]=x.length===1?x[0]:x:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(zL);var nQ=zL.exports;const rQ=vs(nQ);var _f=new rQ,Ib="recharts.syncEvent.tooltip",AP="recharts.syncEvent.brush";function UL(e,t){if(t){var n=Number.parseInt(t,10);if(!Rs(n))return e==null?void 0:e[n]}}var iQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},VL=sa({name:"options",initialState:iQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),aQ=VL.reducer,{createEventEmitter:sQ}=VL.actions;function oQ(e){return e.tooltip.syncInteraction}var lQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},WL=sa({name:"chartData",initialState:lQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:EP,setDataStartEndIndexes:cQ,setComputedData:Xpe}=WL.actions,uQ=WL.reducer,dQ=["x","y"];function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){fQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fQ(e,t,n){return(t=mQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pQ(e,t){if(e==null)return{};var n,r,i=gQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vQ(){var e=xt(Ek),t=xt(Tk),n=Wn(),r=xt(__),i=xt(Do),a=nm(),s=E0(),o=xt(l=>l.rootProps.className);y.useEffect(()=>{if(e==null)return Zf;var l=(c,u,f)=>{if(t!==f&&e===c){if(r==="index"){var m;if(s&&u!==null&&u!==void 0&&(m=u.payload)!==null&&m!==void 0&&m.coordinate&&u.payload.sourceViewBox){var h=u.payload.coordinate,{x:p,y:v}=h,x=pQ(h,dQ),{x:g,y:b,width:w,height:S}=u.payload.sourceViewBox,C=zc(zc({},x),{},{x:s.x+(w?(p-g)/w:0)*s.width,y:s.y+(S?(v-b)/S:0)*s.height});n(zc(zc({},u),{},{payload:zc(zc({},u.payload),{},{coordinate:C})}))}else n(u);return}if(i!=null){var N;if(typeof r=="function"){var P={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},T=r(i,P);N=i[T]}else r==="value"&&(N=i.find(H=>String(H.value)===u.payload.label));var{coordinate:_}=u.payload;if(N==null||u.payload.active===!1||_==null||s==null){n(Db({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:A,y:$}=_,D=Math.min(A,s.x+s.width),te=Math.min($,s.y+s.height),K={x:a==="horizontal"?N.coordinate:D,y:a==="horizontal"?te:N.coordinate},ie=Db({active:u.payload.active,coordinate:K,dataKey:u.payload.dataKey,index:String(N.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});n(ie)}}};return _f.on(Ib,l),()=>{_f.off(Ib,l)}},[o,n,t,e,r,i,a,s])}function yQ(){var e=xt(Ek),t=xt(Tk),n=Wn();y.useEffect(()=>{if(e==null)return Zf;var r=(i,a,s)=>{t!==s&&e===i&&n(cQ(a))};return _f.on(AP,r),()=>{_f.off(AP,r)}},[n,t,e])}function xQ(){var e=Wn();y.useEffect(()=>{e(sQ())},[e]),vQ(),yQ()}function bQ(e,t,n,r,i,a){var s=xt(h=>AX(h,e,t)),o=xt(Tk),l=xt(Ek),c=xt(__),u=xt(oQ),f=u==null?void 0:u.active,m=E0();y.useEffect(()=>{if(!f&&l!=null&&o!=null){var h=Db({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});_f.emit(Ib,l,h,o)}},[f,n,s,i,r,o,l,c,a,m])}function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(r){wQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wQ(e,t,n){return(t=kQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kQ(e){var t=SQ(e,"string");return typeof t=="symbol"?t:t+""}function SQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NQ(e){return e.dataKey}function CQ(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(dH,t)}var OP=[],jQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function vc(e){var t,n,r=Gr(e,jQ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:u,offset:f,payloadUniqBy:m,position:h,reverseDirection:p,useTranslate3d:v,wrapperStyle:x,cursor:g,shared:b,trigger:w,defaultIndex:S,portal:C,axisId:N}=r,P=Wn(),T=typeof S=="number"?String(S):S;y.useEffect(()=>{P(kY({shared:b,trigger:w,axisId:N,active:i,defaultIndex:T}))},[P,b,w,N,i,T]);var _=E0(),A=PI(),$=gY(b),{activeIndex:D,isActive:te}=(t=xt(F=>DX(F,$,w,T)))!==null&&t!==void 0?t:{},K=xt(F=>TX(F,$,w,T)),ie=xt(F=>RL(F,$,w,T)),H=xt(F=>EX(F,$,w,T)),J=K,G=tQ(),ae=(n=i??te)!==null&&n!==void 0?n:!1,[E,j]=C5([J,ae]),U=$==="axis"?ie:void 0;bQ($,w,H,U,D,ae);var k=C??G;if(k==null||_==null||$==null)return null;var O=J??OP;ae||(O=OP),c&&O.length&&(O=m5(O.filter(F=>F.value!=null&&(F.hide!==!0||r.includeHidden)),m,NQ));var re=O.length>0,Q=y.createElement(yH,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:u,active:ae,coordinate:H,hasPayload:re,offset:f,position:h,reverseDirection:p,useTranslate3d:v,viewBox:_,wrapperStyle:x,lastBoundingBox:E,innerRef:j,hasPortalFromProps:!!C},CQ(l,MP(MP({},r),{},{payload:O,label:U,active:ae,activeIndex:D,coordinate:H,accessibilityLayer:A})));return y.createElement(y.Fragment,null,Hu.createPortal(Q,k),ae&&y.createElement(eQ,{cursor:g,tooltipEventType:$,coordinate:H,payload:O,index:D}))}var Ru=e=>null;Ru.displayName="Cell";function PQ(e,t,n){return(t=AQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AQ(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TQ{constructor(t){PQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function IP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(n),!0).forEach(function(r){MQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MQ(e,t,n){return(t=OQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OQ(e){var t=IQ(e,"string");return typeof t=="symbol"?t:t+""}function IQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Q={cacheSize:2e3,enableCache:!0},HL=DQ({},_Q),_P=new TQ(HL.cacheSize),LQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LP="recharts_measurement_span";function $Q(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var $P=(e,t)=>{try{var n=document.getElementById(LP);n||(n=document.createElement("span"),n.setAttribute("id",LP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,LQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Hd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||I0.isSsr)return{width:0,height:0};if(!HL.enableCache)return $P(t,n);var r=$Q(t,n),i=_P.get(r);if(i)return i;var a=$P(t,n);return _P.set(r,a),a},qL;function RQ(e,t,n){return(t=FQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FQ(e){var t=BQ(e,"string");return typeof t=="symbol"?t:t+""}function BQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WQ=["cm","mm","pt","pc","in","Q","px"];function HQ(e){return WQ.includes(e)}var au="NaN";function qQ(e,t){return e*VQ[t]}class di{static parse(t){var n,[,r,i]=(n=UQ.exec(t))!==null&&n!==void 0?n:[];return r==null?di.NaN:new di(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Rs(t)&&(this.unit=""),n!==""&&!zQ.test(n)&&(this.num=NaN,this.unit=""),HQ(n)&&(this.num=qQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new di(NaN,""):new di(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new di(NaN,""):new di(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new di(NaN,""):new di(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new di(NaN,""):new di(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Rs(this.num)}}qL=di;RQ(di,"NaN",new qL(NaN,""));function KL(e){if(e==null||e.includes(au))return au;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=RP.exec(t))!==null&&n!==void 0?n:[],s=di.parse(r??""),o=di.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return au;t=t.replace(RP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,f,m]=(c=FP.exec(t))!==null&&c!==void 0?c:[],h=di.parse(u??""),p=di.parse(m??""),v=f==="+"?h.add(p):h.subtract(p);if(v.isNaN())return au;t=t.replace(FP,v.toString())}return t}var BP=/\(([^()]*)\)/;function KQ(e){for(var t=e,n;(n=BP.exec(t))!=null;){var[,r]=n;t=t.replace(BP,KL(r))}return t}function GQ(e){var t=e.replace(/\s+/g,"");return t=KQ(t),t=KL(t),t}function YQ(e){try{return GQ(e)}catch{return au}}function fy(e){var t=YQ(e.slice(5,-1));return t===au?"":t}var XQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],QQ=["dx","dy","angle","className","breakAll"];function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_b.apply(null,arguments)}function zP(e,t){if(e==null)return{};var n,r,i=ZQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GL=/[ \f\n\r\t\v\u2028\u2029]+/,YL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Kr(t)||(n?i=t.toString().split(""):i=t.toString().split(GL));var a=i.map(o=>({word:o,width:Hd(o,r).width})),s=n?0:Hd("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function JQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var XL=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),QL=e=>e.reduce((t,n)=>t.width>n.width?t:n),eZ="",UP=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),c=YL({breakAll:n,style:r,children:l+eZ});if(!c)return[!1,[]];var u=XL(c.wordsWithComputedWidth,a,s,o),f=u.length>i||QL(u).width>Number(a);return[f,u]},tZ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=wt(a),u=String(s),f=XL(t,r,n,i);if(!c||i)return f;var m=f.length>a||QL(f).width>Number(r);if(!m)return f;for(var h=0,p=u.length-1,v=0,x;h<=p&&v<=u.length-1;){var g=Math.floor((h+p)/2),b=g-1,[w,S]=UP(u,b,l,o,a,r,n,i),[C]=UP(u,g,l,o,a,r,n,i);if(!w&&!C&&(h=g+1),w&&C&&(p=g-1),!w&&C){x=S;break}v++}return x||f},VP=e=>{var t=Kr(e)?[]:e.toString().split(GL);return[{words:t,width:void 0}]},nZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!I0.isSsr){var o,l,c=YL({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return VP(r);return tZ({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return VP(r)},ZL="#808080",rZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:ZL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Z0=y.forwardRef((e,t)=>{var n=Gr(e,rZ),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:u}=n,f=zP(n,XQ),m=y.useMemo(()=>nZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:h,dy:p,angle:v,className:x,breakAll:g}=f,b=zP(f,QQ);if(!Fs(r)||!Fs(i)||m.length===0)return null;var w=Number(r)+(wt(h)?h:0),S=Number(i)+(wt(p)?p:0);if(!Rr(w)||!Rr(S))return null;var C;switch(u){case"start":C=fy("calc(".concat(s,")"));break;case"middle":C=fy("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=fy("calc(".concat(m.length-1," * -").concat(a,")"));break}var N=[];if(l){var P=m[0].width,{width:T}=f;N.push("scale(".concat(wt(T)&&wt(P)?T/P:1,")"))}return v&&N.push("rotate(".concat(v,", ").concat(w,", ").concat(S,")")),N.length&&(b.transform=N.join(" ")),y.createElement("text",_b({},zi(b),{ref:t,x:w,y:S,className:Nn("recharts-text",x),textAnchor:c,fill:o.includes("url")?ZL:o}),m.map((_,A)=>{var $=_.words.join(g?"":" ");return y.createElement("tspan",{x:w,dy:A===0?C:a,key:"".concat($,"-").concat(A)},$)}))});Z0.displayName="Text";var iZ=["labelRef"],aZ=["content"];function WP(e,t){if(e==null)return{};var n,r,i=sZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(n),!0).forEach(function(r){oZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oZ(e,t,n){return(t=lZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lZ(e){var t=cZ(e,"string");return typeof t=="symbol"?t:t+""}function cZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},to.apply(null,arguments)}var JL=y.createContext(null),uZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=y.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return y.createElement(JL.Provider,{value:l},o)},e3=()=>{var e=y.useContext(JL),t=E0();return e||hI(t)},dZ=y.createContext(null),fZ=()=>{var e=y.useContext(dZ),t=xt(B_);return e||t},mZ=e=>{var{value:t,formatter:n}=e,r=Kr(e.children)?t:e.children;return typeof n=="function"?n(r):r},dS=e=>e!=null&&typeof e=="function",hZ=(e,t)=>{var n=Pi(t-e),r=Math.min(Math.abs(t-e),360);return n*r},pZ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:m,clockWise:h}=i,p=(c+u)/2,v=hZ(f,m),x=v>=0?1:-1,g,b;switch(t){case"insideStart":g=f+x*a,b=h;break;case"insideEnd":g=m-x*a,b=!h;break;case"end":g=m+x*a,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var w=Lr(o,l,p,g),S=Lr(o,l,p,g+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Kr(e.id)?kf("recharts-radial-line-"):e.id;return y.createElement("text",to({},r,{dominantBaseline:"central",className:Nn("recharts-radial-bar-label",s)}),y.createElement("defs",null,y.createElement("path",{id:N,d:C})),y.createElement("textPath",{xlinkHref:"#".concat(N)},n))},gZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(n==="outside"){var{x:u,y:f}=Lr(r,i,s+t,c);return{x:u,y:f,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+s)/2,{x:h,y:p}=Lr(r,i,m,c);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Lb=e=>"cx"in e&&wt(e.cx),vZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Lb(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:u}=t,f=s,m=s+(l-c)/2,h=(f+m)/2,p=(l+c)/2,v=f+l/2,x=u>=0?1:-1,g=x*r,b=x>0?"end":"start",w=x>0?"start":"end",S=l>=0?1:-1,C=S*r,N=S>0?"end":"start",P=S>0?"start":"end";if(i==="top"){var T={x:f+l/2,y:o-g,textAnchor:"middle",verticalAnchor:b};return Pr(Pr({},T),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var _={x:m+c/2,y:o+u+g,textAnchor:"middle",verticalAnchor:w};return Pr(Pr({},_),a?{height:Math.max(a.y+a.height-(o+u),0),width:c}:{})}if(i==="left"){var A={x:h-C,y:o+u/2,textAnchor:N,verticalAnchor:"middle"};return Pr(Pr({},A),a?{width:Math.max(A.x-a.x,0),height:u}:{})}if(i==="right"){var $={x:h+p+C,y:o+u/2,textAnchor:P,verticalAnchor:"middle"};return Pr(Pr({},$),a?{width:Math.max(a.x+a.width-$.x,0),height:u}:{})}var D=a?{width:p,height:u}:{};return i==="insideLeft"?Pr({x:h+C,y:o+u/2,textAnchor:P,verticalAnchor:"middle"},D):i==="insideRight"?Pr({x:h+p-C,y:o+u/2,textAnchor:N,verticalAnchor:"middle"},D):i==="insideTop"?Pr({x:f+l/2,y:o+g,textAnchor:"middle",verticalAnchor:w},D):i==="insideBottom"?Pr({x:m+c/2,y:o+u-g,textAnchor:"middle",verticalAnchor:b},D):i==="insideTopLeft"?Pr({x:f+C,y:o+g,textAnchor:P,verticalAnchor:w},D):i==="insideTopRight"?Pr({x:f+l-C,y:o+g,textAnchor:N,verticalAnchor:w},D):i==="insideBottomLeft"?Pr({x:m+C,y:o+u-g,textAnchor:P,verticalAnchor:b},D):i==="insideBottomRight"?Pr({x:m+c-C,y:o+u-g,textAnchor:N,verticalAnchor:b},D):i&&typeof i=="object"&&(wt(i.x)||yo(i.x))&&(wt(i.y)||yo(i.y))?Pr({x:s+ba(i.x,p),y:o+ba(i.y,u),textAnchor:"end",verticalAnchor:"end"},D):Pr({x:v,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},D)},yZ={angle:0,offset:5,zIndex:fi.label,position:"middle",textBreakAll:!1};function Ho(e){var t=Gr(e,yZ),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,u=fZ(),f=e3(),m=r==="center"?f:u??f,h,p,v;if(n==null?h=m:Lb(n)?h=n:h=hI(n),!h||Kr(i)&&Kr(a)&&!y.isValidElement(s)&&typeof s!="function")return null;var x=Pr(Pr({},t),{},{viewBox:h});if(y.isValidElement(s)){var{labelRef:g}=x,b=WP(x,iZ);return y.cloneElement(s,b)}if(typeof s=="function"){var{content:w}=x,S=WP(x,aZ);if(p=y.createElement(s,S),y.isValidElement(p))return p}else p=mZ(t);var C=zi(t);if(Lb(h)){if(r==="insideStart"||r==="insideEnd"||r==="end")return pZ(t,r,p,C,h);v=gZ(h,t.offset,t.position)}else v=vZ(t,h);return y.createElement(xs,{zIndex:t.zIndex},y.createElement(Z0,to({ref:c,className:Nn("recharts-label",o)},C,v,{textAnchor:JQ(C.textAnchor)?C.textAnchor:v.textAnchor,breakAll:l}),p))}Ho.displayName="Label";var xZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?y.createElement(Ho,to({key:"label-implicit"},r)):Fs(e)?y.createElement(Ho,to({key:"label-implicit",value:e},r)):y.isValidElement(e)?e.type===Ho?y.cloneElement(e,Pr({key:"label-implicit"},r)):y.createElement(Ho,to({key:"label-implicit",content:e},r)):dS(e)?y.createElement(Ho,to({key:"label-implicit",content:e},r)):e&&typeof e=="object"?y.createElement(Ho,to({},e,{key:"label-implicit"},r)):null};function bZ(e){var{label:t,labelRef:n}=e,r=e3();return xZ(t,r,n)||null}var t3={},n3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(n3);var r3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(r3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n3,n=r3,r=d0;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(t3);var wZ=t3.last;const kZ=vs(wZ);var SZ=["valueAccessor"],NZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vg.apply(null,arguments)}function qP(e,t){if(e==null)return{};var n,r,i=CZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jZ=e=>Array.isArray(e.value)?kZ(e.value):e.value,i3=y.createContext(void 0),PZ=i3.Provider,a3=y.createContext(void 0),AZ=a3.Provider;function EZ(){return y.useContext(i3)}function TZ(){return y.useContext(a3)}function Xh(e){var{valueAccessor:t=jZ}=e,n=qP(e,SZ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=qP(n,NZ),c=EZ(),u=TZ(),f=c||u;return!f||!f.length?null:y.createElement(xs,{zIndex:o??fi.label},y.createElement(ia,{className:"recharts-label-list"},f.map((m,h)=>{var p,v=Kr(r)?t(m,h):Zn(m&&m.payload,r),x=Kr(a)?{}:{id:"".concat(a,"-").concat(h)};return y.createElement(Ho,vg({key:"label-".concat(h)},zi(m),l,x,{fill:(p=n.fill)!==null&&p!==void 0?p:m.fill,parentViewBox:m.parentViewBox,value:v,textBreakAll:s,viewBox:m.viewBox,index:h,zIndex:0}))})))}Xh.displayName="LabelList";function s3(e){var{label:t}=e;return t?t===!0?y.createElement(Xh,{key:"labelList-implicit"}):y.isValidElement(t)||dS(t)?y.createElement(Xh,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(Xh,vg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$b.apply(null,arguments)}var o3=e=>{var{cx:t,cy:n,r,className:i}=e,a=Nn("recharts-dot",i);return wt(t)&&wt(n)&&wt(r)?y.createElement("circle",$b({},Ga(e),T1(e),{className:a,cx:t,cy:n,r})):null},l3=e=>e.graphicalItems.polarItems,DZ=de([ir,cm],Lk),J0=de([l3,hr,DZ],$k),MZ=de([J0],Rk),ev=de([MZ,Nk],Fk),OZ=de([ev,hr,J0],zk);de([ev,hr,J0],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=Zn(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Zn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var KP=()=>{},IZ=de([ev,hr,J0,G0,ir],Hk),_Z=de([hr,Vk,Wk,KP,IZ,KP,Mn,ir],qk),c3=de([hr,Mn,ev,OZ,lm,ir,_Z],Kk),LZ=de([c3,hr,Qu],Xk);de([hr,c3,LZ,ir],Zk);var $Z={radiusAxis:{},angleAxis:{}},u3=sa({name:"polarAxis",initialState:$Z,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Qpe,removeRadiusAxis:Zpe,addAngleAxis:Jpe,removeAngleAxis:ege}=u3.actions,RZ=u3.reducer;function GP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(n),!0).forEach(function(r){FZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FZ(e,t,n){return(t=BZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BZ(e){var t=zZ(e,"string");return typeof t=="symbol"?t:t+""}function zZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UZ=(e,t)=>t,fS=de([l3,UZ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),VZ=[],mS=(e,t,n)=>(n==null?void 0:n.length)===0?VZ:n,d3=de([Nk,fS,mS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>YP(YP({},t.presentationProps),a.props))),i!=null)return i}}),WZ=de([d3,fS,mS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=Zn(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:N0(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),HZ=de([d3,fS,mS,si],(e,t,n,r)=>{if(!(t==null||e==null))return iee({offset:r,pieSettings:t,displayedData:e,cells:n})}),f3={exports:{}},$n={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv=60103,nv=60106,vm=60107,ym=60108,xm=60114,bm=60109,wm=60110,km=60112,Sm=60113,hS=60120,Nm=60115,Cm=60116,m3=60121,h3=60122,p3=60117,g3=60129,v3=60131;if(typeof Symbol=="function"&&Symbol.for){var li=Symbol.for;tv=li("react.element"),nv=li("react.portal"),vm=li("react.fragment"),ym=li("react.strict_mode"),xm=li("react.profiler"),bm=li("react.provider"),wm=li("react.context"),km=li("react.forward_ref"),Sm=li("react.suspense"),hS=li("react.suspense_list"),Nm=li("react.memo"),Cm=li("react.lazy"),m3=li("react.block"),h3=li("react.server.block"),p3=li("react.fundamental"),g3=li("react.debug_trace_mode"),v3=li("react.legacy_hidden")}function bs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tv:switch(e=e.type,e){case vm:case xm:case ym:case Sm:case hS:return e;default:switch(e=e&&e.$$typeof,e){case wm:case km:case Cm:case Nm:case bm:return e;default:return t}}case nv:return t}}}var qZ=bm,KZ=tv,GZ=km,YZ=vm,XZ=Cm,QZ=Nm,ZZ=nv,JZ=xm,eJ=ym,tJ=Sm;$n.ContextConsumer=wm;$n.ContextProvider=qZ;$n.Element=KZ;$n.ForwardRef=GZ;$n.Fragment=YZ;$n.Lazy=XZ;$n.Memo=QZ;$n.Portal=ZZ;$n.Profiler=JZ;$n.StrictMode=eJ;$n.Suspense=tJ;$n.isAsyncMode=function(){return!1};$n.isConcurrentMode=function(){return!1};$n.isContextConsumer=function(e){return bs(e)===wm};$n.isContextProvider=function(e){return bs(e)===bm};$n.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tv};$n.isForwardRef=function(e){return bs(e)===km};$n.isFragment=function(e){return bs(e)===vm};$n.isLazy=function(e){return bs(e)===Cm};$n.isMemo=function(e){return bs(e)===Nm};$n.isPortal=function(e){return bs(e)===nv};$n.isProfiler=function(e){return bs(e)===xm};$n.isStrictMode=function(e){return bs(e)===ym};$n.isSuspense=function(e){return bs(e)===Sm};$n.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===vm||e===xm||e===g3||e===ym||e===Sm||e===hS||e===v3||typeof e=="object"&&e!==null&&(e.$$typeof===Cm||e.$$typeof===Nm||e.$$typeof===bm||e.$$typeof===wm||e.$$typeof===km||e.$$typeof===p3||e.$$typeof===m3||e[0]===h3)};$n.typeOf=bs;f3.exports=$n;var nJ=f3.exports,XP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",QP=null,my=null,y3=e=>{if(e===QP&&Array.isArray(my))return my;var t=[];return y.Children.forEach(e,n=>{Kr(n)||(nJ.isFragment(n)?t=t.concat(y3(n.props.children)):t.push(n))}),my=t,QP=e,t};function x3(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>XP(i)):r=[XP(t)],y3(e).forEach(i=>{var a=dc(i,"type.displayName")||dc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var b3=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,w3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(w3);var rJ=w3.isPlainObject;const iJ=vs(rJ);var ZP,JP,eA,tA,nA;function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){aJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aJ(e,t,n){return(t=sJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sJ(e){var t=oJ(e,"string");return typeof t=="symbol"?t:t+""}function oJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yg.apply(null,arguments)}function Sd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var aA=(e,t,n,r,i)=>{var a=n-r,s;return s=xr(ZP||(ZP=Sd(["M ",",",""])),e,t),s+=xr(JP||(JP=Sd(["L ",",",""])),e+n,t),s+=xr(eA||(eA=Sd(["L ",",",""])),e+n-a/2,t+i),s+=xr(tA||(tA=Sd(["L ",",",""])),e+n-a/2-r,t+i),s+=xr(nA||(nA=Sd(["L ",","," Z"])),e,t),s},lJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cJ=e=>{var t=Gr(e,lJ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=t,m=y.useRef(null),[h,p]=y.useState(-1),v=y.useRef(i),x=y.useRef(a),g=y.useRef(s),b=y.useRef(n),w=y.useRef(r),S=L0(e,"trapezoid-");if(y.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var K=m.current.getTotalLength();K&&p(K)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=Nn("recharts-trapezoid",o);if(!f)return y.createElement("g",null,y.createElement("path",yg({},zi(t),{className:C,d:aA(n,r,i,a,s)})));var N=v.current,P=x.current,T=g.current,_=b.current,A=w.current,$="0px ".concat(h===-1?1:h,"px"),D="".concat(h,"px 0px"),te=AI(["strokeDasharray"],c,l);return y.createElement(_0,{animationId:S,key:S,canBegin:h>0,duration:c,easing:l,isActive:f,begin:u},K=>{var ie=ji(N,i,K),H=ji(P,a,K),J=ji(T,s,K),G=ji(_,n,K),ae=ji(A,r,K);m.current&&(v.current=ie,x.current=H,g.current=J,b.current=G,w.current=ae);var E=K>0?{transition:te,strokeDasharray:D}:{strokeDasharray:$};return y.createElement("path",yg({},zi(t),{className:C,d:aA(G,ae,ie,H,J),ref:m,style:iA(iA({},E),t.style)}))})},uJ=["option","shapeType","activeClassName"];function dJ(e,t){if(e==null)return{};var n,r,i=fJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(n),!0).forEach(function(r){mJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mJ(e,t,n){return(t=hJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gJ(e,t){return xg(xg({},t),e)}function vJ(e,t){return e==="symbols"}function oA(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return y.createElement(MI,n);case"trapezoid":return y.createElement(cJ,n);case"sector":return y.createElement(LI,n);case"symbols":if(vJ(t))return y.createElement(E1,n);break;case"curve":return y.createElement(ek,n);default:return null}}function yJ(e){return y.isValidElement(e)?e.props:e}function k3(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=dJ(e,uJ),a;if(y.isValidElement(t))a=y.cloneElement(t,xg(xg({},i),yJ(t)));else if(typeof t=="function")a=t(i,i.index);else if(iJ(t)&&typeof t!="boolean"){var s=gJ(t,i);a=y.createElement(oA,{shapeType:n,elementProps:s})}else{var o=i;a=y.createElement(oA,{shapeType:n,elementProps:o})}return i.isActive?y.createElement(ia,{className:r},a):a}var xJ=(e,t,n)=>{var r=Wn();return(i,a)=>s=>{e==null||e(i,a,s),r(xL({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},bJ=e=>{var t=Wn();return(n,r)=>i=>{e==null||e(n,r,i),t(SY())}},wJ=(e,t,n)=>{var r=Wn();return(i,a)=>s=>{e==null||e(i,a,s),r(NY({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function S3(e){var{tooltipEntrySettings:t}=e,n=Wn(),r=oa(),i=y.useRef(null);return y.useLayoutEffect(()=>{r||(i.current===null?n(xY(t)):i.current!==t&&n(bY({prev:i.current,next:t})),i.current=t)},[t,n,r]),y.useLayoutEffect(()=>()=>{i.current&&(n(wY(i.current)),i.current=null)},[n]),null}function kJ(e){var{legendPayload:t}=e,n=Wn(),r=oa(),i=y.useRef(null);return y.useLayoutEffect(()=>{r||(i.current===null?n(SI(t)):i.current!==t&&n(NI({prev:i.current,next:t})),i.current=t)},[n,r,t]),y.useLayoutEffect(()=>()=>{i.current&&(n(CI(i.current)),i.current=null)},[n]),null}function SJ(e){var{legendPayload:t}=e,n=Wn(),r=xt(Mn),i=y.useRef(null);return y.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(SI(t)):i.current!==t&&n(NI({prev:i.current,next:t})),i.current=t)},[n,r,t]),y.useLayoutEffect(()=>()=>{i.current&&(n(CI(i.current)),i.current=null)},[n]),null}var hy,NJ=()=>{var[e]=y.useState(()=>kf("uid-"));return e},CJ=(hy=MF.useId)!==null&&hy!==void 0?hy:NJ;function jJ(e,t){var n=CJ();return t||(e?"".concat(e,"-").concat(n):n)}var PJ=y.createContext(void 0),N3=e=>{var{id:t,type:n,children:r}=e,i=jJ("recharts-".concat(n),t);return y.createElement(PJ.Provider,{value:i},r(i))},AJ={cartesianItems:[],polarItems:[]},C3=sa({name:"graphicalItems",initialState:AJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:tr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=us(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:tr()},removeCartesianGraphicalItem:{reducer(e,t){var n=us(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:tr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:tr()},removePolarGraphicalItem:{reducer(e,t){var n=us(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:tr()}}}),{addCartesianGraphicalItem:EJ,replaceCartesianGraphicalItem:TJ,removeCartesianGraphicalItem:DJ,addPolarGraphicalItem:MJ,removePolarGraphicalItem:OJ}=C3.actions,IJ=C3.reducer,_J=e=>{var t=Wn(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(EJ(e)):n.current!==e&&t(TJ({prev:n.current,next:e})),n.current=e},[t,e]),y.useLayoutEffect(()=>()=>{n.current&&(t(DJ(n.current)),n.current=null)},[t]),null},LJ=y.memo(_J);function $J(e){var t=Wn();return y.useLayoutEffect(()=>(t(MJ(e)),()=>{t(OJ(e))}),[t,e]),null}var RJ=["key"],FJ=["onMouseEnter","onClick","onMouseLeave"],BJ=["id"],zJ=["id"];function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(n),!0).forEach(function(r){UJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UJ(e,t,n){return(t=VJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VJ(e){var t=WJ(e,"string");return typeof t=="symbol"?t:t+""}function WJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ml.apply(null,arguments)}function rv(e,t){if(e==null)return{};var n,r,i=HJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qJ(e){var t=y.useMemo(()=>x3(e.children,Ru),[e.children]),n=xt(r=>WZ(r,e.id,t));return n==null?null:y.createElement(SJ,{legendPayload:n})}var KJ=y.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:u}=e,f={dataDefinedOnItem:r.map(m=>m.tooltipPayload),positions:r.map(m=>m.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:N0(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:u}};return y.createElement(S3,{tooltipEntrySettings:f})}),GJ=(e,t)=>e>t?"start":e<t?"end":"middle",YJ=(e,t,n)=>ba(typeof t=="function"?t(e):t,n,n*.8),XJ=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=OI(a,s),l=i+ba(e.cx,a,a/2),c=r+ba(e.cy,s,s/2),u=ba(e.innerRadius,o,0),f=YJ(n,e.outerRadius,o),m=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:m}},QJ=(e,t)=>{var n=Pi(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function ZJ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var JJ=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Nn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=rv(t,RJ);return y.createElement(ek,ml({},i,{type:"linear",className:n}))},eee=(e,t,n)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),y.isValidElement(r)))return r;var i=Nn("recharts-pie-label-text",ZJ(e));return y.createElement(Z0,ml({},t,{alignmentBaseline:"middle",className:i}),r)};function tee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=Ga(n),l=Eu(i),c=Eu(a),u=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((m,h)=>{var p=(m.startAngle+m.endAngle)/2,v=Lr(m.cx,m.cy,m.outerRadius+u,p),x=wr(wr(wr(wr({},o),m),{},{stroke:"none"},l),{},{index:h,textAnchor:GJ(v.x,m.cx)},v),g=wr(wr(wr(wr({},o),m),{},{fill:"none",stroke:m.fill},c),{},{index:h,points:[Lr(m.cx,m.cy,m.outerRadius,p),v],key:"line"});return y.createElement(xs,{zIndex:fi.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(h)},y.createElement(ia,null,a&&JJ(a,g),eee(i,x,Zn(m,s))))});return y.createElement(ia,{className:"recharts-pie-labels"},f)}function nee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?y.createElement(s3,{label:i}):y.createElement(tee,{sectors:t,props:n,showLabels:r})}function ree(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=xt($u),l=xt(OL),c=xt(cX),{onMouseEnter:u,onClick:f,onMouseLeave:m}=i,h=rv(i,FJ),p=xJ(u,i.dataKey,s),v=bJ(m),x=wJ(f,i.dataKey,s);return t==null||t.length===0?null:y.createElement(y.Fragment,null,t.map((g,b)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var w=c==null||c===s,S=String(b)===o&&(l==null||i.dataKey===l)&&w,C=o?r:null,N=n&&S?n:C,P=wr(wr({},g),{},{stroke:g.stroke,tabIndex:-1,[aI]:b,[sI]:s});return y.createElement(ia,ml({key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},D1(h,g,b),{onMouseEnter:p(g,b),onMouseLeave:v(g,b),onClick:x(g,b)}),y.createElement(k3,ml({option:a??N,index:b,shapeType:"sector",isActive:S},P)))}))}function iee(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=n,m=Math.abs(n.minAngle),h=QJ(o,l),p=Math.abs(h),v=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,x=r.filter(N=>Zn(N,c,0)!==0).length,g=(p>=360?x:x-1)*v,b=p-x*m-g,w=r.reduce((N,P)=>{var T=Zn(P,c,0);return N+(wt(T)?T:0)},0),S;if(w>0){var C;S=r.map((N,P)=>{var T=Zn(N,c,0),_=Zn(N,u,P),A=XJ(n,a,N),$=(wt(T)?T:0)/w,D,te=wr(wr({},N),i&&i[P]&&i[P].props);P?D=C.endAngle+Pi(h)*v*(T!==0?1:0):D=o;var K=D+Pi(h)*((T!==0?m:0)+$*b),ie=(D+K)/2,H=(A.innerRadius+A.outerRadius)/2,J=[{name:_,value:T,payload:te,dataKey:c,type:f,graphicalItemId:n.id}],G=Lr(A.cx,A.cy,H,ie);return C=wr(wr(wr(wr({},n.presentationProps),{},{percent:$,cornerRadius:typeof s=="string"?parseFloat(s):s,name:_,tooltipPayload:J,midAngle:ie,middleRadius:H,tooltipPosition:G},te),A),{},{value:T,dataKey:c,startAngle:D,endAngle:K,payload:te,paddingAngle:Pi(h)*v}),C})}return S}function aee(e){var{showLabels:t,sectors:n,children:r}=e,i=y.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return y.createElement(AZ,{value:t?i:void 0},r)}function see(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:f,onAnimationEnd:m}=t,h=L0(t,"recharts-pie-"),p=n.current,[v,x]=y.useState(!1),g=y.useCallback(()=>{typeof m=="function"&&m(),x(!1)},[m]),b=y.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return y.createElement(aee,{showLabels:!v,sectors:i},y.createElement(_0,{animationId:h,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:g,key:h},w=>{var S=[],C=i&&i[0],N=C==null?void 0:C.startAngle;return i==null||i.forEach((P,T)=>{var _=p&&p[T],A=T>0?dc(P,"paddingAngle",0):0;if(_){var $=ji(_.endAngle-_.startAngle,P.endAngle-P.startAngle,w),D=wr(wr({},P),{},{startAngle:N+A,endAngle:N+$+A});S.push(D),N=D.endAngle}else{var{endAngle:te,startAngle:K}=P,ie=ji(0,te-K,w),H=wr(wr({},P),{},{startAngle:N+A,endAngle:N+ie+A});S.push(H),N=H.endAngle}}),n.current=S,y.createElement(ia,null,y.createElement(ree,{sectors:S,activeShape:c,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:r}))}),y.createElement(nee,{showLabels:!v,sectors:i,props:t}),t.children)}var oee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fi.area};function lee(e){var{id:t}=e,n=rv(e,BJ),{hide:r,className:i,rootTabIndex:a}=e,s=y.useMemo(()=>x3(e.children,Ru),[e.children]),o=xt(u=>HZ(u,t,s)),l=y.useRef(null),c=Nn("recharts-pie",i);return r||o==null?(l.current=null,y.createElement(ia,{tabIndex:a,className:c})):y.createElement(xs,{zIndex:e.zIndex},y.createElement(KJ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),y.createElement(ia,{tabIndex:a,className:c},y.createElement(see,{props:wr(wr({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function bg(e){var t=Gr(e,oee),{id:n}=t,r=rv(t,zJ),i=Ga(r);return y.createElement(N3,{id:n,type:"pie"},a=>y.createElement(y.Fragment,null,y.createElement($J,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),y.createElement(qJ,ml({},r,{id:a})),y.createElement(lee,ml({},r,{id:a}))))}bg.displayName="Pie";var cee=["points"];function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function py(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(r){uee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uee(e,t,n){return(t=dee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dee(e){var t=fee(e,"string");return typeof t=="symbol"?t:t+""}function fee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wg.apply(null,arguments)}function mee(e,t){if(e==null)return{};var n,r,i=hee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pee(e){var{option:t,dotProps:n,className:r}=e;if(y.isValidElement(t))return y.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Nn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=mee(a,cee);return y.createElement(o3,wg({},o,{className:i}))}function gee(e,t){return e==null?!1:t?!0:e.length===1}function vee(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=fi.scatter}=e;if(!gee(t,n))return null;var u=b3(n),f=YU(n),m=t.map((p,v)=>{var x,g,b=py(py(py({r:3},s),f),{},{index:v,cx:(x=p.x)!==null&&x!==void 0?x:void 0,cy:(g=p.y)!==null&&g!==void 0?g:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return y.createElement(pee,{key:"dot-".concat(v),option:n,dotProps:b,className:i})}),h={};return o&&l!=null&&(h.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(l,")")),y.createElement(xs,{zIndex:c},y.createElement(ia,wg({className:r},h),m))}function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(n),!0).forEach(function(r){yee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yee(e,t,n){return(t=xee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xee(e){var t=bee(e,"string");return typeof t=="symbol"?t:t+""}function bee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wee={xAxis:{},yAxis:{},zAxis:{}},j3=sa({name:"cartesianAxis",initialState:wee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:tr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:tr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:tr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:tr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:tr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:tr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:tr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:tr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:tr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=dA(dA({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:kee,replaceXAxis:See,removeXAxis:Nee,addYAxis:Cee,replaceYAxis:jee,removeYAxis:Pee,addZAxis:tge,replaceZAxis:nge,removeZAxis:rge,updateYAxisWidth:Aee}=j3.actions,Eee=j3.reducer,Tee=de([si],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Dee=de([Tee,jo,Po],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),pS=()=>xt(Dee),Mee=()=>xt(hX);function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){Oee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oee(e,t,n){return(t=Iee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iee(e){var t=_ee(e,"string");return typeof t=="symbol"?t:t+""}function _ee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=gy(gy(gy({},o),Eu(i)),T1(i)),c;return y.isValidElement(i)?c=y.cloneElement(i,l):typeof i=="function"?c=i(l):c=y.createElement(o3,l),y.createElement(ia,{className:"recharts-active-dot",clipPath:s},c)};function $ee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=fi.activeDot}=e,o=xt($u),l=Mee();if(t==null||l==null)return null;var c=t.find(u=>l.includes(u.payload));return Kr(c)?null:y.createElement(xs,{zIndex:s},y.createElement(Lee,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var P3=e=>{var{chartData:t}=e,n=Wn(),r=oa();return y.useEffect(()=>r?()=>{}:(n(EP(t)),()=>{n(EP(void 0))}),[t,n,r]),null},mA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},A3=sa({name:"brush",initialState:mA,reducers:{setBrushSettings(e,t){return t.payload==null?mA:t.payload}}}),{setBrushSettings:ige}=A3.actions,Ree=A3.reducer;function Fee(e,t,n){return(t=Bee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bee(e){var t=zee(e,"string");return typeof t=="symbol"?t:t+""}function zee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class gS{static create(t){return new gS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Fee(gS,"EPS",1e-4);function Uee(e){return(e%180+180)%180}var Vee=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Uee(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Wee={dots:[],areas:[],lines:[]},E3=sa({name:"referenceElements",initialState:Wee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=us(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=us(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=us(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:age,removeDot:sge,addArea:oge,removeArea:lge,addLine:cge,removeLine:uge}=E3.actions,Hee=E3.reducer,qee=y.createContext(void 0),Kee=e=>{var{children:t}=e,[n]=y.useState("".concat(kf("recharts"),"-clip")),r=pS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return y.createElement(qee.Provider,{value:n},y.createElement("defs",null,y.createElement("clipPath",{id:n},y.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function T3(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function Gee(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Vee(r,n)}function Yee(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Lf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Xee(e,t){return T3(e,t+1)}function Qee(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,c=1,u=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:T3(r,c)};var v=l,x,g=()=>(x===void 0&&(x=n(p,v)),x),b=p.coordinate,w=l===0||Lf(e,b,g,u,o);w||(l=0,u=s,c+=1),w&&(u=b+e*(g()/2+i),l+=c)},m;c<=a.length;)if(m=f(),m)return m.v;return[]}function Zee(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,c=1;c<=s;c++){for(var u=(s-1)%c,f=o,m=!0,h=function(){var b=r[p],w=p,S,C=()=>(S===void 0&&(S=n(b,w)),S),N=b.coordinate,P=p===u||Lf(e,N,C,f,l);if(!P)return m=!1,1;P&&(f=N+e*(C()/2+i))},p=u;p<s&&!h();p+=c);if(m){for(var v=[],x=u;x<s;x+=c)v.push(r[x]);return v}}return[]}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(r){Jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jee(e,t,n){return(t=ete(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ete(e){var t=tte(e,"string");return typeof t=="symbol"?t:t+""}function tte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nte(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(m){var h=a[m],p,v=()=>(p===void 0&&(p=n(h,m)),p);if(m===s-1){var x=e*(h.coordinate+e*v()/2-l);a[m]=h=Si(Si({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate})}else a[m]=h=Si(Si({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var g=Lf(e,h.tickCoord,v,o,l);g&&(l=h.tickCoord-e*(v()/2+i),a[m]=Si(Si({},h),{},{isShow:!0}))}},u=s-1;u>=0;u--)c(u);return a}function rte(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var u=r[o-1],f=n(u,o-1),m=e*(u.coordinate+e*f/2-c);if(s[o-1]=u=Si(Si({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate}),u.tickCoord!=null){var h=Lf(e,u.tickCoord,()=>f,l,c);h&&(c=u.tickCoord-e*(f/2+i),s[o-1]=Si(Si({},u),{},{isShow:!0}))}}for(var p=a?o-1:o,v=function(b){var w=s[b],S,C=()=>(S===void 0&&(S=n(w,b)),S);if(b===0){var N=e*(w.coordinate-e*C()/2-l);s[b]=w=Si(Si({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else s[b]=w=Si(Si({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var P=Lf(e,w.tickCoord,C,l,c);P&&(l=w.tickCoord+e*(C()/2+i),s[b]=Si(Si({},w),{},{isShow:!0}))}},x=0;x<p;x++)v(x);return s}function vS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=e;if(!i||!i.length||!r)return[];if(wt(l)||I0.isSsr){var m;return(m=Xee(i,wt(l)?l:0))!==null&&m!==void 0?m:[]}var h=[],p=o==="top"||o==="bottom"?"width":"height",v=u&&p==="width"?Hd(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=(w,S)=>{var C=typeof c=="function"?c(w.value,S):w.value;return p==="width"?Gee(Hd(C,{fontSize:t,letterSpacing:n}),v,f):Hd(C,{fontSize:t,letterSpacing:n})[p]},g=i.length>=2?Pi(i[1].coordinate-i[0].coordinate):1,b=Yee(a,g,p);return l==="equidistantPreserveStart"?Qee(g,b,x,i,s):l==="equidistantPreserveEnd"?Zee(g,b,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=rte(g,b,x,i,s,l==="preserveStartEnd"):h=nte(g,b,x,i,s),h.filter(w=>w.isShow))}var ite=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},ate=["axisLine","width","height","className","hide","ticks","axisType"];function ste(e,t){if(e==null)return{};var n,r,i=ote(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ote(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yc.apply(null,arguments)}function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){lte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lte(e,t,n){return(t=cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cte(e){var t=ute(e,"string");return typeof t=="symbol"?t:t+""}function ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fi.axis};function dte(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Ir(Ir(Ir({},l),Ga(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!s||a==="bottom"&&s);c=Ir(Ir({},c),{},{x1:t,y1:n+u*i,x2:t+r,y2:n+u*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=Ir(Ir({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return y.createElement("line",yc({},c,{className:Nn("recharts-cartesian-axis-line",dc(o,"className"))}))}function fte(e,t,n,r,i,a,s,o,l){var c,u,f,m,h,p,v=o?-1:1,x=e.tickSize||s,g=wt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,m=n+ +!o*i,f=m-v*x,p=f-v*l,h=g;break;case"left":f=m=e.coordinate,u=t+ +!o*r,c=u-v*x,h=c-v*l,p=g;break;case"right":f=m=e.coordinate,u=t+ +o*r,c=u+v*x,h=c+v*l,p=g;break;default:c=u=e.coordinate,m=n+ +o*i,f=m+v*x,p=f+v*l,h=g;break}return{line:{x1:c,y1:f,x2:u,y2:m},tick:{x:h,y:p}}}function mte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function hte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function pte(e){var{option:t,tickProps:n,value:r}=e,i,a=Nn(n.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,Ir(Ir({},n),{},{className:a}));else if(typeof t=="function")i=t(Ir(Ir({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Nn(s,t==null?void 0:t.className)),i=y.createElement(Z0,yc({},n,{className:s}),r)}return i}var gte=y.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:f,x:m,y:h,width:p,height:v,tickSize:x,tickMargin:g,fontSize:b,letterSpacing:w,getTicksConfig:S,events:C,axisType:N}=e,P=vS(Ir(Ir({},S),{},{ticks:n}),b,w),T=mte(u,f),_=hte(u,f),A=Ga(S),$=Eu(r),D={};typeof i=="object"&&(D=i);var te=Ir(Ir({},A),{},{fill:"none"},D),K=P.map(J=>Ir({entry:J},fte(J,m,h,p,v,u,x,f,g))),ie=K.map(J=>{var{entry:G,line:ae}=J;return y.createElement(ia,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},i&&y.createElement("line",yc({},te,ae,{className:Nn("recharts-cartesian-axis-tick-line",dc(i,"className"))})))}),H=K.map((J,G)=>{var{entry:ae,tick:E}=J,j=Ir(Ir(Ir(Ir({textAnchor:T,verticalAnchor:_},A),{},{stroke:"none",fill:a},$),E),{},{index:G,payload:ae,visibleTicksCount:P.length,tickFormatter:s,padding:l},c);return y.createElement(ia,yc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ae.value,"-").concat(ae.coordinate,"-").concat(ae.tickCoord)},D1(C,ae,G)),r&&y.createElement(pte,{option:r,tickProps:j,value:"".concat(typeof s=="function"?s(ae.value,G):ae.value).concat(o||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},H.length>0&&y.createElement(xs,{zIndex:fi.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},H)),ie.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},ie))}),vte=y.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=ste(e,ate),[u,f]=y.useState(""),[m,h]=y.useState(""),p=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return ite({ticks:p.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=y.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=g;var b=g[0];if(b){var w=window.getComputedStyle(b),S=w.fontSize,C=w.letterSpacing;(S!==u||C!==m)&&(f(S),h(C))}}},[u,m]);return s||r!=null&&r<=0||i!=null&&i<=0?null:y.createElement(xs,{zIndex:e.zIndex},y.createElement(ia,{className:Nn("recharts-cartesian-axis",a)},y.createElement(dte,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ga(e)}),y.createElement(gte,{ref:v,axisType:l,events:c,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(uZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(bZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),yS=y.forwardRef((e,t)=>{var n=Gr(e,uo);return y.createElement(vte,yc({},n,{ref:t}))});yS.displayName="CartesianAxis";var yte=["x1","y1","x2","y2","key"],xte=["offset"],bte=["xAxisId","yAxisId"],wte=["xAxisId","yAxisId"];function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(n),!0).forEach(function(r){kte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kte(e,t,n){return(t=Ste(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ste(e){var t=Nte(e,"string");return typeof t=="symbol"?t:t+""}function Nte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xl.apply(null,arguments)}function kg(e,t){if(e==null)return{};var n,r,i=Cte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jte=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return y.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function D3(e){var{option:t,lineItemProps:n}=e,r;if(y.isValidElement(t))r=y.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,u=kg(n,yte),f=(i=Ga(u))!==null&&i!==void 0?i:{},{offset:m}=f,h=kg(f,xte);r=y.createElement("line",Xl({},h,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function Pte(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=kg(e,bte),l=i.map((c,u)=>{var f=Ci(Ci({},o),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(u),index:u});return y.createElement(D3,{key:"line-".concat(u),option:r,lineItemProps:f})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Ate(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=kg(e,wte),l=i.map((c,u)=>{var f=Ci(Ci({},o),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(u),index:u});return y.createElement(D3,{option:r,lineItemProps:f,key:"line-".concat(u)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Ete(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==c[0]&&c.unshift(0);var u=c.map((f,m)=>{var h=!c[m+1],p=h?i+s-f:c[m+1]-f;if(p<=0)return null;var v=m%t.length;return y.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:p,width:a,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Tte(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==c[0]&&c.unshift(0);var u=c.map((f,m)=>{var h=!c[m+1],p=h?i+s-f:c[m+1]-f;if(p<=0)return null;var v=m%n.length;return y.createElement("rect",{key:"react-".concat(m),x:f,y:a,width:p,height:o,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Dte=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return nI(vS(Ci(Ci(Ci({},uo),n),{},{ticks:rI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Mte=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return nI(vS(Ci(Ci(Ci({},uo),n),{},{ticks:rI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Ote={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fi.grid};function $f(e){var t=X1(),n=Q1(),r=pI(),i=Ci(Ci({},Gr(e,Ote)),{},{x:wt(e.x)?e.x:r.left,y:wt(e.y)?e.y:r.top,width:wt(e.width)?e.width:r.width,height:wt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:m,verticalValues:h}=i,p=oa(),v=xt(_=>yP(_,"xAxis",a,p)),x=xt(_=>yP(_,"yAxis",s,p));if(!Bs(c)||!Bs(u)||!wt(o)||!wt(l))return null;var g=i.verticalCoordinatesGenerator||Dte,b=i.horizontalCoordinatesGenerator||Mte,{horizontalPoints:w,verticalPoints:S}=i;if((!w||!w.length)&&typeof b=="function"){var C=m&&m.length,N=b({yAxis:x?Ci(Ci({},x),{},{ticks:C?m:x.ticks}):void 0,width:t??c,height:n??u,offset:r},C?!0:f);Gp(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!S||!S.length)&&typeof g=="function"){var P=h&&h.length,T=g({xAxis:v?Ci(Ci({},v),{},{ticks:P?h:v.ticks}):void 0,width:t??c,height:n??u,offset:r},P?!0:f);Gp(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(S=T)}return y.createElement(xs,{zIndex:i.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(jte,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(Ete,Xl({},i,{horizontalPoints:w})),y.createElement(Tte,Xl({},i,{verticalPoints:S})),y.createElement(Pte,Xl({},i,{offset:r,horizontalPoints:w,xAxis:v,yAxis:x})),y.createElement(Ate,Xl({},i,{offset:r,verticalPoints:S,xAxis:v,yAxis:x}))))}$f.displayName="CartesianGrid";var Ite={},M3=sa({name:"errorBars",initialState:Ite,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:dge,replaceErrorBar:fge,removeErrorBar:mge}=M3.actions,_te=M3.reducer,Lte=["children"];function $te(e,t){if(e==null)return{};var n,r,i=Rte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Bte=y.createContext(Fte);function zte(e){var{children:t}=e,n=$te(e,Lte);return y.createElement(Bte.Provider,{value:n},t)}function O3(e,t){var n,r,i=xt(c=>Eo(c,e)),a=xt(c=>To(c,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ei.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ti.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function Ute(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=pS(),{needClipX:a,needClipY:s,needClip:o}=O3(t,n);if(!o||!i)return null;var{x:l,y:c,width:u,height:f}=i;return y.createElement("clipPath",{id:"clipPath-".concat(r)},y.createElement("rect",{x:a?l:l-u/2,y:s?c:c-f/2,width:a?u:u*2,height:s?f:f*2}))}var I3=(e,t,n,r)=>mL(e,"xAxis",t,r),_3=(e,t,n,r)=>fL(e,"xAxis",t,r),L3=(e,t,n,r)=>mL(e,"yAxis",n,r),$3=(e,t,n,r)=>fL(e,"yAxis",n,r),Vte=de([Mn,I3,L3,_3,$3],(e,t,n,r,i)=>xl(e,"xAxis")?Kp(t,r,!1):Kp(n,i,!1)),Wte=(e,t,n,r,i)=>i;function Hte(e){return e.type==="line"}var qte=de([q_,Wte],(e,t)=>e.filter(Hte).find(n=>n.id===t)),Kte=de([Mn,I3,L3,_3,$3,qte,Vte,Ck],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:m}=a,h;if(m!=null&&m.length>0?h=m:h=l==null?void 0:l.slice(c,u+1),h!=null)return Rne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:h})}});function Gte(e){var t=Eu(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var Yte={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=y;function Xte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qte=typeof Object.is=="function"?Object.is:Xte,Zte=jm.useSyncExternalStore,Jte=jm.useRef,ene=jm.useEffect,tne=jm.useMemo,nne=jm.useDebugValue;Yte.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=Jte(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=tne(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,Qte(u,h))return p;var v=r(h);return i!==void 0&&i(p,v)?(u=h,p):(u=h,f=v)}var c=!1,u,f,m=n===void 0?null:n;return[function(){return l(t())},m===null?void 0:function(){return l(m())}]},[t,n,r,i]);var o=Zte(e,a[0],a[1]);return ene(function(){s.hasValue=!0,s.value=o},[o]),nne(o),o};function rne(e){e()}function ine(){let e=null,t=null;return{clear(){e=null,t=null},notify(){rne(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var vA={notify(){},get:()=>[]};function ane(e,t){let n,r=vA,i=0,a=!1;function s(v){u();const x=r.subscribe(v);let g=!1;return()=>{g||(g=!0,x(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return a}function u(){i++,n||(n=e.subscribe(l),r=ine())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=vA)}function m(){a||(a=!0,u())}function h(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>r};return p}var sne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",one=sne(),lne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cne=lne(),une=()=>one||cne?y.useLayoutEffect:y.useEffect,dne=une();function yA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function fne(e,t){if(yA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!yA(e[n[i]],t[n[i]]))return!1;return!0}var vy=Symbol.for("react-redux-context"),yy=typeof globalThis<"u"?globalThis:{};function mne(){if(!y.createContext)return{};const e=yy[vy]??(yy[vy]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var hne=mne();function pne(e){const{children:t,context:n,serverState:r,store:i}=e,a=y.useMemo(()=>{const l=ane(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=y.useMemo(()=>i.getState(),[i]);dne(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||hne;return y.createElement(o.Provider,{value:a},t)}var gne=pne,vne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function yne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function xS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(vne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!fne(e[r],t[r]))return!1}else if(!yne(e[r],t[r]))return!1;return!0}var xne=["id"],bne=["type","layout","connectNulls","needClip","shape"],wne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rf.apply(null,arguments)}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){kne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kne(e,t,n){return(t=Sne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sne(e){var t=Nne(e,"string");return typeof t=="symbol"?t:t+""}function Nne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bS(e,t){if(e==null)return{};var n,r,i=Cne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jne=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:N0(n,t),payload:e}]},Pne=y.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:u}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:N0(s,t),hide:o,type:c,color:r,unit:l,graphicalItemId:u}};return y.createElement(S3,{tooltipEntrySettings:f})}),R3=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Ane(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Ene=(e,t,n)=>{var r=n.reduce((f,m)=>f+m);if(!r)return R3(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var u=o.length%2===0?[0,s]:[s];return[...Ane(n,i),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function Tne(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=bS(r,xne),c=Ga(l);return y.createElement(vee,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:t})}function Dne(e){var{showLabels:t,children:n,points:r}=e,i=y.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ds(Ds({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return y.createElement(PZ,{value:t?i:void 0},n)}function bA(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:c,shape:u}=a,f=bS(a,bne),m=Ds(Ds({},zi(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return y.createElement(y.Fragment,null,(r==null?void 0:r.length)>1&&y.createElement(k3,Rf({shapeType:"curve",option:u},m,{pathRef:n})),y.createElement(Tne,{points:r,clipPathId:t,props:a}))}function Mne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function One(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:m,width:h,height:p,onAnimationEnd:v,onAnimationStart:x}=n,g=i.current,b=L0(s,"recharts-line-"),w=y.useRef(b),[S,C]=y.useState(!1),N=!S,P=y.useCallback(()=>{typeof v=="function"&&v(),C(!1)},[v]),T=y.useCallback(()=>{typeof x=="function"&&x(),C(!0)},[x]),_=Mne(r.current),A=y.useRef(0);w.current!==b&&(A.current=a.current,w.current=b);var $=A.current;return y.createElement(Dne,{points:s,showLabels:N},n.children,y.createElement(_0,{animationId:b,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:P,onAnimationStart:T,key:b},D=>{var te=ji($,_+$,D),K=Math.min(te,_),ie;if(l)if(o){var H="".concat(o).split(/[,\s]+/gim).map(ae=>parseFloat(ae));ie=Ene(K,_,H)}else ie=R3(_,K);else ie=o==null?void 0:String(o);if(D>0&&_>0&&(i.current=s,a.current=Math.max(a.current,K)),g){var J=g.length/s.length,G=D===1?s:s.map((ae,E)=>{var j=Math.floor(E*J);if(g[j]){var U=g[j];return Ds(Ds({},ae),{},{x:ji(U.x,ae.x,D),y:ji(U.y,ae.y,D)})}return m?Ds(Ds({},ae),{},{x:ji(h*2,ae.x,D),y:ji(p/2,ae.y,D)}):Ds(Ds({},ae),{},{x:ae.x,y:ae.y})});return i.current=G,y.createElement(bA,{props:n,points:G,clipPathId:t,pathRef:r,strokeDasharray:ie})}return y.createElement(bA,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:ie})}),y.createElement(s3,{label:n.label}))}function Ine(e){var{clipPathId:t,props:n}=e,r=y.useRef(null),i=y.useRef(0),a=y.useRef(null);return y.createElement(One,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var _ne=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Zn(e.payload,t)}};class Lne extends y.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:u,id:f,needClip:m,zIndex:h}=this.props;if(t)return null;var p=Nn("recharts-line",i),v=f,{r:x,strokeWidth:g}=Gte(n),b=b3(n),w=x*2+g,S=m?"url(#clipPath-".concat(b?"":"dots-").concat(v,")"):void 0;return y.createElement(xs,{zIndex:h},y.createElement(ia,{className:p},m&&y.createElement("defs",null,y.createElement(Ute,{clipPathId:v,xAxisId:a,yAxisId:s}),!b&&y.createElement("clipPath",{id:"clipPath-dots-".concat(v)},y.createElement("rect",{x:l-w/2,y:o-w/2,width:c+w,height:u+w}))),y.createElement(zte,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:_ne,errorBarOffset:0},y.createElement(Ine,{props:this.props,clipPathId:v}))),y.createElement($ee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var F3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:fi.line,type:"linear"};function $ne(e){var t=Gr(e,F3),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:f,legendType:m,xAxisId:h,yAxisId:p,id:v}=t,x=bS(t,wne),{needClip:g}=O3(h,p),b=pS(),w=nm(),S=oa(),C=xt(A=>Kte(A,h,p,S,v));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:N,width:P,x:T,y:_}=b;return y.createElement(Lne,Rf({},x,{id:v,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:u,hide:c,label:f,legendType:m,xAxisId:h,yAxisId:p,points:C,layout:w,height:N,width:P,left:T,top:_,needClip:g}))}function Rne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,u)=>{var f=Zn(c,s);if(t==="horizontal"){var m=T2({axis:n,ticks:i,bandSize:o,entry:c,index:u}),h=Kr(f)?null:r.scale(f);return{x:m,y:h,value:f,payload:c}}var p=Kr(f)?null:n.scale(f),v=T2({axis:r,ticks:a,bandSize:o,entry:c,index:u});return p==null||v==null?null:{x:p,y:v,value:f,payload:c}}).filter(Boolean)}function Fne(e){var t=Gr(e,F3),n=oa();return y.createElement(N3,{id:t.id,type:"line"},r=>y.createElement(y.Fragment,null,y.createElement(kJ,{legendPayload:jne(t)}),y.createElement(Pne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),y.createElement(LJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),y.createElement($ne,Rf({},t,{id:r}))))}var no=y.memo(Fne,xS);no.displayName="Line";var Bne=["domain","range"],zne=["domain","range"];function wA(e,t){if(e==null)return{};var n,r,i=Une(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Une(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function B3(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=wA(e,Bne),{domain:a,range:s}=t,o=wA(t,zne);return!kA(n,a)||!kA(r,s)?!1:xS(i,o)}var Vne=["dangerouslySetInnerHTML","ticks","scale"],Wne=["id","scale"];function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rb.apply(null,arguments)}function SA(e,t){if(e==null)return{};var n,r,i=Hne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qne(e){var t=Wn(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(kee(e)):n.current!==e&&t(See({prev:n.current,next:e})),n.current=e},[e,t]),y.useLayoutEffect(()=>()=>{n.current&&(t(Nee(n.current)),n.current=null)},[t]),null}var Kne=e=>{var{xAxisId:t,className:n}=e,r=xt(oI),i=oa(),a="xAxis",s=xt(g=>dL(g,a,t,i)),o=xt(g=>nY(g,t)),l=xt(g=>lY(g,t)),c=xt(g=>V_(g,t));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:u,ticks:f,scale:m}=e,h=SA(e,Vne),{id:p,scale:v}=c,x=SA(c,Wne);return y.createElement(yS,Rb({},h,x,{x:l.x,y:l.y,width:o.width,height:o.height,className:Nn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},Gne={allowDataOverflow:ei.allowDataOverflow,allowDecimals:ei.allowDecimals,allowDuplicatedCategory:ei.allowDuplicatedCategory,angle:ei.angle,axisLine:uo.axisLine,height:ei.height,hide:!1,includeHidden:ei.includeHidden,interval:ei.interval,minTickGap:ei.minTickGap,mirror:ei.mirror,orientation:ei.orientation,padding:ei.padding,reversed:ei.reversed,scale:ei.scale,tick:ei.tick,tickCount:ei.tickCount,tickLine:uo.tickLine,tickSize:uo.tickSize,type:ei.type,xAxisId:0},Yne=e=>{var t=Gr(e,Gne);return y.createElement(y.Fragment,null,y.createElement(qne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(Kne,t))},Ff=y.memo(Yne,B3);Ff.displayName="XAxis";var Xne=["dangerouslySetInnerHTML","ticks","scale"],Qne=["id","scale"];function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fb.apply(null,arguments)}function NA(e,t){if(e==null)return{};var n,r,i=Zne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jne(e){var t=Wn(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(Cee(e)):n.current!==e&&t(jee({prev:n.current,next:e})),n.current=e},[e,t]),y.useLayoutEffect(()=>()=>{n.current&&(t(Pee(n.current)),n.current=null)},[t]),null}var ere=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=y.useRef(null),s=y.useRef(null),o=xt(oI),l=oa(),c=Wn(),u="yAxis",f=xt(N=>dY(N,t)),m=xt(N=>uY(N,t)),h=xt(N=>dL(N,u,t,l)),p=xt(N=>W_(N,t));if(y.useLayoutEffect(()=>{if(!(r!=="auto"||!f||dS(i)||y.isValidElement(i)||p==null)){var N=a.current;if(N){var P=N.getCalculatedWidth();Math.round(f.width)!==Math.round(P)&&c(Aee({id:t,width:P}))}}},[h,f,c,i,t,r,p]),f==null||m==null||p==null)return null;var{dangerouslySetInnerHTML:v,ticks:x,scale:g}=e,b=NA(e,Xne),{id:w,scale:S}=p,C=NA(p,Qne);return y.createElement(yS,Fb({},b,C,{ref:a,labelRef:s,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Nn("recharts-".concat(u," ").concat(u),n),viewBox:o,ticks:h,axisType:u}))},tre={allowDataOverflow:ti.allowDataOverflow,allowDecimals:ti.allowDecimals,allowDuplicatedCategory:ti.allowDuplicatedCategory,angle:ti.angle,axisLine:uo.axisLine,hide:!1,includeHidden:ti.includeHidden,interval:ti.interval,minTickGap:ti.minTickGap,mirror:ti.mirror,orientation:ti.orientation,padding:ti.padding,reversed:ti.reversed,scale:ti.scale,tick:ti.tick,tickCount:ti.tickCount,tickLine:uo.tickLine,tickSize:uo.tickSize,type:ti.type,width:ti.width,yAxisId:0},nre=e=>{var t=Gr(e,tre);return y.createElement(y.Fragment,null,y.createElement(Jne,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(ere,t))},Bf=y.memo(nre,B3);Bf.displayName="YAxis";var rre=(e,t)=>t,wS=de([rre,Mn,B_,Xr,EL,Do,PX,si],IX),kS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},z3=Ya("mouseClick"),U3=em();U3.startListening({actionCreator:z3,effect:(e,t)=>{var n=e.payload,r=wS(t.getState(),kS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(CY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Bb=Ya("mouseMove"),V3=em(),Nh=null;V3.startListening({actionCreator:Bb,effect:(e,t)=>{var n=e.payload;Nh!==null&&cancelAnimationFrame(Nh);var r=kS(n);Nh=requestAnimationFrame(()=>{var i=t.getState(),a=tS(i,i.tooltip.settings.shared);if(a==="axis"){var s=wS(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(wL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(bL())}Nh=null})}});function ire(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var CA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},W3=sa({name:"rootProps",initialState:CA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:CA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),are=W3.reducer,{updateOptions:sre}=W3.actions,H3=sa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ore}=H3.actions,lre=H3.reducer,q3=Ya("keyDown"),K3=Ya("focus"),SS=em();SS.startListening({actionCreator:q3,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=nS(i,ed(n),fm(n),pm(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Do(n);if(a==="Enter"){var c=gg(n,"axis","hover",String(i.index));t.dispatch(Mb({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var u=pY(n),f=u==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,h=o+m*f;if(!(l==null||h>=l.length||h<0)){var p=gg(n,"axis","hover",String(h));t.dispatch(Mb({active:!0,activeIndex:h.toString(),activeCoordinate:p}))}}}}}});SS.startListening({actionCreator:K3,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=gg(n,"axis","hover",String(a));t.dispatch(Mb({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var La=Ya("externalEvent"),G3=em(),xy=new Map;G3.startListening({actionCreator:La,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=xy.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:dX(o),activeDataKey:OL(o),activeIndex:$u(o),activeLabel:ML(o),activeTooltipIndex:$u(o),isTooltipActive:fX(o)};n(l,r)}finally{xy.delete(i)}});xy.set(i,s)}}});var cre=de([Zu],e=>e.tooltipItemPayloads),ure=de([cre,hm,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),Y3=Ya("touchMove"),X3=em();X3.startListening({actionCreator:Y3,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=tS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=wS(r,kS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(wL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(aI),f=(o=c.getAttribute(sI))!==null&&o!==void 0?o:void 0,m=Ju(r).find(v=>v.id===f);if(u==null||m==null||f==null)return;var{dataKey:h}=m,p=ure(r,u,f);t.dispatch(xL({activeDataKey:h,activeIndex:u,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var dre=P5({brush:Ree,cartesianAxis:Eee,chartData:uQ,errorBars:_te,graphicalItems:IJ,layout:qW,legend:K9,options:aQ,polarAxis:RZ,polarOptions:lre,referenceElements:Hee,rootProps:are,tooltip:jY,zIndex:GX}),fre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return vW({reducer:dre,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([U3.middleware,V3.middleware,SS.middleware,G3.middleware,X3.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(U5({type:"raf"}))},devTools:{serialize:{replacer:ire},name:"recharts-".concat(n)}})};function Q3(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=oa(),a=y.useRef(null);if(i)return n;a.current==null&&(a.current=fre(t,r));var s=B1;return y.createElement(gne,{context:s,store:a.current},n)}function mre(e){var{layout:t,margin:n}=e,r=Wn(),i=oa();return y.useEffect(()=>{i||(r(VW(t)),r(UW(n)))},[r,i,t,n]),null}var Z3=y.memo(mre,xS);function J3(e){var t=Wn();return y.useEffect(()=>{t(sre(e))},[t,e]),null}function jA(e){var{zIndex:t,isPanorama:n}=e,r=y.useRef(null),i=Wn();return y.useLayoutEffect(()=>(r.current&&i(qX({zIndex:t,element:r.current,isPanorama:n})),()=>{i(KX({zIndex:t,isPanorama:n}))}),[i,t,n]),y.createElement("g",{tabIndex:-1,ref:r})}function PA(e){var{children:t,isPanorama:n}=e,r=xt(LX);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return y.createElement(y.Fragment,null,i.map(s=>y.createElement(jA,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>y.createElement(jA,{key:s,zIndex:s,isPanorama:n})))}var hre=["children"];function pre(e,t){if(e==null)return{};var n,r,i=gre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sg.apply(null,arguments)}var vre={width:"100%",height:"100%",display:"block"},yre=y.forwardRef((e,t)=>{var n=X1(),r=Q1(),i=PI();if(!Bs(n)||!Bs(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,u;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?u=s.role:u=i?"application":void 0),y.createElement(N1,Sg({},s,{title:o,desc:l,role:u,tabIndex:c,width:n,height:r,style:vre,ref:t}),a)}),xre=e=>{var{children:t}=e,n=xt(A0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return y.createElement(N1,{width:r,height:i,x:s,y:a},t)},AA=y.forwardRef((e,t)=>{var{children:n}=e,r=pre(e,hre),i=oa();return i?y.createElement(xre,null,y.createElement(PA,{isPanorama:!0},n)):y.createElement(yre,Sg({ref:t},r),y.createElement(PA,{isPanorama:!1},n))});function bre(){var e=Wn(),[t,n]=y.useState(null),r=xt(o9);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Rr(a)&&a!==r&&e(HW(a))}},[t,e,r]),n}function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){kre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kre(e,t,n){return(t=Sre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sre(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xc.apply(null,arguments)}var Cre=()=>(xQ(),null);function Ng(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var jre=y.forwardRef((e,t)=>{var n,r,i=y.useRef(null),[a,s]=y.useState({containerWidth:Ng((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Ng((r=e.style)===null||r===void 0?void 0:r.height)}),o=y.useCallback((c,u)=>{s(f=>{var m=Math.round(c),h=Math.round(u);return f.containerWidth===m&&f.containerHeight===h?f:{containerWidth:m,containerHeight:h}})},[]),l=y.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:f}=c.getBoundingClientRect();o(u,f);var m=p=>{var{width:v,height:x}=p[0].contentRect;o(v,x)},h=new ResizeObserver(m);h.observe(c),i.current=h}},[t,o]);return y.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),y.createElement(y.Fragment,null,y.createElement(T0,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",xc({ref:l},e)))}),Pre=y.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=y.useState({containerWidth:Ng(n),containerHeight:Ng(r)}),s=y.useCallback((l,c)=>{a(u=>{var f=Math.round(l),m=Math.round(c);return u.containerWidth===f&&u.containerHeight===m?u:{containerWidth:f,containerHeight:m}})},[]),o=y.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:u}=l.getBoundingClientRect();s(c,u)}},[t,s]);return y.createElement(y.Fragment,null,y.createElement(T0,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",xc({ref:o},e)))}),Are=y.forwardRef((e,t)=>{var{width:n,height:r}=e;return y.createElement(y.Fragment,null,y.createElement(T0,{width:n,height:r}),y.createElement("div",xc({ref:t},e)))}),Ere=y.forwardRef((e,t)=>{var{width:n,height:r}=e;return yo(n)||yo(r)?y.createElement(Pre,xc({},e,{ref:t})):y.createElement(Are,xc({},e,{ref:t}))});function Tre(e){return e===!0?jre:Ere}var Dre=y.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:m,onTouchEnd:h,onTouchMove:p,onTouchStart:v,style:x,width:g,responsive:b,dispatchTouchEvents:w=!0}=e,S=y.useRef(null),C=Wn(),[N,P]=y.useState(null),[T,_]=y.useState(null),A=bre(),$=Y1(),D=($==null?void 0:$.width)>0?$.width:g,te=($==null?void 0:$.height)>0?$.height:i,K=y.useCallback(L=>{A(L),typeof t=="function"&&t(L),P(L),_(L),L!=null&&(S.current=L)},[A,t,P,_]),ie=y.useCallback(L=>{C(z3(L)),C(La({handler:a,reactEvent:L}))},[C,a]),H=y.useCallback(L=>{C(Bb(L)),C(La({handler:c,reactEvent:L}))},[C,c]),J=y.useCallback(L=>{C(bL()),C(La({handler:u,reactEvent:L}))},[C,u]),G=y.useCallback(L=>{C(Bb(L)),C(La({handler:f,reactEvent:L}))},[C,f]),ae=y.useCallback(()=>{C(K3())},[C]),E=y.useCallback(L=>{C(q3(L.key))},[C]),j=y.useCallback(L=>{C(La({handler:s,reactEvent:L}))},[C,s]),U=y.useCallback(L=>{C(La({handler:o,reactEvent:L}))},[C,o]),k=y.useCallback(L=>{C(La({handler:l,reactEvent:L}))},[C,l]),O=y.useCallback(L=>{C(La({handler:m,reactEvent:L}))},[C,m]),re=y.useCallback(L=>{C(La({handler:v,reactEvent:L}))},[C,v]),Q=y.useCallback(L=>{w&&C(Y3(L)),C(La({handler:p,reactEvent:L}))},[C,w,p]),F=y.useCallback(L=>{C(La({handler:h,reactEvent:L}))},[C,h]),Z=Tre(b);return y.createElement(BL.Provider,{value:N},y.createElement(jO.Provider,{value:T},y.createElement(Z,{width:D??(x==null?void 0:x.width),height:te??(x==null?void 0:x.height),className:Nn("recharts-wrapper",r),style:wre({position:"relative",cursor:"default",width:D,height:te},x),onClick:ie,onContextMenu:j,onDoubleClick:U,onFocus:ae,onKeyDown:E,onMouseDown:k,onMouseEnter:H,onMouseLeave:J,onMouseMove:G,onMouseUp:O,onTouchEnd:F,onTouchMove:Q,onTouchStart:re,ref:K},y.createElement(Cre,null),n)))}),Mre=["width","height","responsive","children","className","style","compact","title","desc"];function Ore(e,t){if(e==null)return{};var n,r,i=Ire(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ire(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var e4=y.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:u}=e,f=Ore(e,Mre),m=Ga(f);return l?y.createElement(y.Fragment,null,y.createElement(T0,{width:n,height:r}),y.createElement(AA,{otherAttributes:m,title:c,desc:u},a)):y.createElement(Dre,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(AA,{otherAttributes:m,title:c,desc:u,ref:t},y.createElement(Kee,null,a)))});function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zb.apply(null,arguments)}var _re={top:5,right:5,bottom:5,left:5},Lre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:_re,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},$re=y.forwardRef(function(t,n){var r,i=Gr(t.categoricalChartProps,Lre),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,u={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return y.createElement(Q3,{preloadedState:{options:u},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},y.createElement(P3,{chartData:c.data}),y.createElement(Z3,{layout:i.layout,margin:i.margin}),y.createElement(J3,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),y.createElement(e4,zb({},i,{ref:n})))}),Rre=["axis"],Cg=y.forwardRef((e,t)=>y.createElement($re,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Rre,tooltipPayloadSearcher:UL,categoricalChartProps:e,ref:t}));function Fre(e){var t=Wn();return y.useEffect(()=>{t(ore(e))},[t,e]),null}var Bre=["layout"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ub.apply(null,arguments)}function zre(e,t){if(e==null)return{};var n,r,i=Ure(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ure(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vre={top:5,right:5,bottom:5,left:5},t4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Vre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Wre=y.forwardRef(function(t,n){var r,i=Gr(t.categoricalChartProps,t4),{layout:a}=i,s=zre(i,Bre),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return y.createElement(Q3,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},y.createElement(P3,{chartData:i.data}),y.createElement(Z3,{layout:a,margin:i.margin}),y.createElement(J3,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),y.createElement(Fre,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),y.createElement(e4,Ub({},s,{ref:n})))});function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(r){Hre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hre(e,t,n){return(t=qre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qre(e){var t=Kre(e,"string");return typeof t=="symbol"?t:t+""}function Kre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gre=["item"],Yre=DA(DA({},t4),{},{layout:"centric",startAngle:0,endAngle:360}),Vb=y.forwardRef((e,t)=>{var n=Gr(e,Yre);return y.createElement(Wre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Gre,tooltipPayloadSearcher:UL,categoricalChartProps:n,ref:t})});const En=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>d.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>d.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),MA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",qd=new Map,xu=new Map,Xre=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(qd.has(r)||xu.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&qd.set(r,s),s})();xu.set(r,i);try{await i}finally{xu.delete(r)}}))},Qre=e=>{const[t,n]=y.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:qd.get(e)||MA:null});return y.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=qd.get(e);if(r){n(r);return}let i=!0;const a=xu.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&qd.set(e,l),l})();return xu.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(MA)}}).finally(()=>{xu.delete(e)}),()=>{i=!1}},[e]),t},Zre=(e,t,n,r)=>{const[i,a]=y.useState("bottom"),[s,o]=y.useState(0);return y.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,u=r.current;if(!c||!u)return;const f=c.getBoundingClientRect(),m=u.getBoundingClientRect(),p=(T=>{let _=(T==null?void 0:T.parentElement)||null;for(;_;){const A=window.getComputedStyle(_),$=`${A.overflow}${A.overflowY}${A.overflowX}`;if(/(auto|scroll|hidden)/.test($))return _;_=_.parentElement}return null})(c),v=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},x=v.bottom-f.bottom,g=f.top-v.top,b=x<m.height+8&&g>x?"top":"bottom";a(b);const w=6,S=f.left+f.width/2,C=v.left+w+m.width/2,N=v.right-w-m.width/2,P=Math.min(Math.max(S,C),N);o(P-S)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},Jre=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},n4=(e,t,n,r,i=8)=>{const[a,s]=y.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return y.useEffect(()=>{if(!e)return;const o=()=>{const c=n.current,u=r.current;if(!c||!u)return;const f=c.getBoundingClientRect(),m=u.getBoundingClientRect(),h=window.innerHeight-f.bottom,p=f.top,v=h<m.height+i&&p>h?Math.max(i,f.top-m.height-i):Math.min(window.innerHeight-m.height-i,f.bottom+i),x=f.left+f.width/2,g=i+m.width/2,b=window.innerWidth-i-m.width/2,w=Math.min(Math.max(x,g),b);s({position:"fixed",top:v,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},eie=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Tp(i||"Unknown"),s=r.length>1,[o,l]=y.useState(!1),c=y.useRef(null),u=y.useRef(null),f=`${n} object-contain`,{placement:m,shiftX:h}=Zre(o,[r.length,f],c,u),p=Array.from(new Set(r.map(b=>ec(b||"Unknown")))).slice(0,4),v=p.length>1?`conic-gradient(${p.map((b,w)=>`${b} ${w*360/p.length}deg ${(w+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const x=m==="top"?"bottom-full mb-2":"top-full mt-2",g={transform:`translateX(calc(-50% + ${h}px))`};return d.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[d.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&d.jsxs(d.Fragment,{children:[d.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:v},children:d.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/90"})}),d.jsxs("div",{ref:u,style:g,className:`absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${x} ${o?"opacity-100":""}`,children:[d.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),d.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Tp(b||"Unknown");return d.jsxs("div",{className:"flex items-center gap-1",children:[w?d.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,d.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},tie=(e,t,n="w-4 h-4 object-contain")=>d.jsx(eie,{profession:e,professionList:t,className:n}),by=({count:e,classCounts:t,label:n,className:r})=>{const i=Jre(t||{}),a=e>0,[s,o]=y.useState(!1),l=y.useRef(null),c=y.useRef(null),u=n4(s,[i.length,e],l,c);return d.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[d.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&Hu.createPortal(d.jsxs("div",{ref:c,style:u,className:`z-[9999] w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${s?"opacity-100":""}`,children:[d.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?d.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,m)=>d.jsx("div",{className:"space-y-1",children:f.map(({profession:h,count:p})=>{const v=Tp(h||"Unknown");return d.jsxs("div",{className:"flex items-center gap-1",children:[v?d.jsx("img",{src:v,alt:h||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,d.jsx("span",{className:"text-gray-100",children:h||"Unknown"}),d.jsx("span",{className:"text-gray-400",children:""}),d.jsx("span",{className:"text-gray-200",children:p})]},h)})},`${n}-col-${m}`))}):d.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},kr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i=""})=>{const a=Qre(t);return d.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[a?d.jsx("img",{src:a,alt:e,className:`${r} shrink-0`}):null,d.jsx("span",{className:`truncate ${i}`,children:e})]})},OA=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=y.useState(!1),o=y.useRef(null),l=y.useRef(null),c=n4(a,[n.length],o,l);return d.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[d.jsx("span",{children:e}),i&&typeof document<"u"&&Hu.createPortal(d.jsxs("div",{ref:l,style:c,className:`z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg backdrop-blur-md opacity-0 pointer-events-none transition-opacity ${a?"opacity-100":""}`,children:[d.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),d.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(u=>d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("span",{className:"truncate text-gray-100",children:d.jsx(kr,{name:u.name,iconUrl:u.iconUrl,iconClassName:"h-6 w-6"})}),d.jsx("span",{className:"text-gray-300 font-mono",children:u.value})]},u.name))})]}),document.body)]})},nie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:u,groupedSkillUsagePlayers:f,expandedSkillUsageClass:m,setExpandedSkillUsageClass:h,togglePlayerSelection:p,skillUsagePlayerFilter:v,setSkillUsagePlayerFilter:x,skillUsageView:g,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:N,setSelectedSkillId:P,skillBarData:T,selectedSkillName:_,selectedSkillIcon:A,skillUsageReady:$,skillUsageAvailable:D,isSkillUsagePerSecond:te,skillChartData:K,skillChartMaxY:ie,playerTotalsForSkill:H,hoveredSkillPlayer:J,setHoveredSkillPlayer:G,getLineStrokeColor:ae,getLineDashForPlayer:E,formatSkillUsageValue:j,renderProfessionIcon:U})=>d.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[d.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[d.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(u1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),d.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(En,{value:g,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),d.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),d.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?d.jsx(Hi,{className:"w-4 h-4"}):d.jsx(Aa,{className:"w-4 h-4"})})]})]}),o.length>0&&d.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[d.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(k=>{const O=u.get(k);return O?d.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[d.jsx("span",{className:"truncate max-w-[140px]",children:O.displayName}),d.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[O.logs," ",O.logs===1?"log":"logs"]}),d.jsx("button",{type:"button",onClick:()=>c(O.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:d.jsx(sO,{className:"w-3 h-3"})})]},O.key):null})]}),d.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[d.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[d.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),d.jsx("input",{type:"search",value:v,onChange:k=>x(k.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),d.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?d.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(k=>{const O=m===k.profession,re=k.players.map(F=>F.key),Q=re.length>0&&re.every(F=>o.includes(F));return d.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[d.jsx("button",{type:"button",onClick:()=>{if(O){h(null);return}h(k.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${O?"bg-white/10":"hover:bg-white/5"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[U(k.profession,void 0,"w-4 h-4"),d.jsx("div",{className:"text-sm font-semibold truncate text-white",children:k.profession})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[d.jsxs("span",{className:"text-[10px]",children:[k.players.length,"p"]}),O?d.jsx(gu,{className:"w-3.5 h-3.5"}):d.jsx(n6,{className:"w-3.5 h-3.5"})]})]})}),O&&d.jsxs("div",{className:"pb-2",children:[d.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[d.jsxs("span",{children:[k.players.length," ",k.players.length===1?"player":"players"]}),d.jsx("button",{type:"button",onClick:()=>{l(F=>{if(Q)return F.filter(L=>!re.includes(L));const Z=new Set(F);return re.forEach(L=>Z.add(L)),Array.from(Z)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:Q?"Clear All":"Select All"})]}),k.players.map(F=>{const Z=o.includes(F.key);return d.jsx("button",{type:"button",onClick:()=>p(F.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${Z?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold truncate text-white",children:F.displayName}),d.jsxs("div",{className:"text-[11px] text-gray-400",children:[F.account,"  ",F.profession,"  ",F.logs," ",F.logs===1?"log":"logs"]})]}),Z&&d.jsx(rO,{className:"w-4 h-4 text-cyan-300"})]})},F.key)})]})]},k.profession)})})]}),d.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),d.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${te?"casts/sec":"total casts"}`:"Select players"})]}),d.jsx("input",{type:"search",value:S,onChange:k=>C(k.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),d.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?d.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):T.length===0?d.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const k=T.reduce((O,re)=>Math.max(O,re.total),0)||1;return d.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:T.map((O,re)=>{const Q=Math.min(100,O.total/k*100),F=N===O.skillId;return d.jsxs("button",{type:"button",onClick:()=>P(O.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${F?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[d.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[d.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${re+1}`}),d.jsx(kr,{name:O.name,iconUrl:O.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),d.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:j(O.total)})]}),d.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:d.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${Q}%`,backgroundColor:O.color}})})]},O.skillId)})})})()})]})]}),d.jsx("div",{className:"space-y-3",children:$?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-200",children:_?d.jsx(kr,{name:_,iconUrl:A,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),d.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",te?"casts per second":"casts per log",")"]})]}),d.jsx(mc,{width:"100%",height:250,children:d.jsxs(Cg,{data:K,children:[d.jsx($f,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),d.jsx(Ff,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:k=>{const O=K[k],re=String((O==null?void 0:O.shortLabel)??k);return re.length>20?`${re.slice(0,20)}`:re}}),d.jsx(Bf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,ie)],allowDecimals:!1}),d.jsx(vc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:k,payload:O,label:re})=>{var L;if(!k||!O||O.length===0)return null;const Q=[...O].sort((W,le)=>(le.value||0)-(W.value||0)),F=Q[0],Z=((L=F==null?void 0:F.payload)==null?void 0:L.fullLabel)||re;return d.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[d.jsx("div",{className:"text-sm text-white mb-1",children:Z}),d.jsx("div",{className:"space-y-1",children:Q.map(W=>{const le=String(W.name||""),ne=u.get(le),z=(ne==null?void 0:ne.displayName)||le||"Player",B=j(Number(W.value||0)),I=W.color||"#38bdf8";return d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"truncate",style:{color:I},children:z}),d.jsx("span",{className:"text-gray-200 font-mono",children:B})]},`${z}-${B}`)})})]})}}),o.map(k=>{const O=J.includes(k),re=J.length>0,Q=ae(k,O,re),F=E(k),Z=J.length>0&&!O;return d.jsx(no,{dataKey:k,stroke:Q,strokeWidth:O?4:3,strokeDasharray:F,opacity:Z?.6:1,dot:!1,isAnimationActive:!1},k)})]})})]}),o.length>0&&d.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),d.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),d.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((k,O)=>(H.get(O)||0)-(H.get(k)||0)).map(k=>{const O=u.get(k),re=H.get(k)??0,Q=J.includes(k),F=J.length>0,Z=ae(k,Q,F);return d.jsxs("button",{type:"button",onClick:()=>{G(L=>L.includes(k)?L.filter(W=>W!==k):[...L,k])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${Q?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":Q,children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:d.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:Z,strokeWidth:"2",strokeDasharray:E(k),strokeLinecap:"round"})}),U(O==null?void 0:O.profession,O==null?void 0:O.professionList,"w-4 h-4"),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),d.jsx("div",{className:"font-semibold text-white truncate",children:(O==null?void 0:O.displayName)||k}),d.jsxs("div",{className:"text-[11px] text-gray-400",children:[(O==null?void 0:O.logs)??0," ",((O==null?void 0:O.logs)??0)===1?"log":"logs"]})]})]}),d.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:j(re)})]},k)})})]})]}):d.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:D?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),rie=({containerRef:e,className:t=""})=>{const n=y.useRef(null),[r,i]=y.useState(0),[a,s]=y.useState(0),o=y.useRef(!1),l=y.useRef(0),c=y.useRef(0);y.useLayoutEffect(()=>{const m=e.current;if(!m)return;let h=0;const p=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=m,N=w>S,P=n.current,T=(P==null?void 0:P.clientWidth)||0;if(!T){h=window.requestAnimationFrame(p);return}if(!N){i(T),s(0);return}const _=S/w,A=Math.max(20,Math.floor(T*_)),$=w-S,D=Math.max(0,T-A),te=$>0?Math.floor(C/$*D):0;i(A),s(te)};p();const v=()=>p(),x=new ResizeObserver(p);x.observe(m);const g=m.firstElementChild;g instanceof HTMLElement&&x.observe(g),n.current&&x.observe(n.current);const b=new MutationObserver(()=>p());return b.observe(m,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),m.addEventListener("scroll",v),()=>{h&&window.cancelAnimationFrame(h),x.disconnect(),b.disconnect(),window.removeEventListener("resize",p),m.removeEventListener("scroll",v)}},[e]),y.useEffect(()=>{const m=p=>{if(!o.current)return;const v=n.current,x=e.current;if(!v||!x)return;const g=v.getBoundingClientRect(),b=p.clientX-l.current,w=Math.max(0,g.width-r),S=Math.min(w,Math.max(0,c.current+b)),C=x.scrollWidth-x.clientWidth,N=w>0?S/w*C:0;x.scrollLeft=N},h=()=>{o.current=!1};return window.addEventListener("pointermove",m),window.addEventListener("pointerup",h),()=>{window.removeEventListener("pointermove",m),window.removeEventListener("pointerup",h)}},[e,r]);const u=m=>{const h=n.current,p=e.current;if(!h||!p||r<=0)return;const v=h.getBoundingClientRect(),x=m.clientX-v.left,g=Math.max(0,v.width-r),b=Math.min(g,Math.max(0,x-r/2)),w=p.scrollWidth-p.clientWidth;p.scrollLeft=g>0?b/g*w:0},f=m=>{r<=0||(o.current=!0,l.current=m.clientX,c.current=a,m.currentTarget.setPointerCapture(m.pointerId))};return d.jsx("div",{className:`scroll-scrubber ${t}`,children:d.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:u,children:d.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},ps=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const c=y.useRef(null),u=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return d.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&d.jsxs("div",{className:"dense-table__header",children:[e&&d.jsx("div",{className:"dense-table__title",children:e}),t&&d.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&d.jsx("div",{className:"dense-table__controls",children:n}),d.jsx("div",{ref:c,className:"dense-table__scroll",children:d.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:u},children:[d.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:d.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const m=!!o,p=a===f.id?s==="desc"?"":"":null;return d.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:m?d.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[d.jsx("span",{className:"truncate",children:f.label}),p&&d.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):d.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>d.jsxs("div",{className:"dense-table__row",children:[d.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(m=>d.jsx("div",{className:`dense-table__cell ${m.align==="right"?"dense-table__cell--right":""}`,children:f.values[m.id]??"-"},`${f.id}-${m.id}`))]},f.id))]})}),d.jsx(rie,{containerRef:c})]})},gs=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=y.useState(""),[o,l]=y.useState(!1),[c,u]=y.useState(0),f=y.useRef(null),m=y.useRef(null),h=y.useRef(new Map);y.useEffect(()=>{const g=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const p=y.useMemo(()=>{const g=a.trim().toLowerCase();return g?e.filter(b=>b.label.toLowerCase().includes(g)).slice(0,50):e.slice(0,50)},[e,a]),v=y.useMemo(()=>{const g=new Map;return p.forEach((b,w)=>{g.set(`${b.type}-${b.id}`,w)}),g},[p]),x=y.useMemo(()=>{const g=p.filter(w=>w.type==="column"),b=p.filter(w=>w.type==="player");return{columns:g,players:b}},[p]);return y.useEffect(()=>{if(o){if(p.length===0){u(0);return}u(g=>Math.min(Math.max(g,0),p.length-1))}},[p,o]),y.useEffect(()=>{if(!o)return;const g=p[c];if(!g)return;const b=`${g.type}-${g.id}`,w=h.current.get(b);w&&m.current&&w.scrollIntoView({block:"nearest"})},[c,p,o]),d.jsxs("div",{ref:f,className:`relative ${i}`,children:[d.jsx("input",{value:a,onChange:g=>{s(g.target.value),l(!0)},onKeyDown:g=>{if(!o&&(g.key==="ArrowDown"||g.key==="ArrowUp")){l(!0);return}if(o)if(g.key==="ArrowDown"){if(g.preventDefault(),p.length===0)return;u(b=>(b+1)%p.length)}else if(g.key==="ArrowUp"){if(g.preventDefault(),p.length===0)return;u(b=>(b-1+p.length)%p.length)}else if(g.key==="Enter"){g.preventDefault();const b=p[c];if(!b)return;r(b),s(""),l(!1)}else g.key==="Escape"&&(g.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&d.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?d.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):d.jsxs("div",{ref:m,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[x.columns.length>0&&d.jsxs("div",{children:[d.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),x.columns.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return d.jsx("button",{type:"button",ref:w=>{h.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),s(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${g.type}-${g.id}`);typeof w=="number"&&u(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===v.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?d.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,d.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]}),x.players.length>0&&d.jsxs("div",{children:[d.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),x.players.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return d.jsx("button",{type:"button",ref:w=>{h.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),s(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${g.type}-${g.id}`);typeof w=="number"&&u(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===v.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?d.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,d.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]})]})})]})},dr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=y.useState(!1),c=y.useRef(null),u=new Set(t);return y.useEffect(()=>{const f=m=>{c.current&&(c.current.contains(m.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),d.jsxs("div",{ref:c,className:`relative ${i}`,children:[d.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?d.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,d.jsx("span",{children:a}),t.length>0&&d.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&d.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[d.jsx("span",{children:"Filter Columns"}),d.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),d.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?d.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>d.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${u.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${u.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?d.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,d.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},iie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:u,activeApmSpec:f,setActiveApmSpec:m,expandedApmSpec:h,setExpandedApmSpec:p,activeApmSkillId:v,setActiveApmSkillId:x,ALL_SKILLS_KEY:g,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:N,apmView:P,setApmView:T,formatApmValue:_,formatCastRateValue:A,formatCastCountValue:$,renderProfessionIcon:D})=>{var F;const[te,K]=y.useState({key:"apm",dir:"desc"}),ie=e==="apm-stats",[H,J]=y.useState({columnId:"",dir:"desc"}),[G,ae]=y.useState([]),[E,j]=y.useState([]),[U,k]=y.useState({}),O=ie?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,re=Z=>{K(L=>({key:Z,dir:L.key===Z&&L.dir==="desc"?"asc":"desc"}))},Q=y.useMemo(()=>{const Z=[...(S==null?void 0:S.playerRows)||[]];return Z.sort((L,W)=>{const le=te.key==="apm"?Number(P==="perSecond"?L.aps:L.apm):Number(P==="perSecond"?L.apsNoAuto:L.apmNoAuto),ne=te.key==="apm"?Number(P==="perSecond"?W.aps:W.apm):Number(P==="perSecond"?W.apsNoAuto:W.apmNoAuto);return(te.dir==="desc"?ne-le:le-ne)||String(L.displayName||"").localeCompare(String(W.displayName||""))}),Z},[S,te,P]);return d.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[d.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(g1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),d.jsxs("div",{className:"flex items-center gap-3 relative",children:[d.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[u.length," ",u.length===1?"spec":"specs"]}),d.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?d.jsx(Hi,{className:"w-4 h-4"}):d.jsx(Aa,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?d.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[d.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),d.jsx("div",{className:"mb-2",children:d.jsx("input",{type:"text",value:b,onChange:Z=>w(Z.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),d.jsx("div",{className:O,children:u.map(Z=>d.jsxs("div",{className:"space-y-1",children:[d.jsx("button",{onClick:()=>{const L=f!==Z.profession;m(Z.profession),p(L?Z.profession:h===Z.profession?null:Z.profession),L&&(x(g),ae([]),j([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===Z.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[D(Z.profession,void 0,"w-4 h-4"),d.jsx("span",{className:"truncate",children:Z.profession})]}),d.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:d.jsxs("span",{className:"text-[10px]",children:[Z.players.length,"p"]})})]})}),!ie&&h===Z.profession&&d.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[d.jsx("input",{type:"text",value:U[Z.profession]||"",onChange:L=>{const W=L.target.value;k(le=>({...le,[Z.profession]:W}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),d.jsx("button",{type:"button",onClick:()=>{m(Z.profession),x(g)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===Z.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(Z.skills||[]).filter(L=>{const W=(U[Z.profession]||"").trim().toLowerCase();return W?String(L.name||"").toLowerCase().includes(W):!0}).map(L=>d.jsx("button",{type:"button",onClick:()=>{m(Z.profession),x(L.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===Z.profession&&v===L.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.name,children:d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.icon?d.jsx("img",{src:L.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,d.jsx("span",{className:"truncate",children:L.name})]})},L.id)),(Z.skills||[]).filter(L=>{const W=(U[Z.profession]||"").trim().toLowerCase();return W?String(L.name||"").toLowerCase().includes(W):!0}).length===0&&d.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},Z.profession))})]}),d.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?d.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[ie&&(()=>{const Z=S.skills||[],L=(S.playerRows||[]).map(z=>({id:z.key,label:z.displayName||z.account||z.key,icon:D(z.profession,z.professionList,"w-3 h-3")})),W=Z.map(z=>({id:z.id,label:z.name,icon:z.icon?d.jsx("img",{src:z.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),le=[...Z.map(z=>({id:z.id,label:z.name,type:"column",icon:z.icon?d.jsx("img",{src:z.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(z=>({id:z.key,label:z.displayName||z.account||z.key,type:"player",icon:D(z.profession,z.professionList,"w-3 h-3")}))],ne=new Set([...G.map(z=>`column:${z}`),...E.map(z=>`player:${z}`)]);return d.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx(gs,{options:le,selectedIds:ne,onSelect:z=>{z.type==="column"?ae(B=>B.includes(z.id)?B.filter(I=>I!==z.id):[...B,z.id]):j(B=>B.includes(z.id)?B.filter(I=>I!==z.id):[...B,z.id])},className:"w-full sm:w-64"}),d.jsx(dr,{options:W,selectedIds:G,onToggle:z=>{ae(B=>B.includes(z)?B.filter(I=>I!==z):[...B,z])},onClear:()=>ae([]),buttonLabel:"Columns",buttonIcon:d.jsx(ms,{className:"h-3.5 w-3.5"})}),d.jsx(dr,{options:L,selectedIds:E,onToggle:z=>{j(B=>B.includes(z)?B.filter(I=>I!==z):[...B,z])},onClear:()=>j([]),buttonLabel:"Players",buttonIcon:d.jsx(ii,{className:"h-3.5 w-3.5"})}),d.jsx(En,{value:P,onChange:T,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(G.length>0||E.length>0)&&d.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{ae([]),j([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),G.map(z=>{var I;const B=((I=Z.find(X=>X.id===z))==null?void 0:I.name)||z;return d.jsxs("button",{type:"button",onClick:()=>ae(X=>X.filter(Ne=>Ne!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:B}),d.jsx("span",{className:"text-gray-400",children:""})]},z)}),E.map(z=>{var I;const B=((I=L.find(X=>X.id===z))==null?void 0:I.label)||z;return d.jsxs("button",{type:"button",onClick:()=>j(X=>X.filter(Ne=>Ne!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:B}),d.jsx("span",{className:"text-gray-400",children:""})]},z)})]})]})})(),ie?(()=>{var z,B;const Z=S.skills||[],L=G.length>0?Z.filter(I=>G.includes(I.id)):Z,W=E.length>0?(S.playerRows||[]).filter(I=>E.includes(I.key)):S.playerRows||[];if(Z.length===0)return d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const le=((z=L.find(I=>I.id===H.columnId))==null?void 0:z.id)||((B=L[0])==null?void 0:B.id)||"",ne=[...W].map(I=>{const X={},Ne={};return L.forEach(Me=>{var Te;const se=Number(((Te=Me.playerCounts)==null?void 0:Te.get(I.key))||0),Fe=P==="perSecond"?se/Math.max(1,I.totalActiveSeconds||0):se;Ne[Me.id]=Fe,X[Me.id]=P==="perSecond"?A(Fe):$(Fe)}),{row:I,values:X,numericValues:Ne}}).sort((I,X)=>{const Ne=I.numericValues[le]??0,Me=X.numericValues[le]??0;return(H.dir==="desc"?Me-Ne:Ne-Me)||String(I.row.displayName||"").localeCompare(String(X.row.displayName||""))});return d.jsx(ps,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:le,sortDirection:H.dir,onSortColumn:I=>{J(X=>({columnId:I,dir:X.columnId===I&&X.dir==="desc"?"asc":"desc"}))},columns:L.map(I=>({id:I.id,label:d.jsx(kr,{name:I.name,iconUrl:I.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ne.map((I,X)=>({id:`${S.profession}-${I.row.key}`,label:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-gray-500 font-mono",children:X+1}),D(I.row.profession,I.row.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:I.row.displayName})]}),values:I.values}))})})():d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"stats-table-shell__head-stack",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[d.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[D(S.profession,void 0,"w-4 h-4"),d.jsx("span",{className:"truncate",children:S.profession}),d.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!C?d.jsx("span",{className:"truncate",children:"All Skills"}):d.jsx(kr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),d.jsx("div",{className:"text-[11px] text-gray-500",children:N||!C?`${((F=S.playerRows)==null?void 0:F.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),N||!C?d.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[d.jsx("div",{children:"Player"}),d.jsxs("button",{type:"button",onClick:()=>re("apm"),className:`text-right transition-colors ${te.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[P==="perSecond"?"APS":"APM",te.key==="apm"?te.dir==="desc"?" ":" ":""]}),d.jsxs("button",{type:"button",onClick:()=>re("apmNoAuto"),className:`text-right transition-colors ${te.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[P==="perSecond"?"APS":"APM"," (No Auto)",te.key==="apmNoAuto"?te.dir==="desc"?" ":" ":""]})]}):d.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[d.jsx("div",{children:"Player"}),d.jsx("div",{className:"text-right",children:"Casts"}),d.jsx("div",{className:"text-right",children:P==="perSecond"?"APS":"APM"})]})]}),N||!C?d.jsx(d.Fragment,{children:d.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:Q.map((Z,L)=>d.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),D(Z.profession,Z.professionList,"w-4 h-4"),d.jsx("div",{className:"min-w-0",children:d.jsx("div",{className:"font-semibold text-white truncate",children:Z.displayName})})]}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:_(P==="perSecond"?Z.aps:Z.apm)}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:_(P==="perSecond"?Z.apsNoAuto:Z.apmNoAuto)})]},`${S.profession}-all-${Z.key}`))})}):d.jsx(d.Fragment,{children:d.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?d.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((Z,L)=>d.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),D(Z.profession,Z.professionList,"w-4 h-4"),d.jsx("div",{className:"min-w-0",children:d.jsx("div",{className:"font-semibold text-white truncate",children:Z.displayName})})]}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:$(Number(Z.count||0))}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:_(Number(P==="perSecond"?Z.aps||0:Z.apm||0))})]},`${S.profession}-${C.id}-${Z.key}`))})})]})]}):d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):d.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},aie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:c,playerSkillBreakdowns:u,classSkillBreakdowns:f,activePlayerKey:m,setActivePlayerKey:h,expandedPlayerKey:p,setExpandedPlayerKey:v,activePlayerSkillId:x,setActivePlayerSkillId:g,activeClassKey:b,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:N,setActiveClassSkillId:P,skillSearch:T,setSkillSearch:_,activePlayerBreakdown:A,activePlayerSkill:$,activeClassBreakdown:D,activeClassSkill:te,renderProfessionIcon:K})=>{const ie=u.length,H=((A==null?void 0:A.skills)||[]).reduce((B,I)=>B+(I.damage||0),0),J=(D==null?void 0:D.players)||[],[G,ae]=y.useState({key:"down",dir:"desc"}),E=e==="player-breakdown",[j,U]=y.useState([]),[k,O]=y.useState([]),[re,Q]=y.useState({columnId:"",dir:"desc"}),[F,Z]=y.useState({}),[L,W]=y.useState({}),le=E?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,ne=y.useMemo(()=>{if(!D||!te)return J;const B=[...J];return B.sort((I,X)=>{var ue,je;const Ne=(ue=I.skillMap)==null?void 0:ue[te.id],Me=(je=X.skillMap)==null?void 0:je[te.id],se=Number((Ne==null?void 0:Ne.downContribution)||0),Fe=Number((Me==null?void 0:Me.downContribution)||0),Te=Number((Ne==null?void 0:Ne.damage)||0),vt=Number((Me==null?void 0:Me.damage)||0),on=I.totalFightMs>0?Te/(I.totalFightMs/1e3):0,bn=X.totalFightMs>0?vt/(X.totalFightMs/1e3):0;let hn=0;return G.key==="down"&&(hn=se-Fe),G.key==="damage"&&(hn=Te-vt),G.key==="dps"&&(hn=on-bn),G.dir==="asc"?hn:-hn}),B},[D,J,te,G]),z=B=>{ae(I=>I.key!==B?{key:B,dir:"desc"}:{key:B,dir:I.dir==="desc"?"asc":"desc"})};return d.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[d.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(d1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),d.jsxs("div",{className:"flex items-center gap-3 relative",children:[d.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[ie," ",ie===1?"player":"players"]}),d.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?d.jsx(Hi,{className:"w-4 h-4"}):d.jsx(Aa,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:u.length===0?d.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):d.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[d.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:E?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!E&&d.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(B=>{const I=l===B.id;return d.jsx("button",{type:"button",onClick:()=>c(B.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${I?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:B.label},B.id)})})]}),d.jsx("div",{className:"mb-2",children:d.jsx("input",{type:"text",value:T,onChange:B=>_(B.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),d.jsx("div",{className:le,children:(E?"class":l)==="player"?u.map(B=>d.jsxs("div",{className:"space-y-1",children:[d.jsx("button",{onClick:()=>{const I=m!==B.key;I&&(g(null),U([]),O([])),h(B.key),v(I?B.key:p===B.key?null:B.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${m===B.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:B.displayName,children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[K(B.profession,B.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate min-w-0",children:B.displayName})]}),d.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:d.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[B.skills.length," skills"]})})]})}),!E&&p===B.key&&d.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[d.jsx("input",{type:"text",value:F[B.key]||"",onChange:I=>{const X=I.target.value;Z(Ne=>({...Ne,[B.key]:X}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),B.skills.filter(I=>{const X=(F[B.key]||"").trim().toLowerCase();return X?String(I.name||"").toLowerCase().includes(X):!0}).map(I=>d.jsx("button",{type:"button",onClick:()=>{h(B.key),g(I.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${m===B.key&&x===I.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:I.name,children:d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I.icon?d.jsx("img",{src:I.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,d.jsx("span",{className:"truncate",children:I.name})]})},I.id)),B.skills.filter(I=>{const X=(F[B.key]||"").trim().toLowerCase();return X?String(I.name||"").toLowerCase().includes(X):!0}).length===0&&d.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},B.key)):f.map(B=>d.jsxs("div",{className:"space-y-1",children:[d.jsx("button",{onClick:()=>{const I=b!==B.profession;I&&(P(null),U([]),O([])),w(B.profession),C(I?B.profession:S===B.profession?null:B.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===B.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[K(B.profession,void 0,"w-4 h-4"),d.jsx("span",{className:"truncate",children:B.profession})]}),d.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:d.jsxs("span",{className:"text-[10px]",children:[B.players.length,"p"]})})]})}),!E&&S===B.profession&&d.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[d.jsx("input",{type:"text",value:L[B.profession]||"",onChange:I=>{const X=I.target.value;W(Ne=>({...Ne,[B.profession]:X}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),B.skills.filter(I=>{const X=(L[B.profession]||"").trim().toLowerCase();return X?String(I.name||"").toLowerCase().includes(X):!0}).map(I=>d.jsx("button",{type:"button",onClick:()=>{w(B.profession),P(I.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===B.profession&&N===I.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:I.name,children:d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I.icon?d.jsx("img",{src:I.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,d.jsx("span",{className:"truncate",children:I.name})]})},I.id)),B.skills.filter(I=>{const X=(L[B.profession]||"").trim().toLowerCase();return X?String(I.name||"").toLowerCase().includes(X):!0}).length===0&&d.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},B.profession))})]}),d.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(E?"class":l)==="player"?!A||!E&&!$?d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):d.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[E&&(()=>{const B=A.skills||[],I=u.map(se=>({id:se.key,label:se.displayName||se.key,icon:K(se.profession,se.professionList,"w-3 h-3")})),X=B.map(se=>({id:se.id,label:se.name,icon:se.icon?d.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ne=[...B.map(se=>({id:se.id,label:se.name,type:"column",icon:se.icon?d.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4"}):void 0})),...u.map(se=>({id:se.key,label:se.displayName||se.key,type:"player",icon:K(se.profession,se.professionList,"w-3 h-3")}))],Me=new Set([...j.map(se=>`column:${se}`),...k.map(se=>`player:${se}`)]);return d.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx(gs,{options:Ne,selectedIds:Me,onSelect:se=>{se.type==="column"?U(Fe=>Fe.includes(se.id)?Fe.filter(Te=>Te!==se.id):[...Fe,se.id]):O(Fe=>Fe.includes(se.id)?Fe.filter(Te=>Te!==se.id):[...Fe,se.id])},className:"w-full sm:w-64"}),d.jsx(dr,{options:X,selectedIds:j,onToggle:se=>{U(Fe=>Fe.includes(se)?Fe.filter(Te=>Te!==se):[...Fe,se])},onClear:()=>U([]),buttonLabel:"Columns",buttonIcon:d.jsx(ms,{className:"h-3.5 w-3.5"})}),d.jsx(dr,{options:I,selectedIds:k,onToggle:se=>{O(Fe=>Fe.includes(se)?Fe.filter(Te=>Te!==se):[...Fe,se])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:d.jsx(ii,{className:"h-3.5 w-3.5"})})]}),(j.length>0||k.length>0)&&d.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{U([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),j.map(se=>{var Te;const Fe=((Te=B.find(vt=>vt.id===se))==null?void 0:Te.name)||se;return d.jsxs("button",{type:"button",onClick:()=>U(vt=>vt.filter(on=>on!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:Fe}),d.jsx("span",{className:"text-gray-400",children:""})]},se)}),k.map(se=>{var Te;const Fe=((Te=I.find(vt=>vt.id===se))==null?void 0:Te.label)||se;return d.jsxs("button",{type:"button",onClick:()=>O(vt=>vt.filter(on=>on!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:Fe}),d.jsx("span",{className:"text-gray-400",children:""})]},se)})]})]})})(),E?(()=>{var se,Fe;const B=A.skills||[],I=j.length>0?B.filter(Te=>j.includes(Te.id)):B,X=k.length>0?u.filter(Te=>k.includes(Te.key)):u,Ne=((se=I.find(Te=>Te.id===re.columnId))==null?void 0:se.id)||((Fe=I[0])==null?void 0:Fe.id)||"",Me=X.map(Te=>{const vt={},on={};return I.forEach(bn=>{var je;const hn=(je=Te.skillMap)==null?void 0:je[bn.id],ue=Number((hn==null?void 0:hn.damage)||0);on[bn.id]=ue,vt[bn.id]=Bo(ue)}),{player:Te,values:vt,numericValues:on}}).sort((Te,vt)=>{const on=Te.numericValues[Ne]??0,bn=vt.numericValues[Ne]??0;return(re.dir==="desc"?bn-on:on-bn)||String(Te.player.displayName||"").localeCompare(String(vt.player.displayName||""))});return d.jsx(ps,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ne,sortDirection:re.dir,onSortColumn:Te=>{Q(vt=>({columnId:Te,dir:vt.columnId===Te&&vt.dir==="desc"?"asc":"desc"}))},columns:I.map(Te=>({id:Te.id,label:d.jsx(kr,{name:Te.name,iconUrl:Te.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Me.map((Te,vt)=>({id:`${Te.player.key}-${vt}`,label:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-gray-500 font-mono",children:vt+1}),K(Te.player.profession,Te.player.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:Te.player.displayName})]}),values:Te.values}))})})():d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"stats-table-shell__head-stack",children:[d.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:d.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[K(A.profession,A.professionList,"w-4 h-4"),d.jsx("div",{className:"text-sm font-semibold text-gray-200",children:A.displayName}),d.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),d.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:d.jsx(kr,{name:($==null?void 0:$.name)||"",iconUrl:$==null?void 0:$.icon,iconClassName:"h-6 w-6"})})]}),d.jsxs("div",{className:"text-[11px] text-gray-500",children:[A.skills.length," skills | ",Bo(H)," total damage"]})]})}),d.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[d.jsx("div",{children:"Metric"}),d.jsx("div",{className:"text-right",children:"Value"})]})]}),d.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:Bo(($==null?void 0:$.downContribution)||0)},{label:"Total Damage",value:Bo(($==null?void 0:$.damage)||0)},{label:"DPS",value:$a(A.totalFightMs>0?(($==null?void 0:$.damage)||0)/(A.totalFightMs/1e3):0,1)}].map(B=>d.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[d.jsx("div",{className:"font-semibold text-white",children:B.label}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:B.value})]},B.label))})]})]}):!D||!E&&!te?d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):d.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[E&&(()=>{const B=D.skills||[],I=J.map(se=>({id:se.key,label:se.displayName||se.key,icon:K(se.profession,se.professionList,"w-3 h-3")})),X=B.map(se=>({id:se.id,label:se.name,icon:se.icon?d.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ne=[...B.map(se=>({id:se.id,label:se.name,type:"column",icon:se.icon?d.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4"}):void 0})),...J.map(se=>({id:se.key,label:se.displayName||se.key,type:"player",icon:K(se.profession,se.professionList,"w-3 h-3")}))],Me=new Set([...j.map(se=>`column:${se}`),...k.map(se=>`player:${se}`)]);return d.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx(gs,{options:Ne,selectedIds:Me,onSelect:se=>{se.type==="column"?U(Fe=>Fe.includes(se.id)?Fe.filter(Te=>Te!==se.id):[...Fe,se.id]):O(Fe=>Fe.includes(se.id)?Fe.filter(Te=>Te!==se.id):[...Fe,se.id])},className:"w-full sm:w-64"}),d.jsx(dr,{options:X,selectedIds:j,onToggle:se=>{U(Fe=>Fe.includes(se)?Fe.filter(Te=>Te!==se):[...Fe,se])},onClear:()=>U([]),buttonLabel:"Columns",buttonIcon:d.jsx(ms,{className:"h-3.5 w-3.5"})}),d.jsx(dr,{options:I,selectedIds:k,onToggle:se=>{O(Fe=>Fe.includes(se)?Fe.filter(Te=>Te!==se):[...Fe,se])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:d.jsx(ii,{className:"h-3.5 w-3.5"})})]}),(j.length>0||k.length>0)&&d.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{U([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),j.map(se=>{var Te;const Fe=((Te=B.find(vt=>vt.id===se))==null?void 0:Te.name)||se;return d.jsxs("button",{type:"button",onClick:()=>U(vt=>vt.filter(on=>on!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:Fe}),d.jsx("span",{className:"text-gray-400",children:""})]},se)}),k.map(se=>{var Te;const Fe=((Te=I.find(vt=>vt.id===se))==null?void 0:Te.label)||se;return d.jsxs("button",{type:"button",onClick:()=>O(vt=>vt.filter(on=>on!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:Fe}),d.jsx("span",{className:"text-gray-400",children:""})]},se)})]})]})})(),E?(()=>{var se,Fe;const B=D.skills||[],I=j.length>0?B.filter(Te=>j.includes(Te.id)):B,X=k.length>0?J.filter(Te=>k.includes(Te.key)):J,Ne=((se=I.find(Te=>Te.id===re.columnId))==null?void 0:se.id)||((Fe=I[0])==null?void 0:Fe.id)||"",Me=X.map(Te=>{const vt={},on={};return I.forEach(bn=>{var je;const hn=(je=Te.skillMap)==null?void 0:je[bn.id],ue=Number((hn==null?void 0:hn.damage)||0);on[bn.id]=ue,vt[bn.id]=Bo(ue)}),{player:Te,values:vt,numericValues:on}}).sort((Te,vt)=>{const on=Te.numericValues[Ne]??0,bn=vt.numericValues[Ne]??0;return(re.dir==="desc"?bn-on:on-bn)||String(Te.player.displayName||"").localeCompare(String(vt.player.displayName||""))});return d.jsx(ps,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ne,sortDirection:re.dir,onSortColumn:Te=>{Q(vt=>({columnId:Te,dir:vt.columnId===Te&&vt.dir==="desc"?"asc":"desc"}))},columns:I.map(Te=>({id:Te.id,label:d.jsx(kr,{name:Te.name,iconUrl:Te.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Me.map((Te,vt)=>({id:`${Te.player.key}-${vt}`,label:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-gray-500 font-mono",children:vt+1}),K(Te.player.profession,Te.player.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:Te.player.displayName})]}),values:Te.values}))})})():d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"stats-table-shell__head-stack",children:[d.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:d.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[K(D.profession,void 0,"w-4 h-4"),d.jsx("div",{className:"text-sm font-semibold text-gray-200",children:D.profession}),d.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),d.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:d.jsx(kr,{name:(te==null?void 0:te.name)||"",iconUrl:te==null?void 0:te.icon,iconClassName:"h-6 w-6"})})]}),d.jsxs("div",{className:"text-[11px] text-gray-500",children:[J.length," players | ",D.skills.length," skills"]})]})}),d.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[d.jsx("div",{children:"Player"}),d.jsxs("button",{type:"button",onClick:()=>z("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",d.jsx("span",{className:"text-[10px]",children:G.key==="down"?G.dir==="desc"?"":"":""})]}),d.jsxs("button",{type:"button",onClick:()=>z("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",d.jsx("span",{className:"text-[10px]",children:G.key==="damage"?G.dir==="desc"?"":"":""})]}),d.jsxs("button",{type:"button",onClick:()=>z("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",d.jsx("span",{className:"text-[10px]",children:G.key==="dps"?G.dir==="desc"?"":"":""})]})]})]}),d.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ne.map(B=>{var se;const I=(se=B.skillMap)==null?void 0:se[(te==null?void 0:te.id)||""],X=Number((I==null?void 0:I.downContribution)||0),Ne=Number((I==null?void 0:I.damage)||0),Me=B.totalFightMs>0?Ne/(B.totalFightMs/1e3):0;return d.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[K(B.profession,B.professionList,"w-4 h-4"),d.jsx("div",{className:"min-w-0",children:d.jsx("div",{className:"font-semibold text-white truncate",children:B.displayName})})]}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:Bo(X)}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:Bo(Ne)}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:$a(Me,1)})]},`${D.profession}-${B.key}`)})})]})]})})]})})]})},Mo=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>d.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[d.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),d.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),Oo=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"stats-table-shell__head-stack",children:[d.jsx("div",{className:"stats-table-shell__header",children:e}),d.jsx("div",{className:"stats-table-shell__columns",children:t})]}),d.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),sie=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:u,expandedSection:f,expandedSectionClosing:m,openExpandedSection:h,closeExpandedSection:p,isSectionVisible:v,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var E;const[w,S]=y.useState({key:"value",dir:"desc"}),[C,N]=y.useState({columnId:((E=t[0])==null?void 0:E.id)||"value",dir:"desc"}),P=f==="offense-detailed",[T,_]=y.useState([]),[A,$]=y.useState([]),D=t.filter(j=>j.label.toLowerCase().includes(r.trim().toLowerCase())),te=t.map(j=>({id:j.id,label:j.label})),K=te.filter(j=>j.label.toLowerCase().includes(r.trim().toLowerCase())),H=T.length>0?t.filter(j=>T.includes(j.id)):t,J=Array.from(new Map(e.offensePlayers.map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:u(j.profession,j.professionList,"w-3 h-3")})),G=new Set([...T.map(j=>`column:${j}`),...A.map(j=>`player:${j}`)]),ae=j=>{S(U=>({key:j,dir:U.key===j&&U.dir==="desc"?"asc":"desc"}))};return d.jsxs("div",{id:"offense-detailed","data-section-visible":v("offense-detailed"),"data-section-first":x("offense-detailed"),className:g("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${m?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(p1,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),d.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():h("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?d.jsx(Hi,{className:"w-4 h-4"}):d.jsx(Aa,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):P?d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx(gs,{options:[...te.map(j=>({...j,type:"column"})),...J.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?_(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id]):$(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id])},selectedIds:G,className:"w-full sm:w-64"}),d.jsx(dr,{options:K,selectedIds:T,onToggle:j=>{_(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>_([]),buttonIcon:d.jsx(ms,{className:"h-3.5 w-3.5"})}),d.jsx(dr,{options:J,selectedIds:A,onToggle:j=>{$(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:d.jsx(ii,{className:"h-3.5 w-3.5"})}),d.jsx(En,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||A.length>0)&&d.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{_([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(j=>{var k;const U=((k=te.find(O=>O.id===j))==null?void 0:k.label)||j;return d.jsxs("button",{type:"button",onClick:()=>_(O=>O.filter(re=>re!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:U}),d.jsx("span",{className:"text-gray-400",children:""})]},j)}),A.map(j=>d.jsxs("button",{type:"button",onClick:()=>$(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:j}),d.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),d.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:D.length===0?d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var Q,F;const j=Z=>Math.max(1,(Z.totalFightMs||0)/1e3),U=(Z,L,W)=>{var le,ne,z,B,I;if(L==="downContributionPercent"){const X=((le=Z.offenseTotals)==null?void 0:le.downContribution)||0,Ne=((ne=Z.offenseTotals)==null?void 0:ne.damage)||0;return Ne>0?X/Ne*100:0}if(W.isRate){const X=((z=Z.offenseRateWeights)==null?void 0:z[L])||0,Ne=((B=Z.offenseTotals)==null?void 0:B[L])||0;return X>0?Ne/X*100:0}return((I=Z.offenseTotals)==null?void 0:I[L])||0},k=(Z,L)=>{const W=n&&!L.isPercent&&o==="total"?0:2,le=c(Z,W);return L.isPercent?`${le}%`:le},O=((Q=H.find(Z=>Z.id===C.columnId))==null?void 0:Q.id)||((F=H[0])==null?void 0:F.id)||"",re=[...e.offensePlayers].filter(Z=>A.length===0||A.includes(Z.account)).map(Z=>{const L={},W={};return H.forEach(le=>{const ne=U(Z,le.id,le),z=o==="total"||le.isPercent||le.isRate?ne:o==="per1s"?ne/j(Z):ne*60/j(Z);W[le.id]=z,L[le.id]=k(z,le)}),{row:Z,values:L,numericValues:W}}).sort((Z,L)=>{const W=Z.numericValues[O]??0,le=L.numericValues[O]??0;return(C.dir==="desc"?le-W:W-le)||String(Z.row.account||"").localeCompare(String(L.row.account||""))});return d.jsx(ps,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:O,sortDirection:C.dir,onSortColumn:Z=>{N(L=>({columnId:Z,dir:L.columnId===Z&&L.dir==="desc"?"asc":"desc"}))},columns:H.map(Z=>({id:Z.id,label:Z.label,align:"right",minWidth:90})),rows:re.map((Z,L)=>({id:`${Z.row.account}-${L}`,label:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-gray-500 font-mono",children:L+1}),u(Z.row.profession,Z.row.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:Z.row.account})]}),values:Z.values}))})})()})]}):d.jsx(Mo,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),d.jsx("input",{value:r,onChange:j=>i(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),d.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:D.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):D.map(j=>d.jsx("button",{onClick:()=>s(j.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===j.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:j.label},j.id))})]}),content:d.jsx(d.Fragment,{children:(()=>{const j=t.find(Q=>Q.id===a)||t[0],U=Q=>Math.max(1,(Q.totalFightMs||0)/1e3),k=Q=>{var F,Z,L,W,le;if(j.id==="downContributionPercent"){const ne=((F=Q.offenseTotals)==null?void 0:F.downContribution)||0,z=((Z=Q.offenseTotals)==null?void 0:Z.damage)||0;return z>0?ne/z*100:0}if(j.isRate){const ne=((L=Q.offenseRateWeights)==null?void 0:L[j.id])||0,z=((W=Q.offenseTotals)==null?void 0:W[j.id])||0;return ne>0?z/ne*100:0}return((le=Q.offenseTotals)==null?void 0:le[j.id])||0},O=Q=>{const F=n&&!j.isPercent&&o==="total"?0:2,Z=c(Q,F);return j.isPercent?`${Z}%`:Z},re=[...e.offensePlayers].map(Q=>({...Q,total:k(Q),per1s:j.isPercent||j.isRate?k(Q):k(Q)/U(Q),per60s:j.isPercent||j.isRate?k(Q):k(Q)*60/U(Q)})).sort((Q,F)=>{const Z=w.key==="fightTime"?Number(Q.totalFightMs||0):Number(o==="total"?Q.total:o==="per1s"?Q.per1s:Q.per60s),L=w.key==="fightTime"?Number(F.totalFightMs||0):Number(o==="total"?F.total:o==="per1s"?F.per1s:F.per60s);return(w.dir==="desc"?L-Z:Z-L)||Q.account.localeCompare(F.account)});return d.jsx(Oo,{expanded:f==="offense-detailed",header:d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-200",children:j.label}),d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:d.jsx(En,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[d.jsx("div",{className:"text-center",children:"#"}),d.jsx("div",{children:"Player"}),d.jsxs("button",{type:"button",onClick:()=>ae("value"),className:`text-right transition-colors ${w.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),d.jsxs("button",{type:"button",onClick:()=>ae("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:d.jsx(d.Fragment,{children:re.map((Q,F)=>d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[d.jsx("div",{className:"text-center text-gray-500 font-mono",children:F+1}),d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u(Q.profession,Q.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:Q.account})]}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Z=o==="total"?Q.total:o==="per1s"?Q.per1s:Q.per60s;return O(Z)})()}),d.jsx("div",{className:"text-right font-mono text-gray-400",children:Q.totalFightMs?`${(Q.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${j.id}-${Q.account}-${F}`))})})})()})})]})},oie=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:u,showConditionDamage:f,renderProfessionIcon:m,expandedSection:h,expandedSectionClosing:p,openExpandedSection:v,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var E;const C=h==="conditions-outgoing",[N,P]=y.useState([]),[T,_]=y.useState([]),[A,$]=y.useState({columnId:"all",dir:"desc"}),D=j=>{if(!j)return 0;if(s!=="outgoing"){const re=Number(j.applicationsFromUptime);return Number.isFinite(re)&&re>0?re:Number(j.applications||0)}const U=Number(j.applicationsFromUptime);if(Number.isFinite(U)&&U>0)return U;const k=Number(j.applicationsFromBuffsActive);if(Number.isFinite(k)&&k>0)return k;const O=Number(j.applicationsFromBuffs);return Number.isFinite(O)&&O>0?O:Number(j.applications||0)},te=[...e||[]].sort((j,U)=>(U.damage||0)-(j.damage||0)),K=te.filter(j=>j.name.toLowerCase().includes(n.trim().toLowerCase())),ie=K.map(j=>({id:j.name,label:j.name,icon:j.icon?d.jsx("img",{src:j.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),J=N.length>0?te.filter(j=>N.includes(j.name)):te,G=Array.from(new Map((t||[]).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:m(j.profession,j.professionList,"w-3 h-3")})),ae=new Set([...N.map(j=>`column:${j}`),...T.map(j=>`player:${j}`)]);return d.jsxs("div",{id:"conditions-outgoing","data-section-visible":g("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${h==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(t0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),d.jsx("button",{type:"button",onClick:()=>h==="conditions-outgoing"?x():v("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":h==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:h==="conditions-outgoing"?"Close":"Expand",children:h==="conditions-outgoing"?d.jsx(Hi,{className:"w-4 h-4"}):d.jsx(Aa,{className:"w-4 h-4"})})]}),e&&e.length>0?C?d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx(gs,{options:[...te.map(j=>({id:j.name,label:j.name,type:"column"})),...G.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?P(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id]):_(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id])},selectedIds:ae,className:"w-full sm:w-64"}),d.jsx(dr,{options:ie,selectedIds:N,onToggle:j=>{P(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>P([]),buttonIcon:d.jsx(ms,{className:"h-3.5 w-3.5"})}),d.jsx(dr,{options:G,selectedIds:T,onToggle:j=>{_(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:d.jsx(ii,{className:"h-3.5 w-3.5"})}),d.jsx(En,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&d.jsx(En,{value:c.key,onChange:j=>u({key:j,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),d.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:K.length===0?d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const j=c.key,U=[{id:"all",label:"All Conditions",icon:null},...J],k=(t||[]).filter(Q=>T.length===0||T.includes(Q.account)).map(Q=>{const F=Q.conditions||{},Z={},L={};return U.forEach(W=>{if(W.id==="all"||W.name==="All Conditions"){const z=Object.values(F).reduce((I,X)=>{const Ne=D(X);return I.applications+=Number(Ne||0),I.damage+=Number((X==null?void 0:X.damage)||0),I},{applications:0,damage:0}),B=j==="applications"?z.applications:z.damage;L.all=B||0,Z.all=Math.round(B||0).toLocaleString();return}const le=F[W.name],ne=j==="applications"?D(le):Number((le==null?void 0:le.damage)||0);L[W.name]=Number(ne||0),Z[W.name]=Math.round(ne||0).toLocaleString()}),{player:Q,values:Z,numericValues:L}}).filter(Q=>Object.values(Q.values).some(F=>F!=="0")),O=["all",...J.map(Q=>Q.name)].includes(A.columnId)?A.columnId:"all",re=[...k].sort((Q,F)=>{const Z=Q.numericValues[O]??0,L=F.numericValues[O]??0;return(A.dir==="desc"?L-Z:Z-L)||String(Q.player.account||"").localeCompare(String(F.player.account||""))});return d.jsx(ps,{title:"Conditions - Dense View",subtitle:j==="applications"?"Applications":"Damage",sortColumnId:O,sortDirection:A.dir,onSortColumn:Q=>{$(F=>({columnId:Q,dir:F.columnId===Q&&F.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...J.map(Q=>({id:Q.name,label:d.jsx(kr,{name:Q.name,iconUrl:Q.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:re.map((Q,F)=>({id:`${Q.player.account}-${F}`,label:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-gray-500 font-mono",children:F+1}),m(Q.player.profession,Q.player.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:Q.player.account})]}),values:Q.values}))})})()}),(N.length>0||T.length>0)&&d.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{P([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),N.map(j=>d.jsxs("button",{type:"button",onClick:()=>P(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:j}),d.jsx("span",{className:"text-gray-400",children:""})]},j)),T.map(j=>d.jsxs("button",{type:"button",onClick:()=>_(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:j}),d.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}):d.jsx(Mo,{expanded:h==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${h==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),d.jsx("input",{value:n,onChange:j=>r(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),d.jsx("div",{className:`${S} ${h==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:K.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),K.map(j=>d.jsx("button",{type:"button",onClick:()=>a(j.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:d.jsx(kr,{name:j.name,iconUrl:j.icon,iconClassName:"h-5 w-5"})},j.name))]})})]}),content:d.jsx(Oo,{expanded:h==="conditions-outgoing",header:d.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":d.jsx(kr,{name:i,iconUrl:(E=e.find(j=>j.name===i))==null?void 0:E.icon,iconClassName:"h-5 w-5"})}),d.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),d.jsx(En,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:d.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[d.jsx("div",{className:"text-center",children:"#"}),d.jsx("div",{children:"Player"}),d.jsxs("button",{type:"button",onClick:()=>{u({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?d.jsxs("button",{type:"button",onClick:()=>{u({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:d.jsx(d.Fragment,{children:(()=>{const U=(t||[]).map(k=>{const O=k.conditions||{};if(i==="all"){const Q=Object.values(O).reduce((F,Z)=>{const L=D(Z);return F.applications+=Number(L||0),F.damage+=Number((Z==null?void 0:Z.damage)||0),F},{applications:0,damage:0});return{...k,applications:Q.applications,damage:Q.damage}}const re=O[i];return{...k,applications:D(re),damage:Number((re==null?void 0:re.damage)||0)}}).filter(k=>k.applications>0||k.damage>0).sort((k,O)=>{const re=c.key==="applications"?k.applications||0:k.damage||0,Q=c.key==="applications"?O.applications||0:O.damage||0,F=c.dir==="desc"?Q-re:re-Q;if(F!==0)return F;const Z=c.key==="applications"?(O.damage||0)-(k.damage||0):(O.applications||0)-(k.applications||0);return Z!==0?Z:String(k.account||"").localeCompare(String(O.account||""))});return U.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):U.map((k,O)=>{var z;const re=k.conditions||{};let Q={};i==="all"?Object.values(re).forEach(B=>{const I=(B==null?void 0:B.skills)||{};Object.values(I).forEach(X=>{const Ne=(X==null?void 0:X.name)||"Unknown",Me=Number((X==null?void 0:X.hits)||0),se=Number((X==null?void 0:X.damage)||0);if((!Number.isFinite(Me)||Me<=0)&&(!Number.isFinite(se)||se<=0))return;const Fe=Q[Ne]||{name:Ne,hits:0,damage:0,icon:X==null?void 0:X.icon};Fe.hits+=Number.isFinite(Me)?Me:0,Fe.damage+=Number.isFinite(se)?se:0,!Fe.icon&&(X!=null&&X.icon)&&(Fe.icon=X.icon),Q[Ne]=Fe})}):Q=((z=re[i])==null?void 0:z.skills)||{};const F=Object.values(Q).filter(B=>Number.isFinite(B.hits)&&B.hits>0).sort((B,I)=>I.hits-B.hits||B.name.localeCompare(I.name)),Z=Object.values(Q).filter(B=>Number.isFinite(B.damage)&&B.damage>0).sort((B,I)=>I.damage-B.damage||B.name.localeCompare(I.name)),L=i==="all"&&F.length>0,W=i==="all"&&Z.length>0,le=Math.round(k.applications||0).toLocaleString(),ne=Math.round(k.damage||0).toLocaleString();return d.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[d.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(k.profession,k.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:k.account})]}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:L?d.jsx(OA,{value:le,label:"Condition Sources",items:F.map(B=>({name:B.name,iconUrl:B.icon,value:Math.round(B.hits).toLocaleString()})),className:"justify-end"}):le}),f?d.jsx("div",{className:"text-right font-mono text-gray-300",children:W?d.jsx(OA,{value:ne,label:"Condition Damage Sources",items:Z.map(B=>({name:B.name,iconUrl:B.icon,value:Math.round(B.damage).toLocaleString()})),className:"justify-end"}):ne}):null]},`${k.account}-${O}`)})})()})})}):d.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},lie=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:c,setBoonSearch:u,formatBoonMetricDisplay:f,getBoonMetricValue:m,renderProfessionIcon:h,roundCountStats:p,expandedSection:v,expandedSectionClosing:x,openExpandedSection:g,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:N})=>{const[P,T]=y.useState({key:"value",dir:"desc"}),[_,A]=y.useState({columnId:"",dir:"desc"}),$=v==="boon-output",[D,te]=y.useState([]),[K,ie]=y.useState([]),H=e.boonTables||[],G=D.length>0?H.filter(k=>D.includes(k.id)):H,ae=l.map(k=>({id:k.id,label:k.name,icon:k.icon?d.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),E=Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:h(k.profession,k.professionList,"w-3 h-3")})),j=new Set([...D.map(k=>`column:${k}`),...K.map(k=>`player:${k}`)]),U=k=>{T(O=>({key:k,dir:O.key===k&&O.dir==="desc"?"asc":"desc"}))};return d.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${v==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${x?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(v1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),d.jsx("button",{type:"button",onClick:()=>v==="boon-output"?b():g("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":v==="boon-output"?"Close Boon Output":"Expand Boon Output",title:v==="boon-output"?"Close":"Expand",children:v==="boon-output"?d.jsx(Hi,{className:"w-4 h-4"}):d.jsx(Aa,{className:"w-4 h-4"})})]}),e.boonTables.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):$?d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx(gs,{options:[...H.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:h(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?te(O=>O.includes(k.id)?O.filter(re=>re!==k.id):[...O,k.id]):ie(O=>O.includes(k.id)?O.filter(re=>re!==k.id):[...O,k.id])},selectedIds:j,className:"w-full sm:w-64"}),d.jsx(dr,{options:ae,selectedIds:D,onToggle:k=>{te(O=>O.includes(k)?O.filter(re=>re!==k):[...O,k])},onClear:()=>te([]),buttonIcon:d.jsx(ms,{className:"h-3.5 w-3.5"})}),d.jsx(dr,{options:E,selectedIds:K,onToggle:k=>{ie(O=>O.includes(k)?O.filter(re=>re!==k):[...O,k])},onClear:()=>ie([]),buttonLabel:"Players",buttonIcon:d.jsx(ii,{className:"h-3.5 w-3.5"})}),d.jsx(En,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),d.jsx(En,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||K.length>0)&&d.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{te([]),ie([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(k=>{var re;const O=((re=H.find(Q=>Q.id===k))==null?void 0:re.name)||k;return d.jsxs("button",{type:"button",onClick:()=>te(Q=>Q.filter(F=>F!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:O}),d.jsx("span",{className:"text-gray-400",children:""})]},k)}),K.map(k=>d.jsxs("button",{type:"button",onClick:()=>ie(O=>O.filter(re=>re!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:k}),d.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),d.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:H.length===0?d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var Z,L;const k=G,O=((Z=k.find(W=>W.id===_.columnId))==null?void 0:Z.id)||(a&&k.some(W=>W.id===a)?a:void 0)||((L=k[0])==null?void 0:L.id)||"",re=new Map,Q=new Map;k.forEach(W=>{const le=new Map;W.rows.forEach(ne=>{const z=ne.account||ne.name||ne.id;z&&(le.set(z,ne),Q.has(z)||Q.set(z,ne))}),re.set(W.id,le)});const F=Array.from(Q.entries()).filter(([W])=>K.length===0||K.includes(String(W))).map(([W,le])=>{const ne={};return k.forEach(z=>{var I;const B=(I=re.get(z.id))==null?void 0:I.get(W);ne[z.id]=B?f(B,t,z.stacking,r,{roundCountStats:p}):"-"}),{key:W,row:le,values:ne}}).sort((W,le)=>{var Me,se;if(!O)return String(W.key).localeCompare(String(le.key));const ne=k.find(Fe=>Fe.id===O),z=ne?(Me=re.get(ne.id))==null?void 0:Me.get(W.key):null,B=ne?(se=re.get(ne.id))==null?void 0:se.get(le.key):null,I=z?m(z,t,ne==null?void 0:ne.stacking,r):0,X=B?m(B,t,ne==null?void 0:ne.stacking,r):0;return(_.dir==="desc"?X-I:I-X)||String(W.key).localeCompare(String(le.key))});return d.jsx(ps,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:O,sortDirection:_.dir,onSortColumn:W=>{A(le=>({columnId:W,dir:le.columnId===W&&le.dir==="desc"?"asc":"desc"}))},columns:k.map(W=>({id:W.id,label:d.jsx(kr,{name:W.name,iconUrl:W.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:F.map((W,le)=>({id:`${W.key}-${le}`,label:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-gray-500 font-mono",children:le+1}),h(W.row.profession,W.row.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:W.row.account||W.row.name||W.key})]}),values:W.values}))})})()})]}):d.jsx(Mo,{expanded:v==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${v==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${v==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),d.jsx("input",{value:c,onChange:k=>u(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),d.jsx("div",{className:`${N} ${v==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(k=>d.jsx("button",{onClick:()=>s(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:d.jsx(kr,{name:k.name,iconUrl:k.icon,iconClassName:"h-3.5 w-3.5"})},k.id))})]}),content:o?d.jsx(Oo,{expanded:v==="boon-output",maxHeightClass:"max-h-64",header:d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-200",children:d.jsx(kr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[d.jsx(En,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),d.jsx(En,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[d.jsx("div",{className:"text-center",children:"#"}),d.jsx("div",{children:"Player"}),d.jsxs("button",{type:"button",onClick:()=>U("value"),className:`text-right transition-colors ${P.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",P.key==="value"?P.dir==="desc"?" ":" ":""]}),d.jsxs("button",{type:"button",onClick:()=>U("fightTime"),className:`text-right transition-colors ${P.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",P.key==="fightTime"?P.dir==="desc"?" ":" ":""]})]})]}),rows:d.jsx(d.Fragment,{children:[...o.rows].sort((k,O)=>(()=>{const re=P.key==="fightTime"?Number(k.activeTimeMs||0):m(k,t,o.stacking,r),Q=P.key==="fightTime"?Number(O.activeTimeMs||0):m(O,t,o.stacking,r);return(P.dir==="desc"?Q-re:re-Q)||String(k.account||"").localeCompare(String(O.account||""))})()).map((k,O)=>d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[d.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(k.profession,k.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:k.account})]}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:f(k,t,o.stacking,r,{roundCountStats:p})}),d.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeTimeMs?`${(k.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${O}`))})}):d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},cie=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:u,expandedSection:f,expandedSectionClosing:m,openExpandedSection:h,closeExpandedSection:p,isSectionVisible:v,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var E;const[w,S]=y.useState({key:"value",dir:"desc"}),[C,N]=y.useState({columnId:((E=t[0])==null?void 0:E.id)||"value",dir:"desc"}),P=f==="defense-detailed",[T,_]=y.useState([]),[A,$]=y.useState([]),D=t.filter(j=>j.label.toLowerCase().includes(n.trim().toLowerCase())),te=t.map(j=>({id:j.id,label:j.label})),K=te.filter(j=>j.label.toLowerCase().includes(n.trim().toLowerCase())),H=T.length>0?t.filter(j=>T.includes(j.id)):t,J=Array.from(new Map(e.defensePlayers.map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:u(j.profession,j.professionList,"w-3 h-3")})),G=new Set([...T.map(j=>`column:${j}`),...A.map(j=>`player:${j}`)]),ae=j=>{S(U=>({key:j,dir:U.key===j&&U.dir==="desc"?"asc":"desc"}))};return d.jsxs("div",{id:"defense-detailed","data-section-visible":v("defense-detailed"),"data-section-first":x("defense-detailed"),className:g("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${m?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(yf,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),d.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():h("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?d.jsx(Hi,{className:"w-4 h-4"}):d.jsx(Aa,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):P?d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx(gs,{options:[...te.map(j=>({...j,type:"column"})),...J.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?_(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id]):$(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id])},selectedIds:G,className:"w-full sm:w-64"}),d.jsx(dr,{options:K,selectedIds:T,onToggle:j=>{_(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>_([]),buttonIcon:d.jsx(ms,{className:"h-3.5 w-3.5"})}),d.jsx(dr,{options:J,selectedIds:A,onToggle:j=>{$(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:d.jsx(ii,{className:"h-3.5 w-3.5"})}),d.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||A.length>0)&&d.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{_([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(j=>{var k;const U=((k=te.find(O=>O.id===j))==null?void 0:k.label)||j;return d.jsxs("button",{type:"button",onClick:()=>_(O=>O.filter(re=>re!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:U}),d.jsx("span",{className:"text-gray-400",children:""})]},j)}),A.map(j=>d.jsxs("button",{type:"button",onClick:()=>$(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:j}),d.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),d.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:D.length===0?d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var re,Q;const j=F=>Math.max(1,(F.activeMs||0)/1e3),U=(F,Z)=>{const L=Z.isPercent,le=c(F,l&&!L&&s==="total"?0:2);return L?`${le}%`:le},k=((re=H.find(F=>F.id===C.columnId))==null?void 0:re.id)||((Q=H[0])==null?void 0:Q.id)||"",O=[...e.defensePlayers].filter(F=>A.length===0||A.includes(F.account)).map(F=>{const Z={},L={};return H.forEach(W=>{var B;const le=((B=F.defenseTotals)==null?void 0:B[W.id])||0,ne=W.isPercent,z=s==="total"||ne?le:s==="per1s"?le/j(F):le*60/j(F);L[W.id]=z,Z[W.id]=U(z,W)}),{row:F,values:Z,numericValues:L}}).sort((F,Z)=>{const L=F.numericValues[k]??0,W=Z.numericValues[k]??0;return(C.dir==="desc"?W-L:L-W)||String(F.row.account||"").localeCompare(String(Z.row.account||""))});return d.jsx(ps,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:k,sortDirection:C.dir,onSortColumn:F=>{N(Z=>({columnId:F,dir:Z.columnId===F&&Z.dir==="desc"?"asc":"desc"}))},columns:H.map(F=>({id:F.id,label:F.label,align:"right",minWidth:90})),rows:O.map((F,Z)=>({id:`${F.row.account}-${Z}`,label:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-gray-500 font-mono",children:Z+1}),u(F.row.profession,F.row.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:F.row.account})]}),values:F.values}))})})()})]}):d.jsx(Mo,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),d.jsx("input",{value:n,onChange:j=>r(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),d.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:D.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):D.map(j=>d.jsx("button",{onClick:()=>a(j.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:j.label},j.id))})]}),content:d.jsx(d.Fragment,{children:(()=>{const j=t.find(O=>O.id===i)||t[0],U=O=>Math.max(1,(O.activeMs||0)/1e3),k=[...e.defensePlayers].map(O=>{var re,Q,F;return{...O,total:((re=O.defenseTotals)==null?void 0:re[j.id])||0,per1s:(((Q=O.defenseTotals)==null?void 0:Q[j.id])||0)/U(O),per60s:(((F=O.defenseTotals)==null?void 0:F[j.id])||0)*60/U(O)}}).sort((O,re)=>{const Q=w.key==="fightTime"?Number(O.activeMs||0):Number(s==="total"?O.total:s==="per1s"?O.per1s:O.per60s),F=w.key==="fightTime"?Number(re.activeMs||0):Number(s==="total"?re.total:s==="per1s"?re.per1s:re.per60s);return(w.dir==="desc"?F-Q:Q-F)||O.account.localeCompare(re.account)});return d.jsx(Oo,{expanded:f==="defense-detailed",header:d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-200",children:j.label}),d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:d.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[d.jsx("div",{className:"text-center",children:"#"}),d.jsx("div",{children:"Player"}),d.jsxs("button",{type:"button",onClick:()=>ae("value"),className:`text-right transition-colors ${w.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),d.jsxs("button",{type:"button",onClick:()=>ae("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:d.jsx(d.Fragment,{children:k.map((O,re)=>d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[d.jsx("div",{className:"text-center text-gray-500 font-mono",children:re+1}),d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u(O.profession,O.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:O.account})]}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Q=s==="total"?O.total:s==="per1s"?O.per1s:O.per60s;return c(Q,l&&s==="total"?0:2)})()}),d.jsx("div",{className:"text-right font-mono text-gray-400",children:O.activeMs?`${(O.activeMs/1e3).toFixed(1)}s`:"-"})]},`${j.id}-${O.account}-${re}`))})})})()})})]})},uie=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:u,formatWithCommas:f,renderProfessionIcon:m,expandedSection:h,expandedSectionClosing:p,openExpandedSection:v,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var le,ne;const C=((le=t.find(z=>z.id==="totalMitigation"))==null?void 0:le.id)||((ne=t[0])==null?void 0:ne.id)||"totalMitigation",[N,P]=y.useState({key:"value",dir:"desc"}),[T,_]=y.useState({columnId:C,dir:"desc"}),A=h==="defense-mitigation",[$,D]=y.useState([]),[te,K]=y.useState([]),[ie,H]=y.useState([]),J=e.damageMitigationPlayers||[],G=e.damageMitigationMinions||[],ae=l==="minions"?G:J,E=J.length>0||G.length>0,j=t.filter(z=>z.label.toLowerCase().includes(n.trim().toLowerCase())),U=t.map(z=>({id:z.id,label:z.label})),k=U.filter(z=>z.label.toLowerCase().includes(n.trim().toLowerCase())),re=$.length>0?t.filter(z=>$.includes(z.id)):t,Q=Array.from(new Map(ae.map(z=>[z.account,z])).values()).map(z=>({id:z.account,label:z.account,icon:m(z.profession,z.professionList,"w-3 h-3")})),F=Array.from(new Map(G.map(z=>[z.minion,z])).values()).filter(z=>z==null?void 0:z.minion).map(z=>({id:String(z.minion),label:String(z.minion)})),Z=new Set([...$.map(z=>`column:${z}`),...te.map(z=>`player:${z}`)]),L=z=>{P(B=>({key:z,dir:B.key===z&&B.dir==="desc"?"asc":"desc"}))},W=z=>f(z,u&&s==="total"?0:2);return d.jsxs("div",{id:"defense-mitigation","data-section-visible":g("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${h==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(y1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),d.jsx("button",{type:"button",onClick:()=>h==="defense-mitigation"?x():v("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":h==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:h==="defense-mitigation"?"Close":"Expand",children:h==="defense-mitigation"?d.jsx(Hi,{className:"w-4 h-4"}):d.jsx(Aa,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),E?A?d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx(gs,{options:[...U.map(z=>({...z,type:"column"})),...Q.map(z=>({...z,type:"player"}))],onSelect:z=>{z.type==="column"?D(B=>B.includes(z.id)?B.filter(I=>I!==z.id):[...B,z.id]):K(B=>B.includes(z.id)?B.filter(I=>I!==z.id):[...B,z.id])},selectedIds:Z,className:"w-full sm:w-64"}),d.jsx(dr,{options:k,selectedIds:$,onToggle:z=>{D(B=>B.includes(z)?B.filter(I=>I!==z):[...B,z])},onClear:()=>D([]),buttonIcon:d.jsx(ms,{className:"h-3.5 w-3.5"})}),d.jsx(dr,{options:Q,selectedIds:te,onToggle:z=>{K(B=>B.includes(z)?B.filter(I=>I!==z):[...B,z])},onClear:()=>K([]),buttonLabel:"Players",buttonIcon:d.jsx(ii,{className:"h-3.5 w-3.5"})}),l==="minions"&&d.jsx(dr,{options:F,selectedIds:ie,onToggle:z=>{H(B=>B.includes(z)?B.filter(I=>I!==z):[...B,z])},onClear:()=>H([]),buttonLabel:"Minions"}),d.jsx(En,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),d.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),($.length>0||te.length>0)&&d.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{D([]),K([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(z=>{var I;const B=((I=U.find(X=>X.id===z))==null?void 0:I.label)||z;return d.jsxs("button",{type:"button",onClick:()=>D(X=>X.filter(Ne=>Ne!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:B}),d.jsx("span",{className:"text-gray-400",children:""})]},z)}),te.map(z=>d.jsxs("button",{type:"button",onClick:()=>K(B=>B.filter(I=>I!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:z}),d.jsx("span",{className:"text-gray-400",children:""})]},z))]}),l==="minions"&&ie.length>0&&d.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>H([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),ie.map(z=>d.jsxs("button",{type:"button",onClick:()=>H(B=>B.filter(I=>I!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:z}),d.jsx("span",{className:"text-gray-400",children:""})]},z))]})]}),d.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ae.length===0?d.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):j.length===0?d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var X,Ne;const z=Me=>Math.max(1,(Me.activeMs||0)/1e3),B=((X=re.find(Me=>Me.id===T.columnId))==null?void 0:X.id)||((Ne=re[0])==null?void 0:Ne.id)||"",I=[...ae].filter(Me=>te.length===0||te.includes(Me.account)).filter(Me=>l!=="minions"||!ie.length?!0:ie.includes(String(Me.minion||""))).map(Me=>{const se={},Fe={};return re.forEach(Te=>{var bn;const vt=((bn=Me.mitigationTotals)==null?void 0:bn[Te.id])||0,on=s==="total"?vt:s==="per1s"?vt/z(Me):vt*60/z(Me);Fe[Te.id]=on,se[Te.id]=W(on)}),{row:Me,values:se,numericValues:Fe}}).sort((Me,se)=>{const Fe=Me.numericValues[B]??0,Te=se.numericValues[B]??0;return(T.dir==="desc"?Te-Fe:Fe-Te)||String(Me.row.account||"").localeCompare(String(se.row.account||""))});return d.jsx(ps,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:B,sortDirection:T.dir,onSortColumn:Me=>{_(se=>({columnId:Me,dir:se.columnId===Me&&se.dir==="desc"?"asc":"desc"}))},columns:re.map(Me=>({id:Me.id,label:Me.label,align:"right",minWidth:90})),rows:I.map((Me,se)=>({id:`${Me.row.account}-${Me.row.minion||"player"}-${se}`,label:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-gray-500 font-mono",children:se+1}),m(Me.row.profession,Me.row.professionList,"w-4 h-4"),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"truncate",children:Me.row.account}),Me.row.minion&&d.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Me.row.minion})]})]}),values:Me.values}))})})()})]}):d.jsx(Mo,{expanded:h==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${h==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),d.jsx("input",{value:n,onChange:z=>r(z.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),d.jsx("div",{className:`${S} ${h==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:j.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):j.map(z=>d.jsx("button",{onClick:()=>a(z.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===z.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:z.label},z.id))})]}),content:d.jsx(d.Fragment,{children:(()=>{const z=t.find(X=>X.id===i)||t[0],B=X=>Math.max(1,(X.activeMs||0)/1e3),I=[...ae].map(X=>{var Ne,Me,se;return{...X,total:((Ne=X.mitigationTotals)==null?void 0:Ne[z.id])||0,per1s:(((Me=X.mitigationTotals)==null?void 0:Me[z.id])||0)/B(X),per60s:(((se=X.mitigationTotals)==null?void 0:se[z.id])||0)*60/B(X)}}).filter(X=>l!=="minions"||!ie.length?!0:ie.includes(String(X.minion||""))).sort((X,Ne)=>{const Me=N.key==="fightTime"?Number(X.activeMs||0):Number(s==="total"?X.total:s==="per1s"?X.per1s:X.per60s),se=N.key==="fightTime"?Number(Ne.activeMs||0):Number(s==="total"?Ne.total:s==="per1s"?Ne.per1s:Ne.per60s);return(N.dir==="desc"?se-Me:Me-se)||X.account.localeCompare(Ne.account)});return d.jsx(Oo,{expanded:h==="defense-mitigation",header:d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-200",children:z.label}),d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"px-4 py-2 bg-white/5",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(En,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),d.jsx("div",{className:"ml-auto",children:d.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[d.jsx("div",{className:"text-center",children:"#"}),d.jsx("div",{children:"Player"}),d.jsxs("button",{type:"button",onClick:()=>L("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),d.jsxs("button",{type:"button",onClick:()=>L("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:I.length===0?d.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):d.jsx(d.Fragment,{children:I.map((X,Ne)=>d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[d.jsx("div",{className:"text-center text-gray-500 font-mono",children:Ne+1}),d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(X.profession,X.professionList,"w-4 h-4"),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"truncate",children:X.account}),X.minion&&d.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:X.minion})]})]}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Me=s==="total"?X.total:s==="per1s"?X.per1s:X.per60s;return W(Me)})()}),d.jsx("div",{className:"text-right font-mono text-gray-400",children:X.activeMs?`${(X.activeMs/1e3).toFixed(1)}s`:"-"})]},`${z.id}-${X.account}-${X.minion||"player"}-${Ne}`))})})})()})}):d.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},die=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:c,roundCountStats:u,formatWithCommas:f,renderProfessionIcon:m,expandedSection:h,expandedSectionClosing:p,openExpandedSection:v,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var U;const[C,N]=y.useState({key:"value",dir:"desc"}),[P,T]=y.useState({columnId:((U=t[0])==null?void 0:U.id)||"value",dir:"desc"}),_=h==="support-detailed",[A,$]=y.useState([]),[D,te]=y.useState([]),K=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),ie=t.map(k=>({id:k.id,label:k.label})),H=ie.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),G=A.length>0?t.filter(k=>A.includes(k.id)):t,ae=Array.from(new Map(e.supportPlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:m(k.profession,k.professionList,"w-3 h-3")})),E=new Set([...A.map(k=>`column:${k}`),...D.map(k=>`player:${k}`)]),j=k=>{N(O=>({key:k,dir:O.key===k&&O.dir==="desc"?"asc":"desc"}))};return d.jsxs("div",{id:"support-detailed","data-section-visible":g("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${h==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(h1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),d.jsx("button",{type:"button",onClick:()=>h==="support-detailed"?x():v("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":h==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:h==="support-detailed"?"Close":"Expand",children:h==="support-detailed"?d.jsx(Hi,{className:"w-4 h-4"}):d.jsx(Aa,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):_?d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx(gs,{options:[...ie.map(k=>({...k,type:"column"})),...ae.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?$(O=>O.includes(k.id)?O.filter(re=>re!==k.id):[...O,k.id]):te(O=>O.includes(k.id)?O.filter(re=>re!==k.id):[...O,k.id])},selectedIds:E,className:"w-full sm:w-64"}),d.jsx(dr,{options:H,selectedIds:A,onToggle:k=>{$(O=>O.includes(k)?O.filter(re=>re!==k):[...O,k])},onClear:()=>$([]),buttonIcon:d.jsx(ms,{className:"h-3.5 w-3.5"})}),d.jsx(dr,{options:ae,selectedIds:D,onToggle:k=>{te(O=>O.includes(k)?O.filter(re=>re!==k):[...O,k])},onClear:()=>te([]),buttonLabel:"Players",buttonIcon:d.jsx(ii,{className:"h-3.5 w-3.5"})}),d.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&d.jsx(En,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(A.length>0||D.length>0)&&d.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{$([]),te([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(k=>{var re;const O=((re=ie.find(Q=>Q.id===k))==null?void 0:re.label)||k;return d.jsxs("button",{type:"button",onClick:()=>$(Q=>Q.filter(F=>F!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:O}),d.jsx("span",{className:"text-gray-400",children:""})]},k)}),D.map(k=>d.jsxs("button",{type:"button",onClick:()=>te(O=>O.filter(re=>re!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:k}),d.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),d.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:K.length===0?d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var Z,L;const k=(W,le)=>{var ne,z,B;if(le==="condiCleanse"){const I=((ne=W.supportTotals)==null?void 0:ne.condiCleanse)||0,X=((z=W.supportTotals)==null?void 0:z.condiCleanseSelf)||0;return l==="all"?I+X:I}return((B=W.supportTotals)==null?void 0:B[le])||0},O=W=>Math.max(1,(W.activeMs||0)/1e3),re=(W,le)=>{const ne=W.isTime?1:u&&s==="total"?0:2;return f(le,ne)},Q=((Z=G.find(W=>W.id===P.columnId))==null?void 0:Z.id)||((L=G[0])==null?void 0:L.id)||"",F=[...e.supportPlayers].filter(W=>D.length===0||D.includes(W.account)).map(W=>{const le={},ne={};return G.forEach(z=>{const B=k(W,z.id),I=s==="total"?B:s==="per1s"?B/O(W):B*60/O(W);ne[z.id]=I,le[z.id]=re(z,I)}),{row:W,values:le,numericValues:ne}}).sort((W,le)=>{const ne=W.numericValues[Q]??0,z=le.numericValues[Q]??0;return(P.dir==="desc"?z-ne:ne-z)||String(W.row.account||"").localeCompare(String(le.row.account||""))});return d.jsx(ps,{title:"Support - Dense View",subtitle:"Support",sortColumnId:Q,sortDirection:P.dir,onSortColumn:W=>{T(le=>({columnId:W,dir:le.columnId===W&&le.dir==="desc"?"asc":"desc"}))},columns:G.map(W=>({id:W.id,label:W.label,align:"right",minWidth:90})),rows:F.map((W,le)=>({id:`${W.row.account}-${le}`,label:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-gray-500 font-mono",children:le+1}),m(W.row.profession,W.row.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:W.row.account})]}),values:W.values}))})})()})]}):d.jsx(Mo,{expanded:h==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${h==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),d.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),d.jsx("div",{className:`${S} ${h==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:K.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):K.map(k=>d.jsx("button",{onClick:()=>a(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:d.jsx(d.Fragment,{children:(()=>{const k=t.find(F=>F.id===i)||t[0],O=F=>{var Z,L,W;if(k.id==="condiCleanse"){const le=((Z=F.supportTotals)==null?void 0:Z.condiCleanse)||0,ne=((L=F.supportTotals)==null?void 0:L.condiCleanseSelf)||0;return l==="all"?le+ne:le}return((W=F.supportTotals)==null?void 0:W[k.id])||0},re=F=>Math.max(1,(F.activeMs||0)/1e3),Q=[...e.supportPlayers].map(F=>({...F,total:O(F),per1s:O(F)/re(F),per60s:O(F)*60/re(F)})).sort((F,Z)=>{const L=C.key==="fightTime"?Number(F.activeMs||0):Number(s==="total"?F.total:s==="per1s"?F.per1s:F.per60s),W=C.key==="fightTime"?Number(Z.activeMs||0):Number(s==="total"?Z.total:s==="per1s"?Z.per1s:Z.per60s);return(C.dir==="desc"?W-L:L-W)||F.account.localeCompare(Z.account)});return d.jsx(Oo,{expanded:h==="support-detailed",header:d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:d.jsxs(d.Fragment,{children:[k.id==="condiCleanse"?d.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[d.jsx(En,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),d.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):d.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:d.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[d.jsx("div",{className:"text-center",children:"#"}),d.jsx("div",{children:"Player"}),d.jsxs("button",{type:"button",onClick:()=>j("value"),className:`text-right transition-colors ${C.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",C.key==="value"?C.dir==="desc"?" ":" ":""]}),d.jsxs("button",{type:"button",onClick:()=>j("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:d.jsx(d.Fragment,{children:Q.map((F,Z)=>d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[d.jsx("div",{className:"text-center text-gray-500 font-mono",children:Z+1}),d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(F.profession,F.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:F.account})]}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const L=s==="total"?F.total:s==="per1s"?F.per1s:F.per60s,W=k.isTime?1:u&&s==="total"?0:2;return f(L,W)})()}),d.jsx("div",{className:"text-right font-mono text-gray-400",children:F.activeMs?`${(F.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${F.account}-${Z}`))})})})()})})]})},fie=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:u,expandedSection:f,expandedSectionClosing:m,openExpandedSection:h,closeExpandedSection:p,isSectionVisible:v,isFirstVisibleSection:x,sectionClass:g})=>{var H;const[b,w]=y.useState({key:"value",dir:"desc"}),[S,C]=y.useState({columnId:((H=t[0])==null?void 0:H.id)||"value",dir:"desc"}),N=f==="healing-stats",[P,T]=y.useState([]),[_,A]=y.useState([]),$=Array.from(new Map(e.healingPlayers.map(J=>[J.account,J])).values()).map(J=>({id:J.account,label:J.account,icon:u(J.profession,J.professionList,"w-3 h-3")})),D=new Set([..._.map(J=>`column:${J}`),...P.map(J=>`player:${J}`)]),te=t.map(J=>({id:J.id,label:J.label})),K=_.length>0?t.filter(J=>_.includes(J.id)):t,ie=J=>{w(G=>({key:J,dir:G.key===J&&G.dir==="desc"?"asc":"desc"}))};return d.jsxs("div",{id:"healing-stats","data-section-visible":v("healing-stats"),"data-section-first":x("healing-stats"),className:g("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${m?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(tO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),d.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():h("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?d.jsx(Hi,{className:"w-4 h-4"}):d.jsx(Aa,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):N?d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx(gs,{options:[...te.map(J=>({...J,type:"column"})),...$.map(J=>({...J,type:"player"}))],onSelect:J=>{J.type==="column"?A(G=>G.includes(J.id)?G.filter(ae=>ae!==J.id):[...G,J.id]):T(G=>G.includes(J.id)?G.filter(ae=>ae!==J.id):[...G,J.id])},selectedIds:D,className:"w-full sm:w-64"}),d.jsx(En,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),d.jsx(dr,{options:te,selectedIds:_,onToggle:J=>{A(G=>G.includes(J)?G.filter(ae=>ae!==J):[...G,J])},onClear:()=>A([]),buttonIcon:d.jsx(ms,{className:"h-3.5 w-3.5"})}),d.jsx(En,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(J=>({value:J.id,label:J.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),d.jsx(dr,{options:$,selectedIds:P,onToggle:J=>{T(G=>G.includes(J)?G.filter(ae=>ae!==J):[...G,J])},onClear:()=>T([]),buttonLabel:"Players",buttonIcon:d.jsx(ii,{className:"h-3.5 w-3.5"})})]}),(_.length>0||P.length>0)&&d.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{A([]),T([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(J=>{var ae;const G=((ae=te.find(E=>E.id===J))==null?void 0:ae.label)||J;return d.jsxs("button",{type:"button",onClick:()=>A(E=>E.filter(j=>j!==J)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:G}),d.jsx("span",{className:"text-gray-400",children:""})]},J)}),P.map(J=>d.jsxs("button",{type:"button",onClick:()=>T(G=>G.filter(ae=>ae!==J)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:J}),d.jsx("span",{className:"text-gray-400",children:""})]},J))]})]}),d.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var j,U;const J=k=>Math.max(1,(k.activeMs||0)/1e3),G=k=>{const O=k.baseField==="resUtility",re=O||i==="total"?"":i==="offSquad"?"offSquad":i;return O?s==="all"?"resUtility":`resUtility_${s}`:re?`${re}${k.baseField[0].toUpperCase()}${k.baseField.slice(1)}`:k.baseField},ae=[...e.healingPlayers].filter(k=>P.length===0||P.includes(k.account)).filter(k=>Object.values(k.healingTotals||{}).some(O=>Number(O)>0)).map(k=>{const O={},re={};return K.forEach(Q=>{var W;const F=G(Q),Z=Number(((W=k.healingTotals)==null?void 0:W[F])??0),L=Q.perSecond?Z/J(k):Z;re[Q.id]=L,O[Q.id]=c(L,Q.decimals)}),{row:k,values:O,numericValues:re}}).sort((k,O)=>{var L,W;const re=((L=K.find(le=>le.id===S.columnId))==null?void 0:L.id)||((W=K[0])==null?void 0:W.id)||"",Q=k.numericValues[re]??0,F=O.numericValues[re]??0;return(S.dir==="desc"?F-Q:Q-F)||String(k.row.account||"").localeCompare(String(O.row.account||""))}),E=((j=K.find(k=>k.id===S.columnId))==null?void 0:j.id)||((U=K[0])==null?void 0:U.id)||"";return d.jsx(ps,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:E,sortDirection:S.dir,onSortColumn:k=>{C(O=>({columnId:k,dir:O.columnId===k&&O.dir==="desc"?"asc":"desc"}))},columns:K.map(k=>({id:k.id,label:k.label,align:"right",minWidth:90})),rows:ae.map((k,O)=>({id:`${k.row.account}-${O}`,label:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-gray-500 font-mono",children:O+1}),u(k.row.profession,k.row.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:k.row.account})]}),values:k.values}))})})()})]}):d.jsx(Mo,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),d.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(J=>d.jsx("button",{onClick:()=>r(J.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===J.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:J.label},J.id))})]}),content:d.jsx(d.Fragment,{children:(()=>{const J=t.find(k=>k.id===n)||t[0],G=J.baseField==="resUtility",ae=k=>Math.max(1,(k.activeMs||0)/1e3),E=G||i==="total"?"":i==="offSquad"?"offSquad":i,j=G?s==="all"?"resUtility":`resUtility_${s}`:E?`${E}${J.baseField[0].toUpperCase()}${J.baseField.slice(1)}`:J.baseField,U=[...e.healingPlayers].filter(k=>Object.values(k.healingTotals||{}).some(O=>Number(O)>0)).map(k=>{var Q;const O=Number(((Q=k.healingTotals)==null?void 0:Q[j])??0),re=J.perSecond?O/ae(k):O;return{...k,value:re}}).sort((k,O)=>{const re=b.key==="fightTime"?Number(k.activeMs||0):Number(k.value||0),Q=b.key==="fightTime"?Number(O.activeMs||0):Number(O.value||0);return(b.dir==="desc"?Q-re:re-Q)||k.account.localeCompare(O.account)});return d.jsx(Oo,{expanded:f==="healing-stats",header:d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-200",children:J.label}),d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:d.jsxs(d.Fragment,{children:[G&&d.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:d.jsx(En,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(k=>({value:k.id,label:k.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!G&&d.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:d.jsx(En,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[d.jsx("div",{className:"text-center",children:"#"}),d.jsx("div",{children:"Player"}),d.jsxs("button",{type:"button",onClick:()=>ie("value"),className:`text-right transition-colors ${b.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[J.label,b.key==="value"?b.dir==="desc"?" ":" ":""]}),d.jsxs("button",{type:"button",onClick:()=>ie("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:d.jsx(d.Fragment,{children:U.length===0?d.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):U.map((k,O)=>d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[d.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u(k.profession,k.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:k.account})]}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:c(k.value,J.decimals)}),d.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeMs?`${(k.activeMs/1e3).toFixed(1)}s`:"-"})]},`${J.id}-${k.account}-${O}`))})})})()})})]})},mie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",hie=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:u,openExpandedSection:f,closeExpandedSection:m,isSectionVisible:h,isFirstVisibleSection:p,sectionClass:v,sidebarListClass:x})=>{const[g,b]=y.useState("total"),[w,S]=y.useState("desc"),[C,N]=y.useState({columnId:"",dir:"desc"}),P=c==="special-buffs",[T,_]=y.useState([]),[A,$]=y.useState([]),D=e.specialTables||[],K=T.length>0?D.filter(j=>T.includes(j.id)):D,ie=r.map(j=>({id:j.id,label:j.name,icon:j.icon?d.jsx("img",{src:j.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),H=Array.from(new Map((e.specialTables||[]).flatMap(j=>j.rows||[]).filter(j=>j.account).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:l(j.profession,j.professionList,"w-3 h-3")})),J=new Set([...T.map(j=>`column:${j}`),...A.map(j=>`player:${j}`)]),G=y.useMemo(()=>{if(!(s!=null&&s.rows))return[];const j=[...s.rows];return j.sort((U,k)=>{const O=Number((U==null?void 0:U[g])??0),re=Number((k==null?void 0:k[g])??0),Q=w==="desc"?re-O:O-re;return Q!==0?Q:String((U==null?void 0:U.account)||"").localeCompare(String((k==null?void 0:k.account)||""))}),j},[s,g,w]),ae=j=>{if(g===j){S(U=>U==="desc"?"asc":"desc");return}b(j),S("desc")},E=j=>g!==j?"":w==="desc"?" ":" ";return d.jsxs("div",{id:"special-buffs","data-section-visible":h("special-buffs"),"data-section-first":p("special-buffs"),className:v("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${u?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(n0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),d.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?m():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?d.jsx(Hi,{className:"w-4 h-4"}):d.jsx(Aa,{className:"w-4 h-4"})})]}),e.specialTables.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):P?d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx(gs,{options:[...D.map(j=>({id:j.id,label:j.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(j=>j.rows||[]).filter(j=>j.account).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,type:"player",icon:l(j.profession,j.professionList,"w-3 h-3")}))],onSelect:j=>{j.type==="column"?_(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id]):$(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id])},selectedIds:J,className:"w-full sm:w-64"}),d.jsx(dr,{options:ie,selectedIds:T,onToggle:j=>{_(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>_([]),buttonIcon:d.jsx(ms,{className:"h-3.5 w-3.5"})}),d.jsx(dr,{options:H,selectedIds:A,onToggle:j=>{$(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:d.jsx(ii,{className:"h-3.5 w-3.5"})}),d.jsx(En,{value:g,onChange:j=>b(j),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||A.length>0)&&d.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>{_([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(j=>{var k;const U=((k=D.find(O=>O.id===j))==null?void 0:k.name)||j;return d.jsxs("button",{type:"button",onClick:()=>_(O=>O.filter(re=>re!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:U}),d.jsx("span",{className:"text-gray-400",children:""})]},j)}),A.map(j=>d.jsxs("button",{type:"button",onClick:()=>$(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[d.jsx("span",{children:j}),d.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),d.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:D.length===0?d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var F,Z;const j=K,U=new Map,k=new Map;j.forEach(L=>{const W=new Map;L.rows.forEach(le=>{const ne=le.account||le.name||le.id;ne&&(W.set(ne,le),k.has(ne)||k.set(ne,le))}),U.set(L.id,W)});const O=Array.from(k.entries()).filter(([L])=>A.length===0||A.includes(String(L))).map(([L,W])=>{const le={},ne={};return j.forEach(z=>{var Ne;const B=(Ne=U.get(z.id))==null?void 0:Ne.get(L);if(!B){le[z.id]="-",ne[z.id]=0;return}if(g==="duration"){le[z.id]=B.duration?`${B.duration.toFixed(1)}s`:"-",ne[z.id]=Number(B.duration||0);return}const I=g==="total"?B.total:B.perSecond,X=g==="total"?0:1;ne[z.id]=Number(I||0),le[z.id]=o(I||0,X)}),{key:L,row:W,values:le,numericValues:ne}}),re=((F=j.find(L=>L.id===C.columnId))==null?void 0:F.id)||(i&&j.some(L=>L.id===i)?i:void 0)||((Z=j[0])==null?void 0:Z.id)||"",Q=[...O].sort((L,W)=>{if(!re)return String(L.key).localeCompare(String(W.key));const le=L.numericValues[re]??0,ne=W.numericValues[re]??0;return(C.dir==="desc"?ne-le:le-ne)||String(L.key).localeCompare(String(W.key))});return d.jsx(ps,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:re,sortDirection:C.dir,onSortColumn:L=>{N(W=>({columnId:L,dir:W.columnId===L&&W.dir==="desc"?"asc":"desc"}))},columns:j.map(L=>({id:L.id,label:d.jsx(kr,{name:L.name,iconUrl:L.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Q.map((L,W)=>({id:`${L.key}-${W}`,label:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-gray-500 font-mono",children:W+1}),l(L.row.profession,L.row.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:L.row.account||L.row.name||L.key})]}),values:L.values}))})})()})]}):d.jsx(Mo,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),d.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),d.jsx("div",{className:`${x} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(j=>d.jsx("button",{onClick:()=>a(j.id),title:j.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:d.jsx(kr,{name:mie(j.name),iconUrl:j.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},j.id))})]}),content:d.jsx(d.Fragment,{children:s?d.jsx(Oo,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-200",children:d.jsx(kr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[d.jsx("div",{className:"text-center",children:"#"}),d.jsx("div",{children:"Player"}),d.jsxs("button",{type:"button",onClick:()=>ae("total"),className:`text-right transition-colors ${g==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",E("total")]}),d.jsxs("button",{type:"button",onClick:()=>ae("perSecond"),className:`text-right transition-colors ${g==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",E("perSecond")]}),d.jsxs("button",{type:"button",onClick:()=>ae("duration"),className:`text-right transition-colors ${g==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",E("duration")]})]}),rows:d.jsx(d.Fragment,{children:G.map((j,U)=>d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[d.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(j.profession,j.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:j.account})]}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(j.total).toLocaleString()}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:o(j.perSecond,1)}),d.jsx("div",{className:"text-right font-mono text-gray-400",children:j.duration?`${j.duration.toFixed(1)}s`:"-"})]},`${s.id}-${j.account}-${U}`))})}):d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},pie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",gie=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:u,openExpandedSection:f,closeExpandedSection:m,isSectionVisible:h,isFirstVisibleSection:p,sectionClass:v,sidebarListClass:x})=>{const[g,b]=y.useState("desc"),w=c==="sigil-relic-uptime",S=y.useMemo(()=>{if(!(s!=null&&s.rows))return[];const C=[...s.rows];return C.sort((N,P)=>{const T=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),_=Number((P==null?void 0:P.uptimePerSecond)??(P==null?void 0:P.perSecond)??0),A=g==="desc"?_-T:T-_;return A!==0?A:String((N==null?void 0:N.account)||"").localeCompare(String((P==null?void 0:P.account)||""))}),C},[s,g]);return d.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":h("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:v("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${u?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(x1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),d.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?m():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?d.jsx(Hi,{className:"w-4 h-4"}):d.jsx(Aa,{className:"w-4 h-4"})})]}),e?d.jsx(Mo,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),d.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),d.jsx("div",{className:`${x} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>d.jsx("button",{onClick:()=>a(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:d.jsx(kr,{name:pie(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:d.jsx(d.Fragment,{children:s?d.jsx(Oo,{expanded:w,maxHeightClass:"max-h-72",header:d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[d.jsx("div",{className:"text-sm font-semibold text-gray-200",children:d.jsx(kr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),d.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[d.jsx("div",{className:"text-center",children:"#"}),d.jsx("div",{children:"Player"}),d.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",g==="desc"?"":""]})]}),rows:d.jsx(d.Fragment,{children:S.map((C,N)=>{const P=Number(C.uptimePerSecond??C.perSecond??0)*100;return d.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[d.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:C.account})]}),d.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(P,1),"%"]})]},`${s.id}-${C.account}-${N}`)})})}):d.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):d.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},vie=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>d.jsxs(d.Fragment,{children:[d.jsx("div",{id:"kdr",className:"scroll-mt-24"}),d.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[d.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:d.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),d.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),d.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),d.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),d.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:d.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),d.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),d.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),d.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),yie=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=y.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(h=>{const p=String((h==null?void 0:h.teamId)??"").trim(),v=Number((h==null?void 0:h.count)||0);!p||!Number.isFinite(v)||v<=0||c.set(p,(c.get(p)||0)+v)})}),Array.from(c.entries()).sort((f,m)=>{const h=m[1]-f[1];return h!==0?h:f[0].localeCompare(m[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=c=>{const u=c==null?void 0:c.timestamp;let f=0;if(typeof u=="number")f=u>1e12?u:u*1e3;else if(typeof u=="string"&&u.trim()){const v=Number(u);if(Number.isFinite(v)&&v>0)f=v>1e12?v:v*1e3;else{const x=Date.parse(u);Number.isFinite(x)&&x>0&&(f=x)}}const m=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",h=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",p=String(h).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${m}  ${p}`};return d.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:d.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx(En,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),d.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):d.jsx("div",{className:"overflow-x-auto",children:d.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:d.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[d.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),d.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),d.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),d.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&d.jsxs(d.Fragment,{children:[d.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),d.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),d.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?d.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>d.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&d.jsxs(d.Fragment,{children:[d.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),d.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),d.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),d.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),d.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),d.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&d.jsxs(d.Fragment,{children:[d.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),d.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),d.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&d.jsxs(d.Fragment,{children:[d.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),d.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),d.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),d.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,u)=>d.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[d.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:u+1}),d.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?d.jsx("button",{onClick:()=>{var f;c.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(c)}):d.jsx("span",{className:"text-gray-500",children:"Pending"})}),d.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),d.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&d.jsxs(d.Fragment,{children:[d.jsx("td",{className:"py-2 px-3 text-right font-mono",children:d.jsx(by,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),d.jsx("td",{className:"py-2 px-3 text-right font-mono",children:d.jsx(by,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),d.jsx("td",{className:"py-2 px-3 text-right font-mono",children:d.jsx(by,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?d.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const h=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return d.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((h==null?void 0:h.count)||0)},f)})]}),t==="outcomes"&&d.jsxs(d.Fragment,{children:[d.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),d.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),d.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),d.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),d.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),d.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&d.jsxs(d.Fragment,{children:[d.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),d.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return d.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&d.jsxs(d.Fragment,{children:[d.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),d.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return d.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${u}`))})]})})})]})})},IA={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},xie=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:c})=>{const u=IA[r]||IA.blue,f=(n==null?void 0:n.value)??0,m=l?l(f):Math.round(f).toLocaleString();return d.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`p-3 rounded-lg ${u.bg} ${u.text} shrink-0`,children:d.jsx(e,{className:"w-6 h-6"})}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),d.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[m," ",d.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),d.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),d.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),d.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&d.jsxs("div",{className:"mt-3 stats-share-exclude",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?d.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(h=>d.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[d.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:h.rank}),d.jsx("div",{className:"shrink-0",children:c(h.profession,h.professionList,"w-4 h-4")}),d.jsx("div",{className:"flex-1 min-w-0 truncate",children:h.account}),d.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(h.value):h.value})]},`${t}-${h.rank}-${h.account}`))}):d.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},bie=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},_A=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},wie=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:u,isFirstVisibleSection:f,sectionClass:m})=>t?d.jsxs("div",{id:"top-players","data-section-visible":u("top-players"),"data-section-first":f("top-players"),className:m("top-players","scroll-mt-24"),children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[d.jsx(Au,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[d.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),d.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[d.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:d.jsx(i6,{className:"w-10 h-10 text-yellow-400"})}),d.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(n0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),d.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),d.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[d.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),d.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),d.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[d.jsx(m1,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),d.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(h=>l(h.name)).map((h,p)=>d.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[d.jsx("span",{className:"text-yellow-200 font-bold",children:h.name}),d.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:_A(h.val,s)})]},p))})]}),d.jsxs("div",{className:"hidden lg:block text-right",children:[d.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),d.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),d.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),d.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(h=>{var p,v,x,g,b;return d.jsxs("div",{className:`mvp-card mvp-card--${h.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[d.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${h.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${h.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[h.label," MVP"]}),d.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=h.data)!=null&&p.score?h.data.score.toFixed(1):"-"})]}),d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.data&&c(h.data.profession,h.data.professionList,"w-6 h-6"),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("div",{className:`text-base font-semibold ${h.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((v=h.data)==null?void 0:v.account)||""}),d.jsx("div",{className:`text-xs ${h.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((x=h.data)==null?void 0:x.profession)||"Unknown"})]})]}),(b=(g=h.data)==null?void 0:g.topStats)!=null&&b.some(w=>l(w.name))?d.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${h.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:h.data.topStats.filter(w=>l(w.name)).map((w,S)=>d.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${h.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[d.jsx("span",{className:"leading-none",children:w.name}),d.jsx("span",{className:"tabular-nums leading-none",children:_A(w.val,s)})]},S))}):null]},h.label)})})]}),(()=>{const h=r==="perSecond",p=h&&e.topStatsPerSecond?e.topStatsPerSecond:e,v=h&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,x=h?"":"Total ",g=h?" /s":"",b=[{icon:l6,title:`Down Contribution${g}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:yf,title:`${x}Barrier${g}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:tO,title:`${x}Healing${g}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:g6,title:`${x}Dodges${g}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:xf,title:`${x}Strips${g}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:s6,title:`${x}Cleanses${g}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:o6,title:`${x}CC${g}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:aO,title:`${x}Stab Gen${g}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:r6,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!h||!Number.isFinite(S)?s(S):o(S,2);return d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var _,A,$,D;const C=i==="all",N=bie((v==null?void 0:v[S.statKey])||[],S.higherIsBetter),P=N[0],T=P?{...S.data,value:Number(P.value||0),player:P.account||((_=S.data)==null?void 0:_.player)||"-",count:P.count||((A=S.data)==null?void 0:A.count)||0,profession:P.profession||(($=S.data)==null?void 0:$.profession)||"Unknown",professionList:P.professionList||((D=S.data)==null?void 0:D.professionList)||[]}:S.data;return d.jsx(xie,{...S,data:T,active:C,onClick:()=>a(te=>te==="all"?null:"all"),rows:N,formatValue:w,renderProfessionIcon:c},S.statKey)})})})()]}):null,kie=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution",o=s?"Down Contrib":"Damage",l=s?"downContribution":"damage",c=[...e.topSkills||[]].sort((m,h)=>{const p=Number((m==null?void 0:m[l])||0);return Number((h==null?void 0:h[l])||0)-p||Number((h==null?void 0:h.hits)||0)-Number((m==null?void 0:m.hits)||0)||String((m==null?void 0:m.name)||"").localeCompare(String((h==null?void 0:h.name)||""))}),u=Math.max(1,...c.map(m=>Number((m==null?void 0:m[l])||0))),f=typeof n=="function";return d.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[d.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(c1,{className:"w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),d.jsx("div",{className:"text-xs text-gray-500 mt-1",children:o})]}),f&&d.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(m=>{const h=(t||e.topSkillsMetric)===m.id;return d.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(m.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${h?"bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:m.label},m.id)})})]}),d.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[c.map((m,h)=>d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",h+1]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[d.jsx("span",{className:"text-white font-bold",children:d.jsx(kr,{name:m.name,iconUrl:m.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-orange-400 font-mono font-bold",children:Math.round(m[l]||0).toLocaleString()}),d.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",m.hits.toLocaleString()," hits)"]})]})]}),d.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-orange-500 rounded-full",style:{width:`${Number(m[l]||0)/u*100}%`}})})]})]},h)),c.length===0&&d.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),d.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[d.jsx("div",{className:"flex items-center justify-between mb-6",children:d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(Jz,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),d.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),d.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[e.topIncomingSkills.map((m,h)=>{var p;return d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",h+1]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[d.jsx("span",{className:"text-white font-bold",children:d.jsx(kr,{name:m.name,iconUrl:m.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(m.damage).toLocaleString()}),d.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",m.hits.toLocaleString()," hits)"]})]})]}),d.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${m.damage/(((p=e.topIncomingSkills[0])==null?void 0:p.damage)||1)*100}%`}})})]})]},h)}),e.topIncomingSkills.length===0&&d.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Sie=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>d.jsxs("div",{id:"squad-composition","data-section-visible":r("squad-composition"),"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[d.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[d.jsx(ii,{className:"w-5 h-5 text-green-400"}),"Squad Composition"]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[d.jsx("div",{className:"h-[240px] sm:h-full",children:d.jsx(mc,{width:"100%",height:"100%",children:d.jsxs(Vb,{children:[d.jsx(bg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((s,o)=>d.jsx(Ru,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${o}`))}),d.jsx(vc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})})}),d.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:d.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(s=>d.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[d.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?d.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):d.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),d.jsx("span",{className:"min-w-0 truncate",children:s.name}),d.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]}),d.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[d.jsx(t0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[d.jsx("div",{className:"h-[240px] sm:h-full",children:d.jsx(mc,{width:"100%",height:"100%",children:d.jsxs(Vb,{children:[d.jsx(bg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((s,o)=>d.jsx(Ru,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${o}`))}),d.jsx(vc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})})}),d.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:d.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(s=>d.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[d.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?d.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):d.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),d.jsx("span",{className:"min-w-0 truncate",children:s.name}),d.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]})]}),Nie=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>d.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(ii,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[d.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),d.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>d.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?d.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):d.jsx("div",{className:"h-[260px] w-full",children:d.jsx(mc,{width:"100%",height:"100%",children:d.jsxs(Cg,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[d.jsx($f,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),d.jsx(Ff,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),d.jsx(Bf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),d.jsx(vc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c.payload;return l!=null&&l.label?`Log ${l.index}  ${l.label}`:`Log ${s}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),d.jsx(no,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),d.jsx(no,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Cie=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>d.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[d.jsx(f1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),d.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:d.jsx(mc,{width:"100%",height:"100%",children:d.jsxs(Vb,{children:[d.jsx(bg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>d.jsx(Ru,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),d.jsx(vc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),d.jsx(jI,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>d.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",d.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),LA=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:u,isFirstVisibleSection:f,sectionClass:m,spikePlayerFilter:h,setSpikePlayerFilter:p,groupedSpikePlayers:v,spikeMode:x,setSpikeMode:g,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:S,spikeChartData:C,spikeChartMaxY:N,selectedSpikeFightIndex:P,setSelectedSpikeFightIndex:T,spikeDrilldownTitle:_,spikeDrilldownData:A,spikeDrilldownDownIndices:$,spikeDrilldownDeathIndices:D,spikeFightSkillRows:te=[],spikeFightSkillTitle:K="Skill Damage (Selected Fight)",formatWithCommas:ie,renderProfessionIcon:H})=>{const[J,G]=y.useState(null),[ae,E]=y.useState(null),j=I=>String(I||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=s===e,k=S?ec(S.profession):"#fda4af",O=x==="hit"?"Highest Damage":x==="1s"?"1s Burst":x==="5s"?"5s Burst":"30s Burst",re=I=>x==="hit"?I.peakHit:x==="1s"?I.peak1s:x==="5s"?I.peak5s:I.peak30s,Q=v.flatMap(I=>I.players.map(X=>({...X,groupProfession:I.profession}))).sort((I,X)=>{const Ne=re(X)-re(I);return Ne!==0?Ne:I.displayName.localeCompare(X.displayName)}),F=C.reduce((I,X)=>!I||X.damage>I.damage?X:I,null),Z=I=>{if(!Number.isFinite(I)||I<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(I))}catch{return""}},L=A.reduce((I,X)=>Math.max(I,Number(X.value||0)),0),W=Math.max(1,L),le=new Set($),ne=new Set(D),z=A.map((I,X)=>({...I,downMarker:le.has(X)?Math.max(Number(I.value||0),W*.88):null,deathMarker:ne.has(X)?Math.max(Number(I.value||0),W*.96):null})),B=I=>X=>{const Ne=Number(X==null?void 0:X.cx),Me=Number(X==null?void 0:X.cy),se=Number(X==null?void 0:X.index);if(!Number.isFinite(Ne)||!Number.isFinite(Me)||!Number.isFinite(se))return null;const Fe=(X==null?void 0:X.payload)||{},Te=I==="down"?Fe==null?void 0:Fe.downMarker:Fe==null?void 0:Fe.deathMarker;if(!Number.isFinite(Number(Te)))return null;const vt=`${I}-${se}`,on=J===vt,bn=I==="down"?"#facc15":"#ef4444",hn=I==="down"?"#fde047":"#f87171";return d.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{G(vt),E({x:Ne,y:Me,kind:I,label:String((Fe==null?void 0:Fe.label)||"")})},onMouseLeave:()=>{G(ue=>ue===vt?null:ue),E(ue=>(ue==null?void 0:ue.kind)===I&&(ue==null?void 0:ue.label)===String((Fe==null?void 0:Fe.label)||"")?null:ue)},children:[d.jsx("circle",{cx:Ne,cy:Me,r:on?10:7,fill:hn,opacity:on?.35:.18}),d.jsx("circle",{cx:Ne,cy:Me,r:on?7:5.5,fill:bn,stroke:"#0f172a",strokeWidth:on?2.25:1.75})]})};return d.jsxs("div",{id:e,"data-section-visible":u(e),"data-section-first":f(e),className:m(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${U?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[d.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[d.jsxs("div",{className:U?"pr-10 md:pr-0":"",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[d.jsx(xf,{className:`w-5 h-5 ${a}`}),t]}),d.jsx("p",{className:"text-xs text-gray-400",children:n})]}),d.jsxs("div",{className:`flex items-center gap-3 ${U?"pr-10 md:pr-0":""}`,children:[d.jsx(En,{value:x,onChange:I=>g(I),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),d.jsx("button",{type:"button",onClick:()=>U?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${U?"absolute top-2 right-2 md:static":""}`,"aria-label":U?`Close ${t}`:`Expand ${t}`,title:U?"Close":"Expand",children:U?d.jsx(Hi,{className:"w-4 h-4"}):d.jsx(Aa,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[d.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[d.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),d.jsx("input",{type:"search",value:h,onChange:I=>p(I.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),d.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:Q.length===0?d.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):d.jsx("div",{className:"p-1.5 space-y-1",children:Q.map(I=>{const X=b===I.key;return d.jsx("button",{type:"button",onClick:()=>w(I.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${X?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[H(I.profession,void 0,"w-3.5 h-3.5"),d.jsx("div",{className:"text-sm font-semibold truncate text-white",children:I.displayName}),d.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:I.groupProfession})]}),d.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[I.characterName||I.displayName,"  ",I.logs," ",I.logs===1?"fight":"fights"]})]}),d.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:ie(re(I)||0,0)})]})},I.key)})})})]}),d.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",O]}),d.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),d.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!S||C.length===0?d.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):d.jsx(mc,{width:"100%",height:"100%",children:d.jsxs(Cg,{data:C,onClick:I=>{const X=Number(I==null?void 0:I.activeTooltipIndex);Number.isFinite(X)&&T(P===X?null:X)},children:[d.jsx($f,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),d.jsx(Ff,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),d.jsx(Bf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,N)],tickFormatter:I=>ie(I,0)}),d.jsx(vc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(I,X)=>[ie(Number(I||0),0),String(X||"")],labelFormatter:(I,X)=>{var se;const Ne=(se=X==null?void 0:X[0])==null?void 0:se.payload;if(!Ne)return"";const Me=j(Ne.fullLabel||"");return x==="hit"&&Ne.skillName?`${Me}  ${Ne.skillName}`:Me}}),d.jsx(no,{type:"monotone",dataKey:"damage",name:S.displayName,stroke:k,strokeWidth:3,dot:I=>{var Me;const X=Number((Me=I==null?void 0:I.payload)==null?void 0:Me.index);if(!Number.isFinite(X))return null;const Ne=P===X;return d.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:se=>{se.stopPropagation(),T(Ne?null:X)},children:[d.jsx("circle",{cx:I.cx,cy:I.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),d.jsx("circle",{cx:I.cx,cy:I.cy,r:Ne?4:3,fill:k,stroke:Ne?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Ne?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),d.jsx(no,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),S&&d.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),d.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[H(S.profession,S.professionList,"w-4 h-4"),d.jsx("span",{className:"truncate",children:S.displayName})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Highest Skill Damage":`Peak ${O}`}),d.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:ie(re(S)||0,0)})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Skill / Fight":"Peak Fight"}),d.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const I=j((F==null?void 0:F.fullLabel)||S.peakFightLabel||"N/A"),X=Z(Number((F==null?void 0:F.timestamp)||0)),Ne=X?`${X} - ${I}`:I;return x!=="hit"?Ne:S.peakSkillName?`${S.peakSkillName}  ${Ne}`:Ne})()})]})]}),S&&P!==null&&d.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:_}),d.jsx("button",{type:"button",onClick:()=>T(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),d.jsx("div",{className:"h-[220px] relative",children:A.length===0?d.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):d.jsxs(d.Fragment,{children:[d.jsx(mc,{width:"100%",height:"100%",children:d.jsxs(Cg,{data:z,children:[d.jsx($f,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),d.jsx(Ff,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),d.jsx(Bf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:I=>ie(I,0)}),d.jsx(vc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(I,X)=>{const Ne=String(X||"");return Ne==="Down"?["Downed","Event"]:Ne==="Death"?["Dead","Event"]:[ie(Number(I||0),0),"Damage"]},labelFormatter:I=>String(I||"")}),d.jsx(no,{type:"monotone",dataKey:"value",name:"Damage",stroke:k,strokeWidth:2.5,dot:x==="hit"?{r:2}:!1,activeDot:{r:4}}),d.jsx(no,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:B("down")}),d.jsx(no,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:B("death")})]})}),ae&&d.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,ae.x)}px`,top:`${Math.max(8,ae.y-38)}px`,transform:"translate(-50%, -100%)"},children:[d.jsx("div",{className:`${ae.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:ae.kind==="down"?"Down":"Death"}),d.jsx("div",{className:"text-gray-300",children:ae.label})]})]})})]}),S&&P!==null&&d.jsxs("div",{className:`mt-4 transition-all duration-300 ${te.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:K}),d.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[te.length," ",te.length===1?"skill":"skills"]})]}),te.length===0?d.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):d.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[d.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[d.jsx("div",{children:"Skill"}),d.jsx("div",{className:"text-right",children:"Damage"}),d.jsx("div",{className:"text-right",children:"Hits"})]}),d.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:te.map((I,X)=>d.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[d.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[I.icon?d.jsx("img",{src:I.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):d.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),d.jsx("div",{className:"truncate",title:I.skillName,children:I.skillName})]}),d.jsx("div",{className:"text-right font-mono text-rose-200",children:ie(Number(I.damage||0),0)}),d.jsx("div",{className:"text-right font-mono text-gray-300",children:ie(Number(I.hits||0),0)})]},`${I.skillName}-${X}`))})]})]})]})},jie=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:c,canShareDiscord:u,onShare:f})=>{const m=c||!u,h=u?"":"Select a Discord webhook to enable sharing.";return d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[d.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&d.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:d.jsx(nO,{className:"w-6 h-6"})}),d.jsxs("div",{className:"space-y-0",children:[d.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[d.jsx(Au,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),d.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&d.jsxs("div",{className:"flex items-center gap-3",children:[i&&d.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[d.jsx(n0,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),d.jsxs("button",{onClick:l,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[d.jsx(p6,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),d.jsxs("div",{className:"relative group",title:h,children:[d.jsxs("button",{onClick:f,disabled:m,"aria-disabled":m,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(f6,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!u&&d.jsx("div",{className:"pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Pie=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=y.useState("idle"),c=(()=>{if(!s)return null;try{const u=new URL(s),f=u.searchParams.get("report");if(!f||!u.hostname.endsWith("github.io"))return null;const m=u.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),h=(m==null?void 0:m[1])||"";return!h||h.toLowerCase()!==u.hostname.toLowerCase()?null:`${u.origin}/?report=${f}`}catch{return null}})();return d.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[d.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),d.jsx("button",{onClick:()=>{var u;s&&((u=window.electronAPI)!=null&&u.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&d.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&d.jsx(u6,{className:"w-3 h-3 animate-spin"}),r==="built"&&d.jsx(rO,{className:"w-3 h-3"}),r==="errored"&&d.jsx(sO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),c&&d.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},Aie=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:d.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[d.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?d.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):d.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&d.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Eie=({embedded:e,mobileNavOpen:t,setMobileNavOpen:n,tocItems:r,activeNavId:i,scrollToSection:a,stepSection:s})=>{var o;return e?null:d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`fixed inset-0 z-40 bg-black/60 transition-opacity ${t?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>n(!1)}),d.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50",children:d.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl border border-white/15 bg-[#1f252b] px-3 py-1.5",children:[d.jsxs("button",{onClick:()=>s(-1),className:"flex items-center gap-2 px-3 py-1.5 rounded-xl bg-[#202830] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[d.jsx(gu,{className:"w-4 h-4 rotate-90 text-[color:var(--accent)]"}),"Prev"]}),d.jsxs("button",{onClick:()=>n(l=>!l),className:"flex items-center gap-2 px-4 py-1.5 rounded-xl bg-[#202830] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[d.jsx("span",{className:"truncate max-w-[160px]",children:((o=r.find(l=>l.id===i))==null?void 0:o.label)||"Sections"}),d.jsx(gu,{className:`w-4 h-4 text-[color:var(--accent)] transition-transform ${t?"rotate-180":""}`})]}),d.jsxs("button",{onClick:()=>s(1),className:"flex items-center gap-2 px-3 py-1.5 rounded-xl bg-[#202830] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:["Next",d.jsx(gu,{className:"w-4 h-4 -rotate-90 text-[color:var(--accent)]"})]})]})}),t&&d.jsx("div",{"data-stats-mobile-nav":"overlay",className:"fixed inset-0 z-50 flex items-center justify-center px-4",onClick:l=>{l.target===l.currentTarget&&n(!1)},children:d.jsxs("div",{"data-stats-mobile-nav":"panel",className:"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/20 bg-[#1f252b] flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"text-[11px] uppercase tracking-[0.3em] text-gray-400",children:"Jump to"}),d.jsx("button",{onClick:()=>n(!1),className:"p-1.5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-colors","aria-label":"Close navigation",children:d.jsx(Hi,{className:"w-4 h-4"})})]}),d.jsx("div",{"data-stats-mobile-nav":"list",className:"flex-1 min-h-0 overflow-y-auto overscroll-contain touch-pan-y -mx-4 px-4 pb-8",onWheel:l=>l.stopPropagation(),onTouchMove:l=>l.stopPropagation(),children:r.map(l=>{const c=l.icon,u=l.id===i;return d.jsxs("button",{onClick:()=>a(l.id),className:`stats-nav-entry stats-nav-entry--item w-full text-left flex items-center gap-2 px-2 py-2 text-gray-200 transition-colors min-w-0 ${u?"bg-white/10":"hover:bg-white/[0.03]"}`,children:[d.jsx("span",{className:"flex items-center justify-center w-6 h-6",children:d.jsx(c,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"})}),d.jsx("span",{className:"text-[13px] font-medium truncate min-w-0",children:l.label})]},l.id)})})]})})]})},Ps="space-y-1 pr-1 max-h-72 overflow-y-auto",Tie=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Die=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function Mie({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:c=!1,sectionVisibility:u,dashboardTitle:f,uiTheme:m,canShareDiscord:h=!0}){var xN,bN;const p=n||bO,v=r||Wx,x=a||_U,g=v.showTopStats,b=v.showMvp,w=v.roundCountStats,S=v.topStatsMode||"total",[C,N]=y.useState(v.topSkillsMetric||"damage"),P=(i?v.topSkillsMetric:C)||"damage",T=x.uploading,_=x.message,A=x.url,$=x.buildStatus,D=!c&&!1,{result:te}=VU({logs:e,precomputedStats:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),{stats:K,skillUsageData:ie}=te,H=y.useMemo(()=>{var ot,Zt,bt,Jt,st,On;const R=K&&typeof K=="object"?K:{},Y=Se=>Array.isArray(Se)?Se:[],ge=Se=>Se&&typeof Se=="object"?Se:{},Re=(Se,Mt)=>Se&&typeof Se=="object"?Se:Mt,Ee={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Ce={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},ce={...R,total:Number(R.total||0),timelineData:Y(R.timelineData),mapData:Y(R.mapData),fightBreakdown:Y(R.fightBreakdown),topSkills:Y(R.topSkills),topIncomingSkills:Y(R.topIncomingSkills),leaderboards:ge(R.leaderboards),topStatsPerSecond:ge(R.topStatsPerSecond),topStatsLeaderboardsPerSecond:ge(R.topStatsLeaderboardsPerSecond),maxDownContrib:Re(R.maxDownContrib,Ee),maxBarrier:Re(R.maxBarrier,Ee),maxHealing:Re(R.maxHealing,Ee),maxDodges:Re(R.maxDodges,Ee),maxStrips:Re(R.maxStrips,Ee),maxCleanses:Re(R.maxCleanses,Ee),maxCC:Re(R.maxCC,Ee),maxStab:Re(R.maxStab,Ee),closestToTag:Re(R.closestToTag,Ee),mvp:{...Ce,...ge(R.mvp),topStats:Y((ot=R==null?void 0:R.mvp)==null?void 0:ot.topStats)},silver:Re(R.silver,Ce),bronze:Re(R.bronze,Ce),avgMvpScore:Number(R.avgMvpScore||0),offensePlayers:Y(R.offensePlayers),defensePlayers:Y(R.defensePlayers),damageMitigationPlayers:Y(R.damageMitigationPlayers),damageMitigationMinions:Y(R.damageMitigationMinions),supportPlayers:Y(R.supportPlayers),healingPlayers:Y(R.healingPlayers),boonTables:Y(R.boonTables),specialTables:Y(R.specialTables),outgoingConditionSummary:Y(R.outgoingConditionSummary),outgoingConditionPlayers:Y(R.outgoingConditionPlayers),incomingConditionSummary:Y(R.incomingConditionSummary),incomingConditionPlayers:Y(R.incomingConditionPlayers),squadClassData:Y(R.squadClassData),enemyClassData:Y(R.enemyClassData),playerSkillBreakdowns:Y(R.playerSkillBreakdowns)},mn=Y((Zt=ce.leaderboards)==null?void 0:Zt.downContrib).map(Se=>({...Se,value:Number((Se==null?void 0:Se.value)??0)})).filter(Se=>Number.isFinite(Se.value)).sort((Se,Mt)=>Mt.value-Se.value||String((Se==null?void 0:Se.account)||"").localeCompare(String((Mt==null?void 0:Mt.account)||"")))[0];return mn&&(ce.maxDownContrib={...ce.maxDownContrib||{},value:Number(mn.value||0),player:String(mn.account||((bt=ce.maxDownContrib)==null?void 0:bt.player)||"-"),count:Number(mn.count||((Jt=ce.maxDownContrib)==null?void 0:Jt.count)||0),profession:String(mn.profession||((st=ce.maxDownContrib)==null?void 0:st.profession)||"Unknown"),professionList:Array.isArray(mn.professionList)?mn.professionList:((On=ce.maxDownContrib)==null?void 0:On.professionList)||[]}),ce},[K]);y.useEffect(()=>{var ge;if(!((ge=window==null?void 0:window.electronAPI)!=null&&ge.fetchImageAsDataUrl))return;const R=new Set,Y=Re=>{if(Re){if(typeof Re=="string"){/^https?:\/\//i.test(Re)&&R.add(Re);return}if(Array.isArray(Re)){Re.forEach(Y);return}typeof Re=="object"&&Object.entries(Re).forEach(([Ee,Ce])=>{if((Ee==="icon"||Ee==="iconUrl")&&typeof Ce=="string"){/^https?:\/\//i.test(Ce)&&R.add(Ce);return}Y(Ce)})}};Y(H),R.size>0&&Xre(Array.from(R))},[H]);const J=y.useMemo(()=>{const R=(l==null?void 0:l.skillUsageData)??ie;return{logRecords:Array.isArray(R==null?void 0:R.logRecords)?R.logRecords:[],players:Array.isArray(R==null?void 0:R.players)?R.players:[],skillOptions:Array.isArray(R==null?void 0:R.skillOptions)?R.skillOptions:[],resUtilitySkills:Array.isArray(R==null?void 0:R.resUtilitySkills)?R.resUtilitySkills:[]}},[ie,l==null?void 0:l.skillUsageData]),G=J.players.length>0;y.useEffect(()=>{i||N(v.topSkillsMetric||"damage")},[v.topSkillsMetric,i]);const ae=R=>{if(i){i({...v,topSkillsMetric:R});return}N(R)},{mobileNavOpen:E,setMobileNavOpen:j,activeNavId:U,scrollContainerRef:k,tocItems:O,scrollToSection:re,stepSection:Q}=v6(c),{devMockUploadState:F,webCopyStatus:Z,setWebCopyStatus:L,handleWebUpload:W,handleDevMockUpload:le}=y6({logs:e,stats:H,skillUsageData:J,activeStatsViewSettings:r||Wx,uiTheme:m||"classic",embedded:c,onWebUpload:s}),{sharing:ne,handleShare:z}=fU(c),B={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},I=R=>{const Y=B[R];return Y?p[Y]>0:!0},[X,Ne]=y.useState(null),[Me,se]=y.useState(null),[Fe,Te]=y.useState("totalBuffs"),[vt,on]=y.useState("total"),[bn,hn]=y.useState(""),[ue,je]=y.useState(null),[Lt,Gt]=y.useState(""),[Yt,kn]=y.useState(null),[Fr,Sr]=y.useState(""),[ca,Di]=y.useState(""),[pn,gn]=y.useState(""),[pr,un]=y.useState(""),[Zr,Mi]=y.useState(""),[_o,rd]=y.useState(""),[Vs,Cl]=y.useState(""),[Ws,jl]=y.useState("outgoing"),[q,me]=y.useState(""),[we,nt]=y.useState("damage"),[kt,$t]=y.useState("damageTaken"),[sn,St]=y.useState("totalMitigation"),[mt,cn]=y.useState("all"),[Ye,yt]=y.useState({key:"damage",dir:"desc"}),en=!(mt!=="all"&&Tie.has(mt)),Jr=en?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",ar=en?Ye:{key:"applications",dir:Ye.key==="applications"?Ye.dir:"desc"},[Br,Nr]=y.useState("condiCleanse"),[ws,vv]=y.useState("healing"),[M,V]=y.useState("total"),[ee,De]=y.useState("all"),[pe,Ve]=y.useState("total"),[Xe,Pt]=y.useState("total"),[At,Ot]=y.useState("total"),[ln,tn]=y.useState("total"),[Rn,Ze]=y.useState("all"),[Qe,ut]=y.useState("squad"),[Rt,Kt]=y.useState("player"),[ve,ke]=y.useState(""),[$e,Le]=y.useState(""),[Ke,he]=y.useState(null),[Ie,Je]=y.useState([]),[xe,it]=y.useState(null),[It,Pn]=y.useState(null),[Xt,Tr]=y.useState("hit"),[ht,Fn]=y.useState(null),[oe,_e]=y.useState(null),[Ge,Ft]=y.useState("hit"),[Nt,fe]=y.useState([]),[Ae,We]=y.useState(null),[qe,Bt]=y.useState(!1),Ct=y.useRef(null),[pt,Tt]=y.useState("sizes"),[Et,Ut]=y.useState("total"),zt=Et==="perSecond",[Dt,Oe]=y.useState(null),[et,gt]=y.useState("total"),[dt,Qt]=y.useState(null),[yn,pi]=y.useState(null),[sr,Za]=y.useState(null),[Hs,Ac]=y.useState(""),[ua,qs]=y.useState(null),[Im,id]=y.useState(null),[Ea,Pl]=y.useState(null),[_m,Lm]=y.useState(""),[Pe,He]=y.useState("player"),[ze,at]=y.useState(null),[Ht,er]=y.useState(null),[Bn,zr]=y.useState(null),{apmSpecBuckets:Ur}=WU(J),Oi=H.playerSkillBreakdowns||[],ks=y.useMemo(()=>{const R=new Map;return Oi.forEach(Y=>R.set(Y.key,Y)),R},[Oi]),Ta=y.useMemo(()=>{const R=new Map;return Oi.forEach(Y=>{const ge=Y.profession||"Unknown";R.has(ge)||R.set(ge,{profession:ge,players:[],skills:new Map});const Re=R.get(ge);Re.players.push(Y),Y.skills.forEach(Ee=>{var ce;const Ce=Re.skills.get(Ee.id)||{...Ee,damage:0,downContribution:0};Ce.damage+=Number(Ee.damage||0),Ce.downContribution+=Number(Ee.downContribution||0),!Ce.icon&&Ee.icon&&(Ce.icon=Ee.icon),(ce=Ce.name)!=null&&ce.startsWith("Skill ")&&!Ee.name.startsWith("Skill ")&&(Ce.name=Ee.name),Re.skills.set(Ee.id,Ce)})}),Array.from(R.values()).map(Y=>{const ge=Array.from(Y.skills.values()).sort((Ee,Ce)=>Ce.damage-Ee.damage),Re=ge.reduce((Ee,Ce)=>(Ee[Ce.id]=Ce,Ee),{});return{profession:Y.profession,players:Y.players,skills:ge,skillMap:Re}}).sort((Y,ge)=>Y.profession.localeCompare(ge.profession))},[Oi]),qi=ua&&ks.get(ua)||null,Ki=qi&&Ea&&((xN=qi.skillMap)==null?void 0:xN[Ea])||null,Ec=y.useMemo(()=>{const R=new Map;return Ta.forEach(Y=>R.set(Y.profession,Y)),R},[Ta]),Da=ze&&Ec.get(ze)||null,Ma=Da&&Bn&&((bN=Da.skillMap)==null?void 0:bN[Bn])||null,Dr=y.useMemo(()=>{const R=Se=>String(Se||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),Y=Se=>R(Se).toLowerCase().split(/[^a-z0-9]+/i).map(Mt=>Mt.trim()).filter(Boolean).map(Mt=>Mt.length>3&&Mt.endsWith("s")?Mt.slice(0,-1):Mt),ge=(Se,Mt)=>{const be=R(Se),In=R(Mt);if(!In)return be;if(!be)return In;const Vr=Y(be),gr=Y(In),or=new Set(Vr),Sn=new Set(gr),_i=gr.length>0&&gr.every(qn=>or.has(qn)),jt=Vr.length>0&&Vr.every(qn=>Sn.has(qn));return _i||jt?be:`${be} - ${In}`},Re=Se=>{if(Se==null||Se==="")return 0;if(typeof Se=="number")return!Number.isFinite(Se)||Se<=0?0:Se>1e12?Se:Se*1e3;if(Se instanceof Date){const or=Se.getTime();return Number.isFinite(or)&&or>0?or:0}const Mt=String(Se).trim();if(!Mt)return 0;const be=Number(Mt);if(Number.isFinite(be)&&be>0)return be>1e12?be:be*1e3;const In=Date.parse(Mt);if(Number.isFinite(In)&&In>0)return In;const Vr=Mt.replace(/([+-]\d{2})$/,"$1:00"),gr=Date.parse(Vr);return Number.isFinite(gr)&&gr>0?gr:0},Ee=(Se,Mt)=>Re((Se==null?void 0:Se.uploadTime)??(Mt==null?void 0:Mt.uploadTime)??(Se==null?void 0:Se.timeStartStd)??(Se==null?void 0:Se.timeStart)??(Se==null?void 0:Se.timeEndStd)??(Se==null?void 0:Se.timeEnd)),Ce=H==null?void 0:H.spikeDamage,ce=Array.isArray(Ce==null?void 0:Ce.fights)?Ce.fights:[],tt=Array.isArray(Ce==null?void 0:Ce.players)?Ce.players:[],mn=ce.some(Se=>(Se!=null&&Se.values&&typeof Se.values=="object"?Object.values(Se.values):[]).some(be=>be&&typeof be=="object"&&(Number(be.burst1s||0)>0||Number(be.burst5s||0)>0||Number(be.burst30s||0)>0)))||tt.some(Se=>Number((Se==null?void 0:Se.peak1s)||0)>0||Number((Se==null?void 0:Se.peak5s)||0)>0||Number((Se==null?void 0:Se.peak30s)||0)>0);if((ce.length>0||tt.length>0)&&(mn||e.length===0)){const Se=ce.map((be,In)=>{const Vr=be!=null&&be.values&&typeof be.values=="object"?be.values:{},gr={};return Object.entries(Vr).forEach(([or,Sn])=>{if(Sn&&typeof Sn=="object"){const _i=Number(Sn.damage||0);gr[or]={hit:Number(Sn.hit??_i),burst1s:Number(Sn.burst1s||0),burst5s:Number(Sn.burst5s||0),burst30s:Number(Sn.burst30s||0),skillName:String(Sn.skillName||""),buckets5s:Array.isArray(Sn.buckets5s)?Sn.buckets5s.map(jt=>Number(jt||0)):void 0,downIndices5s:Array.isArray(Sn.downIndices5s)?Sn.downIndices5s.map(jt=>Number(jt)).filter(jt=>Number.isFinite(jt)&&jt>=0):void 0,deathIndices5s:Array.isArray(Sn.deathIndices5s)?Sn.deathIndices5s.map(jt=>Number(jt)).filter(jt=>Number.isFinite(jt)&&jt>=0):void 0,skillRows:Array.isArray(Sn.skillRows)?Sn.skillRows.map(jt=>({skillName:String((jt==null?void 0:jt.skillName)||(jt==null?void 0:jt.name)||"Unknown Skill"),damage:Number((jt==null?void 0:jt.damage)||0),hits:Number((jt==null?void 0:jt.hits)||0),icon:typeof(jt==null?void 0:jt.icon)=="string"?jt.icon:void 0})).filter(jt=>Number.isFinite(jt.damage)&&jt.damage>0):void 0};return}gr[or]={hit:Number(Sn||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((be==null?void 0:be.id)||`fight-${In+1}`),shortLabel:String((be==null?void 0:be.shortLabel)||`F${In+1}`),fullLabel:R((be==null?void 0:be.fullLabel)||`Fight ${In+1}`),timestamp:Number((be==null?void 0:be.timestamp)||0),values:gr,maxHit:Number((be==null?void 0:be.maxHit)??(be==null?void 0:be.maxDamage)??0),max1s:Number((be==null?void 0:be.max1s)||0),max5s:Number((be==null?void 0:be.max5s)||0),max30s:Number((be==null?void 0:be.max30s)||0)}}),Mt=tt.map(be=>({key:String((be==null?void 0:be.key)||""),account:String((be==null?void 0:be.account)||"Unknown"),displayName:String((be==null?void 0:be.displayName)||(be==null?void 0:be.account)||"Unknown"),characterName:String((be==null?void 0:be.characterName)||(be==null?void 0:be.name)||(be==null?void 0:be.character_name)||(be==null?void 0:be.display_name)||""),profession:String((be==null?void 0:be.profession)||"Unknown"),professionList:Array.isArray(be==null?void 0:be.professionList)?be.professionList.map(In=>String(In)):[],logs:Number((be==null?void 0:be.logs)||0),peakHit:Number((be==null?void 0:be.peakHit)||0),peak1s:Number((be==null?void 0:be.peak1s)||0),peak5s:Number((be==null?void 0:be.peak5s)||0),peak30s:Number((be==null?void 0:be.peak30s)||0),peakFightLabel:R((be==null?void 0:be.peakFightLabel)||""),peakSkillName:String((be==null?void 0:be.peakSkillName)||"")}));return{fights:Se,players:Mt}}const Zt=(Se,Mt)=>{const be=(Mt==null?void 0:Mt.skillMap)||{},In=(Mt==null?void 0:Mt.buffMap)||{};let Vr=0,gr="";const or=jt=>{const qn=Number(jt);if(!Number.isFinite(qn))return String(jt||"Unknown Skill");const nn=(be==null?void 0:be[`s${qn}`])||(be==null?void 0:be[`${qn}`]);if(nn!=null&&nn.name)return String(nn.name);const ft=(In==null?void 0:In[`b${qn}`])||(In==null?void 0:In[`${qn}`]);return ft!=null&&ft.name?String(ft.name):`Skill ${qn}`},Sn=jt=>{if(!jt||typeof jt!="object")return;const qn=[Number(jt.max),Number(jt.maxDamage),Number(jt.maxHit)].filter(ft=>Number.isFinite(ft)),nn=qn.length>0?Math.max(...qn):0;nn>Vr&&(Vr=nn,gr=or(jt.id))};let _i=!1;return Array.isArray(Se==null?void 0:Se.targetDamageDist)&&Se.targetDamageDist.forEach(jt=>{Array.isArray(jt)&&jt.forEach(qn=>{Array.isArray(qn)&&qn.forEach(nn=>{_i=!0,Sn(nn)})})}),(!_i||Vr<=0)&&Array.isArray(Se==null?void 0:Se.totalDamageDist)&&Se.totalDamageDist.forEach(jt=>{Array.isArray(jt)&&jt.forEach(qn=>Sn(qn))}),{peak:Vr,skillName:gr||"Unknown Skill"}},bt=(Se,Mt)=>{const be=nn=>{if(!Array.isArray(nn)||nn.length===0)return[];const ft=[];for(let Wt=0;Wt<nn.length;Wt+=1){const vr=Number(nn[Wt]||0),Kn=Wt>0?Number(nn[Wt-1]||0):0;ft.push(Math.max(0,vr-Kn))}return ft},In=(nn,ft)=>{if(!Array.isArray(nn)||nn.length===0||ft<=0)return 0;let Wt=0,vr=0;for(let Kn=0;Kn<nn.length;Kn+=1)Wt+=Number(nn[Kn]||0),Kn>=ft&&(Wt-=Number(nn[Kn-ft]||0)),Kn>=ft-1&&Wt>vr&&(vr=Wt);return Math.max(0,vr)},Vr=nn=>{if(!Array.isArray(nn))return[];const ft=nn.reduce((vr,Kn)=>Math.max(vr,Array.isArray(Kn)?Kn.length:0),0);if(ft<=0)return[];const Wt=new Array(ft).fill(0);return nn.forEach(vr=>{if(Array.isArray(vr))for(let Kn=0;Kn<ft;Kn+=1)Wt[Kn]+=Number(vr[Kn]||0)}),Wt},gr=nn=>Array.isArray(nn)?nn.map(ft=>Number(ft||0)):null,Sn=(nn=>{if(!Array.isArray(nn)||nn.length===0)return null;const ft=nn[0];if(!Array.isArray(ft))return null;if(Array.isArray(ft[0])&&Array.isArray(ft[0][0]))return Vr(ft);if(Array.isArray(ft[0])&&!Array.isArray(ft[0][0])){const Wt=nn.map(vr=>gr(Array.isArray(vr)?vr[0]:null)).filter(vr=>Array.isArray(vr)&&vr.length>0);if(Wt.length>0)return Vr(Wt)}return null})(Se==null?void 0:Se.targetDamage1S),_i=Array.isArray(Se==null?void 0:Se.damage1S)&&Array.isArray(Se.damage1S[0])?Se.damage1S[0]:null,jt=Sn||(Array.isArray(_i)?_i.map(nn=>Number(nn||0)):[]),qn=be(jt);return In(qn,Mt)},Jt=[],st=new Map;e.forEach(Se=>{const Mt=Se==null?void 0:Se.details;if(!Mt)return;const be=Jt.length+1,In=R(Mt.fightName||Se.fightName||`Fight ${be}`),Vr=Mt.zone||Mt.mapName||Mt.map||Mt.location||"",gr=ge(In,String(Vr||"")),or={};(Array.isArray(Mt.players)?Mt.players:[]).forEach(ft=>{if(ft!=null&&ft.notInSquad)return;const Wt=String((ft==null?void 0:ft.account)||(ft==null?void 0:ft.name)||"Unknown"),vr=String((ft==null?void 0:ft.character_name)||(ft==null?void 0:ft.display_name)||(ft==null?void 0:ft.name)||""),Kn=String((ft==null?void 0:ft.profession)||"Unknown"),Mc=`${Wt}|${Kn}`,Wm=Zt(ft,Mt),Oc=Number(Wm.peak||0),Ic=Number(bt(ft,1)||0),sd=Number(bt(ft,5)||0),Dl=Number(bt(ft,30)||0);or[Mc]={hit:Oc,burst1s:Ic,burst5s:sd,burst30s:Dl,skillName:Wm.skillName};const yr=st.get(Mc)||{key:Mc,account:Wt,displayName:Wt,characterName:vr,profession:Kn,professionList:[Kn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};yr.logs+=1,yr.professionList.includes(Kn)||yr.professionList.push(Kn),!yr.characterName&&vr&&(yr.characterName=vr),Oc>yr.peakHit&&(yr.peakHit=Oc,yr.peakFightLabel=gr,yr.peakSkillName=Wm.skillName),Ic>yr.peak1s&&(yr.peak1s=Ic),sd>yr.peak5s&&(yr.peak5s=sd),Dl>yr.peak30s&&(yr.peak30s=Dl),st.set(Mc,yr)});const _i=Object.values(or).reduce((ft,Wt)=>Math.max(ft,Number((Wt==null?void 0:Wt.hit)||0)),0),jt=Object.values(or).reduce((ft,Wt)=>Math.max(ft,Number((Wt==null?void 0:Wt.burst1s)||0)),0),qn=Object.values(or).reduce((ft,Wt)=>Math.max(ft,Number((Wt==null?void 0:Wt.burst5s)||0)),0),nn=Object.values(or).reduce((ft,Wt)=>Math.max(ft,Number((Wt==null?void 0:Wt.burst30s)||0)),0);Jt.push({id:Se.filePath||Se.id||`fight-${be}`,shortLabel:`F${be}`,fullLabel:gr,timestamp:Ee(Mt,Se),values:or,maxHit:_i,max1s:jt,max5s:qn,max30s:nn})});const On=Array.from(st.values()).sort((Se,Mt)=>Mt.peakHit!==Se.peakHit?Mt.peakHit-Se.peakHit:Se.displayName.localeCompare(Mt.displayName));return{fights:Jt,players:On}},[e,H]),gi=y.useMemo(()=>{const R=ce=>String(ce||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),Y=H==null?void 0:H.incomingStrikeDamage,ge=Array.isArray(Y==null?void 0:Y.fights)?Y.fights:[],Re=Array.isArray(Y==null?void 0:Y.players)?Y.players:[];if(ge.length===0&&Re.length===0)return{fights:[],players:[]};const Ee=ge.map((ce,tt)=>{const mn=ce!=null&&ce.values&&typeof ce.values=="object"?ce.values:{},ot={};return Object.entries(mn).forEach(([Zt,bt])=>{if(bt&&typeof bt=="object"){const Jt=Number(bt.damage||0);ot[Zt]={hit:Number(bt.hit??Jt),burst1s:Number(bt.burst1s||0),burst5s:Number(bt.burst5s||0),burst30s:Number(bt.burst30s||0),skillName:String(bt.skillName||""),buckets5s:Array.isArray(bt.buckets5s)?bt.buckets5s.map(st=>Number(st||0)):void 0,downIndices5s:Array.isArray(bt.downIndices5s)?bt.downIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):void 0,deathIndices5s:Array.isArray(bt.deathIndices5s)?bt.deathIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):void 0,skillRows:Array.isArray(bt.skillRows)?bt.skillRows.map(st=>({skillName:String((st==null?void 0:st.skillName)||(st==null?void 0:st.name)||"Unknown Skill"),damage:Number((st==null?void 0:st.damage)||0),hits:Number((st==null?void 0:st.hits)||0),icon:typeof(st==null?void 0:st.icon)=="string"?st.icon:void 0})).filter(st=>Number.isFinite(st.damage)&&st.damage>0):void 0};return}ot[Zt]={hit:Number(bt||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((ce==null?void 0:ce.id)||`fight-${tt+1}`),shortLabel:String((ce==null?void 0:ce.shortLabel)||`F${tt+1}`),fullLabel:R((ce==null?void 0:ce.fullLabel)||`Fight ${tt+1}`),timestamp:Number((ce==null?void 0:ce.timestamp)||0),values:ot,maxHit:Number((ce==null?void 0:ce.maxHit)??(ce==null?void 0:ce.maxDamage)??0),max1s:Number((ce==null?void 0:ce.max1s)||0),max5s:Number((ce==null?void 0:ce.max5s)||0),max30s:Number((ce==null?void 0:ce.max30s)||0)}}),Ce=Re.map(ce=>({key:String((ce==null?void 0:ce.key)||""),account:String((ce==null?void 0:ce.account)||"Unknown"),displayName:String((ce==null?void 0:ce.displayName)||(ce==null?void 0:ce.account)||"Unknown"),characterName:String((ce==null?void 0:ce.characterName)||(ce==null?void 0:ce.name)||(ce==null?void 0:ce.character_name)||(ce==null?void 0:ce.display_name)||""),profession:String((ce==null?void 0:ce.profession)||"Unknown"),professionList:Array.isArray(ce==null?void 0:ce.professionList)?ce.professionList.map(tt=>String(tt)):[],logs:Number((ce==null?void 0:ce.logs)||0),peakHit:Number((ce==null?void 0:ce.peakHit)||0),peak1s:Number((ce==null?void 0:ce.peak1s)||0),peak5s:Number((ce==null?void 0:ce.peak5s)||0),peak30s:Number((ce==null?void 0:ce.peak30s)||0),peakFightLabel:R((ce==null?void 0:ce.peakFightLabel)||""),peakSkillName:String((ce==null?void 0:ce.peakSkillName)||"")}));return{fights:Ee,players:Ce}},[H]),Lo=y.useMemo(()=>{const R=new Map;return Dr.players.forEach(Y=>R.set(Y.key,Y)),R},[Dr.players]),$m=y.useMemo(()=>{const R=Ee=>Xt==="hit"?Ee.peakHit:Xt==="1s"?Ee.peak1s:Xt==="5s"?Ee.peak5s:Ee.peak30s,Y=_o.trim().toLowerCase(),ge=Y?Dr.players.filter(Ee=>Ee.displayName.toLowerCase().includes(Y)||Ee.account.toLowerCase().includes(Y)||Ee.profession.toLowerCase().includes(Y)):Dr.players,Re=new Map;return ge.forEach(Ee=>{const Ce=Ee.profession||"Unknown",ce=Re.get(Ce)||[];ce.push(Ee),Re.set(Ce,ce)}),Array.from(Re.entries()).map(([Ee,Ce])=>({profession:Ee,players:[...Ce].sort((ce,tt)=>R(tt)-R(ce)||ce.displayName.localeCompare(tt.displayName))})).sort((Ee,Ce)=>Ee.profession.localeCompare(Ce.profession))},[Dr.players,_o,Xt]),Rm=xe&&Lo.get(xe)||null,da=y.useMemo(()=>{if(!xe)return[];const R=ge=>ge?Number(Xt==="hit"?ge.hit||0:Xt==="1s"?ge.burst1s||0:Xt==="5s"?ge.burst5s||0:ge.burst30s||0):0,Y=ge=>Number(Xt==="hit"?ge.maxHit||0:Xt==="1s"?ge.max1s||0:Xt==="5s"?ge.max5s||0:ge.max30s||0);return Dr.fights.map((ge,Re)=>{var Ee;return{index:Re,fightId:ge.id,shortLabel:ge.shortLabel,fullLabel:ge.fullLabel,timestamp:Number(ge.timestamp||0),damage:R(ge.values[xe]),maxDamage:Y(ge),skillName:String(((Ee=ge.values[xe])==null?void 0:Ee.skillName)||"")}})},[Dr.fights,xe,Xt]),Fm=y.useMemo(()=>{const R=da.reduce((ge,Re)=>Math.max(ge,Number(Re.damage||0)),0),Y=da.reduce((ge,Re)=>Math.max(ge,Number(Re.maxDamage||0)),0);return Math.max(1,R,Y)},[da]),Ks=y.useMemo(()=>{var kN,SN,NN,CN,jN,PN,AN,EN,TN;const R=It===null?null:da.find(ye=>ye.index===It)||null;if(!R||!xe)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Y=Dr.fights.find((ye,rt)=>String(ye.id||"")===String(R.fightId||"")||rt===R.index)||null,[ge,Re]=xe.split("|"),Ee=e.find(ye=>String((ye==null?void 0:ye.filePath)||(ye==null?void 0:ye.id)||"")===String(R.fightId||"")),Ce=Ee==null?void 0:Ee.details,ce=ye=>Array.isArray(ye)?ye.map(rt=>Array.isArray(rt)?[Number(rt[0]),Number(rt[1])]:rt&&typeof rt=="object"?[Number(rt.time),Number(rt.value)]:null).filter(rt=>!!rt&&Number.isFinite(rt[0])&&rt[0]>=0):[],tt=ye=>String(ye||"").trim().toLowerCase(),mn=tt(ge),ot=tt(Re),Zt=Lo.get(xe),bt=new Set([tt(Zt==null?void 0:Zt.displayName),tt(Zt==null?void 0:Zt.characterName),tt(Zt==null?void 0:Zt.account)].filter(Boolean)),Jt=Array.isArray(Ce==null?void 0:Ce.players)&&((kN=Ce.players.map(ye=>{const rt=tt(ye==null?void 0:ye.account),qt=tt(ye==null?void 0:ye.name),Gn=tt(ye==null?void 0:ye.profession),jn=!!rt&&rt===mn,Dn=!!qt&&(qt===mn||bt.has(qt)),Yi=!!rt&&bt.has(rt),$o=!ot||Gn===ot;let es=0;return jn&&(es+=100),Dn&&(es+=90),Yi&&(es+=80),$o&&(es+=20),{player:ye,score:es}}).filter(ye=>ye.score>0).sort((ye,rt)=>rt.score-ye.score)[0])==null?void 0:kN.player)||null,st=(()=>{const ye=Jt==null?void 0:Jt.combatReplayData;return Array.isArray(ye)?ye.filter(rt=>rt&&typeof rt=="object"):ye&&typeof ye=="object"?[ye]:[]})(),On=st.flatMap(ye=>ce(ye==null?void 0:ye.down).map(([rt])=>rt)),Se=st.flatMap(ye=>ce(ye==null?void 0:ye.dead).map(([rt])=>rt)),Mt=st.map(ye=>Number(ye==null?void 0:ye.start)).filter(ye=>Number.isFinite(ye)&&ye>=0),be=Array.isArray(Ce==null?void 0:Ce.players)?Ce.players.flatMap(ye=>{const rt=ye==null?void 0:ye.combatReplayData;return Array.isArray(rt)?rt.map(qt=>Number(qt==null?void 0:qt.start)):[Number(rt==null?void 0:rt.start)]}).filter(ye=>Number.isFinite(ye)&&ye>=0).reduce((ye,rt)=>Math.min(ye,rt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,In=[0,Number((Ce==null?void 0:Ce.logStartOffset)||0),...Mt,Number.isFinite(be)?be:0].filter(ye=>Number.isFinite(ye)&&ye>=0),Vr=ye=>{const rt=Math.max(0,Math.floor(Number(ye||0)/1e3)),qt=Math.floor(rt/5)*5;return`${qt}s-${qt+5}s`},gr=(ye,rt)=>{if(ye.length===0||rt.length===0)return[];const qt=rt.length*5e3,Gn=lr=>lr.reduce((Ss,_c)=>_c>=0&&_c<=qt+2e3?Ss+1:Ss,0),jn=[],Dn=ye.map(lr=>Number(lr||0)).filter(lr=>Number.isFinite(lr)&&lr>=0);if(Dn.length===0)return[];jn.push(Dn);const Yi=Dn.reduce((lr,Ss)=>Math.max(lr,Ss),0),$o=Dn.reduce((lr,Ss)=>Math.min(lr,Ss),Number.POSITIVE_INFINITY);Yi>qt*20&&jn.push(Dn.map(lr=>lr/1e3)),Yi<=qt*2&&$o>=0&&Yi>0&&Yi<Math.max(120,rt.length*5+10)&&jn.push(Dn.map(lr=>lr*1e3));let es=Dn,DN=0,MN=-1;return jn.forEach(lr=>{const Ss=new Set(In),_c=lr.reduce((Ml,yv)=>Math.min(Ml,yv),Number.POSITIVE_INFINITY);if(Number.isFinite(_c)&&qt>0&&_c>qt){const Ml=Math.floor(_c/qt)*qt;Ss.add(Ml),Ss.add(Math.max(0,Ml-qt))}Ss.forEach(Ml=>{const yv=lr.map(mF=>mF-Ml),ON=Gn(yv);ON>MN&&(MN=ON,DN=Ml,es=lr)})}),es.map(lr=>lr-DN).filter(lr=>Number.isFinite(lr)&&lr>=0)},or=(ye,rt)=>{if(ye.length===0||rt.length===0)return[];const qt=gr(rt,ye),Gn=new Map;ye.forEach(Dn=>{const Yi=/^(\d+)s-/.exec(String(Dn));if(!Yi)return;const $o=Number(Yi[1]);Number.isFinite($o)&&Gn.set($o,Dn)});const jn=[];return qt.forEach(Dn=>{const Yi=Math.max(0,Math.floor(Number(Dn||0)/1e3)),$o=Math.floor(Yi/5)*5,es=Gn.get($o)||Vr(Dn);ye.includes(es)&&jn.push(es)}),Array.from(new Set(jn))},Sn=(ye,rt)=>{if(ye<=0||rt.length===0)return[];const qt=Array.from({length:ye},(Dn,Yi)=>`${Yi*5}s-${(Yi+1)*5}s`),jn=gr(rt,qt).map(Dn=>Math.floor(Math.max(0,Number(Dn||0))/5e3)).filter(Dn=>Number.isFinite(Dn)&&Dn>=0&&Dn<ye);return Array.from(new Set(jn))},_i=Array.isArray((NN=(SN=Y==null?void 0:Y.values)==null?void 0:SN[xe])==null?void 0:NN.buckets5s)?((jN=(CN=Y==null?void 0:Y.values)==null?void 0:CN[xe])==null?void 0:jN.buckets5s)||[]:[],jt=Array.isArray((AN=(PN=Y==null?void 0:Y.values)==null?void 0:PN[xe])==null?void 0:AN.downIndices5s)?Y.values[xe].downIndices5s.map(ye=>Number(ye)).filter(ye=>Number.isFinite(ye)&&ye>=0):[],qn=Array.isArray((TN=(EN=Y==null?void 0:Y.values)==null?void 0:EN[xe])==null?void 0:TN.deathIndices5s)?Y.values[xe].deathIndices5s.map(ye=>Number(ye)).filter(ye=>Number.isFinite(ye)&&ye>=0):[];if(_i.length>0){const ye=Math.max(0,Math.ceil(Number((Ce==null?void 0:Ce.durationMS)||0)/5e3)),rt=Math.max(_i.length,ye),qt=Array.from({length:rt},(jn,Dn)=>({label:`${Dn*5}s-${(Dn+1)*5}s`,value:Number(_i[Dn]||0)})),Gn=qt.map(jn=>jn.label);return{title:`Fight Breakdown - ${R.shortLabel||"Fight"} (5s Damage Buckets)`,data:qt,downLabels:or(Gn,On),deathLabels:or(Gn,Se),downIndices:jt.length>0?jt.filter(jn=>jn<qt.length):Sn(qt.length,On),deathIndices:qn.length>0?qn.filter(jn=>jn<qt.length):Sn(qt.length,Se)}}const nn=R.shortLabel||"Fight";if(!Ce||!Array.isArray(Ce.players))return{title:`Fight Breakdown - ${nn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const ft=Ce.players.find(ye=>String((ye==null?void 0:ye.account)||(ye==null?void 0:ye.name)||"Unknown")===ge&&String((ye==null?void 0:ye.profession)||"Unknown")===Re);if(!ft)return{title:`Fight Breakdown - ${nn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Wt=ft,vr=ye=>{if(!Array.isArray(ye)||ye.length===0)return[];const rt=[];for(let qt=0;qt<ye.length;qt+=1){const Gn=Number(ye[qt]||0),jn=qt>0?Number(ye[qt-1]||0):0;rt.push(Math.max(0,Gn-jn))}return rt},Kn=ye=>{if(!Array.isArray(ye))return[];const rt=ye.reduce((Gn,jn)=>Math.max(Gn,Array.isArray(jn)?jn.length:0),0);if(rt<=0)return[];const qt=new Array(rt).fill(0);return ye.forEach(Gn=>{if(Array.isArray(Gn))for(let jn=0;jn<rt;jn+=1)qt[jn]+=Number(Gn[jn]||0)}),qt},Mc=ye=>Array.isArray(ye)?ye.map(rt=>Number(rt||0)):null,Oc=(ye=>{if(!Array.isArray(ye)||ye.length===0)return null;const rt=ye[0];if(!Array.isArray(rt))return null;if(Array.isArray(rt[0])&&Array.isArray(rt[0][0]))return Kn(rt);if(Array.isArray(rt[0])&&!Array.isArray(rt[0][0])){const qt=ye.map(Gn=>Mc(Array.isArray(Gn)?Gn[0]:null)).filter(Gn=>Array.isArray(Gn)&&Gn.length>0);if(qt.length>0)return Kn(qt)}return null})(Wt==null?void 0:Wt.targetDamage1S),Ic=Array.isArray(Wt==null?void 0:Wt.damage1S)&&Array.isArray(Wt.damage1S[0])?Wt.damage1S[0]:null,sd=Oc||(Array.isArray(Ic)?Ic.map(ye=>Number(ye||0)):[]),Dl=vr(sd),yr=5,uF=Math.max(0,Math.ceil(Number((Ce==null?void 0:Ce.durationMS)||0)/(yr*1e3))),dF=Math.max(0,Math.ceil(Dl.length/yr)),fF=Math.max(uF,dF),od=[];for(let ye=0;ye<fF;ye+=1){const rt=ye*yr,qt=Math.min(rt+yr,Dl.length),Gn=Dl.slice(rt,qt).reduce((jn,Dn)=>jn+Number(Dn||0),0);od.push({label:`${rt}s-${rt+yr}s`,value:Gn})}const wN=od.map(ye=>ye.label);return{title:`Fight Breakdown - ${nn} (5s Damage Buckets)`,data:od,downLabels:or(wN,On),deathLabels:or(wN,Se),downIndices:Sn(od.length,On),deathIndices:Sn(od.length,Se)}},[It,da,xe,e,Dr.fights,Lo]),vi=y.useMemo(()=>{const R=new Map;return gi.players.forEach(Y=>R.set(Y.key,Y)),R},[gi.players]),Al=y.useMemo(()=>{const R=Ee=>Ge==="hit"?Ee.peakHit:Ge==="1s"?Ee.peak1s:Ge==="5s"?Ee.peak5s:Ee.peak30s,Y=Vs.trim().toLowerCase(),ge=Y?gi.players.filter(Ee=>Ee.displayName.toLowerCase().includes(Y)||Ee.account.toLowerCase().includes(Y)||Ee.profession.toLowerCase().includes(Y)):gi.players,Re=new Map;return ge.forEach(Ee=>{const Ce=Ee.profession||"Unknown",ce=Re.get(Ce)||[];ce.push(Ee),Re.set(Ce,ce)}),Array.from(Re.entries()).map(([Ee,Ce])=>({profession:Ee,players:[...Ce].sort((ce,tt)=>R(tt)-R(ce)||ce.displayName.localeCompare(tt.displayName))})).sort((Ee,Ce)=>Ee.profession.localeCompare(Ce.profession))},[gi.players,Vs,Ge]),El=ht&&vi.get(ht)||null,yi=y.useMemo(()=>{if(!ht)return[];const R=ge=>ge?Number(Ge==="hit"?ge.hit||0:Ge==="1s"?ge.burst1s||0:Ge==="5s"?ge.burst5s||0:ge.burst30s||0):0,Y=ge=>Number(Ge==="hit"?ge.maxHit||0:Ge==="1s"?ge.max1s||0:Ge==="5s"?ge.max5s||0:ge.max30s||0);return gi.fights.map((ge,Re)=>{var Ee;return{index:Re,fightId:ge.id,shortLabel:ge.shortLabel,fullLabel:ge.fullLabel,timestamp:Number(ge.timestamp||0),damage:R(ge.values[ht]),maxDamage:Y(ge),skillName:String(((Ee=ge.values[ht])==null?void 0:Ee.skillName)||"")}})},[gi.fights,ht,Ge]),Tl=y.useMemo(()=>{const R=yi.reduce((ge,Re)=>Math.max(ge,Number(Re.damage||0)),0),Y=yi.reduce((ge,Re)=>Math.max(ge,Number(Re.maxDamage||0)),0);return Math.max(1,R,Y)},[yi]),Bm=y.useMemo(()=>{var Ce,ce,tt,mn,ot,Zt,bt,Jt;const R=oe===null?null:yi.find(st=>st.index===oe)||null;if(!R||!ht)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Y=gi.fights.find((st,On)=>String(st.id||"")===String(R.fightId||"")||On===R.index)||null,ge=Array.isArray((ce=(Ce=Y==null?void 0:Y.values)==null?void 0:Ce[ht])==null?void 0:ce.buckets5s)?((mn=(tt=Y==null?void 0:Y.values)==null?void 0:tt[ht])==null?void 0:mn.buckets5s)||[]:[],Re=Array.isArray((Zt=(ot=Y==null?void 0:Y.values)==null?void 0:ot[ht])==null?void 0:Zt.downIndices5s)?Y.values[ht].downIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):[],Ee=Array.isArray((Jt=(bt=Y==null?void 0:Y.values)==null?void 0:bt[ht])==null?void 0:Jt.deathIndices5s)?Y.values[ht].deathIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):[];if(ge.length>0){const st=ge.map((On,Se)=>({label:`${Se*5}s-${(Se+1)*5}s`,value:Number(On||0)}));return{title:`Fight Breakdown - ${R.shortLabel||"Fight"} (5s Damage Buckets)`,data:st,downLabels:[],deathLabels:[],downIndices:Re.filter(On=>On<st.length),deathIndices:Ee.filter(On=>On<st.length)}}return{title:`Fight Breakdown - ${R.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[oe,yi,ht,gi.fights]),ER=y.useMemo(()=>{var Re,Ee;if(oe===null||!ht)return[];const R=yi.find(Ce=>Ce.index===oe);if(!R)return[];const Y=gi.fights.find((Ce,ce)=>String(Ce.id||"")===String(R.fightId||"")||ce===R.index);return[...((Ee=(Re=Y==null?void 0:Y.values)==null?void 0:Re[ht])==null?void 0:Ee.skillRows)||[]].filter(Ce=>Number((Ce==null?void 0:Ce.damage)||0)>0).sort((Ce,ce)=>Number(ce.damage||0)-Number(Ce.damage||0)).slice(0,30)},[oe,ht,yi,gi.fights]),TR=y.useMemo(()=>{var Re,Ee;if(It===null||!xe)return[];const R=da.find(Ce=>Ce.index===It);if(!R)return[];const Y=Dr.fights.find((Ce,ce)=>String(Ce.id||"")===String(R.fightId||"")||ce===R.index);return[...((Ee=(Re=Y==null?void 0:Y.values)==null?void 0:Re[xe])==null?void 0:Ee.skillRows)||[]].filter(Ce=>Number((Ce==null?void 0:Ce.damage)||0)>0).sort((Ce,ce)=>Number(ce.damage||0)-Number(Ce.damage||0)).slice(0,30)},[It,xe,da,Dr.fights]);y.useEffect(()=>{if(Oi.length===0){ua!==null&&qs(null),Ea!==null&&Pl(null);return}if(!ua||!ks.has(ua)){const R=Oi[0].key;qs(R),id(null)}},[Oi,ks,ua,Ea]),y.useEffect(()=>{if(!qi||qi.skills.length===0){Ea!==null&&Pl(null);return}const R=qi.skills.some(Y=>Y.id===Ea);(!Ea||!R)&&Pl(qi.skills[0].id)},[qi,Ea]),y.useEffect(()=>{if(Ta.length===0){ze!==null&&at(null),Bn!==null&&zr(null);return}if(!ze||!Ec.has(ze)){const R=Ta[0].profession;at(R),er(null)}},[Ta,Ec,ze,Bn]),y.useEffect(()=>{if(!Da||Da.skills.length===0){Bn!==null&&zr(null);return}const R=Da.skills.some(Y=>Y.id===Bn);(!Bn||!R)&&zr(Da.skills[0].id)},[Da,Bn]),y.useEffect(()=>{if(Dr.players.length===0){xe!==null&&it(null);return}(!xe||!Lo.has(xe))&&xe!==null&&it(null)},[Dr.players,Lo,xe]),y.useEffect(()=>{Pn(null)},[xe,Xt]),y.useEffect(()=>{if(It===null)return;da.some(Y=>Y.index===It)||Pn(null)},[da,It]),y.useEffect(()=>{if(gi.players.length===0){ht!==null&&Fn(null);return}(!ht||!vi.has(ht))&&ht!==null&&Fn(null)},[gi.players,vi,ht]),y.useEffect(()=>{_e(null)},[ht,Ge]),y.useEffect(()=>{if(oe===null)return;yi.some(Y=>Y.index===oe)||_e(null)},[yi,oe]);const DR=y.useMemo(()=>new Set(Ie),[Ie]),{playerMapByKey:Gs,playerTotalsForSkill:Tc,skillChartData:MR,skillChartMaxY:OR,groupedSkillUsagePlayers:IR}=HU({skillUsageData:J,selectedSkillId:Ke,selectedPlayers:DR,skillUsageView:Et==="perSecond"?"perSecond":"total"}),uN=y.useMemo(()=>{const R=new Map,Y=Ce=>{Ce.forEach(ce=>{const tt=Vc(ce==null?void 0:ce.name)||(ce==null?void 0:ce.name);tt&&ce!=null&&ce.icon&&!R.has(tt)&&R.set(tt,ce.icon)})},ge=Ce=>{Ce.forEach(ce=>{Object.entries((ce==null?void 0:ce.conditions)||{}).forEach(([tt,mn])=>{const ot=Vc(tt)||tt;mn!=null&&mn.icon&&!R.has(ot)&&R.set(ot,mn.icon)})})},Re=Ce=>{const ce=new Map;return Ce.forEach(tt=>{const mn=Vc(tt==null?void 0:tt.name)||(tt==null?void 0:tt.name);if(!mn)return;const ot=ce.get(mn)||{name:mn,icon:(tt==null?void 0:tt.icon)||R.get(mn)||lh(mn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};ot.applications+=Number((tt==null?void 0:tt.applications)||0),ot.damage+=Number((tt==null?void 0:tt.damage)||0),tt!=null&&tt.applicationsFromUptime&&(ot.applicationsFromUptime+=Number(tt.applicationsFromUptime||0)),tt!=null&&tt.applicationsFromBuffs&&(ot.applicationsFromBuffs+=Number(tt.applicationsFromBuffs||0)),tt!=null&&tt.applicationsFromBuffsActive&&(ot.applicationsFromBuffsActive+=Number(tt.applicationsFromBuffsActive||0)),!ot.icon&&(tt!=null&&tt.icon)&&(ot.icon=tt.icon),ot.icon||(ot.icon=lh(mn)),ce.set(mn,ot)}),Array.from(ce.values())},Ee=Ce=>Ce.map(ce=>{const tt={};return Object.entries((ce==null?void 0:ce.conditions)||{}).forEach(([mn,ot])=>{const Zt=Vc(mn)||mn;if(!Zt)return;const bt=tt[Zt]||{icon:(ot==null?void 0:ot.icon)||R.get(Zt)||lh(Zt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};bt.applications+=Number((ot==null?void 0:ot.applications)||0),bt.damage+=Number((ot==null?void 0:ot.damage)||0),ot!=null&&ot.applicationsFromUptime&&(bt.applicationsFromUptime+=Number(ot.applicationsFromUptime||0)),ot!=null&&ot.applicationsFromBuffs&&(bt.applicationsFromBuffs+=Number(ot.applicationsFromBuffs||0)),ot!=null&&ot.applicationsFromBuffsActive&&(bt.applicationsFromBuffsActive+=Number(ot.applicationsFromBuffsActive||0)),!bt.icon&&(ot!=null&&ot.icon)&&(bt.icon=ot.icon),bt.icon||(bt.icon=lh(Zt)),Object.values((ot==null?void 0:ot.skills)||{}).forEach(Jt=>{const st=(Jt==null?void 0:Jt.name)||"Unknown",On=bt.skills[st]||{name:st,hits:0,damage:0,icon:Jt==null?void 0:Jt.icon};On.hits+=Number((Jt==null?void 0:Jt.hits)||0),On.damage+=Number((Jt==null?void 0:Jt.damage)||0),!On.icon&&(Jt!=null&&Jt.icon)&&(On.icon=Jt.icon),bt.skills[st]=On}),tt[Zt]=bt}),{...ce,conditions:tt}});return(Ce,ce)=>(Y(Ce),ge(ce),{summary:Re(Ce),players:Ee(ce)})},[]),dN=Ws==="outgoing"?H.outgoingConditionSummary:H.incomingConditionSummary,fN=Ws==="outgoing"?H.outgoingConditionPlayers:H.incomingConditionPlayers,{summary:zm,players:_R}=y.useMemo(()=>uN(dN||[],fN||[]),[uN,dN,fN]);y.useEffect(()=>{if(mt==="all"||zm.some(Y=>Y.name===mt))return;const R=Vc(mt);R&&zm.some(Y=>Y.name===R)?cn(R):cn("all")},[mt,zm,cn]);const LR=y.useMemo(()=>{const R={};return Tc.forEach((Y,ge)=>{const Re=Gs.get(ge);if(!Re)return;const Ee=Re.profession;(!R[Ee]||Y>R[Ee])&&(R[Ee]=Y)}),R},[Tc,Gs]),Hn=y.useCallback(R=>u?u(R):!0,[u]),Cr=y.useCallback((R,Y)=>{const ge=Hn(R);return`${Y} transition-[opacity,transform] duration-700 ease-in-out ${ge?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Hn]),mN=y.useMemo(()=>Die.find(R=>Hn(R))||null,[Hn]),jr=y.useCallback(R=>R===mN,[mN]),$R=y.useMemo(()=>{const R=new Map,Y=new Map;return Ie.forEach(ge=>{const Re=Gs.get(ge);if(!Re)return;const Ee=Tc.get(ge)??0,Ce=Y.get(Re.profession)||[];Ce.push({key:ge,total:Ee}),Y.set(Re.profession,Ce)}),Y.forEach(ge=>{ge.sort((Re,Ee)=>Ee.total-Re.total),ge.forEach((Re,Ee)=>{R.set(Re.key,Ee)})}),R},[Ie,Gs,Tc]),hN=["0","12 3","8 3","6 3","4 3","2 3"],RR=R=>{const Y=Gs.get(R),ge=ec((Y==null?void 0:Y.profession)||""),Re=Tc.get(R)??0,Ee=Y!=null&&Y.profession&&LR[Y.profession]||1,ce=.35+(Ee>0?Re/Ee:1)*.65;return Um(ge,ce)},FR=R=>{const Y=$R.get(R)??0;return hN[Y%hN.length]},BR=(R,Y,ge)=>{if(!ge)return RR(R);const Re=Gs.get(R),Ee=ec((Re==null?void 0:Re.profession)||"");return Y?Um(Ee,1.2):Um(Ee,.5)},Um=(R,Y)=>{const ge=R.replace("#","");if(ge.length!==6)return R;const Re=ot=>Math.max(0,Math.min(255,ot)),Ee=ot=>Number.parseInt(ge.slice(ot,ot+2),16),Ce=ot=>Re(Math.round(ot)).toString(16).padStart(2,"0"),ce=Ee(0),tt=Ee(2),mn=Ee(4);return`#${Ce(ce*Y)}${Ce(tt*Y)}${Ce(mn*Y)}`},pN=y.useMemo(()=>{const R=new Map;return J.skillOptions.forEach(Y=>{R.set(Y.id,{name:Y.name,icon:Y.icon})}),R},[J.skillOptions]),ad=y.useMemo(()=>{var ot;if(Ie.length===0)return[];const R=new Map,Y=new Map;let ge=0;Ie.forEach(Zt=>{const bt=Gs.get(Zt);if(!bt)return;ge+=bt.totalActiveSeconds||0,Object.entries(bt.skillTotals||{}).forEach(([st,On])=>{R.set(st,(R.get(st)||0)+Number(On||0))});const Jt=bt.profession||"Unknown";Y.set(Jt,(Y.get(Jt)||0)+(bt.totalActiveSeconds||0))});const Re=$e.trim().toLowerCase(),Ee=Et==="perSecond",Ce=((ot=Array.from(Y.entries()).sort((Zt,bt)=>bt[1]-Zt[1])[0])==null?void 0:ot[0])||"Unknown",ce=ec(Ce),tt="#64748b";return Array.from(R.entries()).map(([Zt,bt])=>{const Jt=pN.get(Zt),st=(Jt==null?void 0:Jt.name)||Zt,On=Ee&&ge>0?bt/ge:bt;return{skillId:Zt,name:st,icon:Jt==null?void 0:Jt.icon,total:On}}).filter(Zt=>Zt.total>0&&(!Re||Zt.name.toLowerCase().includes(Re))).sort((Zt,bt)=>bt.total-Zt.total).map((Zt,bt)=>({...Zt,color:bt===0?ce:Um(ce,.85-Math.min(bt*.06,.4))||tt}))},[Ie,Gs,$e,Et,pN]);y.useEffect(()=>{if(ad.length===0){Ke!==null&&he(null);return}(!Ke||!ad.some(R=>R.skillId===Ke))&&he(ad[0].skillId)},[ad,Ke,he]);const Dc=J.skillOptions.find(R=>R.id===Ke),zR=(Dc==null?void 0:Dc.name)||"",UR=(Dc==null?void 0:Dc.icon)||null,VR=G&&!!Ke&&Ie.length>0,Vm="__all__",WR=G&&Ur.length>0,Ys=y.useMemo(()=>Ur.find(R=>R.profession===dt)??null,[Ur,dt]),HR=sr===Vm,qR=y.useMemo(()=>{var R;return((R=Ys==null?void 0:Ys.skills)==null?void 0:R.find(Y=>Y.id===sr))??null},[Ys,sr]);y.useEffect(()=>{if(Ur.length===0){dt!==null&&Qt(null),yn!==null&&pi(null);return}if(!dt||!Ur.some(R=>R.profession===dt)){const R=Ur[0].profession;Qt(R),pi(null)}},[Ur,dt,yn]),y.useEffect(()=>{if(!Ys||Ys.skills.length===0){sr!==null&&Za(null);return}const R=Ys.skills.some(Y=>Y.id===sr);(!sr||!R&&sr!==Vm)&&Za(Vm)},[Ys,sr]);const KR=R=>{Je(Y=>Y.includes(R)?Y.filter(ge=>ge!==R):[...Y,R])},GR=R=>{Je(Y=>Y.filter(ge=>ge!==R))},YR=y.useMemo(()=>{const R=bn.trim().toLowerCase(),Y=H.boonTables||[];return R?Y.filter(ge=>ge.name.toLowerCase().includes(R)):Y},[H.boonTables,bn]),XR=y.useMemo(()=>Me?(H.boonTables||[]).find(R=>R.id===Me)??null:null,[H.boonTables,Me]),QR=y.useMemo(()=>{const R=Lt.trim().toLowerCase(),Y=[...H.specialTables||[]].sort((ge,Re)=>ge.name.localeCompare(Re.name));return R?Y.filter(ge=>ge.name.toLowerCase().includes(R)):Y},[H.specialTables,Lt]),Ja=y.useMemo(()=>[...H.specialTables||[]].filter(Y=>/\b(sigil|relic)\b/i.test(String((Y==null?void 0:Y.name)||""))).sort((Y,ge)=>Y.name.localeCompare(ge.name)),[H.specialTables]),ZR=y.useMemo(()=>{const R=Fr.trim().toLowerCase();return R?Ja.filter(Y=>Y.name.toLowerCase().includes(R)):Ja},[Ja,Fr]),JR=y.useMemo(()=>ue?(H.specialTables||[]).find(R=>R.id===ue)??null:null,[H.specialTables,ue]),eF=y.useMemo(()=>Yt?Ja.find(R=>R.id===Yt)??null:null,[Ja,Yt]);y.useEffect(()=>{!H.boonTables||H.boonTables.length===0||(!Me||!H.boonTables.some(R=>R.id===Me))&&se(H.boonTables[0].id)},[H.boonTables,Me]),y.useEffect(()=>{!H.specialTables||H.specialTables.length===0||(!ue||!H.specialTables.some(R=>R.id===ue))&&je(H.specialTables[0].id)},[H.specialTables,ue]),y.useEffect(()=>{if(!Ja||Ja.length===0){Yt!==null&&kn(null);return}(!Yt||!Ja.some(R=>R.id===Yt))&&kn(Ja[0].id)},[Ja,Yt]),y.useEffect(()=>{const R=()=>{const ge=window.getSelection();ge&&ge.rangeCount>0&&ge.removeAllRanges()},Y=ge=>{var Ee;const Re=ge.target;(Ee=Re==null?void 0:Re.closest)!=null&&Ee.call(Re,".recharts-wrapper")&&(ge.preventDefault(),R())};return document.addEventListener("selectstart",Y),document.addEventListener("mousedown",Y),document.addEventListener("mousemove",Y),document.addEventListener("dragstart",Y),()=>{document.removeEventListener("selectstart",Y),document.removeEventListener("mousedown",Y),document.removeEventListener("mousemove",Y),document.removeEventListener("dragstart",Y)}},[]);const Gi=R=>{Ct.current&&(window.clearTimeout(Ct.current),Ct.current=null),Bt(!1),We(R)},xi=()=>{Ae&&(Ct.current&&window.clearTimeout(Ct.current),Bt(!0),Ct.current=window.setTimeout(()=>{We(null),Bt(!1),Ct.current=null},160))};y.useEffect(()=>{if(!Ae)return;const R=Re=>{Re.key==="Escape"&&xi()},Y=document.body.style.overflow,ge=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R),document.body.style.overflow=Y,document.documentElement.style.overflow=ge}},[Ae]);const gN=(R,Y)=>{const ge=((Y==null?void 0:Y.value)||0)-((R==null?void 0:R.value)||0);return ge!==0?ge:String((R==null?void 0:R.name)||"").localeCompare(String((Y==null?void 0:Y.name)||""))},vN=Array.isArray(H==null?void 0:H.squadClassData)?H.squadClassData:[],yN=Array.isArray(H==null?void 0:H.enemyClassData)?H.enemyClassData:[],tF=y.useMemo(()=>[...vN].sort(gN),[vN]),nF=y.useMemo(()=>[...yN].sort(gN),[yN]),rF=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-6xl mx-auto overflow-hidden",iF=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${Ae?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${Ae?"":"backdrop-blur-2xl"}`,aF=c&&m!=="matte"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:void 0,sF=R=>Et==="perSecond"?R.toFixed(1):Math.round(R).toLocaleString(),oF=R=>R.toFixed(1),lF=R=>Math.round(R).toLocaleString(),cF=R=>typeof R=="number"&&Number.isFinite(R)?R.toFixed(1):"0.0",Ii=tie;return d.jsxs("div",{className:rF,children:[Ae&&d.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${qe?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:xi}),d.jsx(jie,{embedded:c,dashboardTitle:f,totalLogs:H.total,onBack:t,devMockAvailable:D,devMockUploadState:F,onDevMockUpload:le,uploadingWeb:T,onWebUpload:W,sharing:ne,canShareDiscord:h,onShare:z}),d.jsx(Pie,{embedded:c,webUploadMessage:_,webUploadUrl:A,webUploadBuildStatus:$,webCopyStatus:Z,setWebCopyStatus:L}),d.jsx(Aie,{embedded:c,devMockAvailable:D,devMockUploadState:F}),d.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:d.jsxs("div",{id:"stats-dashboard-container",ref:k,className:`${iF} ${c?"":"flex-1"}`,style:aF,children:[d.jsxs(d.Fragment,{children:[d.jsx(vie,{stats:H,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr}),d.jsx(yie,{stats:H,fightBreakdownTab:pt,setFightBreakdownTab:Tt,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr}),d.jsx(wie,{stats:H,showTopStats:g,showMvp:b,topStatsMode:S,expandedLeader:X,setExpandedLeader:Ne,formatTopStatValue:Bo,formatWithCommas:$a,isMvpStatEnabled:I,renderProfessionIcon:Ii,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr}),d.jsx(kie,{stats:H,topSkillsMetric:P,onTopSkillsMetricChange:ae,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr}),d.jsx(Sie,{sortedSquadClassData:tF,sortedEnemyClassData:nF,getProfessionIconPath:Tp,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr}),d.jsx(Nie,{timelineData:H.timelineData,timelineFriendlyScope:Qe,setTimelineFriendlyScope:ut,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr}),d.jsx(Cie,{mapData:H.mapData,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr}),d.jsx(sie,{stats:H,OFFENSE_METRICS:XM,roundCountStats:w,offenseSearch:ca,setOffenseSearch:Di,activeOffenseStat:we,setActiveOffenseStat:nt,offenseViewMode:pe,setOffenseViewMode:Ve,formatWithCommas:$a,renderProfessionIcon:Ii,expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr,sidebarListClass:Ps}),d.jsx(aie,{expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr,sidebarListClass:Ps,viewMode:Pe,setViewMode:He,playerSkillBreakdowns:Oi,classSkillBreakdowns:Ta,activePlayerKey:ua,setActivePlayerKey:qs,expandedPlayerKey:Im,setExpandedPlayerKey:id,activePlayerSkillId:Ea,setActivePlayerSkillId:Pl,activeClassKey:ze,setActiveClassKey:at,expandedClassKey:Ht,setExpandedClassKey:er,activeClassSkillId:Bn,setActiveClassSkillId:zr,skillSearch:_m,setSkillSearch:Lm,activePlayerBreakdown:qi,activePlayerSkill:Ki,activeClassBreakdown:Da,activeClassSkill:Ma,renderProfessionIcon:Ii}),d.jsx(LA,{expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr,spikePlayerFilter:_o,setSpikePlayerFilter:rd,groupedSpikePlayers:$m,spikeMode:Xt,setSpikeMode:Tr,selectedSpikePlayerKey:xe,setSelectedSpikePlayerKey:it,selectedSpikePlayer:Rm,spikeChartData:da,spikeChartMaxY:Fm,selectedSpikeFightIndex:It,setSelectedSpikeFightIndex:Pn,spikeDrilldownTitle:Ks.title,spikeDrilldownData:Ks.data,spikeDrilldownDownIndices:Ks.downIndices,spikeDrilldownDeathIndices:Ks.deathIndices,spikeFightSkillRows:TR,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:$a,renderProfessionIcon:Ii}),d.jsx(oie,{conditionSummary:zm,conditionPlayers:_R,conditionSearch:Zr,setConditionSearch:Mi,activeConditionName:mt,setActiveConditionName:cn,conditionDirection:Ws,setConditionDirection:jl,conditionGridClass:Jr,effectiveConditionSort:ar,setConditionSort:yt,showConditionDamage:en,renderProfessionIcon:Ii,expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr,sidebarListClass:Ps}),d.jsx(cie,{stats:H,DEFENSE_METRICS:QM,defenseSearch:pn,setDefenseSearch:gn,activeDefenseStat:kt,setActiveDefenseStat:$t,defenseViewMode:Xe,setDefenseViewMode:Pt,roundCountStats:w,formatWithCommas:$a,renderProfessionIcon:Ii,expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr,sidebarListClass:Ps}),d.jsx(LA,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr,spikePlayerFilter:Vs,setSpikePlayerFilter:Cl,groupedSpikePlayers:Al,spikeMode:Ge,setSpikeMode:Ft,selectedSpikePlayerKey:ht,setSelectedSpikePlayerKey:Fn,selectedSpikePlayer:El,spikeChartData:yi,spikeChartMaxY:Tl,selectedSpikeFightIndex:oe,setSelectedSpikeFightIndex:_e,spikeDrilldownTitle:Bm.title,spikeDrilldownData:Bm.data,spikeDrilldownDownIndices:Bm.downIndices,spikeDrilldownDeathIndices:Bm.deathIndices,spikeFightSkillRows:ER,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:$a,renderProfessionIcon:Ii}),d.jsx(uie,{stats:H,DAMAGE_MITIGATION_METRICS:Wz,damageMitigationSearch:pr,setDamageMitigationSearch:un,activeDamageMitigationStat:sn,setActiveDamageMitigationStat:St,damageMitigationViewMode:At,setDamageMitigationViewMode:Ot,damageMitigationScope:Rt,setDamageMitigationScope:Kt,roundCountStats:w,formatWithCommas:$a,renderProfessionIcon:Ii,expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr,sidebarListClass:Ps}),d.jsx(lie,{stats:H,activeBoonCategory:Fe,setActiveBoonCategory:R=>Te(R),activeBoonMetric:vt,setActiveBoonMetric:on,activeBoonTab:Me,setActiveBoonTab:se,activeBoonTable:XR,filteredBoonTables:YR,boonSearch:bn,setBoonSearch:hn,formatBoonMetricDisplay:pU,getBoonMetricValue:yO,renderProfessionIcon:Ii,roundCountStats:w,expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr,sidebarListClass:Ps}),d.jsx(die,{stats:H,SUPPORT_METRICS:ZM,supportSearch:q,setSupportSearch:me,activeSupportStat:Br,setActiveSupportStat:Nr,supportViewMode:ln,setSupportViewMode:tn,cleanseScope:Rn,setCleanseScope:Ze,roundCountStats:w,formatWithCommas:$a,renderProfessionIcon:Ii,expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr,sidebarListClass:Ps}),d.jsx(fie,{stats:H,HEALING_METRICS:Hz,activeHealingMetric:ws,setActiveHealingMetric:vv,healingCategory:M,setHealingCategory:V,activeResUtilitySkill:ee,setActiveResUtilitySkill:De,skillUsageData:J,formatWithCommas:$a,renderProfessionIcon:Ii,expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr}),d.jsx(hie,{stats:H,specialSearch:Lt,setSpecialSearch:Gt,filteredSpecialTables:QR,activeSpecialTab:ue,setActiveSpecialTab:je,activeSpecialTable:JR,formatWithCommas:$a,renderProfessionIcon:Ii,expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr,sidebarListClass:Ps}),d.jsx(gie,{hasSigilRelicTables:Ja.length>0,sigilRelicSearch:Fr,setSigilRelicSearch:Sr,filteredSigilRelicTables:ZR,activeSigilRelicTab:Yt,setActiveSigilRelicTab:kn,activeSigilRelicTable:eF,formatWithCommas:$a,renderProfessionIcon:Ii,expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr,sidebarListClass:Ps}),d.jsx(nie,{expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr,selectedPlayers:Ie,setSelectedPlayers:Je,removeSelectedPlayer:GR,playerMapByKey:Gs,groupedSkillUsagePlayers:IR,expandedSkillUsageClass:Dt,setExpandedSkillUsageClass:Oe,togglePlayerSelection:KR,skillUsagePlayerFilter:ve,setSkillUsagePlayerFilter:ke,skillUsageView:Et,setSkillUsageView:Ut,skillUsageData:J,skillUsageSkillFilter:$e,setSkillUsageSkillFilter:Le,selectedSkillId:Ke,setSelectedSkillId:he,skillBarData:ad,selectedSkillName:zR,selectedSkillIcon:UR,skillUsageReady:VR,skillUsageAvailable:G,isSkillUsagePerSecond:zt,skillChartData:MR,skillChartMaxY:OR,playerTotalsForSkill:Tc,hoveredSkillPlayer:Nt,setHoveredSkillPlayer:fe,getLineStrokeColor:BR,getLineDashForPlayer:FR,formatSkillUsageValue:sF,renderProfessionIcon:Ii}),d.jsx(iie,{expandedSection:Ae,expandedSectionClosing:qe,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:Hn,isFirstVisibleSection:jr,sectionClass:Cr,sidebarListClass:Ps,apmSpecAvailable:WR,skillUsageAvailable:G,apmSpecTables:Ur,activeApmSpec:dt,setActiveApmSpec:Qt,expandedApmSpec:yn,setExpandedApmSpec:pi,activeApmSkillId:sr,setActiveApmSkillId:Za,ALL_SKILLS_KEY:Vm,apmSkillSearch:Hs,setApmSkillSearch:Ac,activeApmSpecTable:Ys,activeApmSkill:qR,isAllApmSkills:HR,apmView:et,setApmView:gt,formatApmValue:cF,formatCastRateValue:oF,formatCastCountValue:lF,renderProfessionIcon:Ii})]}),!c&&d.jsx("div",{className:"h-24","aria-hidden":"true"})]})}),d.jsx(Eie,{embedded:c,mobileNavOpen:E,setMobileNavOpen:j,tocItems:O,activeNavId:U,scrollToSection:re,stepSection:Q})]})}const Oie="Arcane",Iie="CRT",Qh="MatteSlate",Zh={id:Oie,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},_ie={id:Qh,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Lie=[Zh,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],$ie={id:Iie,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Nd=[...Lie,$ie,_ie];function Rie(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Fie=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Bie=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zie={};function $A(e,t){return(zie.jsx?Bie:Fie).test(e)}const Uie=/[ \t\n\f\r]/g;function Vie(e){return typeof e=="object"?e.type==="text"?RA(e.value):!1:RA(e)}function RA(e){return e.replace(Uie,"")===""}class Pm{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Pm.prototype.normal={};Pm.prototype.property={};Pm.prototype.space=void 0;function r4(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Pm(n,r,t)}function Wb(e){return e.toLowerCase()}class la{constructor(t,n){this.attribute=n,this.property=t}}la.prototype.attribute="";la.prototype.booleanish=!1;la.prototype.boolean=!1;la.prototype.commaOrSpaceSeparated=!1;la.prototype.commaSeparated=!1;la.prototype.defined=!1;la.prototype.mustUseProperty=!1;la.prototype.number=!1;la.prototype.overloadedBoolean=!1;la.prototype.property="";la.prototype.spaceSeparated=!1;la.prototype.space=void 0;let Wie=0;const rn=Cc(),Or=Cc(),Hb=Cc(),Ue=Cc(),zn=Cc(),bu=Cc(),ma=Cc();function Cc(){return 2**++Wie}const qb=Object.freeze(Object.defineProperty({__proto__:null,boolean:rn,booleanish:Or,commaOrSpaceSeparated:ma,commaSeparated:bu,number:Ue,overloadedBoolean:Hb,spaceSeparated:zn},Symbol.toStringTag,{value:"Module"})),wy=Object.keys(qb);class NS extends la{constructor(t,n,r,i){let a=-1;if(super(t,n),FA(this,"space",i),typeof r=="number")for(;++a<wy.length;){const s=wy[a];FA(this,wy[a],(r&qb[s])===qb[s])}}}NS.prototype.defined=!0;function FA(e,t,n){n&&(e[t]=n)}function td(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new NS(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[Wb(r)]=r,n[Wb(a.attribute)]=r}return new Pm(t,n,e.space)}const i4=td({properties:{ariaActiveDescendant:null,ariaAtomic:Or,ariaAutoComplete:null,ariaBusy:Or,ariaChecked:Or,ariaColCount:Ue,ariaColIndex:Ue,ariaColSpan:Ue,ariaControls:zn,ariaCurrent:null,ariaDescribedBy:zn,ariaDetails:null,ariaDisabled:Or,ariaDropEffect:zn,ariaErrorMessage:null,ariaExpanded:Or,ariaFlowTo:zn,ariaGrabbed:Or,ariaHasPopup:null,ariaHidden:Or,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:zn,ariaLevel:Ue,ariaLive:null,ariaModal:Or,ariaMultiLine:Or,ariaMultiSelectable:Or,ariaOrientation:null,ariaOwns:zn,ariaPlaceholder:null,ariaPosInSet:Ue,ariaPressed:Or,ariaReadOnly:Or,ariaRelevant:null,ariaRequired:Or,ariaRoleDescription:zn,ariaRowCount:Ue,ariaRowIndex:Ue,ariaRowSpan:Ue,ariaSelected:Or,ariaSetSize:Ue,ariaSort:null,ariaValueMax:Ue,ariaValueMin:Ue,ariaValueNow:Ue,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function a4(e,t){return t in e?e[t]:t}function s4(e,t){return a4(e,t.toLowerCase())}const Hie=td({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bu,acceptCharset:zn,accessKey:zn,action:null,allow:null,allowFullScreen:rn,allowPaymentRequest:rn,allowUserMedia:rn,alt:null,as:null,async:rn,autoCapitalize:null,autoComplete:zn,autoFocus:rn,autoPlay:rn,blocking:zn,capture:null,charSet:null,checked:rn,cite:null,className:zn,cols:Ue,colSpan:null,content:null,contentEditable:Or,controls:rn,controlsList:zn,coords:Ue|bu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rn,defer:rn,dir:null,dirName:null,disabled:rn,download:Hb,draggable:Or,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rn,formTarget:null,headers:zn,height:Ue,hidden:Hb,high:Ue,href:null,hrefLang:null,htmlFor:zn,httpEquiv:zn,id:null,imageSizes:null,imageSrcSet:null,inert:rn,inputMode:null,integrity:null,is:null,isMap:rn,itemId:null,itemProp:zn,itemRef:zn,itemScope:rn,itemType:zn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rn,low:Ue,manifest:null,max:null,maxLength:Ue,media:null,method:null,min:null,minLength:Ue,multiple:rn,muted:rn,name:null,nonce:null,noModule:rn,noValidate:rn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rn,optimum:Ue,pattern:null,ping:zn,placeholder:null,playsInline:rn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:rn,referrerPolicy:null,rel:zn,required:rn,reversed:rn,rows:Ue,rowSpan:Ue,sandbox:zn,scope:null,scoped:rn,seamless:rn,selected:rn,shadowRootClonable:rn,shadowRootDelegatesFocus:rn,shadowRootMode:null,shape:null,size:Ue,sizes:null,slot:null,span:Ue,spellCheck:Or,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ue,step:null,style:null,tabIndex:Ue,target:null,title:null,translate:null,type:null,typeMustMatch:rn,useMap:null,value:Or,width:Ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:zn,axis:null,background:null,bgColor:null,border:Ue,borderColor:null,bottomMargin:Ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rn,declare:rn,event:null,face:null,frame:null,frameBorder:null,hSpace:Ue,leftMargin:Ue,link:null,longDesc:null,lowSrc:null,marginHeight:Ue,marginWidth:Ue,noResize:rn,noHref:rn,noShade:rn,noWrap:rn,object:null,profile:null,prompt:null,rev:null,rightMargin:Ue,rules:null,scheme:null,scrolling:Or,standby:null,summary:null,text:null,topMargin:Ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rn,disableRemotePlayback:rn,prefix:null,property:null,results:Ue,security:null,unselectable:null},space:"html",transform:s4}),qie=td({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ma,accentHeight:Ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ue,amplitude:Ue,arabicForm:null,ascent:Ue,attributeName:null,attributeType:null,azimuth:Ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ue,by:null,calcMode:null,capHeight:Ue,className:zn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ue,diffuseConstant:Ue,direction:null,display:null,dur:null,divisor:Ue,dominantBaseline:null,download:rn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ue,enableBackground:null,end:null,event:null,exponent:Ue,externalResourcesRequired:null,fill:null,fillOpacity:Ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bu,g2:bu,glyphName:bu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ue,horizOriginX:Ue,horizOriginY:Ue,id:null,ideographic:Ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ue,k:Ue,k1:Ue,k2:Ue,k3:Ue,k4:Ue,kernelMatrix:ma,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ue,overlineThickness:Ue,paintOrder:null,panose1:null,path:null,pathLength:Ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:zn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ue,pointsAtY:Ue,pointsAtZ:Ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ma,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ma,rev:ma,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ma,requiredFeatures:ma,requiredFonts:ma,requiredFormats:ma,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ue,specularExponent:Ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ue,strikethroughThickness:Ue,string:null,stroke:null,strokeDashArray:ma,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ue,strokeOpacity:Ue,strokeWidth:null,style:null,surfaceScale:Ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ma,tabIndex:Ue,tableValues:null,target:null,targetX:Ue,targetY:Ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ma,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ue,underlineThickness:Ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ue,values:null,vAlphabetic:Ue,vMathematical:Ue,vectorEffect:null,vHanging:Ue,vIdeographic:Ue,version:null,vertAdvY:Ue,vertOriginX:Ue,vertOriginY:Ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:a4}),o4=td({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),l4=td({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:s4}),c4=td({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Kie={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Gie=/[A-Z]/g,BA=/-[a-z]/g,Yie=/^data[-\w.:]+$/i;function Xie(e,t){const n=Wb(t);let r=t,i=la;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Yie.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(BA,Zie);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!BA.test(a)){let s=a.replace(Gie,Qie);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=NS}return new i(r,t)}function Qie(e){return"-"+e.toLowerCase()}function Zie(e){return e.charAt(1).toUpperCase()}const Jie=r4([i4,Hie,o4,l4,c4],"html"),CS=r4([i4,qie,o4,l4,c4],"svg");function eae(e){return e.join(" ").trim()}var jS={},zA=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,tae=/\n/g,nae=/^\s*/,rae=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,iae=/^:\s*/,aae=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,sae=/^[;\s]*/,oae=/^\s+|\s+$/g,lae=`
`,UA="/",VA="*",Vl="",cae="comment",uae="declaration";function dae(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var v=p.match(tae);v&&(n+=v.length);var x=p.lastIndexOf(lae);r=~x?p.length-x:r+p.length}function a(){var p={line:n,column:r};return function(v){return v.position=new s(p),c(),v}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var v=new Error(t.source+":"+n+":"+r+": "+p);if(v.reason=p,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function l(p){var v=p.exec(e);if(v){var x=v[0];return i(x),e=e.slice(x.length),v}}function c(){l(nae)}function u(p){var v;for(p=p||[];v=f();)v!==!1&&p.push(v);return p}function f(){var p=a();if(!(UA!=e.charAt(0)||VA!=e.charAt(1))){for(var v=2;Vl!=e.charAt(v)&&(VA!=e.charAt(v)||UA!=e.charAt(v+1));)++v;if(v+=2,Vl===e.charAt(v-1))return o("End of comment missing");var x=e.slice(2,v-2);return r+=2,i(x),e=e.slice(v),r+=2,p({type:cae,comment:x})}}function m(){var p=a(),v=l(rae);if(v){if(f(),!l(iae))return o("property missing ':'");var x=l(aae),g=p({type:uae,property:WA(v[0].replace(zA,Vl)),value:x?WA(x[0].replace(zA,Vl)):Vl});return l(sae),g}}function h(){var p=[];u(p);for(var v;v=m();)v!==!1&&(p.push(v),u(p));return p}return c(),h()}function WA(e){return e?e.replace(oae,Vl):Vl}var fae=dae,mae=rp&&rp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jS,"__esModule",{value:!0});jS.default=pae;const hae=mae(fae);function pae(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,hae.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var iv={};Object.defineProperty(iv,"__esModule",{value:!0});iv.camelCase=void 0;var gae=/^--[a-zA-Z0-9_-]+$/,vae=/-([a-z])/g,yae=/^[^-]+$/,xae=/^-(webkit|moz|ms|o|khtml)-/,bae=/^-(ms)-/,wae=function(e){return!e||yae.test(e)||gae.test(e)},kae=function(e,t){return t.toUpperCase()},HA=function(e,t){return"".concat(t,"-")},Sae=function(e,t){return t===void 0&&(t={}),wae(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(bae,HA):e=e.replace(xae,HA),e.replace(vae,kae))};iv.camelCase=Sae;var Nae=rp&&rp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Cae=Nae(jS),jae=iv;function Kb(e,t){var n={};return!e||typeof e!="string"||(0,Cae.default)(e,function(r,i){r&&i&&(n[(0,jae.camelCase)(r,t)]=i)}),n}Kb.default=Kb;var Pae=Kb;const Aae=vs(Pae),u4=d4("end"),PS=d4("start");function d4(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Eae(e){const t=PS(e),n=u4(e);if(t&&n)return{start:t,end:n}}function Kd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?qA(e.position):"start"in e||"end"in e?qA(e):"line"in e||"column"in e?Gb(e):""}function Gb(e){return KA(e&&e.line)+":"+KA(e&&e.column)}function qA(e){return Gb(e&&e.start)+"-"+Gb(e&&e.end)}function KA(e){return e&&typeof e=="number"?e:1}class Ti extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Kd(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ti.prototype.file="";Ti.prototype.name="";Ti.prototype.reason="";Ti.prototype.message="";Ti.prototype.stack="";Ti.prototype.column=void 0;Ti.prototype.line=void 0;Ti.prototype.ancestors=void 0;Ti.prototype.cause=void 0;Ti.prototype.fatal=void 0;Ti.prototype.place=void 0;Ti.prototype.ruleId=void 0;Ti.prototype.source=void 0;const AS={}.hasOwnProperty,Tae=new Map,Dae=/[A-Z]/g,Mae=new Set(["table","tbody","thead","tfoot","tr"]),Oae=new Set(["td","th"]),f4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Iae(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Uae(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=zae(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?CS:Jie,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=m4(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function m4(e,t,n){if(t.type==="element")return _ae(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Lae(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Rae(e,t,n);if(t.type==="mdxjsEsm")return $ae(e,t);if(t.type==="root")return Fae(e,t,n);if(t.type==="text")return Bae(e,t)}function _ae(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=CS,e.schema=i),e.ancestors.push(t);const a=p4(e,t.tagName,!1),s=Vae(e,t);let o=TS(e,t);return Mae.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!Vie(l):!0})),h4(e,s,a,t),ES(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Lae(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}zf(e,t.position)}function $ae(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);zf(e,t.position)}function Rae(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=CS,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:p4(e,t.name,!0),s=Wae(e,t),o=TS(e,t);return h4(e,s,a,t),ES(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Fae(e,t,n){const r={};return ES(r,TS(e,t)),e.create(t,e.Fragment,r,n)}function Bae(e,t){return t.value}function h4(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ES(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function zae(e,t,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:t;return o?c(a,s,o):c(a,s)}}function Uae(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=PS(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Vae(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&AS.call(t.properties,i)){const a=Hae(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Oae.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Wae(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else zf(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else zf(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function TS(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Tae;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=m4(e,a,s);o!==void 0&&n.push(o)}return n}function Hae(e,t,n){const r=Xie(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Rie(n):eae(n)),r.property==="style"){let i=typeof n=="object"?n:qae(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Kae(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Kie[r.property]||r.property:r.attribute,n]}}function qae(e,t){try{return Aae(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ti("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=f4+"#cannot-parse-style-attribute",i}}function p4(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=$A(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=$A(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return AS.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);zf(e)}function zf(e,t){const n=new Ti("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=f4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Kae(e){const t={};let n;for(n in e)AS.call(e,n)&&(t[Gae(n)]=e[n]);return t}function Gae(e){let t=e.replace(Dae,Yae);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Yae(e){return"-"+e.toLowerCase()}const ky={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Xae={};function DS(e,t){const n=Xae,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return g4(e,r,i)}function g4(e,t,n){if(Qae(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return GA(e.children,t,n)}return Array.isArray(e)?GA(e,t,n):""}function GA(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=g4(e[i],t,n);return r.join("")}function Qae(e){return!!(e&&typeof e=="object")}const YA=document.createElement("i");function MS(e){const t="&"+e+";";YA.innerHTML=t;const n=YA.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ka(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Ua(e,t){return e.length>0?(ka(e,e.length,0,t),e):t}const XA={}.hasOwnProperty;function v4(e){const t={};let n=-1;for(;++n<e.length;)Zae(t,e[n]);return t}function Zae(e,t){let n;for(n in t){const i=(XA.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){XA.call(i,s)||(i[s]=[]);const o=a[s];Jae(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Jae(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ka(e,0,0,r)}function y4(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ds(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ri=Sl(/[A-Za-z]/),Ai=Sl(/[\dA-Za-z]/),ese=Sl(/[#-'*+\--9=?A-Z^-~]/);function jg(e){return e!==null&&(e<32||e===127)}const Yb=Sl(/\d/),tse=Sl(/[\dA-Fa-f]/),nse=Sl(/[!-/:-@[-`{-~]/);function _t(e){return e!==null&&e<-2}function Ln(e){return e!==null&&(e<0||e===32)}function dn(e){return e===-2||e===-1||e===32}const av=Sl(new RegExp("\\p{P}|\\p{S}","u")),bc=Sl(/\s/);function Sl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function nd(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Ai(e.charCodeAt(n+1))&&Ai(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function vn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return dn(l)?(e.enter(n),o(l)):t(l)}function o(l){return dn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const rse={tokenize:ise};function ise(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),vn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return _t(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const ase={tokenize:sse},QA={tokenize:ose};function sse(e){const t=this,n=[];let r=0,i,a,s;return o;function o(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let C=S,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}g(r);let P=S;for(;P<t.events.length;)t.events[P][1].end={...N},P++;return ka(t.events,C+1,0,t.events.slice(S)),t.events.length=P,c(w)}return o(w)}function c(w){if(r===n.length){if(!i)return m(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(QA,u,f)(w)}function u(w){return i&&b(),g(r),m(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(w)}function m(w){return t.containerState={},e.attempt(QA,h,p)(w)}function h(w){return r++,n.push([t.currentConstruct,t.containerState]),m(w)}function p(w){if(w===null){i&&b(),g(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),v(w)}function v(w){if(w===null){x(e.exit("chunkFlow"),!0),g(0),e.consume(w);return}return _t(w)?(e.consume(w),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(w),v)}function x(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(C),t.parser.lazy[w.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<s&&(!i.events[N][1].end||i.events[N][1].end.offset>s))return;const P=t.events.length;let T=P,_,A;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(_){A=t.events[T][1].end;break}_=!0}for(g(r),N=P;N<t.events.length;)t.events[N][1].end={...A},N++;ka(t.events,T+1,0,t.events.slice(P)),t.events.length=N}}function g(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function ose(e,t,n){return vn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Fu(e){if(e===null||Ln(e)||bc(e))return 1;if(av(e))return 2}function sv(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const Xb={name:"attention",resolveAll:lse,tokenize:cse};function lse(e,t){let n=-1,r,i,a,s,o,l,c,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},m={...e[n][1].start};ZA(f,-l),ZA(m,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Ua(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Ua(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=Ua(c,sv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Ua(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,c=Ua(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,ka(e,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function cse(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Fu(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),u=Fu(l),f=!u||u===2&&i||n.includes(l),m=!i||i===2&&u||n.includes(r);return c._open=!!(a===42?f:f&&(i||!m)),c._close=!!(a===42?m:m&&(u||!f)),t(l)}}function ZA(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const use={name:"autolink",tokenize:dse};function dse(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(h){return Ri(h)?(e.consume(h),s):h===64?n(h):c(h)}function s(h){return h===43||h===45||h===46||Ai(h)?(r=1,o(h)):c(h)}function o(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||Ai(h))&&r++<32?(e.consume(h),o):(r=0,c(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||jg(h)?n(h):(e.consume(h),l)}function c(h){return h===64?(e.consume(h),u):ese(h)?(e.consume(h),c):n(h)}function u(h){return Ai(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,u):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):m(h)}function m(h){if((h===45||Ai(h))&&r++<63){const p=h===45?m:f;return e.consume(h),p}return n(h)}}const Am={partial:!0,tokenize:fse};function fse(e,t,n){return r;function r(a){return dn(a)?vn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||_t(a)?t(a):n(a)}}const x4={continuation:{tokenize:hse},exit:pse,name:"blockQuote",tokenize:mse};function mse(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return dn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function hse(e,t,n){const r=this;return i;function i(s){return dn(s)?vn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(x4,t,n)(s)}}function pse(e){e.exit("blockQuote")}const b4={name:"characterEscape",tokenize:gse};function gse(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return nse(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const w4={name:"characterReference",tokenize:vse};function vse(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=Ai,u(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=tse,u):(e.enter("characterReferenceValue"),a=7,s=Yb,u(f))}function u(f){if(f===59&&i){const m=e.exit("characterReferenceValue");return s===Ai&&!MS(r.sliceSerialize(m))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),u):n(f)}}const JA={partial:!0,tokenize:xse},eE={concrete:!0,name:"codeFenced",tokenize:yse};function yse(e,t,n){const r=this,i={partial:!0,tokenize:C};let a=0,s=0,o;return l;function l(N){return c(N)}function c(N){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(N)}function u(N){return N===o?(s++,e.consume(N),u):s<3?n(N):(e.exit("codeFencedFenceSequence"),dn(N)?vn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||_t(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(JA,v,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(N))}function m(N){return N===null||_t(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):dn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),vn(e,h,"whitespace")(N)):N===96&&N===o?n(N):(e.consume(N),m)}function h(N){return N===null||_t(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||_t(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===o?n(N):(e.consume(N),p)}function v(N){return e.attempt(i,S,x)(N)}function x(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),g}function g(N){return a>0&&dn(N)?vn(e,b,"linePrefix",a+1)(N):b(N)}function b(N){return N===null||_t(N)?e.check(JA,v,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||_t(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function C(N,P,T){let _=0;return A;function A(ie){return N.enter("lineEnding"),N.consume(ie),N.exit("lineEnding"),$}function $(ie){return N.enter("codeFencedFence"),dn(ie)?vn(N,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):D(ie)}function D(ie){return ie===o?(N.enter("codeFencedFenceSequence"),te(ie)):T(ie)}function te(ie){return ie===o?(_++,N.consume(ie),te):_>=s?(N.exit("codeFencedFenceSequence"),dn(ie)?vn(N,K,"whitespace")(ie):K(ie)):T(ie)}function K(ie){return ie===null||_t(ie)?(N.exit("codeFencedFence"),P(ie)):T(ie)}}}function xse(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Sy={name:"codeIndented",tokenize:wse},bse={partial:!0,tokenize:kse};function wse(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),vn(e,a,"linePrefix",5)(c)}function a(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):_t(c)?e.attempt(bse,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||_t(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function kse(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):_t(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):vn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):_t(s)?i(s):n(s)}}const Sse={name:"codeText",previous:Cse,resolve:Nse,tokenize:jse};function Nse(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Cse(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function jse(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,u(f)):_t(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||_t(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function u(f){return f===96?(e.consume(f),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class Pse{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Cd(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Cd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Cd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Cd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Cd(this.left,n.reverse())}}}function Cd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function k4(e){const t={};let n=-1,r,i,a,s,o,l,c;const u=new Pse(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ase(u,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=u.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},o=u.slice(i,n),o.unshift(r),u.splice(i,n-i+1,o))}}return ka(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function Ase(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let u,f,m=-1,h=n,p=0,v=0;const x=[v];for(;h;){for(;e.get(++i)[1]!==h;);a.push(i),h._tokenizer||(u=r.sliceStream(h),h.next||u.push(null),f&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++m<o.length;)o[m][0]==="exit"&&o[m-1][0]==="enter"&&o[m][1].type===o[m-1][1].type&&o[m][1].start.line!==o[m][1].end.line&&(v=m+1,x.push(v),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):x.pop(),m=x.length;m--;){const g=o.slice(x[m],x[m+1]),b=a.pop();l.push([b,b+g.length-1]),e.splice(b,2,g)}for(l.reverse(),m=-1;++m<l.length;)c[p+l[m][0]]=p+l[m][1],p+=l[m][1]-l[m][0]-1;return c}const Ese={resolve:Dse,tokenize:Mse},Tse={partial:!0,tokenize:Ose};function Dse(e){return k4(e),e}function Mse(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):_t(o)?e.check(Tse,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Ose(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),vn(e,a,"linePrefix")}function a(s){if(s===null||_t(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function S4(e,t,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return f;function f(g){return g===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(g),e.exit(a),m):g===null||g===32||g===41||jg(g)?n(g):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),v(g))}function m(g){return g===62?(e.enter(a),e.consume(g),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(e.exit("chunkString"),e.exit(o),m(g)):g===null||g===60||_t(g)?n(g):(e.consume(g),g===92?p:h)}function p(g){return g===60||g===62||g===92?(e.consume(g),h):h(g)}function v(g){return!u&&(g===null||g===41||Ln(g))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(g)):u<c&&g===40?(e.consume(g),u++,v):g===41?(e.consume(g),u--,v):g===null||g===32||g===40||jg(g)?n(g):(e.consume(g),g===92?x:v)}function x(g){return g===40||g===41||g===92?(e.consume(g),v):v(g)}}function N4(e,t,n,r,i,a){const s=this;let o=0,l;return c;function c(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(a),u}function u(h){return o>999||h===null||h===91||h===93&&!l||h===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(e.exit(a),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):_t(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||_t(h)||o++>999?(e.exit("chunkString"),u(h)):(e.consume(h),l||(l=!dn(h)),h===92?m:f)}function m(h){return h===91||h===92||h===93?(e.consume(h),o++,f):f(h)}}function C4(e,t,n,r,i,a){let s;return o;function o(m){return m===34||m===39||m===40?(e.enter(r),e.enter(i),e.consume(m),e.exit(i),s=m===40?41:m,l):n(m)}function l(m){return m===s?(e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):(e.enter(a),c(m))}function c(m){return m===s?(e.exit(a),l(s)):m===null?n(m):_t(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),vn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(m))}function u(m){return m===s||m===null||_t(m)?(e.exit("chunkString"),c(m)):(e.consume(m),m===92?f:u)}function f(m){return m===s||m===92?(e.consume(m),u):u(m)}}function Gd(e,t){let n;return r;function r(i){return _t(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):dn(i)?vn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Ise={name:"definition",tokenize:Lse},_se={partial:!0,tokenize:$se};function Lse(e,t,n){const r=this;let i;return a;function a(h){return e.enter("definition"),s(h)}function s(h){return N4.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function o(h){return i=ds(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return Ln(h)?Gd(e,c)(h):c(h)}function c(h){return S4(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function u(h){return e.attempt(_se,f,f)(h)}function f(h){return dn(h)?vn(e,m,"whitespace")(h):m(h)}function m(h){return h===null||_t(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function $se(e,t,n){return r;function r(o){return Ln(o)?Gd(e,i)(o):n(o)}function i(o){return C4(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return dn(o)?vn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||_t(o)?t(o):n(o)}}const Rse={name:"hardBreakEscape",tokenize:Fse};function Fse(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return _t(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const Bse={name:"headingAtx",resolve:zse,tokenize:Use};function zse(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ka(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function Use(e,t,n){let r=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&r++<6?(e.consume(u),s):u===null||Ln(u)?(e.exit("atxHeadingSequence"),o(u)):n(u)}function o(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||_t(u)?(e.exit("atxHeading"),t(u)):dn(u)?vn(e,o,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),o(u))}function c(u){return u===null||u===35||Ln(u)?(e.exit("atxHeadingText"),o(u)):(e.consume(u),c)}}const Vse=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],tE=["pre","script","style","textarea"],Wse={concrete:!0,name:"htmlFlow",resolveTo:Kse,tokenize:Gse},Hse={partial:!0,tokenize:Xse},qse={partial:!0,tokenize:Yse};function Kse(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Gse(e,t,n){const r=this;let i,a,s,o,l;return c;function c(k){return u(k)}function u(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),m):k===47?(e.consume(k),a=!0,v):k===63?(e.consume(k),i=3,r.interrupt?t:E):Ri(k)?(e.consume(k),s=String.fromCharCode(k),x):n(k)}function m(k){return k===45?(e.consume(k),i=2,h):k===91?(e.consume(k),i=5,o=0,p):Ri(k)?(e.consume(k),i=4,r.interrupt?t:E):n(k)}function h(k){return k===45?(e.consume(k),r.interrupt?t:E):n(k)}function p(k){const O="CDATA[";return k===O.charCodeAt(o++)?(e.consume(k),o===O.length?r.interrupt?t:D:p):n(k)}function v(k){return Ri(k)?(e.consume(k),s=String.fromCharCode(k),x):n(k)}function x(k){if(k===null||k===47||k===62||Ln(k)){const O=k===47,re=s.toLowerCase();return!O&&!a&&tE.includes(re)?(i=1,r.interrupt?t(k):D(k)):Vse.includes(s.toLowerCase())?(i=6,O?(e.consume(k),g):r.interrupt?t(k):D(k)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):a?b(k):w(k))}return k===45||Ai(k)?(e.consume(k),s+=String.fromCharCode(k),x):n(k)}function g(k){return k===62?(e.consume(k),r.interrupt?t:D):n(k)}function b(k){return dn(k)?(e.consume(k),b):A(k)}function w(k){return k===47?(e.consume(k),A):k===58||k===95||Ri(k)?(e.consume(k),S):dn(k)?(e.consume(k),w):A(k)}function S(k){return k===45||k===46||k===58||k===95||Ai(k)?(e.consume(k),S):C(k)}function C(k){return k===61?(e.consume(k),N):dn(k)?(e.consume(k),C):w(k)}function N(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),l=k,P):dn(k)?(e.consume(k),N):T(k)}function P(k){return k===l?(e.consume(k),l=null,_):k===null||_t(k)?n(k):(e.consume(k),P)}function T(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Ln(k)?C(k):(e.consume(k),T)}function _(k){return k===47||k===62||dn(k)?w(k):n(k)}function A(k){return k===62?(e.consume(k),$):n(k)}function $(k){return k===null||_t(k)?D(k):dn(k)?(e.consume(k),$):n(k)}function D(k){return k===45&&i===2?(e.consume(k),H):k===60&&i===1?(e.consume(k),J):k===62&&i===4?(e.consume(k),j):k===63&&i===3?(e.consume(k),E):k===93&&i===5?(e.consume(k),ae):_t(k)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Hse,U,te)(k)):k===null||_t(k)?(e.exit("htmlFlowData"),te(k)):(e.consume(k),D)}function te(k){return e.check(qse,K,U)(k)}function K(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),ie}function ie(k){return k===null||_t(k)?te(k):(e.enter("htmlFlowData"),D(k))}function H(k){return k===45?(e.consume(k),E):D(k)}function J(k){return k===47?(e.consume(k),s="",G):D(k)}function G(k){if(k===62){const O=s.toLowerCase();return tE.includes(O)?(e.consume(k),j):D(k)}return Ri(k)&&s.length<8?(e.consume(k),s+=String.fromCharCode(k),G):D(k)}function ae(k){return k===93?(e.consume(k),E):D(k)}function E(k){return k===62?(e.consume(k),j):k===45&&i===2?(e.consume(k),E):D(k)}function j(k){return k===null||_t(k)?(e.exit("htmlFlowData"),U(k)):(e.consume(k),j)}function U(k){return e.exit("htmlFlow"),t(k)}}function Yse(e,t,n){const r=this;return i;function i(s){return _t(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function Xse(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Am,t,n)}}const Qse={name:"htmlText",tokenize:Zse};function Zse(e,t,n){const r=this;let i,a,s;return o;function o(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),l}function l(E){return E===33?(e.consume(E),c):E===47?(e.consume(E),C):E===63?(e.consume(E),w):Ri(E)?(e.consume(E),T):n(E)}function c(E){return E===45?(e.consume(E),u):E===91?(e.consume(E),a=0,p):Ri(E)?(e.consume(E),b):n(E)}function u(E){return E===45?(e.consume(E),h):n(E)}function f(E){return E===null?n(E):E===45?(e.consume(E),m):_t(E)?(s=f,J(E)):(e.consume(E),f)}function m(E){return E===45?(e.consume(E),h):f(E)}function h(E){return E===62?H(E):E===45?m(E):f(E)}function p(E){const j="CDATA[";return E===j.charCodeAt(a++)?(e.consume(E),a===j.length?v:p):n(E)}function v(E){return E===null?n(E):E===93?(e.consume(E),x):_t(E)?(s=v,J(E)):(e.consume(E),v)}function x(E){return E===93?(e.consume(E),g):v(E)}function g(E){return E===62?H(E):E===93?(e.consume(E),g):v(E)}function b(E){return E===null||E===62?H(E):_t(E)?(s=b,J(E)):(e.consume(E),b)}function w(E){return E===null?n(E):E===63?(e.consume(E),S):_t(E)?(s=w,J(E)):(e.consume(E),w)}function S(E){return E===62?H(E):w(E)}function C(E){return Ri(E)?(e.consume(E),N):n(E)}function N(E){return E===45||Ai(E)?(e.consume(E),N):P(E)}function P(E){return _t(E)?(s=P,J(E)):dn(E)?(e.consume(E),P):H(E)}function T(E){return E===45||Ai(E)?(e.consume(E),T):E===47||E===62||Ln(E)?_(E):n(E)}function _(E){return E===47?(e.consume(E),H):E===58||E===95||Ri(E)?(e.consume(E),A):_t(E)?(s=_,J(E)):dn(E)?(e.consume(E),_):H(E)}function A(E){return E===45||E===46||E===58||E===95||Ai(E)?(e.consume(E),A):$(E)}function $(E){return E===61?(e.consume(E),D):_t(E)?(s=$,J(E)):dn(E)?(e.consume(E),$):_(E)}function D(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),i=E,te):_t(E)?(s=D,J(E)):dn(E)?(e.consume(E),D):(e.consume(E),K)}function te(E){return E===i?(e.consume(E),i=void 0,ie):E===null?n(E):_t(E)?(s=te,J(E)):(e.consume(E),te)}function K(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||Ln(E)?_(E):(e.consume(E),K)}function ie(E){return E===47||E===62||Ln(E)?_(E):n(E)}function H(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):n(E)}function J(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),G}function G(E){return dn(E)?vn(e,ae,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):ae(E)}function ae(E){return e.enter("htmlTextData"),s(E)}}const OS={name:"labelEnd",resolveAll:noe,resolveTo:roe,tokenize:ioe},Jse={tokenize:aoe},eoe={tokenize:soe},toe={tokenize:ooe};function noe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ka(e,0,e.length,n),e}function roe(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},u={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=Ua(o,e.slice(a+1,a+r+3)),o=Ua(o,[["enter",u,t]]),o=Ua(o,sv(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=Ua(o,[["exit",u,t],e[s-2],e[s-1],["exit",c,t]]),o=Ua(o,e.slice(s+1)),o=Ua(o,[["exit",l,t]]),ka(e,a,e.length,o),e}function ioe(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(m){return a?a._inactive?f(m):(s=r.parser.defined.includes(ds(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),l):n(m)}function l(m){return m===40?e.attempt(Jse,u,s?u:f)(m):m===91?e.attempt(eoe,u,s?c:f)(m):s?u(m):f(m)}function c(m){return e.attempt(toe,u,f)(m)}function u(m){return t(m)}function f(m){return a._balanced=!0,n(m)}}function aoe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Ln(f)?Gd(e,a)(f):a(f)}function a(f){return f===41?u(f):S4(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Ln(f)?Gd(e,l)(f):u(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?C4(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):u(f)}function c(f){return Ln(f)?Gd(e,u)(f):u(f)}function u(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function soe(e,t,n){const r=this;return i;function i(o){return N4.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(ds(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function ooe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const loe={name:"labelStartImage",resolveAll:OS.resolveAll,tokenize:coe};function coe(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const uoe={name:"labelStartLink",resolveAll:OS.resolveAll,tokenize:doe};function doe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Ny={name:"lineEnding",tokenize:foe};function foe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),vn(e,t,"linePrefix")}}const Jh={name:"thematicBreak",tokenize:moe};function moe(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||_t(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),dn(c)?vn(e,o,"whitespace")(c):o(c))}}const Xi={continuation:{tokenize:voe},exit:xoe,name:"list",tokenize:goe},hoe={partial:!0,tokenize:boe},poe={partial:!0,tokenize:yoe};function goe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Yb(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Jh,n,c)(h):c(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return Yb(h)&&++s<10?(e.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),c(h)):n(h)}function c(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(Am,r.interrupt?n:u,e.attempt(hoe,m,f))}function u(h){return r.containerState.initialBlankLine=!0,a++,m(h)}function f(h){return dn(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),m):n(h)}function m(h){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function voe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Am,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,vn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!dn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(poe,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,vn(e,e.attempt(Xi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function yoe(e,t,n){const r=this;return vn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function xoe(e){e.exit(this.containerState.type)}function boe(e,t,n){const r=this;return vn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!dn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const nE={name:"setextUnderline",resolveTo:woe,tokenize:koe};function woe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function koe(e,t,n){const r=this;let i;return a;function a(c){let u=r.events.length,f;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){f=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),dn(c)?vn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||_t(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Soe={tokenize:Noe};function Noe(e){const t=this,n=e.attempt(Am,r,e.attempt(this.parser.constructs.flowInitial,i,vn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Ese,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Coe={resolveAll:P4()},joe=j4("string"),Poe=j4("text");function j4(e){return{resolveAll:P4(e==="text"?Aoe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(u){return c(u)?a(u):o(u)}function o(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),a(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const f=i[u];let m=-1;if(f)for(;++m<f.length;){const h=f[m];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function P4(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Aoe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Eoe={42:Xi,43:Xi,45:Xi,48:Xi,49:Xi,50:Xi,51:Xi,52:Xi,53:Xi,54:Xi,55:Xi,56:Xi,57:Xi,62:x4},Toe={91:Ise},Doe={[-2]:Sy,[-1]:Sy,32:Sy},Moe={35:Bse,42:Jh,45:[nE,Jh],60:Wse,61:nE,95:Jh,96:eE,126:eE},Ooe={38:w4,92:b4},Ioe={[-5]:Ny,[-4]:Ny,[-3]:Ny,33:loe,38:w4,42:Xb,60:[use,Qse],91:uoe,92:[Rse,b4],93:OS,95:Xb,96:Sse},_oe={null:[Xb,Coe]},Loe={null:[42,95]},$oe={null:[]},Roe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Loe,contentInitial:Toe,disable:$oe,document:Eoe,flow:Moe,flowInitial:Doe,insideSpan:_oe,string:Ooe,text:Ioe},Symbol.toStringTag,{value:"Module"}));function Foe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:P(C),check:P(N),consume:b,enter:w,exit:S,interrupt:P(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:v,events:[],now:p,parser:e,previous:null,sliceSerialize:m,sliceStream:h,write:f};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f($){return s=Ua(s,$),x(),s[s.length-1]!==null?[]:(T(t,0),c.events=sv(a,c.events,c),c.events)}function m($,D){return zoe(h($),D)}function h($){return Boe(s,$)}function p(){const{_bufferIndex:$,_index:D,line:te,column:K,offset:ie}=r;return{_bufferIndex:$,_index:D,line:te,column:K,offset:ie}}function v($){i[$.line]=$.column,A()}function x(){let $;for(;r._index<s.length;){const D=s[r._index];if(typeof D=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<D.length;)g(D.charCodeAt(r._bufferIndex));else g(D)}}function g($){u=u($)}function b($){_t($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,A()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=$}function w($,D){const te=D||{};return te.type=$,te.start=p(),c.events.push(["enter",te,c]),o.push(te),te}function S($){const D=o.pop();return D.end=p(),c.events.push(["exit",D,c]),D}function C($,D){T($,D.from)}function N($,D){D.restore()}function P($,D){return te;function te(K,ie,H){let J,G,ae,E;return Array.isArray(K)?U(K):"tokenize"in K?U([K]):j(K);function j(Q){return F;function F(Z){const L=Z!==null&&Q[Z],W=Z!==null&&Q.null,le=[...Array.isArray(L)?L:L?[L]:[],...Array.isArray(W)?W:W?[W]:[]];return U(le)(Z)}}function U(Q){return J=Q,G=0,Q.length===0?H:k(Q[G])}function k(Q){return F;function F(Z){return E=_(),ae=Q,Q.partial||(c.currentConstruct=Q),Q.name&&c.parser.constructs.disable.null.includes(Q.name)?re():Q.tokenize.call(D?Object.assign(Object.create(c),D):c,l,O,re)(Z)}}function O(Q){return $(ae,E),ie}function re(Q){return E.restore(),++G<J.length?k(J[G]):H}}}function T($,D){$.resolveAll&&!a.includes($)&&a.push($),$.resolve&&ka(c.events,D,c.events.length-D,$.resolve(c.events.slice(D),c)),$.resolveTo&&(c.events=$.resolveTo(c.events,c))}function _(){const $=p(),D=c.previous,te=c.currentConstruct,K=c.events.length,ie=Array.from(o);return{from:K,restore:H};function H(){r=$,c.previous=D,c.currentConstruct=te,c.events.length=K,o=ie,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Boe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function zoe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function Uoe(e){const r={constructs:v4([Roe,...(e||{}).extensions||[]]),content:i(rse),defined:[],document:i(ase),flow:i(Soe),lazy:{},string:i(joe),text:i(Poe)};return r;function i(a){return s;function s(o){return Foe(r,a,o)}}}function Voe(e){for(;!k4(e););return e}const rE=/[\0\t\n\r]/g;function Woe(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let c,u,f,m,h;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(rE.lastIndex=f,c=rE.exec(a),m=c&&c.index!==void 0?c.index:a.length,h=a.charCodeAt(m),!c){t=a.slice(f);break}if(h===10&&f===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<m&&(l.push(a.slice(f,m)),e+=m-f),h){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=m+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Hoe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function qoe(e){return e.replace(Hoe,Koe)}function Koe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return y4(n.slice(a?2:1),a?16:10)}return MS(n)||e}const A4={}.hasOwnProperty;function Goe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Yoe(n)(Voe(Uoe(n).document().write(Woe()(e,t,!0))))}function Yoe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(se),autolinkProtocol:_,autolinkEmail:_,atxHeading:a(I),blockQuote:a(W),characterEscape:_,characterReference:_,codeFenced:a(le),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(le,s),codeText:a(ne,s),codeTextData:_,data:_,codeFlowValue:_,definition:a(z),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(B),hardBreakEscape:a(X),hardBreakTrailing:a(X),htmlFlow:a(Ne,s),htmlFlowData:_,htmlText:a(Ne,s),htmlTextData:_,image:a(Me),label:s,link:a(se),listItem:a(Te),listItemValue:m,listOrdered:a(Fe,f),listUnordered:a(Fe),paragraph:a(vt),reference:k,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(I),strong:a(on),thematicBreak:a(hn)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:L,autolinkProtocol:Z,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:re,characterReferenceMarkerNumeric:re,characterReferenceValue:Q,characterReference:F,codeFenced:l(x),codeFencedFence:v,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:A,codeIndented:l(g),codeText:l(ie),codeTextData:A,data:A,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l(te),htmlFlowData:A,htmlText:l(K),htmlTextData:A,image:l(J),label:ae,labelText:G,lineEnding:$,link:l(H),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:O,resourceDestinationString:E,resourceTitleString:j,resource:U,setextHeading:l(T),setextHeadingLineSequence:P,setextHeadingText:N,strong:l(),thematicBreak:l()}};E4(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ue){let je={type:"root",children:[]};const Lt={stack:[je],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:u,data:n},Gt=[];let Yt=-1;for(;++Yt<ue.length;)if(ue[Yt][1].type==="listOrdered"||ue[Yt][1].type==="listUnordered")if(ue[Yt][0]==="enter")Gt.push(Yt);else{const kn=Gt.pop();Yt=i(ue,kn,Yt)}for(Yt=-1;++Yt<ue.length;){const kn=t[ue[Yt][0]];A4.call(kn,ue[Yt][1].type)&&kn[ue[Yt][1].type].call(Object.assign({sliceSerialize:ue[Yt][2].sliceSerialize},Lt),ue[Yt][1])}if(Lt.tokenStack.length>0){const kn=Lt.tokenStack[Lt.tokenStack.length-1];(kn[1]||iE).call(Lt,void 0,kn[0])}for(je.position={start:Fo(ue.length>0?ue[0][1].start:{line:1,column:1,offset:0}),end:Fo(ue.length>0?ue[ue.length-2][1].end:{line:1,column:1,offset:0})},Yt=-1;++Yt<t.transforms.length;)je=t.transforms[Yt](je)||je;return je}function i(ue,je,Lt){let Gt=je-1,Yt=-1,kn=!1,Fr,Sr,ca,Di;for(;++Gt<=Lt;){const pn=ue[Gt];switch(pn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pn[0]==="enter"?Yt++:Yt--,Di=void 0;break}case"lineEndingBlank":{pn[0]==="enter"&&(Fr&&!Di&&!Yt&&!ca&&(ca=Gt),Di=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Di=void 0}if(!Yt&&pn[0]==="enter"&&pn[1].type==="listItemPrefix"||Yt===-1&&pn[0]==="exit"&&(pn[1].type==="listUnordered"||pn[1].type==="listOrdered")){if(Fr){let gn=Gt;for(Sr=void 0;gn--;){const pr=ue[gn];if(pr[1].type==="lineEnding"||pr[1].type==="lineEndingBlank"){if(pr[0]==="exit")continue;Sr&&(ue[Sr][1].type="lineEndingBlank",kn=!0),pr[1].type="lineEnding",Sr=gn}else if(!(pr[1].type==="linePrefix"||pr[1].type==="blockQuotePrefix"||pr[1].type==="blockQuotePrefixWhitespace"||pr[1].type==="blockQuoteMarker"||pr[1].type==="listItemIndent"))break}ca&&(!Sr||ca<Sr)&&(Fr._spread=!0),Fr.end=Object.assign({},Sr?ue[Sr][1].start:pn[1].end),ue.splice(Sr||Gt,0,["exit",Fr,pn[2]]),Gt++,Lt++}if(pn[1].type==="listItemPrefix"){const gn={type:"listItem",_spread:!1,start:Object.assign({},pn[1].start),end:void 0};Fr=gn,ue.splice(Gt,0,["enter",gn,pn[2]]),Gt++,Lt++,ca=void 0,Di=!0}}}return ue[je][1]._spread=kn,Lt}function a(ue,je){return Lt;function Lt(Gt){o.call(this,ue(Gt),Gt),je&&je.call(this,Gt)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(ue,je,Lt){this.stack[this.stack.length-1].children.push(ue),this.stack.push(ue),this.tokenStack.push([je,Lt||void 0]),ue.position={start:Fo(je.start),end:void 0}}function l(ue){return je;function je(Lt){ue&&ue.call(this,Lt),c.call(this,Lt)}}function c(ue,je){const Lt=this.stack.pop(),Gt=this.tokenStack.pop();if(Gt)Gt[0].type!==ue.type&&(je?je.call(this,ue,Gt[0]):(Gt[1]||iE).call(this,ue,Gt[0]));else throw new Error("Cannot close `"+ue.type+"` ("+Kd({start:ue.start,end:ue.end})+"): its not open");Lt.position.end=Fo(ue.end)}function u(){return DS(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(ue){if(this.data.expectingFirstListItemValue){const je=this.stack[this.stack.length-2];je.start=Number.parseInt(this.sliceSerialize(ue),10),this.data.expectingFirstListItemValue=void 0}}function h(){const ue=this.resume(),je=this.stack[this.stack.length-1];je.lang=ue}function p(){const ue=this.resume(),je=this.stack[this.stack.length-1];je.meta=ue}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const ue=this.resume(),je=this.stack[this.stack.length-1];je.value=ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const ue=this.resume(),je=this.stack[this.stack.length-1];je.value=ue.replace(/(\r?\n|\r)$/g,"")}function b(ue){const je=this.resume(),Lt=this.stack[this.stack.length-1];Lt.label=je,Lt.identifier=ds(this.sliceSerialize(ue)).toLowerCase()}function w(){const ue=this.resume(),je=this.stack[this.stack.length-1];je.title=ue}function S(){const ue=this.resume(),je=this.stack[this.stack.length-1];je.url=ue}function C(ue){const je=this.stack[this.stack.length-1];if(!je.depth){const Lt=this.sliceSerialize(ue).length;je.depth=Lt}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function P(ue){const je=this.stack[this.stack.length-1];je.depth=this.sliceSerialize(ue).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function _(ue){const Lt=this.stack[this.stack.length-1].children;let Gt=Lt[Lt.length-1];(!Gt||Gt.type!=="text")&&(Gt=bn(),Gt.position={start:Fo(ue.start),end:void 0},Lt.push(Gt)),this.stack.push(Gt)}function A(ue){const je=this.stack.pop();je.value+=this.sliceSerialize(ue),je.position.end=Fo(ue.end)}function $(ue){const je=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Lt=je.children[je.children.length-1];Lt.position.end=Fo(ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(je.type)&&(_.call(this,ue),A.call(this,ue))}function D(){this.data.atHardBreak=!0}function te(){const ue=this.resume(),je=this.stack[this.stack.length-1];je.value=ue}function K(){const ue=this.resume(),je=this.stack[this.stack.length-1];je.value=ue}function ie(){const ue=this.resume(),je=this.stack[this.stack.length-1];je.value=ue}function H(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const je=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=je,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function J(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const je=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=je,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function G(ue){const je=this.sliceSerialize(ue),Lt=this.stack[this.stack.length-2];Lt.label=qoe(je),Lt.identifier=ds(je).toLowerCase()}function ae(){const ue=this.stack[this.stack.length-1],je=this.resume(),Lt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Lt.type==="link"){const Gt=ue.children;Lt.children=Gt}else Lt.alt=je}function E(){const ue=this.resume(),je=this.stack[this.stack.length-1];je.url=ue}function j(){const ue=this.resume(),je=this.stack[this.stack.length-1];je.title=ue}function U(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function O(ue){const je=this.resume(),Lt=this.stack[this.stack.length-1];Lt.label=je,Lt.identifier=ds(this.sliceSerialize(ue)).toLowerCase(),this.data.referenceType="full"}function re(ue){this.data.characterReferenceType=ue.type}function Q(ue){const je=this.sliceSerialize(ue),Lt=this.data.characterReferenceType;let Gt;Lt?(Gt=y4(je,Lt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Gt=MS(je);const Yt=this.stack[this.stack.length-1];Yt.value+=Gt}function F(ue){const je=this.stack.pop();je.position.end=Fo(ue.end)}function Z(ue){A.call(this,ue);const je=this.stack[this.stack.length-1];je.url=this.sliceSerialize(ue)}function L(ue){A.call(this,ue);const je=this.stack[this.stack.length-1];je.url="mailto:"+this.sliceSerialize(ue)}function W(){return{type:"blockquote",children:[]}}function le(){return{type:"code",lang:null,meta:null,value:""}}function ne(){return{type:"inlineCode",value:""}}function z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function B(){return{type:"emphasis",children:[]}}function I(){return{type:"heading",depth:0,children:[]}}function X(){return{type:"break"}}function Ne(){return{type:"html",value:""}}function Me(){return{type:"image",title:null,url:"",alt:null}}function se(){return{type:"link",title:null,url:"",children:[]}}function Fe(ue){return{type:"list",ordered:ue.type==="listOrdered",start:null,spread:ue._spread,children:[]}}function Te(ue){return{type:"listItem",spread:ue._spread,checked:null,children:[]}}function vt(){return{type:"paragraph",children:[]}}function on(){return{type:"strong",children:[]}}function bn(){return{type:"text",value:""}}function hn(){return{type:"thematicBreak"}}}function Fo(e){return{line:e.line,column:e.column,offset:e.offset}}function E4(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?E4(e,r):Xoe(e,r)}}function Xoe(e,t){let n;for(n in t)if(A4.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function iE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Kd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Kd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Kd({start:t.start,end:t.end})+") is still open")}function Qoe(e){const t=this;t.parser=n;function n(r){return Goe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Zoe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Joe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function ele(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function tle(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nle(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rle(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=nd(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function ile(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ale(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function T4(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function sle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return T4(e,t);const i={src:nd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function ole(e,t){const n={src:nd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function lle(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function cle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return T4(e,t);const i={href:nd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function ule(e,t){const n={href:nd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dle(e,t,n){const r=e.all(t),i=n?fle(n):D4(t),a={},s=[];if(typeof t.checked=="boolean"){const u=r[0];let f;u&&u.type==="element"&&u.tagName==="p"?f=u:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const u=r[o];(i||o!==0||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?s.push(...u.children):s.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function fle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=D4(n[r])}return t}function D4(e){const t=e.spread;return t??e.children.length>1}function mle(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function hle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ple(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function gle(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vle(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=PS(t.children[1]),l=u4(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function yle(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const f=t.children[l],m={},h=s?s[l]:void 0;h&&(m.align=h);let p={type:"element",tagName:a,properties:m,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),c.push(p)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function xle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const aE=9,sE=32;function ble(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(oE(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(oE(t.slice(i),i>0,!1)),a.join("")}function oE(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===aE||a===sE;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===aE||a===sE;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function wle(e,t){const n={type:"text",value:ble(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function kle(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Sle={blockquote:Zoe,break:Joe,code:ele,delete:tle,emphasis:nle,footnoteReference:rle,heading:ile,html:ale,imageReference:sle,image:ole,inlineCode:lle,linkReference:cle,link:ule,listItem:dle,list:mle,paragraph:hle,root:ple,strong:gle,table:vle,tableCell:xle,tableRow:yle,text:wle,thematicBreak:kle,toml:Ch,yaml:Ch,definition:Ch,footnoteDefinition:Ch};function Ch(){}const M4=-1,ov=0,Yd=1,Pg=2,IS=3,_S=4,LS=5,$S=6,O4=7,I4=8,lE=typeof self=="object"?self:globalThis,Nle=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case ov:case M4:return n(s,i);case Yd:{const o=n([],i);for(const l of s)o.push(r(l));return o}case Pg:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case IS:return n(new Date(s),i);case _S:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case LS:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case $S:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case O4:{const{name:o,message:l}=s;return n(new lE[o](l),i)}case I4:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new lE[a](s),i)};return r},cE=e=>Nle(new Map,e)(0),Uc="",{toString:Cle}={},{keys:jle}=Object,jd=e=>{const t=typeof e;if(t!=="object"||!e)return[ov,t];const n=Cle.call(e).slice(8,-1);switch(n){case"Array":return[Yd,Uc];case"Object":return[Pg,Uc];case"Date":return[IS,Uc];case"RegExp":return[_S,Uc];case"Map":return[LS,Uc];case"Set":return[$S,Uc];case"DataView":return[Yd,n]}return n.includes("Array")?[Yd,n]:n.includes("Error")?[O4,n]:[Pg,n]},jh=([e,t])=>e===ov&&(t==="function"||t==="symbol"),Ple=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=jd(s);switch(o){case ov:{let u=s;switch(l){case"bigint":o=I4,u=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([M4],s)}return i([o,u],s)}case Yd:{if(l){let m=s;return l==="DataView"?m=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(m=new Uint8Array(s)),i([l,[...m]],s)}const u=[],f=i([o,u],s);for(const m of s)u.push(a(m));return f}case Pg:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const u=[],f=i([o,u],s);for(const m of jle(s))(e||!jh(jd(s[m])))&&u.push([a(m),a(s[m])]);return f}case IS:return i([o,s.toISOString()],s);case _S:{const{source:u,flags:f}=s;return i([o,{source:u,flags:f}],s)}case LS:{const u=[],f=i([o,u],s);for(const[m,h]of s)(e||!(jh(jd(m))||jh(jd(h))))&&u.push([a(m),a(h)]);return f}case $S:{const u=[],f=i([o,u],s);for(const m of s)(e||!jh(jd(m)))&&u.push(a(m));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},uE=(e,{json:t,lossy:n}={})=>{const r=[];return Ple(!(t||n),!!t,new Map,r)(e),r},Ag=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?cE(uE(e,t)):structuredClone(e):(e,t)=>cE(uE(e,t));function Ale(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Ele(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Tle(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ale,r=e.options.footnoteBackLabel||Ele,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),f=String(c.identifier).toUpperCase(),m=nd(f.toLowerCase());let h=0;const p=[],v=e.footnoteCounts.get(f);for(;v!==void 0&&++h<=v;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,h);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=u[u.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...p)}else u.push(...p);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(u,!0)};e.patch(c,g),o.push(g)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Ag(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const lv=function(e){if(e==null)return Ile;if(typeof e=="function")return cv(e);if(typeof e=="object")return Array.isArray(e)?Dle(e):Mle(e);if(typeof e=="string")return Ole(e);throw new Error("Expected function, string, or object as test")};function Dle(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=lv(e[n]);return cv(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Mle(e){const t=e;return cv(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function Ole(e){return cv(t);function t(n){return n&&n.type===e}}function cv(e){return t;function t(n,r,i){return!!(_le(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Ile(){return!0}function _le(e){return e!==null&&typeof e=="object"&&"type"in e}const _4=[],Lle=!0,Qb=!1,$le="skip";function L4(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=lv(i),s=r?-1:1;o(e,void 0,[])();function o(l,c,u){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return m;function m(){let h=_4,p,v,x;if((!t||a(l,c,u[u.length-1]||void 0))&&(h=Rle(n(l,u)),h[0]===Qb))return h;if("children"in l&&l.children){const g=l;if(g.children&&h[0]!==$le)for(v=(r?g.children.length:-1)+s,x=u.concat(g);v>-1&&v<g.children.length;){const b=g.children[v];if(p=o(b,v,x)(),p[0]===Qb)return p;v=typeof p[1]=="number"?p[1]:v+s}}return h}}}function Rle(e){return Array.isArray(e)?e:typeof e=="number"?[Lle,e]:e==null?_4:[e]}function RS(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),L4(e,a,o,i);function o(l,c){const u=c[c.length-1],f=u?u.children.indexOf(l):void 0;return s(l,f,u)}}const Zb={}.hasOwnProperty,Fle={};function Ble(e,t){const n=t||Fle,r=new Map,i=new Map,a=new Map,s={...Sle,...n.handlers},o={all:c,applyData:Ule,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:zle,wrap:Wle};return RS(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const f=u.type==="definition"?r:i,m=String(u.identifier).toUpperCase();f.has(m)||f.set(m,u)}}),o;function l(u,f){const m=u.type,h=o.handlers[m];if(Zb.call(o.handlers,m)&&h)return h(o,u,f);if(o.options.passThrough&&o.options.passThrough.includes(m)){if("children"in u){const{children:v,...x}=u,g=Ag(x);return g.children=o.all(u),g}return Ag(u)}return(o.options.unknownHandler||Vle)(o,u,f)}function c(u){const f=[];if("children"in u){const m=u.children;let h=-1;for(;++h<m.length;){const p=o.one(m[h],u);if(p){if(h&&m[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=dE(p.value)),!Array.isArray(p)&&p.type==="element")){const v=p.children[0];v&&v.type==="text"&&(v.value=dE(v.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function zle(e,t){e.position&&(t.position=Eae(e))}function Ule(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Ag(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Vle(e,t){const n=t.data||{},r="value"in t&&!(Zb.call(n,"hProperties")||Zb.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Wle(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function dE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function fE(e,t){const n=Ble(e,t),r=n.one(e,void 0),i=Tle(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Hle(e,t){return e&&"run"in e?async function(n,r){const i=fE(n,{file:r,...t});await e.run(i,r)}:function(n,r){return fE(n,{file:r,...e||t})}}function mE(e){if(e)throw e}var ep=Object.prototype.hasOwnProperty,$4=Object.prototype.toString,hE=Object.defineProperty,pE=Object.getOwnPropertyDescriptor,gE=function(t){return typeof Array.isArray=="function"?Array.isArray(t):$4.call(t)==="[object Array]"},vE=function(t){if(!t||$4.call(t)!=="[object Object]")return!1;var n=ep.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ep.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||ep.call(t,i)},yE=function(t,n){hE&&n.name==="__proto__"?hE(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},xE=function(t,n){if(n==="__proto__")if(ep.call(t,n)){if(pE)return pE(t,n).value}else return;return t[n]},qle=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,u=!1;for(typeof o=="boolean"&&(u=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=xE(o,n),i=xE(t,n),o!==i&&(u&&i&&(vE(i)||(a=gE(i)))?(a?(a=!1,s=r&&gE(r)?r:[]):s=r&&vE(r)?r:{},yE(o,{name:n,newValue:e(u,s,i)})):typeof i<"u"&&yE(o,{name:n,newValue:i}));return o};const Cy=vs(qle);function Jb(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Kle(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const u=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,u?Gle(u,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Gle(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const u=c;if(o&&n)throw u;return i(u)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const Ts={basename:Yle,dirname:Xle,extname:Qle,join:Zle,sep:"/"};function Yle(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Em(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function Xle(e){if(Em(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Qle(e){Em(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Zle(...e){let t=-1,n;for(;++t<e.length;)Em(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Jle(n)}function Jle(e){Em(e);const t=e.codePointAt(0)===47;let n=ece(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function ece(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Em(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const tce={cwd:nce};function nce(){return"/"}function ew(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function rce(e){if(typeof e=="string")e=new URL(e);else if(!ew(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return ice(e)}function ice(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const jy=["history","path","basename","stem","extname","dirname"];class R4{constructor(t){let n;t?ew(t)?n={path:t}:typeof t=="string"||ace(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":tce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<jy.length;){const a=jy[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)jy.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ts.basename(this.path):void 0}set basename(t){Ay(t,"basename"),Py(t,"basename"),this.path=Ts.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ts.dirname(this.path):void 0}set dirname(t){bE(this.basename,"dirname"),this.path=Ts.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ts.extname(this.path):void 0}set extname(t){if(Py(t,"extname"),bE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ts.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ew(t)&&(t=rce(t)),Ay(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ts.basename(this.path,this.extname):void 0}set stem(t){Ay(t,"stem"),Py(t,"stem"),this.path=Ts.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ti(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Py(e,t){if(e&&e.includes(Ts.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ts.sep+"`")}function Ay(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function bE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function ace(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const sce=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},oce={}.hasOwnProperty;class FS extends sce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Kle()}copy(){const t=new FS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Cy(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Dy("data",this.frozen),this.namespace[t]=n,this):oce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Dy("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ph(t),r=this.parser||this.Parser;return Ey("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ey("process",this.parser||this.Parser),Ty("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Ph(t),l=r.parse(o);r.run(l,o,function(u,f,m){if(u||!f||!m)return c(u);const h=f,p=r.stringify(h,m);uce(p)?m.value=p:m.result=p,c(u,m)});function c(u,f){u||!f?s(u):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Ey("processSync",this.parser||this.Parser),Ty("processSync",this.compiler||this.Compiler),this.process(t,i),kE("processSync","process",n),r;function i(a,s){n=!0,mE(a),r=s}}run(t,n,r){wE(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Ph(n);i.run(t,l,c);function c(u,f,m){const h=f||t;u?o(u):s?s(h):r(void 0,h,m)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),kE("runSync","run",r),i;function a(s,o){mE(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=Ph(n),i=this.compiler||this.Compiler;return Ty("stringify",i),wE(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Dy("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...f]=c;l(u,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=Cy(!0,i.settings,c.settings))}function o(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const f=c[u];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let f=-1,m=-1;for(;++f<r.length;)if(r[f][0]===c){m=f;break}if(m===-1)r.push([c,...u]);else if(u.length>0){let[h,...p]=u;const v=r[m][1];Jb(v)&&Jb(h)&&(h=Cy(!0,v,h)),r[m]=[c,h,...p]}}}}const lce=new FS().freeze();function Ey(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ty(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Dy(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function wE(e){if(!Jb(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function kE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ph(e){return cce(e)?e:new R4(e)}function cce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function uce(e){return typeof e=="string"||dce(e)}function dce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const fce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",SE=[],NE={allowDangerousHtml:!0},mce=/^(https?|ircs?|mailto|xmpp)$/i,hce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function pce(e){const t=gce(e),n=vce(e);return yce(t.runSync(t.parse(n),n),e)}function gce(e){const t=e.rehypePlugins||SE,n=e.remarkPlugins||SE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...NE}:NE;return lce().use(Qoe).use(n).use(Hle,r).use(t)}function vce(e){const t=e.children||"",n=new R4;return typeof t=="string"&&(n.value=t),n}function yce(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||xce;for(const u of hce)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+fce+u.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),RS(e,c),Iae(e,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function c(u,f,m){if(u.type==="raw"&&m&&typeof f=="number")return s?m.children.splice(f,1):m.children[f]={type:"text",value:u.value},f;if(u.type==="element"){let h;for(h in ky)if(Object.hasOwn(ky,h)&&Object.hasOwn(u.properties,h)){const p=u.properties[h],v=ky[h];(v===null||v.includes(u.tagName))&&(u.properties[h]=l(String(p||""),h,u))}}if(u.type==="element"){let h=n?!n.includes(u.tagName):a?a.includes(u.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(u,f,m)),h&&m&&typeof f=="number")return o&&u.children?m.children.splice(f,1,...u.children):m.children.splice(f,1),f}}}function xce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||mce.test(e.slice(0,t))?e:""}function CE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function bce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function wce(e,t,n){const i=lv((n||{}).ignore||[]),a=kce(t);let s=-1;for(;++s<a.length;)L4(e,"text",o);function o(c,u){let f=-1,m;for(;++f<u.length;){const h=u[f],p=m?m.children:void 0;if(i(h,p?p.indexOf(h):void 0,m))return;m=h}if(m)return l(c,u)}function l(c,u){const f=u[u.length-1],m=a[s][0],h=a[s][1];let p=0;const x=f.children.indexOf(c);let g=!1,b=[];m.lastIndex=0;let w=m.exec(c.value);for(;w;){const S=w.index,C={index:w.index,input:w.input,stack:[...u,c]};let N=h(...w,C);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?m.lastIndex=S+1:(p!==S&&b.push({type:"text",value:c.value.slice(p,S)}),Array.isArray(N)?b.push(...N):N&&b.push(N),p=S+w[0].length,g=!0),!m.global)break;w=m.exec(c.value)}return g?(p<c.value.length&&b.push({type:"text",value:c.value.slice(p)}),f.children.splice(x,1,...b)):b=[c],x+b.length}}function kce(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Sce(i[0]),Nce(i[1])])}return t}function Sce(e){return typeof e=="string"?new RegExp(bce(e),"g"):e}function Nce(e){return typeof e=="function"?e:function(){return e}}const My="phrasing",Oy=["autolink","link","image","label"];function Cce(){return{transforms:[Mce],enter:{literalAutolink:Pce,literalAutolinkEmail:Iy,literalAutolinkHttp:Iy,literalAutolinkWww:Iy},exit:{literalAutolink:Dce,literalAutolinkEmail:Tce,literalAutolinkHttp:Ace,literalAutolinkWww:Ece}}}function jce(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:My,notInConstruct:Oy},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:My,notInConstruct:Oy},{character:":",before:"[ps]",after:"\\/",inConstruct:My,notInConstruct:Oy}]}}function Pce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Iy(e){this.config.enter.autolinkProtocol.call(this,e)}function Ace(e){this.config.exit.autolinkProtocol.call(this,e)}function Ece(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Tce(e){this.config.exit.autolinkEmail.call(this,e)}function Dce(e){this.exit(e)}function Mce(e){wce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Oce],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Ice]],{ignore:["link","linkReference"]})}function Oce(e,t,n,r,i){let a="";if(!F4(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!_ce(n)))return!1;const s=Lce(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Ice(e,t,n,r){return!F4(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function _ce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Lce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=CE(e,"(");let a=CE(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function F4(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||bc(n)||av(n))&&(!t||n!==47)}B4.peek=Hce;function $ce(){this.buffer()}function Rce(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Fce(){this.buffer()}function Bce(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function zce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ds(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Uce(e){this.exit(e)}function Vce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ds(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Wce(e){this.exit(e)}function Hce(){return"["}function B4(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function qce(){return{enter:{gfmFootnoteCallString:$ce,gfmFootnoteCall:Rce,gfmFootnoteDefinitionLabelString:Fce,gfmFootnoteDefinition:Bce},exit:{gfmFootnoteCallString:zce,gfmFootnoteCall:Uce,gfmFootnoteDefinitionLabelString:Vce,gfmFootnoteDefinition:Wce}}}function Kce(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:B4},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const c=a.enter("footnoteDefinition"),u=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),u(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?z4:Gce))),c(),l}}function Gce(e,t,n){return t===0?e:z4(e,t,n)}function z4(e,t,n){return(n?"":"    ")+e}const Yce=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];U4.peek=eue;function Xce(){return{canContainEols:["delete"],enter:{strikethrough:Zce},exit:{strikethrough:Jce}}}function Qce(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Yce}],handlers:{delete:U4}}}function Zce(e){this.enter({type:"delete",children:[]},e)}function Jce(e){this.exit(e)}function U4(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function eue(){return"~"}function tue(e){return e.length}function nue(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||tue,a=[],s=[],o=[],l=[];let c=0,u=-1;for(;++u<e.length;){const v=[],x=[];let g=-1;for(e[u].length>c&&(c=e[u].length);++g<e[u].length;){const b=rue(e[u][g]);if(n.alignDelimiters!==!1){const w=i(b);x[g]=w,(l[g]===void 0||w>l[g])&&(l[g]=w)}v.push(b)}s[u]=v,o[u]=x}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=jE(r[f]);else{const v=jE(r);for(;++f<c;)a[f]=v}f=-1;const m=[],h=[];for(;++f<c;){const v=a[f];let x="",g="";v===99?(x=":",g=":"):v===108?x=":":v===114&&(g=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-x.length-g.length);const w=x+"-".repeat(b)+g;n.alignDelimiters!==!1&&(b=x.length+b+g.length,b>l[f]&&(l[f]=b),h[f]=b),m[f]=w}s.splice(1,0,m),o.splice(1,0,h),u=-1;const p=[];for(;++u<s.length;){const v=s[u],x=o[u];f=-1;const g=[];for(;++f<c;){const b=v[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(x[f]||0),N=a[f];N===114?w=" ".repeat(C):N===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&g.push(" "),n.alignDelimiters!==!1&&g.push(w),g.push(b),n.alignDelimiters!==!1&&g.push(S),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&g.push("|")}p.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return p.join(`
`)}function rue(e){return e==null?"":String(e)}function jE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function iue(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),aue);return i(),s}function aue(e,t,n){return">"+(n?"":" ")+e}function sue(e,t){return PE(e,t.inConstruct,!0)&&!PE(e,t.notInConstruct,!1)}function PE(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function AE(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&sue(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function oue(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function lue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function cue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function uue(e,t,n,r){const i=cue(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(lue(e,n)){const f=n.enter("codeIndented"),m=n.indentLines(a,due);return f(),m}const o=n.createTracker(r),l=i.repeat(Math.max(oue(a,i)+1,3)),c=n.enter("codeFenced");let u=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);u+=o.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);u+=o.move(" "),u+=o.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...o.current()})),f()}return u+=o.move(`
`),a&&(u+=o.move(a+`
`)),u+=o.move(l),c(),u}function due(e,t,n){return(n?"":"    ")+e}function BS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function fue(e,t,n,r){const i=BS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),s(),c}function mue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Uf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Eg(e,t,n){const r=Fu(e),i=Fu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}V4.peek=hue;function V4(e,t,n,r){const i=mue(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),u=Eg(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=Uf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),m=Eg(r.after.charCodeAt(0),f,i);m.inside&&(l=l.slice(0,-1)+Uf(f));const h=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:m.outside,before:u.outside},o+l+h}function hue(e,t,n){return n.options.emphasis||"*"}function pue(e,t){let n=!1;return RS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Qb}),!!((!e.depth||e.depth<3)&&DS(e)&&(t.options.setext||n))}function gue(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(pue(e,n)){const u=n.enter("headingSetext"),f=n.enter("phrasing"),m=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),u(),m+`
`+(i===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=Uf(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),o(),c}W4.peek=vue;function W4(e){return e.value||""}function vue(){return"<"}H4.peek=yue;function H4(e,t,n,r){const i=BS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),s(),c}function yue(){return"!"}q4.peek=xue;function q4(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=u,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function xue(){return"!"}K4.peek=bue;function K4(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function bue(){return"`"}function G4(e,t){const n=DS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Y4.peek=wue;function Y4(e,t,n,r){const i=BS(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(G4(e,n)){const u=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=u,f}o=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),o(),c}function wue(e,t,n){return G4(e,n)?"<":"["}X4.peek=kue;function X4(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=u,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function kue(){return"["}function zS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Sue(e){const t=zS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Nue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Q4(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Cue(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?Nue(n):zS(n);const o=e.ordered?s==="."?")":".":Sue(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),Q4(n)===s&&u){let f=-1;for(;++f<e.children.length;){const m=e.children[f];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),c}function jue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Pue(e,t,n,r){const i=jue(n);let a=n.bulletCurrent||zS(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),u);return l(),c;function u(f,m,h){return m?(h?"":" ".repeat(s))+f:(h?a:a+" ".repeat(s-a.length))+f}}function Aue(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const Eue=lv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Tue(e,t,n,r){return(e.children.some(function(s){return Eue(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Due(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Z4.peek=Mue;function Z4(e,t,n,r){const i=Due(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),u=Eg(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=Uf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),m=Eg(r.after.charCodeAt(0),f,i);m.inside&&(l=l.slice(0,-1)+Uf(f));const h=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:m.outside,before:u.outside},o+l+h}function Mue(e,t,n){return n.options.strong||"*"}function Oue(e,t,n,r){return n.safe(e.value,r)}function Iue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function _ue(e,t,n){const r=(Q4(n)+(n.options.ruleSpaces?" ":"")).repeat(Iue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const J4={blockquote:iue,break:AE,code:uue,definition:fue,emphasis:V4,hardBreak:AE,heading:gue,html:W4,image:H4,imageReference:q4,inlineCode:K4,link:Y4,linkReference:X4,list:Cue,listItem:Pue,paragraph:Aue,root:Tue,strong:Z4,text:Oue,thematicBreak:_ue};function Lue(){return{enter:{table:$ue,tableData:EE,tableHeader:EE,tableRow:Fue},exit:{codeText:Bue,table:Rue,tableData:_y,tableHeader:_y,tableRow:_y}}}function $ue(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Rue(e){this.exit(e),this.data.inTable=void 0}function Fue(e){this.enter({type:"tableRow",children:[]},e)}function _y(e){this.exit(e)}function EE(e){this.enter({type:"tableCell",children:[]},e)}function Bue(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,zue));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function zue(e,t){return t==="|"?t:e}function Uue(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:s,tableCell:l,tableRow:o}};function s(h,p,v,x){return c(u(h,v,x),h.align)}function o(h,p,v,x){const g=f(h,v,x),b=c([g]);return b.slice(0,b.indexOf(`
`))}function l(h,p,v,x){const g=v.enter("tableCell"),b=v.enter("phrasing"),w=v.containerPhrasing(h,{...x,before:a,after:a});return b(),g(),w}function c(h,p){return nue(h,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function u(h,p,v){const x=h.children;let g=-1;const b=[],w=p.enter("table");for(;++g<x.length;)b[g]=f(x[g],p,v);return w(),b}function f(h,p,v){const x=h.children;let g=-1;const b=[],w=p.enter("tableRow");for(;++g<x.length;)b[g]=l(x[g],h,p,v);return w(),b}function m(h,p,v){let x=J4.inlineCode(h,p,v);return v.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function Vue(){return{exit:{taskListCheckValueChecked:TE,taskListCheckValueUnchecked:TE,paragraph:Hue}}}function Wue(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:que}}}function TE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Hue(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function que(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=J4.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+s}}function Kue(){return[Cce(),qce(),Xce(),Lue(),Vue()]}function Gue(e){return{extensions:[jce(),Kce(e),Qce(),Uue(e),Wue()]}}const Yue={tokenize:tde,partial:!0},e$={tokenize:nde,partial:!0},t$={tokenize:rde,partial:!0},n$={tokenize:ide,partial:!0},Xue={tokenize:ade,partial:!0},r$={name:"wwwAutolink",tokenize:Jue,previous:a$},i$={name:"protocolAutolink",tokenize:ede,previous:s$},Io={name:"emailAutolink",tokenize:Zue,previous:o$},Us={};function Que(){return{text:Us}}let Ol=48;for(;Ol<123;)Us[Ol]=Io,Ol++,Ol===58?Ol=65:Ol===91&&(Ol=97);Us[43]=Io;Us[45]=Io;Us[46]=Io;Us[95]=Io;Us[72]=[Io,i$];Us[104]=[Io,i$];Us[87]=[Io,r$];Us[119]=[Io,r$];function Zue(e,t,n){const r=this;let i,a;return s;function s(f){return!tw(f)||!o$.call(r,r.previous)||US(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return tw(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(Xue,u,c)(f):f===45||f===95||Ai(f)?(a=!0,e.consume(f),l):u(f)}function c(f){return e.consume(f),i=!0,l}function u(f){return a&&i&&Ri(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function Jue(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!a$.call(r,r.previous)||US(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Yue,e.attempt(e$,e.attempt(t$,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function ede(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&s$.call(r,r.previous)&&!US(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Ri(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const m=i.toLowerCase();if(m==="http"||m==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||jg(f)||Ln(f)||bc(f)||av(f)?n(f):e.attempt(e$,e.attempt(t$,u),n)(f)}function u(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function tde(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function nde(e,t,n){let r,i,a;return s;function s(c){return c===46||c===95?e.check(n$,l,o)(c):c===null||Ln(c)||bc(c)||c!==45&&av(c)?l(c):(a=!0,e.consume(c),s)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),s}function l(c){return i||r||!a?n(c):t(c)}}function rde(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(n$,t,a)(s):s===null||Ln(s)||bc(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function ide(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Ln(o)||bc(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Ln(o)||bc(o)?t(o):r(o)}function a(o){return Ri(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Ri(o)?(e.consume(o),s):n(o)}}function ade(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Ai(a)?n(a):t(a)}}function a$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ln(e)}function s$(e){return!Ri(e)}function o$(e){return!(e===47||tw(e))}function tw(e){return e===43||e===45||e===46||e===95||Ai(e)}function US(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const sde={tokenize:hde,partial:!0};function ode(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:dde,continuation:{tokenize:fde},exit:mde}},text:{91:{name:"gfmFootnoteCall",tokenize:ude},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:lde,resolveTo:cde}}}}function lde(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const c=ds(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function cde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function ude(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!s||f===null||f===91||Ln(f))return n(f);if(f===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return i.includes(ds(r.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Ln(f)||(s=!0),a++,e.consume(f),f===92?u:c}function u(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function dde(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):n(p)}function u(p){if(s>999||p===93&&!o||p===null||p===91||Ln(p))return n(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return a=ds(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return Ln(p)||(o=!0),s++,e.consume(p),p===92?f:u}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,u):u(p)}function m(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),vn(e,h,"gfmFootnoteDefinitionWhitespace")):n(p)}function h(p){return t(p)}}function fde(e,t,n){return e.check(Am,t,e.attempt(sde,t,n))}function mde(e){e.exit("gfmFootnoteDefinition")}function hde(e,t,n){const r=this;return vn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function pde(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},m=[["enter",u,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",f,o]],h=o.parser.constructs.insideSpan.null;h&&ka(m,m.length,0,sv(h,s.slice(c+1,l),o)),ka(m,m.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",u,o]]),ka(s,c-1,l-c+3,m),l=c+m.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,u=this.events;let f=0;return m;function m(p){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const v=Fu(c);if(p===126)return f>1?l(p):(s.consume(p),f++,h);if(f<2&&!n)return l(p);const x=s.exit("strikethroughSequenceTemporary"),g=Fu(p);return x._open=!g||g===2&&!!v,x._close=!v||v===2&&!!g,o(p)}}}class gde{constructor(){this.map=[]}add(t,n,r){vde(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function vde(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function yde(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function xde(){return{flow:{null:{name:"table",tokenize:bde,resolveAll:wde}}}}function bde(e,t,n){const r=this;let i=0,a=0,s;return o;function o(A){let $=r.events.length-1;for(;$>-1;){const K=r.events[$][1].type;if(K==="lineEnding"||K==="linePrefix")$--;else break}const D=$>-1?r.events[$][1].type:null,te=D==="tableHead"||D==="tableRow"?N:l;return te===N&&r.parser.lazy[r.now().line]?n(A):te(A)}function l(A){return e.enter("tableHead"),e.enter("tableRow"),c(A)}function c(A){return A===124||(s=!0,a+=1),u(A)}function u(A){return A===null?n(A):_t(A)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),h):n(A):dn(A)?vn(e,u,"whitespace")(A):(a+=1,s&&(s=!1,i+=1),A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),s=!0,u):(e.enter("data"),f(A)))}function f(A){return A===null||A===124||Ln(A)?(e.exit("data"),u(A)):(e.consume(A),A===92?m:f)}function m(A){return A===92||A===124?(e.consume(A),f):f(A)}function h(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(e.enter("tableDelimiterRow"),s=!1,dn(A)?vn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):p(A))}function p(A){return A===45||A===58?x(A):A===124?(s=!0,e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),v):C(A)}function v(A){return dn(A)?vn(e,x,"whitespace")(A):x(A)}function x(A){return A===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),g):A===45?(a+=1,g(A)):A===null||_t(A)?S(A):C(A)}function g(A){return A===45?(e.enter("tableDelimiterFiller"),b(A)):C(A)}function b(A){return A===45?(e.consume(A),b):A===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(A))}function w(A){return dn(A)?vn(e,S,"whitespace")(A):S(A)}function S(A){return A===124?p(A):A===null||_t(A)?!s||i!==a?C(A):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(A)):C(A)}function C(A){return n(A)}function N(A){return e.enter("tableRow"),P(A)}function P(A){return A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),P):A===null||_t(A)?(e.exit("tableRow"),t(A)):dn(A)?vn(e,P,"whitespace")(A):(e.enter("data"),T(A))}function T(A){return A===null||A===124||Ln(A)?(e.exit("data"),P(A)):(e.consume(A),A===92?_:T)}function _(A){return A===92||A===124?(e.consume(A),T):T(A)}}function wde(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,u,f;const m=new gde;for(;++n<e.length;){const h=e[n],p=h[1];h[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(DE(m,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},m.add(n,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,u={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},m.add(n,0,[["enter",u,t]])),i=p.type==="tableDelimiterRow"?2:u?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=Ah(m,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=Ah(m,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=Ah(m,t,a,i,n,f)):s[1]!==0&&(f=Ah(m,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&DE(m,t,l,c,u),m.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=yde(t.events,n))}return e}function Ah(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},Hc(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=Hc(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=Hc(t.events,n[2]),u=Hc(t.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const m=t.events[n[2]],h=t.events[n[3]];if(m[1].end=Object.assign({},h[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,v=n[3]-n[2]-1;e.add(p,v,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Hc(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function DE(e,t,n,r,i){const a=[],s=Hc(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function Hc(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const kde={name:"tasklistCheck",tokenize:Nde};function Sde(){return{text:{91:kde}}}function Nde(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Ln(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return _t(l)?t(l):dn(l)?e.check({tokenize:Cde},t,n)(l):n(l)}}function Cde(e,t,n){return vn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function jde(e){return v4([Que(),ode(),pde(e),xde(),Sde()])}const Pde={};function Ade(e){const t=this,n=e||Pde,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(jde(n)),a.push(Kue()),s.push(Gue(n))}const Ly='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',l$=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),uv=y.createContext({}),VS=y.createContext(null),dv=typeof document<"u",Ede=dv?y.useLayoutEffect:y.useEffect,c$=y.createContext({strict:!1}),WS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Tde="framerAppearId",u$="data-"+WS(Tde);function Dde(e,t,n,r){const{visualElement:i}=y.useContext(uv),a=y.useContext(c$),s=y.useContext(VS),o=y.useContext(l$).reducedMotion,l=y.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;y.useInsertionEffect(()=>{c&&c.update(n,s)});const u=y.useRef(!!(n[u$]&&!window.HandoffComplete));return Ede(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),y.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function su(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Mde(e,t,n){return y.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):su(n)&&(n.current=r))},[t])}function Vf(e){return typeof e=="string"||Array.isArray(e)}function fv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const HS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qS=["initial",...HS];function mv(e){return fv(e.animate)||qS.some(t=>Vf(e[t]))}function d$(e){return!!(mv(e)||e.variants)}function Ode(e,t){if(mv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Vf(n)?n:void 0,animate:Vf(r)?r:void 0}}return e.inherit!==!1?t:{}}function Ide(e){const{initial:t,animate:n}=Ode(e,y.useContext(uv));return y.useMemo(()=>({initial:t,animate:n}),[ME(t),ME(n)])}function ME(e){return Array.isArray(e)?e.join(" "):e}const OE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wf={};for(const e in OE)Wf[e]={isEnabled:t=>OE[e].some(n=>!!t[n])};function _de(e){for(const t in e)Wf[t]={...Wf[t],...e[t]}}const f$=y.createContext({}),m$=y.createContext({}),Lde=Symbol.for("motionComponentSymbol");function $de({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&_de(e);function a(o,l){let c;const u={...y.useContext(l$),...o,layoutId:Rde(o)},{isStatic:f}=u,m=Ide(o),h=r(o,f);if(!f&&dv){m.visualElement=Dde(i,h,u,t);const p=y.useContext(m$),v=y.useContext(c$).strict;m.visualElement&&(c=m.visualElement.loadFeatures(u,v,e,p))}return y.createElement(uv.Provider,{value:m},c&&m.visualElement?y.createElement(c,{visualElement:m.visualElement,...u}):null,n(i,o,Mde(h,m.visualElement,l),h,f,m.visualElement))}const s=y.forwardRef(a);return s[Lde]=i,s}function Rde({layoutId:e}){const t=y.useContext(f$).id;return t&&e!==void 0?t+"-"+e:e}function Fde(e){function t(r,i={}){return $de(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Bde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function KS(e){return typeof e!="string"||e.includes("-")?!1:!!(Bde.indexOf(e)>-1||/[A-Z]/.test(e))}const Tg={};function zde(e){Object.assign(Tg,e)}const Tm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jc=new Set(Tm);function h$(e,{layout:t,layoutId:n}){return jc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Tg[e]||e==="opacity")}const aa=e=>!!(e&&e.getVelocity),Ude={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vde=Tm.length;function Wde(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<Vde;s++){const o=Tm[s];if(e[o]!==void 0){const l=Ude[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const p$=e=>t=>typeof t=="string"&&t.startsWith(e),g$=p$("--"),nw=p$("var(--"),Hde=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,qde=(e,t)=>t&&typeof e=="number"?t.transform(e):e,hl=(e,t,n)=>Math.min(Math.max(n,e),t),Pc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xd={...Pc,transform:e=>hl(0,1,e)},Eh={...Pc,default:1},Qd=e=>Math.round(e*1e5)/1e5,hv=/(-)?([\d]*\.?[\d])+/g,v$=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Kde=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Dm(e){return typeof e=="string"}const Mm=e=>({test:t=>Dm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),zo=Mm("deg"),$s=Mm("%"),Vt=Mm("px"),Gde=Mm("vh"),Yde=Mm("vw"),IE={...$s,parse:e=>$s.parse(e)/100,transform:e=>$s.transform(e*100)},_E={...Pc,transform:Math.round},y$={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,size:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,rotate:zo,rotateX:zo,rotateY:zo,rotateZ:zo,scale:Eh,scaleX:Eh,scaleY:Eh,scaleZ:Eh,skew:zo,skewX:zo,skewY:zo,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:Xd,originX:IE,originY:IE,originZ:Vt,zIndex:_E,fillOpacity:Xd,strokeOpacity:Xd,numOctaves:_E};function GS(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,c=!1,u=!0;for(const f in t){const m=t[f];if(g$(f)){a[f]=m;continue}const h=y$[f],p=qde(m,h);if(jc.has(f)){if(l=!0,s[f]=p,!u)continue;m!==(h.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=Wde(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:m="50%",originZ:h=0}=o;i.transformOrigin=`${f} ${m} ${h}`}}const YS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function x$(e,t,n){for(const r in t)!aa(t[r])&&!h$(r,n)&&(e[r]=t[r])}function Xde({transformTemplate:e},t,n){return y.useMemo(()=>{const r=YS();return GS(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Qde(e,t,n){const r=e.style||{},i={};return x$(i,r,e),Object.assign(i,Xde(e,t,n)),e.transformValues?e.transformValues(i):i}function Zde(e,t,n){const r={},i=Qde(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Jde=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Jde.has(e)}let b$=e=>!Dg(e);function efe(e){e&&(b$=t=>t.startsWith("on")?!Dg(t):e(t))}try{efe(require("@emotion/is-prop-valid").default)}catch{}function tfe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(b$(i)||n===!0&&Dg(i)||!t&&!Dg(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function LE(e,t,n){return typeof e=="string"?e:Vt.transform(t+n*e)}function nfe(e,t,n){const r=LE(t,e.x,e.width),i=LE(n,e.y,e.height);return`${r} ${i}`}const rfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},ife={offset:"strokeDashoffset",array:"strokeDasharray"};function afe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?rfe:ife;e[a.offset]=Vt.transform(-r);const s=Vt.transform(t),o=Vt.transform(n);e[a.array]=`${s} ${o}`}function XS(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},u,f,m){if(GS(e,c,u,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:v}=e;h.transform&&(v&&(p.transform=h.transform),delete h.transform),v&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=nfe(v,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&afe(h,s,o,l,!1)}const w$=()=>({...YS(),attrs:{}}),QS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function sfe(e,t,n,r){const i=y.useMemo(()=>{const a=w$();return XS(a,t,{enableHardwareAcceleration:!1},QS(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};x$(a,e.style,e),i.style={...a,...i.style}}return i}function ofe(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(KS(n)?sfe:Zde)(r,a,s,n),u={...tfe(r,typeof n=="string",e),...l,ref:i},{children:f}=r,m=y.useMemo(()=>aa(f)?f.get():f,[f]);return y.createElement(n,{...u,children:m})}}function k$(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const S$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function N$(e,t,n,r){k$(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(S$.has(i)?i:WS(i),t.attrs[i])}function ZS(e,t){const{style:n}=e,r={};for(const i in n)(aa(n[i])||t.style&&aa(t.style[i])||h$(i,e))&&(r[i]=n[i]);return r}function C$(e,t){const n=ZS(e,t);for(const r in e)if(aa(e[r])||aa(t[r])){const i=Tm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function JS(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function lfe(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const Mg=e=>Array.isArray(e),cfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),ufe=e=>Mg(e)?e[e.length-1]||0:e;function tp(e){const t=aa(e)?e.get():e;return cfe(t)?t.toValue():t}function dfe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:ffe(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const j$=e=>(t,n)=>{const r=y.useContext(uv),i=y.useContext(VS),a=()=>dfe(e,t,r,i);return n?a():lfe(a)};function ffe(e,t,n,r){const i={},a=r(e,{});for(const m in a)i[m]=tp(a[m]);let{initial:s,animate:o}=e;const l=mv(e),c=d$(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const f=u?o:s;return f&&typeof f!="boolean"&&!fv(f)&&(Array.isArray(f)?f:[f]).forEach(h=>{const p=JS(e,h);if(!p)return;const{transitionEnd:v,transition:x,...g}=p;for(const b in g){let w=g[b];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(i[b]=w)}for(const b in v)i[b]=v[b]}),i}const Er=e=>e;class $E{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function mfe(e){let t=new $E,n=new $E,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,c=!1,u=!1)=>{const f=u&&i,m=f?t:n;return c&&s.add(l),m.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const u=t.order[c];u(l),s.has(u)&&(o.schedule(u),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const Th=["prepare","read","update","preRender","render","postRender"],hfe=40;function pfe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Th.reduce((f,m)=>(f[m]=mfe(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,hfe),1),i.timestamp=f,i.isProcessing=!0,Th.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:Th.reduce((f,m)=>{const h=a[m];return f[m]=(p,v=!1,x=!1)=>(n||l(),h.schedule(p,v,x)),f},{}),cancel:f=>Th.forEach(m=>a[m].cancel(f)),state:i,steps:a}}const{schedule:Jn,cancel:No,state:ki,steps:$y}=pfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Er,!0),gfe={useVisualState:j$({scrapeMotionValuesFromProps:C$,createRenderState:w$,onMount:(e,t,{renderState:n,latestValues:r})=>{Jn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Jn.render(()=>{XS(n,r,{enableHardwareAcceleration:!1},QS(t.tagName),e.transformTemplate),N$(t,n)})}})},vfe={useVisualState:j$({scrapeMotionValuesFromProps:ZS,createRenderState:YS})};function yfe(e,{forwardMotionProps:t=!1},n,r){return{...KS(e)?gfe:vfe,preloadedFeatures:n,useRender:ofe(t),createVisualElement:r,Component:e}}function oo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const P$=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function pv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const xfe=e=>t=>P$(t)&&e(t,pv(t));function fo(e,t,n,r){return oo(e,t,xfe(n),r)}const bfe=(e,t)=>n=>t(e(n)),cl=(...e)=>e.reduce(bfe);function A$(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const RE=A$("dragHorizontal"),FE=A$("dragVertical");function E$(e){let t=!1;if(e==="y")t=FE();else if(e==="x")t=RE();else{const n=RE(),r=FE();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function T$(){const e=E$(!0);return e?(e(),!1):!0}class Nl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function BE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||T$())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&Jn.update(()=>o[r](a,s))};return fo(e.current,n,i,{passive:!e.getProps()[r]})}class wfe extends Nl{mount(){this.unmount=cl(BE(this.node,!0),BE(this.node,!1))}unmount(){}}class kfe extends Nl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cl(oo(this.node.current,"focus",()=>this.onFocus()),oo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const D$=(e,t)=>t?e===t?!0:D$(e,t.parentElement):!1;function Ry(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,pv(n))}class Sfe extends Nl{constructor(){super(...arguments),this.removeStartListeners=Er,this.removeEndListeners=Er,this.removeAccessibleListeners=Er,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=fo(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();Jn.update(()=>{!f&&!D$(this.node.current,o.target)?u&&u(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=fo(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=cl(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Ry("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Jn.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=oo(this.node.current,"keyup",s),Ry("down",(o,l)=>{this.startPress(o,l)})},n=oo(this.node.current,"keydown",t),r=()=>{this.isPressing&&Ry("cancel",(a,s)=>this.cancelPress(a,s))},i=oo(this.node.current,"blur",r);this.removeAccessibleListeners=cl(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Jn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!T$()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Jn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=fo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=oo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=cl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const rw=new WeakMap,Fy=new WeakMap,Nfe=e=>{const t=rw.get(e.target);t&&t(e)},Cfe=e=>{e.forEach(Nfe)};function jfe({root:e,...t}){const n=e||document;Fy.has(n)||Fy.set(n,{});const r=Fy.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Cfe,{root:e,...t})),r[i]}function Pfe(e,t,n){const r=jfe(t);return rw.set(e,n),r.observe(e),()=>{rw.delete(e),r.unobserve(e)}}const Afe={some:0,all:1};class Efe extends Nl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Afe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),m=c?u:f;m&&m(l)};return Pfe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Tfe(t,n))&&this.startObserver()}unmount(){}}function Tfe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Dfe={inView:{Feature:Efe},tap:{Feature:Sfe},focus:{Feature:kfe},hover:{Feature:wfe}};function M$(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Mfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Ofe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function gv(e,t,n){const r=e.getProps();return JS(r,t,n!==void 0?n:r.custom,Mfe(e),Ofe(e))}let eN=Er;const ic=e=>e*1e3,mo=e=>e/1e3,Ife={current:!1},O$=e=>Array.isArray(e)&&typeof e[0]=="number";function I$(e){return!!(!e||typeof e=="string"&&_$[e]||O$(e)||Array.isArray(e)&&e.every(I$))}const _d=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,_$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_d([0,.65,.55,1]),circOut:_d([.55,0,1,.45]),backIn:_d([.31,.01,.66,-.59]),backOut:_d([.33,1.53,.69,.99])};function L$(e){if(e)return O$(e)?_d(e):Array.isArray(e)?e.map(L$):_$[e]}function _fe(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=L$(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function Lfe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const $$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,$fe=1e-7,Rfe=12;function Ffe(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=$$(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>$fe&&++o<Rfe);return s}function Om(e,t,n,r){if(e===t&&n===r)return Er;const i=a=>Ffe(a,0,1,e,n);return a=>a===0||a===1?a:$$(i(a),t,r)}const Bfe=Om(.42,0,1,1),zfe=Om(0,0,.58,1),R$=Om(.42,0,.58,1),Ufe=e=>Array.isArray(e)&&typeof e[0]!="number",F$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,B$=e=>t=>1-e(1-t),tN=e=>1-Math.sin(Math.acos(e)),z$=B$(tN),Vfe=F$(tN),U$=Om(.33,1.53,.69,.99),nN=B$(U$),Wfe=F$(nN),Hfe=e=>(e*=2)<1?.5*nN(e):.5*(2-Math.pow(2,-10*(e-1))),qfe={linear:Er,easeIn:Bfe,easeInOut:R$,easeOut:zfe,circIn:tN,circInOut:Vfe,circOut:z$,backIn:nN,backInOut:Wfe,backOut:U$,anticipate:Hfe},zE=e=>{if(Array.isArray(e)){eN(e.length===4);const[t,n,r,i]=e;return Om(t,n,r,i)}else if(typeof e=="string")return qfe[e];return e},rN=(e,t)=>n=>!!(Dm(n)&&Kde.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),V$=(e,t,n)=>r=>{if(!Dm(r))return r;const[i,a,s,o]=r.match(hv);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Kfe=e=>hl(0,255,e),By={...Pc,transform:e=>Math.round(Kfe(e))},Ql={test:rN("rgb","red"),parse:V$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+By.transform(e)+", "+By.transform(t)+", "+By.transform(n)+", "+Qd(Xd.transform(r))+")"};function Gfe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const iw={test:rN("#"),parse:Gfe,transform:Ql.transform},ou={test:rN("hsl","hue"),parse:V$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+$s.transform(Qd(t))+", "+$s.transform(Qd(n))+", "+Qd(Xd.transform(r))+")"},Li={test:e=>Ql.test(e)||iw.test(e)||ou.test(e),parse:e=>Ql.test(e)?Ql.parse(e):ou.test(e)?ou.parse(e):iw.parse(e),transform:e=>Dm(e)?e:e.hasOwnProperty("red")?Ql.transform(e):ou.transform(e)},ur=(e,t,n)=>-n*e+n*t+e;function zy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Yfe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=zy(l,o,e+1/3),a=zy(l,o,e),s=zy(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const Uy=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Xfe=[iw,Ql,ou],Qfe=e=>Xfe.find(t=>t.test(e));function UE(e){const t=Qfe(e);let n=t.parse(e);return t===ou&&(n=Yfe(n)),n}const W$=(e,t)=>{const n=UE(e),r=UE(t),i={...n};return a=>(i.red=Uy(n.red,r.red,a),i.green=Uy(n.green,r.green,a),i.blue=Uy(n.blue,r.blue,a),i.alpha=ur(n.alpha,r.alpha,a),Ql.transform(i))};function Zfe(e){var t,n;return isNaN(e)&&Dm(e)&&(((t=e.match(hv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(v$))===null||n===void 0?void 0:n.length)||0)>0}const H$={regex:Hde,countKey:"Vars",token:"${v}",parse:Er},q$={regex:v$,countKey:"Colors",token:"${c}",parse:Li.parse},K$={regex:hv,countKey:"Numbers",token:"${n}",parse:Pc.parse};function Vy(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function Og(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Vy(n,H$),Vy(n,q$),Vy(n,K$),n}function G$(e){return Og(e).values}function Y$(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Og(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(H$.token,s[l]):l<r+n?o=o.replace(q$.token,Li.transform(s[l])):o=o.replace(K$.token,Qd(s[l]));return o}}const Jfe=e=>typeof e=="number"?0:e;function eme(e){const t=G$(e);return Y$(e)(t.map(Jfe))}const pl={test:Zfe,parse:G$,createTransformer:Y$,getAnimatableNone:eme},X$=(e,t)=>n=>`${n>0?t:e}`;function Q$(e,t){return typeof e=="number"?n=>ur(e,t,n):Li.test(e)?W$(e,t):e.startsWith("var(")?X$(e,t):J$(e,t)}const Z$=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>Q$(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},tme=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Q$(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},J$=(e,t)=>{const n=pl.createTransformer(t),r=Og(e),i=Og(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?cl(Z$(r.values,i.values),n):X$(e,t)},Hf=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},VE=(e,t)=>n=>ur(e,t,n);function nme(e){return typeof e=="number"?VE:typeof e=="string"?Li.test(e)?W$:J$:Array.isArray(e)?Z$:typeof e=="object"?tme:VE}function rme(e,t,n){const r=[],i=n||nme(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Er:t;o=cl(l,o)}r.push(o)}return r}function eR(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(eN(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=rme(t,r,i),o=s.length,l=c=>{let u=0;if(o>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const f=Hf(e[u],e[u+1],c);return s[u](f)};return n?c=>l(hl(e[0],e[a-1],c)):l}function ime(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Hf(0,t,r);e.push(ur(n,1,i))}}function ame(e){const t=[0];return ime(t,e.length-1),t}function sme(e,t){return e.map(n=>n*t)}function ome(e,t){return e.map(()=>t||R$).splice(0,e.length-1)}function Ig({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Ufe(r)?r.map(zE):zE(r),a={done:!1,value:t[0]},s=sme(n&&n.length===t.length?n:ame(t),e),o=eR(s,t,{ease:Array.isArray(i)?i:ome(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function tR(e,t){return t?e*(1e3/t):0}const lme=5;function nR(e,t,n){const r=Math.max(t-lme,0);return tR(n-e(r),t-r)}const Wy=.001,cme=.01,ume=10,dme=.05,fme=1;function mme({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=hl(dme,fme,s),e=hl(cme,ume,mo(e)),s<1?(i=c=>{const u=c*s,f=u*e,m=u-n,h=aw(c,s),p=Math.exp(-f);return Wy-m/h*p},a=c=>{const f=c*s*e,m=f*n+n,h=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-f),v=aw(Math.pow(c,2),s);return(-i(c)+Wy>0?-1:1)*((m-h)*p)/v}):(i=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-Wy+u*f},a=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const o=5/e,l=pme(i,a,o);if(e=ic(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const hme=12;function pme(e,t,n){let r=n;for(let i=1;i<hme;i++)r=r-e(r)/t(r);return r}function aw(e,t){return e*Math.sqrt(1-t*t)}const gme=["duration","bounce"],vme=["stiffness","damping","mass"];function WE(e,t){return t.some(n=>e[n]!==void 0)}function yme(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!WE(e,vme)&&WE(e,gme)){const n=mme(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function rR({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:m}=yme({...r,velocity:-mo(r.velocity||0)}),h=f||0,p=l/(2*Math.sqrt(o*c)),v=a-i,x=mo(Math.sqrt(o/c)),g=Math.abs(v)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let b;if(p<1){const w=aw(x,p);b=S=>{const C=Math.exp(-p*x*S);return a-C*((h+p*x*v)/w*Math.sin(w*S)+v*Math.cos(w*S))}}else if(p===1)b=w=>a-Math.exp(-x*w)*(v+(h+x*v)*w);else{const w=x*Math.sqrt(p*p-1);b=S=>{const C=Math.exp(-p*x*S),N=Math.min(w*S,300);return a-C*((h+p*x*v)*Math.sinh(N)+w*v*Math.cosh(N))/w}}return{calculatedDuration:m&&u||null,next:w=>{const S=b(w);if(m)s.done=w>=u;else{let C=h;w!==0&&(p<1?C=nR(b,w,S):C=0);const N=Math.abs(C)<=n,P=Math.abs(a-S)<=t;s.done=N&&P}return s.value=s.done?a:S,s}}}function HE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],m={done:!1,value:f},h=T=>o!==void 0&&T<o||l!==void 0&&T>l,p=T=>o===void 0?l:l===void 0||Math.abs(o-T)<Math.abs(l-T)?o:l;let v=n*t;const x=f+v,g=s===void 0?x:s(x);g!==x&&(v=g-f);const b=T=>-v*Math.exp(-T/r),w=T=>g+b(T),S=T=>{const _=b(T),A=w(T);m.done=Math.abs(_)<=c,m.value=m.done?g:A};let C,N;const P=T=>{h(m.value)&&(C=T,N=rR({keyframes:[m.value,p(m.value)],velocity:nR(w,T,m.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:T=>{let _=!1;return!N&&C===void 0&&(_=!0,S(T),P(T)),C!==void 0&&T>C?N.next(T-C):(!_&&S(T),m)}}}const xme=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Jn.update(t,!0),stop:()=>No(t),now:()=>ki.isProcessing?ki.timestamp:performance.now()}},qE=2e4;function KE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<qE;)t+=n,r=e.next(t);return t>=qE?1/0:t}const bme={decay:HE,inertia:HE,tween:Ig,keyframes:Ig,spring:rR};function _g({autoplay:e=!0,delay:t=0,driver:n=xme,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...m}){let h=1,p=!1,v,x;const g=()=>{x=new Promise(j=>{v=j})};g();let b;const w=bme[i]||Ig;let S;w!==Ig&&typeof r[0]!="number"&&(S=eR([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...m,keyframes:r});let N;o==="mirror"&&(N=w({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let P="idle",T=null,_=null,A=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=KE(C));const{calculatedDuration:$}=C;let D=1/0,te=1/0;$!==null&&(D=$+s,te=D*(a+1)-s);let K=0;const ie=j=>{if(_===null)return;h>0&&(_=Math.min(_,j)),h<0&&(_=Math.min(j-te/h,_)),T!==null?K=T:K=Math.round(j-_)*h;const U=K-t*(h>=0?1:-1),k=h>=0?U<0:U>te;K=Math.max(U,0),P==="finished"&&T===null&&(K=te);let O=K,re=C;if(a){const L=Math.min(K,te)/D;let W=Math.floor(L),le=L%1;!le&&L>=1&&(le=1),le===1&&W--,W=Math.min(W,a+1),!!(W%2)&&(o==="reverse"?(le=1-le,s&&(le-=s/D)):o==="mirror"&&(re=N)),O=hl(0,1,le)*D}const Q=k?{done:!1,value:r[0]}:re.next(O);S&&(Q.value=S(Q.value));let{done:F}=Q;!k&&$!==null&&(F=h>=0?K>=te:K<=0);const Z=T===null&&(P==="finished"||P==="running"&&F);return f&&f(Q.value),Z&&G(),Q},H=()=>{b&&b.stop(),b=void 0},J=()=>{P="idle",H(),v(),g(),_=A=null},G=()=>{P="finished",u&&u(),H(),v()},ae=()=>{if(p)return;b||(b=n(ie));const j=b.now();l&&l(),T!==null?_=j-T:(!_||P==="finished")&&(_=j),P==="finished"&&g(),A=_,T=null,P="running",b.start()};e&&ae();const E={then(j,U){return x.then(j,U)},get time(){return mo(K)},set time(j){j=ic(j),K=j,T!==null||!b||h===0?T=j:_=b.now()-j/h},get duration(){const j=C.calculatedDuration===null?KE(C):C.calculatedDuration;return mo(j)},get speed(){return h},set speed(j){j===h||!b||(h=j,E.time=mo(K))},get state(){return P},play:ae,pause:()=>{P="paused",T=K},stop:()=>{p=!0,P!=="idle"&&(P="idle",c&&c(),J())},cancel:()=>{A!==null&&ie(A),J()},complete:()=>{P="finished"},sample:j=>(_=0,ie(j))};return E}function wme(e){let t;return()=>(t===void 0&&(t=e()),t)}const kme=wme(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Sme=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Dh=10,Nme=2e4,Cme=(e,t)=>t.type==="spring"||e==="backgroundColor"||!I$(t.ease);function jme(e,t,{onUpdate:n,onComplete:r,...i}){if(!(kme()&&Sme.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,c=!1;const u=()=>{l=new Promise(w=>{o=w})};u();let{keyframes:f,duration:m=300,ease:h,times:p}=i;if(Cme(t,i)){const w=_g({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const C=[];let N=0;for(;!S.done&&N<Nme;)S=w.sample(N),C.push(S.value),N+=Dh;p=void 0,f=C,m=N-Dh,h="linear"}const v=_fe(e.owner.current,t,f,{...i,duration:m,ease:h,times:p}),x=()=>{c=!1,v.cancel()},g=()=>{c=!0,Jn.update(x),o(),u()};return v.onfinish=()=>{c||(e.set(Lfe(f,i)),r&&r(),g())},{then(w,S){return l.then(w,S)},attachTimeline(w){return v.timeline=w,v.onfinish=null,Er},get time(){return mo(v.currentTime||0)},set time(w){v.currentTime=ic(w)},get speed(){return v.playbackRate},set speed(w){v.playbackRate=w},get duration(){return mo(m)},play:()=>{s||(v.play(),No(x))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:w}=v;if(w){const S=_g({...i,autoplay:!1});e.setWithVelocity(S.sample(w-Dh).value,S.sample(w).value,Dh)}g()},complete:()=>{c||v.finish()},cancel:g}}function Pme({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Er,pause:Er,stop:Er,then:a=>(a(),Promise.resolve()),cancel:Er,complete:Er});return t?_g({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Ame={type:"spring",stiffness:500,damping:25,restSpeed:10},Eme=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Tme={type:"keyframes",duration:.8},Dme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mme=(e,{keyframes:t})=>t.length>2?Tme:jc.has(e)?e.startsWith("scale")?Eme(t[1]):Ame:Dme,sw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pl.test(t)||t==="0")&&!t.startsWith("url(")),Ome=new Set(["brightness","contrast","saturate","opacity"]);function Ime(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(hv)||[];if(!r)return e;const i=n.replace(r,"");let a=Ome.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const _me=/([a-z-]*)\(.*?\)/g,ow={...pl,getAnimatableNone:e=>{const t=e.match(_me);return t?t.map(Ime).join(" "):e}},Lme={...y$,color:Li,backgroundColor:Li,outlineColor:Li,fill:Li,stroke:Li,borderColor:Li,borderTopColor:Li,borderRightColor:Li,borderBottomColor:Li,borderLeftColor:Li,filter:ow,WebkitFilter:ow},iN=e=>Lme[e];function iR(e,t){let n=iN(e);return n!==ow&&(n=pl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const aR=e=>/^0[^.\s]+$/.test(e);function $me(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||aR(e)}function Rme(e,t,n,r){const i=sw(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?s:a[c-1]),$me(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(o=a[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const u=l[c];a[u]=iR(t,o)}return a}function Fme({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function aN(e,t){return e[t]||e.default||e}const Bme={skipAnimations:!1},sN=(e,t,n,r={})=>i=>{const a=aN(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-ic(s);const l=Rme(t,e,n,a),c=l[0],u=l[l.length-1],f=sw(e,c),m=sw(e,u);let h={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(Fme(a)||(h={...h,...Mme(e,h)}),h.duration&&(h.duration=ic(h.duration)),h.repeatDelay&&(h.repeatDelay=ic(h.repeatDelay)),!f||!m||Ife.current||a.type===!1||Bme.skipAnimations)return Pme(h);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=jme(t,e,h);if(p)return p}return _g(h)};function Lg(e){return!!(aa(e)&&e.add)}const sR=e=>/^\-?\d*\.?\d+$/.test(e);function oN(e,t){e.indexOf(t)===-1&&e.push(t)}function lN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class cN{constructor(){this.subscriptions=[]}add(t){return oN(this.subscriptions,t),()=>lN(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zme=e=>!isNaN(parseFloat(e));class Ume{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=ki;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,Jn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Jn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=zme(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new cN);const r=this.events[t].add(n);return t==="change"?()=>{r(),Jn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?tR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bu(e,t){return new Ume(e,t)}const oR=e=>t=>t.test(e),Vme={test:e=>e==="auto",parse:e=>e},lR=[Pc,Vt,$s,zo,Yde,Gde,Vme],Pd=e=>lR.find(oR(e)),Wme=[...lR,Li,pl],Hme=e=>Wme.find(oR(e));function qme(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bu(n))}function Kme(e,t){const n=gv(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=ufe(a[s]);qme(e,s,o)}}function Gme(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],c=t[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),u!=null&&(typeof u=="string"&&(sR(u)||aR(u))?u=parseFloat(u):!Hme(u)&&pl.test(c)&&(u=iR(l,c)),e.addValue(l,Bu(u,{owner:e})),n[l]===void 0&&(n[l]=u),u!==null&&e.setBaseTarget(l,u))}}function Yme(e,t){return t?(t[e]||t.default||t).from:void 0}function Xme(e,t,n){const r={};for(const i in e){const a=Yme(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function Qme({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Zme(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function cR(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const m=e.getValue(f),h=o[f];if(!m||h===void 0||u&&Qme(u,f))continue;const p={delay:n,elapsed:0,...aN(a||{},f)};if(window.HandoffAppearAnimations){const g=e.getProps()[u$];if(g){const b=window.HandoffAppearAnimations(g,f,m,Jn);b!==null&&(p.elapsed=b,p.isHandoff=!0)}}let v=!p.isHandoff&&!Zme(m,h);if(p.type==="spring"&&(m.getVelocity()||p.velocity)&&(v=!1),m.animation&&(v=!1),v)continue;m.start(sN(f,m,h,e.shouldReduceMotion&&jc.has(f)?{type:!1}:p));const x=m.animation;Lg(l)&&(l.add(f),x.then(()=>l.remove(f))),c.push(x)}return s&&Promise.all(c).then(()=>{s&&Kme(e,s)}),c}function lw(e,t,n={}){const r=gv(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(cR(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return Jme(e,t,c+l,u,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function Jme(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(e.variantChildren).sort(ehe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(lw(c,t,{...a,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function ehe(e,t){return e.sortNodePosition(t)}function the(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>lw(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=lw(e,t,n);else{const i=typeof t=="function"?gv(e,t,n.custom):t;r=Promise.all(cR(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const nhe=[...HS].reverse(),rhe=HS.length;function ihe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>the(e,n,r)))}function ahe(e){let t=ihe(e);const n=ohe();let r=!0;const i=(l,c)=>{const u=gv(e,c);if(u){const{transition:f,transitionEnd:m,...h}=u;l={...l,...h,...m}}return l};function a(l){t=l(e)}function s(l,c){const u=e.getProps(),f=e.getVariantContext(!0)||{},m=[],h=new Set;let p={},v=1/0;for(let g=0;g<rhe;g++){const b=nhe[g],w=n[b],S=u[b]!==void 0?u[b]:f[b],C=Vf(S),N=b===c?w.isActive:null;N===!1&&(v=g);let P=S===f[b]&&S!==u[b]&&C;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...p},!w.isActive&&N===null||!S&&!w.prevProp||fv(S)||typeof S=="boolean")continue;let _=she(w.prevProp,S)||b===c&&w.isActive&&!P&&C||g>v&&C,A=!1;const $=Array.isArray(S)?S:[S];let D=$.reduce(i,{});N===!1&&(D={});const{prevResolvedValues:te={}}=w,K={...te,...D},ie=H=>{_=!0,h.has(H)&&(A=!0,h.delete(H)),w.needsAnimating[H]=!0};for(const H in K){const J=D[H],G=te[H];if(p.hasOwnProperty(H))continue;let ae=!1;Mg(J)&&Mg(G)?ae=!M$(J,G):ae=J!==G,ae?J!==void 0?ie(H):h.add(H):J!==void 0&&h.has(H)?ie(H):w.protectedKeys[H]=!0}w.prevProp=S,w.prevResolvedValues=D,w.isActive&&(p={...p,...D}),r&&e.blockInitialAnimation&&(_=!1),_&&(!P||A)&&m.push(...$.map(H=>({animation:H,options:{type:b,...l}})))}if(h.size){const g={};h.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(g[b]=w)}),m.push({animation:g})}let x=!!m.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(m):Promise.resolve()}function o(l,c,u){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const m=s(u,l);for(const h in n)n[h].protectedKeys={};return m}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function she(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!M$(t,e):!1}function Il(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ohe(){return{animate:Il(!0),whileInView:Il(),whileHover:Il(),whileTap:Il(),whileDrag:Il(),whileFocus:Il(),exit:Il()}}class lhe extends Nl{constructor(t){super(t),t.animationState||(t.animationState=ahe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),fv(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let che=0;class uhe extends Nl{constructor(){super(...arguments),this.id=che++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const dhe={animation:{Feature:lhe},exit:{Feature:uhe}},GE=(e,t)=>Math.abs(e-t);function fhe(e,t){const n=GE(e.x,t.x),r=GE(e.y,t.y);return Math.sqrt(n**2+r**2)}class uR{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=qy(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,h=fhe(f.offset,{x:0,y:0})>=3;if(!m&&!h)return;const{point:p}=f,{timestamp:v}=ki;this.history.push({...p,timestamp:v});const{onStart:x,onMove:g}=this.handlers;m||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Hy(m,this.transformPagePoint),Jn.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=qy(f.type==="pointercancel"?this.lastMoveEventInfo:Hy(m,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,x),p&&p(f,x)},!P$(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=pv(t),o=Hy(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=ki;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,qy(o,this.history)),this.removeListeners=cl(fo(this.contextWindow,"pointermove",this.handlePointerMove),fo(this.contextWindow,"pointerup",this.handlePointerUp),fo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),No(this.updatePoint)}}function Hy(e,t){return t?{point:t(e.point)}:e}function YE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qy({point:e},t){return{point:e,delta:YE(e,dR(t)),offset:YE(e,mhe(t)),velocity:hhe(t,.1)}}function mhe(e){return e[0]}function dR(e){return e[e.length-1]}function hhe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=dR(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>ic(t)));)n--;if(!r)return{x:0,y:0};const a=mo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ca(e){return e.max-e.min}function cw(e,t=0,n=.01){return Math.abs(e-t)<=n}function XE(e,t,n,r=.5){e.origin=r,e.originPoint=ur(t.min,t.max,e.origin),e.scale=Ca(n)/Ca(t),(cw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ur(n.min,n.max,e.origin)-e.originPoint,(cw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Zd(e,t,n,r){XE(e.x,t.x,n.x,r?r.originX:void 0),XE(e.y,t.y,n.y,r?r.originY:void 0)}function QE(e,t,n){e.min=n.min+t.min,e.max=e.min+Ca(t)}function phe(e,t,n){QE(e.x,t.x,n.x),QE(e.y,t.y,n.y)}function ZE(e,t,n){e.min=t.min-n.min,e.max=e.min+Ca(t)}function Jd(e,t,n){ZE(e.x,t.x,n.x),ZE(e.y,t.y,n.y)}function ghe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ur(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ur(n,e,r.max):Math.min(e,n)),e}function JE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function vhe(e,{top:t,left:n,bottom:r,right:i}){return{x:JE(e.x,n,i),y:JE(e.y,t,r)}}function eT(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function yhe(e,t){return{x:eT(e.x,t.x),y:eT(e.y,t.y)}}function xhe(e,t){let n=.5;const r=Ca(e),i=Ca(t);return i>r?n=Hf(t.min,t.max-r,e.min):r>i&&(n=Hf(e.min,e.max-i,t.min)),hl(0,1,n)}function bhe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const uw=.35;function whe(e=uw){return e===!1?e=0:e===!0&&(e=uw),{x:tT(e,"left","right"),y:tT(e,"top","bottom")}}function tT(e,t,n){return{min:nT(e,t),max:nT(e,n)}}function nT(e,t){return typeof e=="number"?e:e[t]||0}const rT=()=>({translate:0,scale:1,origin:0,originPoint:0}),lu=()=>({x:rT(),y:rT()}),iT=()=>({min:0,max:0}),Mr=()=>({x:iT(),y:iT()});function Fa(e){return[e("x"),e("y")]}function fR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function khe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function She(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ky(e){return e===void 0||e===1}function dw({scale:e,scaleX:t,scaleY:n}){return!Ky(e)||!Ky(t)||!Ky(n)}function zl(e){return dw(e)||mR(e)||e.z||e.rotate||e.rotateX||e.rotateY}function mR(e){return aT(e.x)||aT(e.y)}function aT(e){return e&&e!=="0%"}function $g(e,t,n){const r=e-n,i=t*r;return n+i}function sT(e,t,n,r,i){return i!==void 0&&(e=$g(e,i,r)),$g(e,n,r)+t}function fw(e,t=0,n=1,r,i){e.min=sT(e.min,t,n,r,i),e.max=sT(e.max,t,n,r,i)}function hR(e,{x:t,y:n}){fw(e.x,t.translate,t.scale,t.originPoint),fw(e.y,n.translate,n.scale,n.originPoint)}function Nhe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&cu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,hR(e,s)),r&&zl(a.latestValues)&&cu(e,a.latestValues))}t.x=oT(t.x),t.y=oT(t.y)}function oT(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function qo(e,t){e.min=e.min+t,e.max=e.max+t}function lT(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=ur(e.min,e.max,a);fw(e,t[n],t[r],s,t.scale)}const Che=["x","scaleX","originX"],jhe=["y","scaleY","originY"];function cu(e,t){lT(e.x,t,Che),lT(e.y,t,jhe)}function pR(e,t){return fR(She(e.getBoundingClientRect(),t))}function Phe(e,t,n){const r=pR(e,n),{scroll:i}=t;return i&&(qo(r.x,i.offset.x),qo(r.y,i.offset.y)),r}const gR=({current:e})=>e?e.ownerDocument.defaultView:null,Ahe=new WeakMap;class Ehe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pv(u,"page").point)},a=(u,f)=>{const{drag:m,dragPropagation:h,onDragStart:p}=this.getProps();if(m&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=E$(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fa(x=>{let g=this.getAxisMotionValue(x).get()||0;if($s.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[x];w&&(g=Ca(w)*(parseFloat(g)/100))}}this.originPoint[x]=g}),p&&Jn.update(()=>p(u,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:m,dragDirectionLock:h,onDirectionLock:p,onDrag:v}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:x}=f;if(h&&this.currentDirection===null){this.currentDirection=The(x),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),v&&v(u,f)},o=(u,f)=>this.stop(u,f),l=()=>Fa(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new uR(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:gR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Jn.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Mh(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=ghe(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&su(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=vhe(i.layoutBox,n):this.constraints=!1,this.elastic=whe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Fa(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=bhe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!su(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Phe(r,i.root,this.visualElement.getTransformPagePoint());let s=yhe(i.layout.layoutBox,a);if(n){const o=n(khe(s));this.hasMutatedConstraints=!!o,o&&(s=fR(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Fa(u=>{if(!Mh(u,n,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const m=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?t[u]:0,bounceStiffness:m,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(sN(t,r,0,n))}stopAnimation(){Fa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fa(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Fa(n=>{const{drag:r}=this.getProps();if(!Mh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-ur(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!su(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fa(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=xhe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fa(s=>{if(!Mh(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(ur(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Ahe.set(this.visualElement,this);const t=this.visualElement.current,n=fo(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();su(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=oo(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Fa(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=uw,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Mh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function The(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Dhe extends Nl{constructor(t){super(t),this.removeGroupControls=Er,this.removeListeners=Er,this.controls=new Ehe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Er}unmount(){this.removeGroupControls(),this.removeListeners()}}const cT=e=>(t,n)=>{e&&Jn.update(()=>e(t,n))};class Mhe extends Nl{constructor(){super(...arguments),this.removePointerDownListener=Er}onPointerDown(t){this.session=new uR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:cT(t),onStart:cT(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&Jn.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=fo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Ohe(){const e=y.useContext(VS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=y.useId();return y.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const np={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ad={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Vt.test(e))e=parseFloat(e);else return e;const n=uT(e,t.target.x),r=uT(e,t.target.y);return`${n}% ${r}%`}},Ihe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=pl.parse(e);if(i.length>5)return r;const a=pl.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=ur(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class _he extends Fg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;zde(Lhe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),np.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||Jn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vR(e){const[t,n]=Ohe(),r=y.useContext(f$);return Fg.createElement(_he,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(m$),isPresent:t,safeToRemove:n})}const Lhe={borderRadius:{...Ad,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ad,borderTopRightRadius:Ad,borderBottomLeftRadius:Ad,borderBottomRightRadius:Ad,boxShadow:Ihe},yR=["TopLeft","TopRight","BottomLeft","BottomRight"],$he=yR.length,dT=e=>typeof e=="string"?parseFloat(e):e,fT=e=>typeof e=="number"||Vt.test(e);function Rhe(e,t,n,r,i,a){i?(e.opacity=ur(0,n.opacity!==void 0?n.opacity:1,Fhe(r)),e.opacityExit=ur(t.opacity!==void 0?t.opacity:1,0,Bhe(r))):a&&(e.opacity=ur(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<$he;s++){const o=`border${yR[s]}Radius`;let l=mT(t,o),c=mT(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||fT(l)===fT(c)?(e[o]=Math.max(ur(dT(l),dT(c),r),0),($s.test(c)||$s.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=ur(t.rotate||0,n.rotate||0,r))}function mT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Fhe=xR(0,.5,z$),Bhe=xR(.5,.95,Er);function xR(e,t,n){return r=>r<e?0:r>t?1:n(Hf(e,t,r))}function hT(e,t){e.min=t.min,e.max=t.max}function _a(e,t){hT(e.x,t.x),hT(e.y,t.y)}function pT(e,t,n,r,i){return e-=t,e=$g(e,1/n,r),i!==void 0&&(e=$g(e,1/i,r)),e}function zhe(e,t=0,n=1,r=.5,i,a=e,s=e){if($s.test(t)&&(t=parseFloat(t),t=ur(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=ur(a.min,a.max,r);e===a&&(o-=t),e.min=pT(e.min,t,n,o,i),e.max=pT(e.max,t,n,o,i)}function gT(e,t,[n,r,i],a,s){zhe(e,t[n],t[r],t[i],t.scale,a,s)}const Uhe=["x","scaleX","originX"],Vhe=["y","scaleY","originY"];function vT(e,t,n,r){gT(e.x,t,Uhe,n?n.x:void 0,r?r.x:void 0),gT(e.y,t,Vhe,n?n.y:void 0,r?r.y:void 0)}function yT(e){return e.translate===0&&e.scale===1}function bR(e){return yT(e.x)&&yT(e.y)}function Whe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function wR(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function xT(e){return Ca(e.x)/Ca(e.y)}class Hhe{constructor(){this.members=[]}add(t){oN(this.members,t),t.scheduleRender()}remove(t){if(lN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bT(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const qhe=(e,t)=>e.depth-t.depth;class Khe{constructor(){this.children=[],this.isDirty=!1}add(t){oN(this.children,t),this.isDirty=!0}remove(t){lN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qhe),this.isDirty=!1,this.children.forEach(t)}}function Ghe(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(No(r),e(a-t))};return Jn.read(r,!0),()=>No(r)}function Yhe(e){window.MotionDebug&&window.MotionDebug.record(e)}function Xhe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Qhe(e,t,n){const r=aa(e)?e:Bu(e);return r.start(sN("",r,t,n)),r.animation}const wT=["","X","Y","Z"],Zhe={visibility:"hidden"},kT=1e3;let Jhe=0;const Ul={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function kR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=Jhe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ul.totalNodes=Ul.resolvedTargetDeltas=Ul.recalculatedProjection=0,this.nodes.forEach(npe),this.nodes.forEach(ope),this.nodes.forEach(lpe),this.nodes.forEach(rpe),Yhe(Ul)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Khe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new cN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Xhe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Ghe(m,250),np.hasAnimatedSinceResize&&(np.hasAnimatedSinceResize=!1,this.nodes.forEach(NT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||mpe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=u.getProps(),b=!this.targetLayout||!wR(this.targetLayout,p)||h,w=!m&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...aN(v,"layout"),onPlay:x,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else m||NT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,No(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cpe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ST);return}this.isUpdating||this.nodes.forEach(ape),this.isUpdating=!1,this.nodes.forEach(spe),this.nodes.forEach(epe),this.nodes.forEach(tpe),this.clearAllSnapshots();const o=performance.now();ki.delta=hl(0,1e3/60,o-ki.timestamp),ki.timestamp=o,ki.isProcessing=!0,$y.update.process(ki),$y.preRender.process(ki),$y.render.process(ki),ki.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ipe),this.sharedNodes.forEach(upe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!bR(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(o||zl(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),hpe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Mr();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(qo(o.x,l.offset.x),qo(o.y,l.offset.y)),o}removeElementScroll(s){const o=Mr();_a(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){_a(o,s);const{scroll:m}=this.root;m&&(qo(o.x,-m.offset.x),qo(o.y,-m.offset.y))}qo(o.x,u.offset.x),qo(o.y,u.offset.y)}}return o}applyTransform(s,o=!1){const l=Mr();_a(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&cu(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),zl(u.latestValues)&&cu(l,u.latestValues)}return zl(this.latestValues)&&cu(l,this.latestValues),l}removeTransform(s){const o=Mr();_a(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!zl(c.latestValues))continue;dw(c.latestValues)&&c.updateSnapshot();const u=Mr(),f=c.measurePageBox();_a(u,f),vT(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return zl(this.latestValues)&&vT(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ki.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=ki.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mr(),this.relativeTargetOrigin=Mr(),Jd(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Mr(),this.targetWithTransforms=Mr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),phe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_a(this.target,this.layout.layoutBox),hR(this.target,this.targetDelta)):_a(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mr(),this.relativeTargetOrigin=Mr(),Jd(this.relativeTargetOrigin,this.target,h.target),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ul.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dw(this.parent.latestValues)||mR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ki.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;_a(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,h=this.treeScale.y;Nhe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=lu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=lu(),this.projectionDeltaWithTransform=lu());const v=this.projectionTransform;Zd(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=bT(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==m||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Ul.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=lu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Mr(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,v=h!==p,x=this.getStack(),g=!x||x.members.length<=1,b=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(fpe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const C=S/1e3;CT(f.x,s.x,C),CT(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jd(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dpe(this.relativeTarget,this.relativeTargetOrigin,m,C),w&&Whe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Mr()),_a(w,this.relativeTarget)),v&&(this.animationValues=u,Rhe(u,c,this.latestValues,C,b,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(No(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jn.update(()=>{np.hasAnimatedSinceResize=!0,this.currentAnimation=Qhe(0,kT,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&SR(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Mr();const f=Ca(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const m=Ca(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+m}_a(o,l),cu(o,u),Zd(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Hhe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let u=0;u<wT.length;u++){const f="rotate"+wT[u];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Zhe;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=tp(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=tp(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!zl(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=bT(this.projectionDeltaWithTransform,this.treeScale,m),u&&(c.transform=u(m,c.transform));const{x:h,y:p}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=m.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in Tg){if(m[v]===void 0)continue;const{correct:x,applyTo:g}=Tg[v],b=c.transform==="none"?m[v]:x(m[v],f);if(g){const w=g.length;for(let S=0;S<w;S++)c[g[S]]=b}else c[v]=b}return this.options.layoutId&&(c.pointerEvents=f===this?tp(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(ST),this.root.sharedNodes.clear()}}}function epe(e){e.updateLayout()}function tpe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?Fa(f=>{const m=s?n.measuredBox[f]:n.layoutBox[f],h=Ca(m);m.min=r[f].min,m.max=m.min+h}):SR(a,n.layoutBox,r)&&Fa(f=>{const m=s?n.measuredBox[f]:n.layoutBox[f],h=Ca(r[f]);m.max=m.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const o=lu();Zd(o,r,n.layoutBox);const l=lu();s?Zd(l,e.applyTransform(i,!0),n.measuredBox):Zd(l,r,n.layoutBox);const c=!bR(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:h}=f;if(m&&h){const p=Mr();Jd(p,n.layoutBox,m.layoutBox);const v=Mr();Jd(v,r,h.layoutBox),wR(p,v)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function npe(e){Ul.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rpe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ipe(e){e.clearSnapshot()}function ST(e){e.clearMeasurements()}function ape(e){e.isLayoutDirty=!1}function spe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function NT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ope(e){e.resolveTargetDelta()}function lpe(e){e.calcProjection()}function cpe(e){e.resetRotation()}function upe(e){e.removeLeadSnapshot()}function CT(e,t,n){e.translate=ur(t.translate,0,n),e.scale=ur(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function jT(e,t,n,r){e.min=ur(t.min,n.min,r),e.max=ur(t.max,n.max,r)}function dpe(e,t,n,r){jT(e.x,t.x,n.x,r),jT(e.y,t.y,n.y,r)}function fpe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mpe={duration:.45,ease:[.4,0,.1,1]},PT=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),AT=PT("applewebkit/")&&!PT("chrome/")?Math.round:Er;function ET(e){e.min=AT(e.min),e.max=AT(e.max)}function hpe(e){ET(e.x),ET(e.y)}function SR(e,t,n){return e==="position"||e==="preserve-aspect"&&!cw(xT(t),xT(n),.2)}const ppe=kR({attachResizeListener:(e,t)=>oo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gy={current:void 0},NR=kR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gy.current){const e=new ppe({});e.mount(window),e.setOptions({layoutScroll:!0}),Gy.current=e}return Gy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),gpe={pan:{Feature:Mhe},drag:{Feature:Dhe,ProjectionNode:NR,MeasureLayout:vR}},vpe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ype(e){const t=vpe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function mw(e,t,n=1){const[r,i]=ype(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return sR(s)?parseFloat(s):s}else return nw(i)?mw(i,t,n+1):i}function xpe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!nw(a))return;const s=mw(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!nw(a))continue;const s=mw(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const bpe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),CR=e=>bpe.has(e),wpe=e=>Object.keys(e).some(CR),TT=e=>e===Pc||e===Vt,DT=(e,t)=>parseFloat(e.split(", ")[t]),MT=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return DT(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?DT(a[1],e):0}},kpe=new Set(["x","y","z"]),Spe=Tm.filter(e=>!kpe.has(e));function Npe(e){const t=[];return Spe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const zu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:MT(4,13),y:MT(5,14)};zu.translateX=zu.x;zu.translateY=zu.y;const Cpe=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{o[c]=zu[c](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const u=t.getValue(c);u&&u.jump(o[c]),e[c]=zu[c](l,a)}),e},jpe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(CR);let a=[],s=!1;const o=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let u=n[l],f=Pd(u);const m=t[l];let h;if(Mg(m)){const p=m.length,v=m[0]===null?1:0;u=m[v],f=Pd(u);for(let x=v;x<p&&m[x]!==null;x++)h?eN(Pd(m[x])===h):h=Pd(m[x])}else h=Pd(m);if(f!==h)if(TT(f)&&TT(h)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof m=="string"?t[l]=parseFloat(m):Array.isArray(m)&&h===Vt&&(t[l]=m.map(parseFloat))}else f!=null&&f.transform&&(h!=null&&h.transform)&&(u===0||m===0)?u===0?c.set(h.transform(u)):t[l]=f.transform(m):(s||(a=Npe(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(m))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=Cpe(t,e,o);return a.length&&a.forEach(([u,f])=>{e.getValue(u).set(f)}),e.render(),dv&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Ppe(e,t,n,r){return wpe(t)?jpe(e,t,n,r):{target:t,transitionEnd:r}}const Ape=(e,t,n,r)=>{const i=xpe(e,t,r);return t=i.target,r=i.transitionEnd,Ppe(e,t,n,r)},hw={current:null},jR={current:!1};function Epe(){if(jR.current=!0,!!dv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hw.current=e.matches;e.addListener(t),t()}else hw.current=!1}function Tpe(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(aa(a))e.addValue(i,a),Lg(r)&&r.add(i);else if(aa(s))e.addValue(i,Bu(a,{owner:e})),Lg(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Bu(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const OT=new WeakMap,PR=Object.keys(Wf),Dpe=PR.length,IT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Mpe=qS.length;class Ope{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Jn.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=mv(n),this.isVariantNode=d$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const m=u[f];o[f]!==void 0&&aa(m)&&(m.set(o[f],!1),Lg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,OT.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jR.current||Epe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){OT.delete(this.current),this.projection&&this.projection.unmount(),No(this.notifyUpdate),No(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=jc.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Jn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<Dpe;l++){const c=PR[l],{isEnabled:u,Feature:f,ProjectionNode:m,MeasureLayout:h}=Wf[c];m&&(s=m),u(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),h&&(o=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&su(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:m,layoutRoot:h})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<IT.length;r++){const i=IT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Tpe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Mpe;r++){const i=qS[r],a=this.props[i];(Vf(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Bu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=JS(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!aa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new cN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class AR extends Ope{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=Xme(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){Gme(this,r,s);const o=Ape(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function Ipe(e){return window.getComputedStyle(e)}class _pe extends AR{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(jc.has(n)){const r=iN(n);return r&&r.default||0}else{const r=Ipe(t),i=(g$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return pR(t,n)}build(t,n,r,i){GS(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return ZS(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;aa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){k$(t,n,r,i)}}class Lpe extends AR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(jc.has(n)){const r=iN(n);return r&&r.default||0}return n=S$.has(n)?n:WS(n),t.getAttribute(n)}measureInstanceViewportBox(){return Mr()}scrapeMotionValuesFromProps(t,n){return C$(t,n)}build(t,n,r,i){XS(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){N$(t,n,r,i)}mount(t){this.isSVGTag=QS(t.tagName),super.mount(t)}}const $pe=(e,t)=>KS(e)?new Lpe(t,{enableHardwareAcceleration:!1}):new _pe(t,{enableHardwareAcceleration:!0}),Rpe={layout:{ProjectionNode:NR,MeasureLayout:vR}},Fpe={...dhe,...Dfe,...gpe,...Rpe},As=Fde((e,t)=>yfe(e,t,Fpe,$pe));function Bpe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:u,searchRef:f,tocItems:m,activeTocId:h,onTocClick:p,contentRef:v,children:x}){return e?d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:g=>g.target===g.currentTarget&&t(),children:d.jsxs("div",{className:"proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[d.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[d.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),d.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),d.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"relative",ref:f,children:[d.jsx("input",{type:"text",value:n,onChange:g=>a(g.target.value),onFocus:s,onBlur:g=>o(g.relatedTarget),onKeyDown:g=>{g.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&d.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((g,b)=>d.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(g)},children:[d.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:g.section}),d.jsx("div",{className:"truncate",children:u(g.text,n)})]},`${g.hitId}-${b}-${g.text}`))})]}),d.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:d.jsx(Hi,{className:"w-5 h-5"})})]})]}),d.jsx("div",{className:"h-[65vh]",children:d.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[d.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[d.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),d.jsxs("div",{className:"space-y-1",children:[m.length===0&&d.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),m.map((g,b)=>{const w=g.id===h;return d.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${g.level===1?"proof-of-work-toc-item--l1":g.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":g.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(g),children:[d.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),d.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:g.text})]},`${g.id}-${g.level}-${b}`)})]})]}),d.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:v,id:"metrics-spec-content",children:d.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:x})})]})})]})}):null}const _l="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",Yy="arcbridge_web_theme_override",_T="__default__",zpe=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},Upe=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},Vpe=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},LT=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},Wpe=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},$T=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),Hpe=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return d.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[d.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,c=`${l} ${n-l}`,u=n-i;return i+=l,d.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:c,strokeDashoffset:u,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},qpe=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return d.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[d.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),d.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),d.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function Kpe(){var jl;const[e,t]=y.useState(null),[n,r]=y.useState(null),[i,a]=y.useState(null),[s,o]=y.useState(null),[l,c]=y.useState(""),[u,f]=y.useState(null),[m,h]=y.useState(null),[p,v]=y.useState(!1),[x,g]=y.useState(!1),[b,w]=y.useState("classic"),[S,C]=y.useState("classic"),[N,P]=y.useState(Zh.id),[T,_]=y.useState(null),[A,$]=y.useState(!1),[D,te]=y.useState(!1),[K,ie]=y.useState(""),[H,J]=y.useState(""),[G,ae]=y.useState([]),[E,j]=y.useState(!1),[U,k]=y.useState("overview"),[O,re]=y.useState({overview:!0,offense:!1,defense:!1,other:!1}),Q=y.useRef(null),F=y.useRef(null),Z=y.useRef(null),L=y.useRef(null),W=y.useRef(null),le=y.useRef(new Map),ne=y.useRef(null),z=y.useMemo(()=>{let q=window.location.pathname||"/";const me=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return q.endsWith("/index.html")&&(q=q.slice(0,-11)),q.includes("/reports/")&&(q=q.replace(/\/reports\/[^/]+\/?$/,"")),me&&(q=q.replace(/^\/web\/web(?=\/|$)/,"/web")),q.endsWith("/")||(q=`${q}/`),q},[]),B=y.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),I=y.useMemo(()=>{const me=[z,"./","/"],we=[];return me.forEach(nt=>{let kt=nt||"/";kt!=="./"&&!kt.endsWith("/")&&(kt=`${kt}/`),we.includes(kt)||we.push(kt)}),we},[z,B]),[X,Ne]=y.useState(I[0]||"/"),Me=q=>{var me;return typeof q=="string"||typeof q=="number"?String(q):Array.isArray(q)?q.map(Me).join(""):q&&typeof q=="object"&&"props"in q?Me((me=q.props)==null?void 0:me.children):""},se=q=>{const me=$T(q||"section")||"section",we=le.current,nt=(we.get(me)??0)+1;return we.set(me,nt),nt===1?me:`${me}-${nt}`},Fe=y.useMemo(()=>{const q=Ly.split(`
`),me=new Map,we=[],nt=kt=>{const $t=$T(kt||"section")||"section",sn=(me.get($t)??0)+1;return me.set($t,sn),sn===1?$t:`${$t}-${sn}`};for(const kt of q){const $t=/^(#{1,3})\s+(.*)\s*$/.exec(kt);if(!$t)continue;const sn=$t[1].length,St=$t[2].trim();St&&we.push({level:sn,text:St,id:nt(St)})}return we},[Ly]),Te=(q,me)=>{const we=q==="./"?"./":q.endsWith("/")?q:`${q}/`,nt=String(me||"").replace(/^\/+/,"");return`${we}${nt}`};y.useEffect(()=>{const q=zpe(Yy);if(q)try{const me=JSON.parse(q),we=typeof(me==null?void 0:me.themeId)=="string"?me.themeId:null;we&&Nd.some(nt=>nt.id===we)&&_(we)}catch{}},[]),y.useEffect(()=>{const q=T||N,me=Nd.find(we=>we.id===q)||Zh;f(me)},[T,N]),y.useEffect(()=>{if(!T){w(S);return}if(T===Qh){w("matte");return}if(T==="CRT"){w("crt");return}w("classic")},[T,S]),y.useEffect(()=>{Ne(I[0]||"/");let q=!0;return(async()=>{for(const we of I)try{if((await fetch(Te(we,"ui-theme.json"),{cache:"no-store"})).ok){q&&Ne(we);return}}catch{}})(),()=>{q=!1}},[I]);const vt=(q,me)=>{const we=me.trim();if(!we)return q;const nt=q.toLowerCase(),kt=we.toLowerCase(),$t=nt.indexOf(kt);if($t===-1)return q;const sn=q.slice(0,$t),St=q.slice($t,$t+we.length),mt=q.slice($t+we.length);return d.jsxs(d.Fragment,{children:[sn,d.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:St}),mt]})},on=(q,me)=>{const we=F.current;if(!we)return;let nt=we.querySelector(`[data-search-hit="${q}"]`);if(!nt&&me){const kt=me.trim().replace(/\s+/g," "),$t=Array.from(we.querySelectorAll("h1, h2, h3, p, li, code"));nt=$t.find(sn=>(sn.textContent||"").trim().replace(/\s+/g," ")===kt)||null,nt||(nt=$t.find(sn=>(sn.textContent||"").toLowerCase().includes(kt.toLowerCase()))||null)}nt&&requestAnimationFrame(()=>{const kt=we.getBoundingClientRect(),$t=nt.getBoundingClientRect(),sn=Math.max(0,we.scrollTop+($t.top-kt.top)-12);we.scrollTop=sn,nt.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),W.current&&window.clearTimeout(W.current),W.current=window.setTimeout(()=>{nt.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},bn=q=>{const me=F.current,we=q.trim().toLowerCase();if(!me||we.length<2){ae([]);return}const nt=Array.from(me.querySelectorAll("h1, h2, h3, p, li, code"));nt.forEach(sn=>sn.removeAttribute("data-search-hit"));const kt=[];let $t=0;nt.forEach((sn,St)=>{const mt=(sn.textContent||"").trim();if(mt&&mt.toLowerCase().includes(we)){let cn="";for(let Ye=St;Ye>=0;Ye-=1){const yt=nt[Ye];if(yt&&["H1","H2","H3"].includes(yt.tagName)){cn=(yt.textContent||"").trim();break}}sn.setAttribute("data-search-hit",String($t)),kt.push({index:St,text:mt,section:cn||"Unlabeled Section",hitId:$t}),$t+=1}}),ae(kt.slice(0,12))};y.useEffect(()=>{var me;if(!D)return;ie(((me=Fe[0])==null?void 0:me.id)||"");const q=we=>{var kt;const nt=we.target;nt&&((kt=Z.current)!=null&&kt.contains(nt)||(j(!1),ae([])))};return window.addEventListener("mousedown",q),()=>{window.removeEventListener("mousedown",q)}},[D,Fe]),y.useEffect(()=>{if(!D){ie("");return}const q=F.current;if(!q)return;let me=0;const we=()=>{var Jr;const kt=Array.from(q.querySelectorAll("[data-heading-id]"));if(kt.length===0)return;const sn=q.getBoundingClientRect().top+18,St=kt.map((ar,Br)=>({index:Br,id:ar.dataset.headingId||ar.id||"",top:ar.getBoundingClientRect().top})).filter(ar=>!!ar.id);if(St.length===0)return;let mt=0,cn=!1;for(const ar of St){if(ar.top<=sn){mt=ar.index,cn=!0;continue}cn||(mt=ar.index);break}q.scrollTop+q.clientHeight>=q.scrollHeight-2&&(mt=Math.max(0,St.length-1));const yt=Fe[mt],Cn=((Jr=St[mt])==null?void 0:Jr.id)||"",en=(yt==null?void 0:yt.id)||Cn;en&&ie(en)};we();const nt=()=>{me&&cancelAnimationFrame(me),me=requestAnimationFrame(we)};return q.addEventListener("scroll",nt,{passive:!0}),window.addEventListener("resize",nt),()=>{me&&cancelAnimationFrame(me),q.removeEventListener("scroll",nt),window.removeEventListener("resize",nt)}},[D,Fe]);const hn=y.useMemo(()=>[{id:"overview",label:"Overview",icon:c6,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:Au},{id:"fight-breakdown",label:"Fight Breakdown",icon:WC},{id:"top-players",label:"Top Players",icon:Au},{id:"top-skills-outgoing",label:"Top Skills",icon:c1},{id:"squad-composition",label:"Squad Composition",icon:ii},{id:"timeline",label:"Squad vs Enemy Size",icon:ii},{id:"map-distribution",label:"Map Distribution",icon:f1}]},{id:"offense",label:"Offensive Stats",icon:WC,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:p1},{id:"player-breakdown",label:"Player Breakdown",icon:d1},{id:"spike-damage",label:"Spike Damage",icon:xf},{id:"conditions-outgoing",label:"Conditions",icon:t0}]},{id:"defense",label:"Defensive Stats",icon:yf,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:yf},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:xf},{id:"defense-mitigation",label:"Damage Mitigation",icon:y1},{id:"boon-output",label:"Boon Output",icon:v1},{id:"support-detailed",label:"Support Detailed",icon:h1},{id:"healing-stats",label:"Healing Stats",icon:iO}]},{id:"other",label:"Other Metrics",icon:n0,sectionIds:["special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"special-buffs",label:"Special Buffs",icon:m1},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:x1},{id:"skill-usage",label:"Skill Usage",icon:u1},{id:"apm-stats",label:"APM Breakdown",icon:g1}]}],[]),ue=y.useMemo(()=>{const q=new Map;return hn.forEach(me=>{q.set(me.id.toLowerCase(),me.id),(me.sectionIds||[]).forEach(we=>q.set(String(we).toLowerCase(),me.id)),(me.items||[]).forEach(we=>q.set(String(we.id).toLowerCase(),me.id))}),q.set("report-top","overview"),q.set("overview","overview"),q.set("kdr","overview"),q},[hn]),je=y.useMemo(()=>hn.find(q=>q.id===U)||hn[0],[hn,U]),Lt=y.useMemo(()=>{const me=((je==null?void 0:je.sectionIds)||((je==null?void 0:je.items)||[]).map(we=>we.id)).map(we=>we==="kdr"?"overview":we);return new Set(me)},[je]),Gt=q=>{const me=q==="kdr"?"overview":q,we=me==="overview"?"report-top":me,nt=document.getElementById(we);if(!nt||!(nt.getAttribute("data-section-visible")!=="false")||!nt.offsetParent)return!1;const $t=nt.getBoundingClientRect();if($t.height<=0)return!1;let sn=0;if(we==="stats-view-top"){const mt=document.getElementById("report-top");mt&&(sn=mt.getBoundingClientRect().height+12)}const St=$t.top+window.scrollY-12-sn;return window.scrollTo({top:Math.max(0,St),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${we}`),!0},Yt=(q,me=0)=>{Gt(q)||me>=12||window.setTimeout(()=>{requestAnimationFrame(()=>Yt(q,me+1))},40)};y.useEffect(()=>{if(!e)return;const q=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(we=>{we.scrollHeight})});return()=>cancelAnimationFrame(q)},[e]),y.useEffect(()=>{const q=ne.current;if(!q)return;let me=0;const we=()=>{if(Gt(q)){ne.current=null;return}if(me+=1,me>=20){ne.current=null;return}window.setTimeout(()=>requestAnimationFrame(we),40)};requestAnimationFrame(we)},[U]),y.useEffect(()=>{const q=()=>{const me=(window.location.hash||"").replace(/^#/,"").trim();if(!me)return;let we=me;try{we=decodeURIComponent(me)}catch{we=me}const nt=we.toLowerCase(),kt=ue.get(nt);kt&&(k(kt),re(()=>{const $t={};return hn.forEach(sn=>{$t[sn.id]=sn.id===kt}),$t}),ne.current=nt==="report-top"?"kdr":nt)};return q(),window.addEventListener("hashchange",q),()=>{window.removeEventListener("hashchange",q)}},[ue,hn]);const kn=b==="matte",Fr=u??Zh,Sr=Fr.rgb,ca=kn?"#d8e1eb":"var(--accent)",Di={"--accent":`rgb(${Sr})`,"--accent-rgb":Sr,"--accent-soft":`rgba(${Sr}, 0.32)`,"--accent-strong":`rgba(${Sr}, 0.95)`,"--accent-border":`rgba(${Sr}, 0.4)`,"--accent-glow":`rgba(${Sr}, 0.18)`,"--accent-glow-soft":`rgba(${Sr}, 0.08)`},pn=b==="modern"||b==="matte",gn=Fr.pattern?kn?void 0:pn?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Fr.pattern}`:Fr.pattern:void 0,pr=kn?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:pn?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};y.useEffect(()=>{var sn;let q=!0;const we=new URLSearchParams(window.location.search).get("report")||((sn=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:sn[1])||null,nt=we?`${z}reports/${we}/report.json`:`${z}report.json`;we&&o(nt);const kt=St=>{var Ye,yt,Cn;const mt=new Set((((Ye=St==null?void 0:St.meta)==null?void 0:Ye.commanders)||[]).map(en=>String(en)));if(mt.size===0)return St;const cn=St.stats;return(yt=cn==null?void 0:cn.leaderboards)!=null&&yt.closestToTag&&(cn.leaderboards.closestToTag=cn.leaderboards.closestToTag.map(en=>mt.has(String(en==null?void 0:en.account))?{...en,value:0}:en)),(Cn=cn==null?void 0:cn.closestToTag)!=null&&Cn.player&&mt.has(String(cn.closestToTag.player))&&(cn.closestToTag={...cn.closestToTag,value:0}),St},$t=St=>{var Cn,en,Jr,ar,Br;const mt=St==null?void 0:St.stats;if(!mt||typeof mt!="object")return St;const cn=Array.isArray((Cn=mt==null?void 0:mt.leaderboards)==null?void 0:Cn.downContrib)?mt.leaderboards.downContrib:[];if(!cn.length)return St;const yt=cn.map(Nr=>({...Nr,value:Number((Nr==null?void 0:Nr.value)??0)})).filter(Nr=>Number.isFinite(Nr.value)).sort((Nr,ws)=>ws.value-Nr.value||String((Nr==null?void 0:Nr.account)||"").localeCompare(String((ws==null?void 0:ws.account)||"")))[0];return yt&&(mt.maxDownContrib={...mt.maxDownContrib||{},value:Number(yt.value||0),player:String(yt.account||((en=mt.maxDownContrib)==null?void 0:en.player)||"-"),count:Number(yt.count||((Jr=mt.maxDownContrib)==null?void 0:Jr.count)||0),profession:String(yt.profession||((ar=mt.maxDownContrib)==null?void 0:ar.profession)||"Unknown"),professionList:Array.isArray(yt.professionList)?yt.professionList:((Br=mt.maxDownContrib)==null?void 0:Br.professionList)||[]}),St};return fetch(nt,{cache:"no-store"}).then(St=>St.ok?St.json():Promise.reject()).then(St=>{var Ye,yt,Cn;if(!q)return;const mt=$t(kt(St));t(mt);const cn=(Ye=mt==null?void 0:mt.stats)==null?void 0:Ye.uiTheme;cn==="modern"||cn==="classic"||cn==="crt"||cn==="matte"?C(cn):((yt=mt==null?void 0:mt.stats)==null?void 0:yt.webThemeId)===Qh&&C("matte"),typeof((Cn=mt==null?void 0:mt.stats)==null?void 0:Cn.webThemeId)=="string"&&mt.stats.webThemeId&&P(mt.stats.webThemeId)}).catch(()=>{if(we){if(!q)return;a("Report not found yet. It may still be deploying.")}fetch(`${z}reports/index.json`,{cache:"no-store"}).then(St=>St.ok?St.json():Promise.reject()).then(St=>{q&&r(Array.isArray(St)?St:[])}).catch(()=>{q&&a("No report data found.")})}),()=>{q=!1}},[z]),y.useEffect(()=>{if(e){const q=e.meta.dateLabel||LT(e.meta.dateStart,e.meta.dateEnd);document.title=q?`ArcBridge  ${e.meta.title}  ${q}`:`ArcBridge  ${e.meta.title}`;return}document.title="ArcBridge Reports"},[e]),y.useEffect(()=>{var me;const q=(me=e==null?void 0:e.stats)==null?void 0:me.webThemeId;typeof q=="string"&&q&&P(q)},[e]),y.useEffect(()=>{const q=document.body;q.classList.add("web-report"),q.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte"),kn?q.classList.add("theme-matte"):b==="modern"?q.classList.add("theme-modern"):b==="crt"?q.classList.add("theme-crt"):q.classList.add("theme-classic")},[b,kn]),y.useEffect(()=>{var me;if(B&&((me=e==null?void 0:e.stats)!=null&&me.webThemeId))return;let q=!0;return fetch(Te(X,"theme.json"),{cache:"no-store"}).then(we=>we.ok?we.json():Promise.reject()).then(we=>{q&&typeof(we==null?void 0:we.id)=="string"&&we.id&&P(we.id)}).catch(()=>{}),()=>{q=!1}},[X,B,e]),y.useEffect(()=>{var $t,sn;const q=($t=e==null?void 0:e.stats)==null?void 0:$t.webThemeId,me=(sn=e==null?void 0:e.stats)==null?void 0:sn.uiTheme;if((me==="modern"||me==="classic"||me==="crt"||me==="matte")&&!(q===Qh&&me!=="matte"||q==="CRT"&&me!=="crt"))return;let kt=!0;return fetch(Te(X,"ui-theme.json"),{cache:"no-store"}).then(St=>St.ok?St.json():Promise.reject()).then(St=>{if(!kt)return;const mt=St==null?void 0:St.theme;(mt==="modern"||mt==="classic"||mt==="crt"||mt==="matte")&&C(mt)}).catch(()=>{}),()=>{kt=!1}},[X,e]),y.useEffect(()=>{let q=!0;return fetch(Te(X,"logo.json"),{cache:"no-store"}).then(me=>me.ok?me.json():Promise.reject()).then(me=>{if(!q)return;const we="svg/ArcBridge.svg",nt=me!=null&&me.path?String(me.path):we,kt=me!=null&&me.updatedAt?String(me.updatedAt):"",$t=Te(X,nt),sn=kt?`${$t}?v=${encodeURIComponent(kt)}`:$t;h(sn),v(!(me!=null&&me.path)||nt===we)}).catch(()=>{q&&(h(null),v(!1))}),()=>{q=!1}},[X]);const un=y.useMemo(()=>n?[...n].sort((q,me)=>{const we=new Date(q.dateEnd||q.dateStart).getTime();return new Date(me.dateEnd||me.dateStart).getTime()-we}):[],[n]),Zr=y.useMemo(()=>{if(!un.length)return[];const q=l.trim().toLowerCase();return q?un.filter(me=>{var kt;const we=((kt=me.commanders)==null?void 0:kt.join(" "))||"";return`${me.title} ${we} ${me.dateLabel}`.toLowerCase().includes(q)}):un},[un,l]),Mi=q=>{if(!q){Vpe(Yy);return}Upe(Yy,JSON.stringify({themeId:q}))},_o=q=>{const me=q===_T?null:q;me&&!Nd.some(we=>we.id===me)||(_(me),Mi(me),$(!1))};y.useEffect(()=>{const q=we=>{L.current&&(L.current.contains(we.target)||$(!1))},me=we=>{we.key==="Escape"&&$(!1)};return window.addEventListener("mousedown",q),window.addEventListener("keydown",me),()=>{window.removeEventListener("mousedown",q),window.removeEventListener("keydown",me)}},[]);const rd=y.useMemo(()=>{if(!T)return"Default";const q=Nd.find(me=>me.id===T);return(q==null?void 0:q.label)||"Default"},[T]),Vs=d.jsxs("div",{className:"relative flex items-center gap-2",ref:L,children:[d.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),d.jsxs("button",{type:"button",onClick:()=>$(q=>!q),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[d.jsx("span",{className:"truncate text-left",children:rd}),d.jsx("span",{className:`transition-transform ${A?"rotate-180":""}`,children:""})]}),A&&d.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[d.jsx("button",{type:"button",onClick:()=>_o(_T),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Nd.map(q=>d.jsx("button",{type:"button",onClick:()=>_o(q.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${T===q.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:q.label},q.id))]})]}),Cl=d.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[d.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),d.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[d.jsx("div",{className:"min-w-[160px]",children:Vs}),d.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),d.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),d.jsx("a",{href:"#proof-of-work",onClick:q=>{q.preventDefault(),te(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),d.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),d.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",d.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),d.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),d.jsxs("p",{className:"mt-2",children:["See the"," ",d.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",d.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),Ws=d.jsxs(Bpe,{isOpen:D,onClose:()=>te(!1),searchValue:H,searchFocused:E,searchResults:G,onSearchChange:q=>{J(q),requestAnimationFrame(()=>bn(q))},onSearchFocus:()=>{j(!0),requestAnimationFrame(()=>bn(H))},onSearchBlur:q=>{var me;q&&((me=Z.current)!=null&&me.contains(q))||j(!1)},onSearchEnter:()=>{G.length>0&&on(G[0].hitId,G[0].text)},onSearchResultMouseDown:q=>{j(!0),on(q.hitId,q.text)},renderHighlightedMatch:vt,searchRef:Z,tocItems:Fe,activeTocId:K,onTocClick:q=>{const me=F.current;if(!me)return;let we=me.querySelector(`[data-heading-id="${q.id}"]`);if(!we){const nt=q.text.trim().replace(/\s+/g," ");we=Array.from(me.querySelectorAll("h1, h2, h3")).find($t=>($t.textContent||"").trim().replace(/\s+/g," ")===nt)||null}we&&(ie(q.id),requestAnimationFrame(()=>{const nt=me.getBoundingClientRect(),kt=we.getBoundingClientRect(),$t=me.scrollTop+(kt.top-nt.top)-12;me.scrollTop=Math.max(0,$t)}))},contentRef:F,children:[(le.current=new Map,null),d.jsx(pce,{remarkPlugins:[Ade],components:{h1:({children:q})=>{const me=Me(q),we=se(me);return d.jsx("h1",{id:we,"data-heading-id":we,className:"text-2xl font-bold text-white scroll-mt-6",children:q})},h2:({children:q})=>{const me=Me(q),we=se(me);return d.jsx("h2",{id:we,"data-heading-id":we,className:"text-xl font-semibold text-white scroll-mt-6",children:q})},h3:({children:q})=>{const me=Me(q),we=se(me);return d.jsx("h3",{id:we,"data-heading-id":we,className:"text-lg font-semibold text-white scroll-mt-6",children:q})},p:({children:q})=>d.jsx("p",{className:"leading-6 text-gray-200",children:q}),ul:({children:q})=>d.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:q}),ol:({children:q})=>d.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:q}),li:({children:q})=>d.jsx("li",{className:"leading-6",children:q}),blockquote:({children:q})=>d.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:q}),a:({href:q,children:me})=>d.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:q,target:"_blank",rel:"noreferrer",children:me}),table:({children:q})=>d.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:d.jsx("table",{className:"w-full border-collapse text-left text-sm",children:q})}),th:({children:q})=>d.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:q}),td:({children:q})=>d.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:q}),pre:({children:q})=>d.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:q}),code:q=>{const{inline:me,children:we}=q;return me===!0?d.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:we}):d.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:we})}},children:Ly})]});if(e){const q=Te(X,"svg/ArcBridge.svg"),me=Ye=>{re(()=>{const yt={};return hn.forEach(Cn=>{yt[Cn.id]=Cn.id===Ye}),yt})},we=Ye=>{ne.current=null,k(Ye),window.scrollTo({top:0,behavior:"smooth"})},nt=Ye=>{if(!!!O[Ye]){me(Ye),we(Ye);return}if(Ye!==U){we(Ye);return}re(Cn=>({...Cn,[Ye]:!1}))},kt=(Ye,yt)=>{O[Ye]||me(Ye);const Cn=Ye===U;Cn||(ne.current=yt,k(Ye),window.scrollTo({top:0,behavior:"auto"})),Cn&&requestAnimationFrame(()=>Yt(yt))},$t=Ye=>{const yt=Ye.currentTarget;if(!(yt.scrollHeight>yt.clientHeight)){window.scrollBy({top:Ye.deltaY,behavior:"auto"}),Ye.preventDefault();return}const en=yt.scrollTop<=0,Jr=yt.scrollTop+yt.clientHeight>=yt.scrollHeight-1;(en&&Ye.deltaY<0||Jr&&Ye.deltaY>0)&&(window.scrollBy({top:Ye.deltaY,behavior:"auto"}),Ye.preventDefault())},sn=Ye=>{const yt=Q.current;if(!yt)return;const Cn=Ye.target;if(!Cn||!yt.contains(Cn))return;let en=Cn;for(;en&&en!==yt;){const ar=window.getComputedStyle(en).overflowY;if((ar==="auto"||ar==="scroll")&&en.scrollHeight>en.clientHeight+1){const Nr=en.scrollTop<=0,ws=en.scrollTop+en.clientHeight>=en.scrollHeight-1;(Ye.deltaY<0&&Nr||Ye.deltaY>0&&ws)&&(window.scrollBy({top:Ye.deltaY,behavior:"auto"}),Ye.preventDefault());return}en=en.parentElement}},St=Ye=>{const yt=Math.max(0,6-Ye);return{accordionDuration:.5+yt*.07,itemDuration:.34+yt*.035,stagger:.05+yt*.01,delayChildren:.06+yt*.015}},mt=Ye=>{const yt=St(Ye);return{open:{transition:{staggerChildren:yt.stagger,delayChildren:yt.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,yt.stagger*.7),staggerDirection:-1}}}},cn={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return d.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:kn?"var(--bg-base)":pn?"#0f141c":"#0f172a",backgroundImage:kn?"none":gn,...Di},children:[!kn&&d.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[d.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),d.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),d.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),d.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${x?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>g(!1)}),d.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${x?"translate-x-0":"-translate-x-full"}`,children:d.jsxs("div",{className:"h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[d.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[d.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),d.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),d.jsx("div",{className:"px-5 pb-4",children:d.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[d.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:d.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[d.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),d.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),d.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:$t,children:hn.map(Ye=>{const yt=Ye.icon,Cn=Ye.id===U,en=!!O[Ye.id],Jr=St(Ye.items.length),ar=mt(Ye.items.length);return d.jsxs(As.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[d.jsxs("button",{onClick:()=>nt(Ye.id),className:`w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${Cn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[d.jsx(yt,{className:"w-4 h-4 text-[color:var(--accent)]"}),d.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Ye.label}),d.jsx(As.span,{className:"ml-auto inline-flex",animate:{rotate:en?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:d.jsx(gu,{className:"w-4 h-4 text-gray-300"})})]}),d.jsx(As.div,{initial:!1,animate:en?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Jr.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:d.jsx(As.div,{variants:ar,initial:!1,animate:en?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Ye.items.map(Br=>{const Nr=Br.icon;return d.jsxs(As.button,{variants:cn,transition:{duration:Jr.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{kt(Ye.id,Br.id),g(!1)},className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[d.jsx(Nr,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Br.label]},Br.id)})})},`${Ye.id}-submenu-mobile`)]},Ye.id)})})]})}),d.jsx("aside",{className:"hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:d.jsxs("div",{className:"flex flex-col w-full",children:[d.jsx("div",{className:"px-6 pt-6 pb-5",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:ca,maskImage:`url(${q})`,WebkitMaskImage:`url(${q})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),d.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),d.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:$t,children:hn.map(Ye=>{const yt=Ye.icon,Cn=Ye.id===U,en=!!O[Ye.id],Jr=St(Ye.items.length),ar=mt(Ye.items.length);return d.jsxs(As.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[d.jsxs("button",{onClick:()=>nt(Ye.id),className:`w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${Cn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[d.jsx(yt,{className:"w-4 h-4 text-[color:var(--accent)]"}),d.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Ye.label}),d.jsx(As.span,{className:"ml-auto inline-flex",animate:{rotate:en?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:d.jsx(gu,{className:"w-4 h-4 text-gray-300"})})]}),d.jsx(As.div,{initial:!1,animate:en?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Jr.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:d.jsx(As.div,{variants:ar,initial:!1,animate:en?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Ye.items.map(Br=>{const Nr=Br.icon;return d.jsxs(As.button,{variants:cn,transition:{duration:Jr.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>kt(Ye.id,Br.id),className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[d.jsx(Nr,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Br.label]},Br.id)})})},`${Ye.id}-submenu-desktop`)]},Ye.id)})}),d.jsx("div",{className:"border-t border-white/10",children:d.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[d.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:d.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[d.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),d.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),d.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[d.jsx("div",{className:`${_l} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:pr,children:d.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(p?d.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ca,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):d.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:e.meta.title}),d.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:e.meta.dateLabel||LT(e.meta.dateStart,e.meta.dateEnd)})]})]}),d.jsxs("button",{onClick:()=>g(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[d.jsx(VC,{className:"w-4 h-4"}),"Contents"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[d.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[d.jsx(t6,{className:"w-4 h-4 text-[color:var(--accent)]"}),e.meta.dateLabel||"Log Range"]}),d.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[d.jsx(ii,{className:"w-4 h-4 text-[color:var(--accent)]"}),d.jsx("span",{className:"truncate",children:e.meta.commanders.length?e.meta.commanders.join(", "):"No Commanders"})]}),d.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[d.jsx(aO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",e.meta.appVersion?`v${e.meta.appVersion}`:"build"]})]})]})}),d.jsxs("div",{className:"sm:hidden mb-4",children:[d.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),d.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((je==null?void 0:je.items)||[]).map(Ye=>{const yt=Ye.icon;return d.jsxs("button",{onClick:()=>kt((je==null?void 0:je.id)||"overview",Ye.id),className:"group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest text-gray-200 whitespace-nowrap border border-white/15 bg-gradient-to-br from-white/10 via-white/5 to-transparent shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)] active:translate-y-0 active:scale-[0.98] snap-start",children:[d.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:d.jsx(yt,{className:"w-3 h-3 text-[color:var(--accent)]"})}),Ye.label]},`chip-${Ye.id}`)})})]}),d.jsx("div",{ref:Q,onWheelCapture:sn,className:"flex-1 min-w-0",children:d.jsx("div",{id:"stats-view-top",children:d.jsx(Mie,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:e.stats,statsViewSettings:(jl=e.stats)==null?void 0:jl.statsViewSettings,embedded:!0,uiTheme:b,sectionVisibility:Ye=>Lt.has(Ye),dashboardTitle:`Statistics Dashboard - ${(je==null?void 0:je.label)||"Overview"}`})})}),d.jsx("div",{className:"mt-10",children:Cl})]}),d.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:d.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[d.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[d.jsx(nO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),d.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[d.jsx(VC,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),d.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[d.jsx(e6,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),Ws]})}return d.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:kn?"var(--bg-base)":pn?"#0f141c":"#0f172a",backgroundImage:kn?"none":gn,...Di},children:[!kn&&d.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[d.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),d.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),d.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),d.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[d.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[d.jsxs("div",{id:"report-top",className:`${_l} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:pr,children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(p?d.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ca,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):d.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),d.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),d.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:d.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Zr.length," Reports"]})})]}),d.jsxs("div",{className:`${_l} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:pr,children:[d.jsx("input",{type:"search",value:l,onChange:q=>c(q.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),d.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",d.jsx("span",{className:"text-[color:var(--accent)]",children:Zr.length})," of"," ",d.jsx("span",{className:"text-[color:var(--accent)]",children:un.length})]})]}),i&&d.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:pr,children:[d.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),d.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&d.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",d.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!n&&d.jsx("div",{className:`${_l} p-6 text-gray-300`,style:pr,children:"Loading reports..."}),Zr.length>0&&d.jsx("div",{className:"flex flex-col gap-3",children:Zr.map(q=>{var me,we,nt,kt;return d.jsx("a",{href:q.url,className:`${_l} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:pr,children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[d.jsxs("div",{className:"min-w-0 block text-left",children:[d.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:q.dateLabel}),d.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:Wpe(q.dateStart)}),d.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[d.jsx(ii,{className:"w-4 h-4 text-[color:var(--accent)]"}),d.jsx("span",{className:"truncate",children:q.commanders.length?q.commanders.join(", "):"No Commanders"})]})]}),d.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[d.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(me=q.summary)!=null&&me.mapSlices&&q.summary.mapSlices.length>0?d.jsxs(d.Fragment,{children:[d.jsx(Hpe,{slices:q.summary.mapSlices}),d.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):d.jsxs(d.Fragment,{children:[d.jsx(qpe,{value:(we=q.summary)==null?void 0:we.borderlandsPct}),d.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),d.jsxs("div",{className:"flex flex-col items-end gap-1",children:[d.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),d.jsxs("div",{className:"text-sm text-white font-semibold",children:[((nt=q.summary)==null?void 0:nt.avgSquadSize)??"--"," / ",((kt=q.summary)==null?void 0:kt.avgEnemySize)??"--"]})]}),d.jsx(a6,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},q.id)})}),!i&&n&&un.length===0&&d.jsx("div",{className:`${_l} p-6 text-gray-300`,style:pr,children:"No reports uploaded yet."}),!i&&n&&un.length>0&&Zr.length===0&&d.jsx("div",{className:`${_l} p-6 text-gray-300`,style:pr,children:"No reports match your search."})]}),d.jsx("div",{className:"mt-8",children:Cl})]}),Ws]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");Xy.createRoot(document.getElementById("root")).render(d.jsx(Fg.StrictMode,{children:d.jsx(Kpe,{})}));
